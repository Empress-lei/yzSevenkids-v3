!function (e) {
    function t(n) {
        if (i[n]) return i[n].exports;
        var o = i[n] = {exports: {}, id: n, loaded: !1};
        return e[n].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports
    }

    var n = window.webpackJsonp;
    window.webpackJsonp = function (i, r) {
        for (var a, s, c = 0, l = []; c < i.length; c++) s = i[c], o[s] && l.push.apply(l, o[s]), o[s] = 0;
        for (a in r) e[a] = r[a];
        for (n && n(i, r); l.length;) l.shift().call(null, t)
    };
    var i = {}, o = {0: 0};
    return t.e = function (e, n) {
        if (0 === o[e]) return n.call(null, t);
        if (void 0 !== o[e]) o[e].push(n); else {
            o[e] = [n];
            var i = document.getElementsByTagName("head")[0], r = document.createElement("script");
            r.type = "text/javascript", r.charset = "utf-8", r.async = !0, r.src = t.p + "" + e + ".editor-091dbd1_05291534.js", i.appendChild(r)
        }
    }, t.m = e, t.c = i, t.p = "//as.eqh5.com/c/", t(0)
}([function (e, t, n) {
    e.exports = n(65)
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, n) {
    "use strict";
    n(66), n(71), n(72), n(73), n(74), n(75), n(76), n(77), n(78), n(79), n(80), n(81), n(82), n(83);
    var i = n(85);
    n(86), n(87), n(88), e.exports = i.module("editor", ["ngRoute", "ngDialog", "ngSanitize", "ui.bootstrap", "ui.bootstrap.tpls", "ui.sortable", "eqx.ng.pay", n(89), n(112), n(128), n(144), n(146), n(414), n(897), n(948), n(952), n(966), n(2155)]).name
}, function (e, t) {
}, , , , , function (e, t) {
    "use strict";
    var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    /*! jQuery UI - v1.12.1 - 2017-01-17
	* http://jqueryui.com
	* Includes: widget.js, data.js, keycode.js, scroll-parent.js, widgets/sortable.js, widgets/mouse.js, widgets/slider.js, effect.js
	* Copyright jQuery Foundation and other contributors; Licensed MIT */
    !function (e) {
        e(jQuery)
    }(function (e) {
        e.ui = e.ui || {};
        var t = (e.ui.version = "1.12.1", 0), i = Array.prototype.slice;
        e.cleanData = function (t) {
            return function (n) {
                var i, o, r;
                for (r = 0; null != (o = n[r]); r++) try {
                    i = e._data(o, "events"), i && i.remove && e(o).triggerHandler("remove")
                } catch (a) {
                }
                t(n)
            }
        }(e.cleanData), e.widget = function (t, n, i) {
            var o, r, a, s = {}, c = t.split(".")[0];
            t = t.split(".")[1];
            var l = c + "-" + t;
            return i || (i = n, n = e.Widget), e.isArray(i) && (i = e.extend.apply(null, [{}].concat(i))), e.expr[":"][l.toLowerCase()] = function (t) {
                return !!e.data(t, l)
            }, e[c] = e[c] || {}, o = e[c][t], r = e[c][t] = function (e, t) {
                return this._createWidget ? void(arguments.length && this._createWidget(e, t)) : new r(e, t)
            }, e.extend(r, o, {
                version: i.version,
                _proto: e.extend({}, i),
                _childConstructors: []
            }), a = new n, a.options = e.widget.extend({}, a.options), e.each(i, function (t, i) {
                return e.isFunction(i) ? void(s[t] = function () {
                    function e() {
                        return n.prototype[t].apply(this, arguments)
                    }

                    function o(e) {
                        return n.prototype[t].apply(this, e)
                    }

                    return function () {
                        var t, n = this._super, r = this._superApply;
                        return this._super = e, this._superApply = o, t = i.apply(this, arguments), this._super = n, this._superApply = r, t
                    }
                }()) : void(s[t] = i)
            }), r.prototype = e.widget.extend(a, {widgetEventPrefix: o ? a.widgetEventPrefix || t : t}, s, {
                constructor: r,
                namespace: c,
                widgetName: t,
                widgetFullName: l
            }), o ? (e.each(o._childConstructors, function (t, n) {
                var i = n.prototype;
                e.widget(i.namespace + "." + i.widgetName, r, n._proto)
            }), delete o._childConstructors) : n._childConstructors.push(r), e.widget.bridge(t, r), r
        }, e.widget.extend = function (t) {
            for (var n, o, r = i.call(arguments, 1), a = 0, s = r.length; a < s; a++) for (n in r[a]) o = r[a][n], r[a].hasOwnProperty(n) && void 0 !== o && (e.isPlainObject(o) ? t[n] = e.isPlainObject(t[n]) ? e.widget.extend({}, t[n], o) : e.widget.extend({}, o) : t[n] = o);
            return t
        }, e.widget.bridge = function (t, n) {
            var o = n.prototype.widgetFullName || t;
            e.fn[t] = function (r) {
                var a = "string" == typeof r, s = i.call(arguments, 1), c = this;
                return a ? this.length || "instance" !== r ? this.each(function () {
                    var n, i = e.data(this, o);
                    return "instance" === r ? (c = i, !1) : i ? e.isFunction(i[r]) && "_" !== r.charAt(0) ? (n = i[r].apply(i, s), n !== i && void 0 !== n ? (c = n && n.jquery ? c.pushStack(n.get()) : n, !1) : void 0) : e.error("no such method '" + r + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + r + "'")
                }) : c = void 0 : (s.length && (r = e.widget.extend.apply(null, [r].concat(s))), this.each(function () {
                    var t = e.data(this, o);
                    t ? (t.option(r || {}), t._init && t._init()) : e.data(this, o, new n(r, this))
                })), c
            }
        }, e.Widget = function () {
        }, e.Widget._childConstructors = [], e.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {classes: {}, disabled: !1, create: null},
            _createWidget: function (n, i) {
                i = e(i || this.defaultElement || this)[0], this.element = e(i), this.uuid = t++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = e(), this.hoverable = e(), this.focusable = e(), this.classesElementLookup = {}, i !== this && (e.data(i, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function (e) {
                        e.target === i && this.destroy()
                    }
                }), this.document = e(i.style ? i.ownerDocument : i.document || i), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this.options = e.widget.extend({}, this.options, this._getCreateOptions(), n), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init()
            },
            _getCreateOptions: function () {
                return {}
            },
            _getCreateEventData: e.noop,
            _create: e.noop,
            _init: e.noop,
            destroy: function () {
                var t = this;
                this._destroy(), e.each(this.classesElementLookup, function (e, n) {
                    t._removeClass(n, e)
                }), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace)
            },
            _destroy: e.noop,
            widget: function () {
                return this.element
            },
            option: function (t, n) {
                var i, o, r, a = t;
                if (0 === arguments.length) return e.widget.extend({}, this.options);
                if ("string" == typeof t) if (a = {}, i = t.split("."), t = i.shift(), i.length) {
                    for (o = a[t] = e.widget.extend({}, this.options[t]), r = 0; r < i.length - 1; r++) o[i[r]] = o[i[r]] || {}, o = o[i[r]];
                    if (t = i.pop(), 1 === arguments.length) return void 0 === o[t] ? null : o[t];
                    o[t] = n
                } else {
                    if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
                    a[t] = n
                }
                return this._setOptions(a), this
            },
            _setOptions: function (e) {
                var t;
                for (t in e) this._setOption(t, e[t]);
                return this
            },
            _setOption: function (e, t) {
                return "classes" === e && this._setOptionClasses(t), this.options[e] = t, "disabled" === e && this._setOptionDisabled(t), this
            },
            _setOptionClasses: function (t) {
                var n, i, o;
                for (n in t) o = this.classesElementLookup[n], t[n] !== this.options.classes[n] && o && o.length && (i = e(o.get()), this._removeClass(o, n), i.addClass(this._classes({
                    element: i,
                    keys: n,
                    classes: t,
                    add: !0
                })))
            },
            _setOptionDisabled: function (e) {
                this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!e), e && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"))
            },
            enable: function () {
                return this._setOptions({disabled: !1})
            },
            disable: function () {
                return this._setOptions({disabled: !0})
            },
            _classes: function (t) {
                function n(n, r) {
                    var a, s;
                    for (s = 0; s < n.length; s++) a = o.classesElementLookup[n[s]] || e(), a = e(t.add ? e.unique(a.get().concat(t.element.get())) : a.not(t.element).get()), o.classesElementLookup[n[s]] = a, i.push(n[s]), r && t.classes[n[s]] && i.push(t.classes[n[s]])
                }

                var i = [], o = this;
                return t = e.extend({
                    element: this.element,
                    classes: this.options.classes || {}
                }, t), this._on(t.element, {remove: "_untrackClassesElement"}), t.keys && n(t.keys.match(/\S+/g) || [], !0), t.extra && n(t.extra.match(/\S+/g) || []), i.join(" ")
            },
            _untrackClassesElement: function (t) {
                var n = this;
                e.each(n.classesElementLookup, function (i, o) {
                    e.inArray(t.target, o) !== -1 && (n.classesElementLookup[i] = e(o.not(t.target).get()))
                })
            },
            _removeClass: function (e, t, n) {
                return this._toggleClass(e, t, n, !1)
            },
            _addClass: function (e, t, n) {
                return this._toggleClass(e, t, n, !0)
            },
            _toggleClass: function (e, t, n, i) {
                i = "boolean" == typeof i ? i : n;
                var o = "string" == typeof e || null === e,
                    r = {extra: o ? t : n, keys: o ? e : t, element: o ? this.element : e, add: i};
                return r.element.toggleClass(this._classes(r), i), this
            },
            _on: function (t, n, i) {
                var o, r = this;
                "boolean" != typeof t && (i = n, n = t, t = !1), i ? (n = o = e(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, o = this.widget()), e.each(i, function (i, a) {
                    function s() {
                        if (t || r.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled")) return ("string" == typeof a ? r[a] : a).apply(r, arguments)
                    }

                    "string" != typeof a && (s.guid = a.guid = a.guid || s.guid || e.guid++);
                    var c = i.match(/^([\w:-]*)\s*(.*)$/), l = c[1] + r.eventNamespace, p = c[2];
                    p ? o.on(l, p, s) : n.on(l, s)
                })
            },
            _off: function (t, n) {
                n = (n || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.off(n).off(n), this.bindings = e(this.bindings.not(t).get()), this.focusable = e(this.focusable.not(t).get()), this.hoverable = e(this.hoverable.not(t).get())
            },
            _delay: function (e, t) {
                function n() {
                    return ("string" == typeof e ? i[e] : e).apply(i, arguments)
                }

                var i = this;
                return setTimeout(n, t || 0)
            },
            _hoverable: function (t) {
                this.hoverable = this.hoverable.add(t), this._on(t, {
                    mouseenter: function (t) {
                        this._addClass(e(t.currentTarget), null, "ui-state-hover")
                    }, mouseleave: function (t) {
                        this._removeClass(e(t.currentTarget), null, "ui-state-hover")
                    }
                })
            },
            _focusable: function (t) {
                this.focusable = this.focusable.add(t), this._on(t, {
                    focusin: function (t) {
                        this._addClass(e(t.currentTarget), null, "ui-state-focus")
                    }, focusout: function (t) {
                        this._removeClass(e(t.currentTarget), null, "ui-state-focus")
                    }
                })
            },
            _trigger: function (t, n, i) {
                var o, r, a = this.options[t];
                if (i = i || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], r = n.originalEvent) for (o in r) o in n || (n[o] = r[o]);
                return this.element.trigger(n, i), !(e.isFunction(a) && a.apply(this.element[0], [n].concat(i)) === !1 || n.isDefaultPrevented())
            }
        }, e.each({show: "fadeIn", hide: "fadeOut"}, function (t, n) {
            e.Widget.prototype["_" + t] = function (i, o, r) {
                "string" == typeof o && (o = {effect: o});
                var a, s = o ? o === !0 || "number" == typeof o ? n : o.effect || n : t;
                o = o || {}, "number" == typeof o && (o = {duration: o}), a = !e.isEmptyObject(o), o.complete = r, o.delay && i.delay(o.delay), a && e.effects && e.effects.effect[s] ? i[t](o) : s !== t && i[s] ? i[s](o.duration, o.easing, r) : i.queue(function (n) {
                    e(this)[t](), r && r.call(i[0]), n()
                })
            }
        });
        var o = (e.widget, e.extend(e.expr[":"], {
            data: e.expr.createPseudo ? e.expr.createPseudo(function (t) {
                return function (n) {
                    return !!e.data(n, t)
                }
            }) : function (t, n, i) {
                return !!e.data(t, i[3])
            }
        }), e.ui.keyCode = {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }, e.fn.scrollParent = function (t) {
            var n = this.css("position"), i = "absolute" === n, o = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                r = this.parents().filter(function () {
                    var t = e(this);
                    return (!i || "static" !== t.css("position")) && o.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
                }).eq(0);
            return "fixed" !== n && r.length ? r : e(this[0].ownerDocument || document)
        }, e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), !1);
        e(document).on("mouseup", function () {
            o = !1
        });
        var r = (e.widget("ui.mouse", {
            version: "1.12.1",
            options: {cancel: "input, textarea, button, select, option", distance: 1, delay: 0},
            _mouseInit: function () {
                var t = this;
                this.element.on("mousedown." + this.widgetName, function (e) {
                    return t._mouseDown(e)
                }).on("click." + this.widgetName, function (n) {
                    if (!0 === e.data(n.target, t.widgetName + ".preventClickEvent")) return e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1
                }), this.started = !1
            },
            _mouseDestroy: function () {
                this.element.off("." + this.widgetName), this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function (t) {
                if (!o) {
                    this._mouseMoved = !1, this._mouseStarted && this._mouseUp(t), this._mouseDownEvent = t;
                    var n = this, i = 1 === t.which,
                        r = !("string" != typeof this.options.cancel || !t.target.nodeName) && e(t.target).closest(this.options.cancel).length;
                    return !(i && !r && this._mouseCapture(t)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
                        n.mouseDelayMet = !0
                    }, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1, !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (e) {
                        return n._mouseMove(e)
                    }, this._mouseUpDelegate = function (e) {
                        return n._mouseUp(e)
                    }, this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), o = !0, !0))
                }
            },
            _mouseMove: function (t) {
                if (this._mouseMoved) {
                    if (e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button) return this._mouseUp(t);
                    if (!t.which) if (t.originalEvent.altKey || t.originalEvent.ctrlKey || t.originalEvent.metaKey || t.originalEvent.shiftKey) this.ignoreMissingWhich = !0; else if (!this.ignoreMissingWhich) return this._mouseUp(t)
                }
                return (t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted)
            },
            _mouseUp: function (t) {
                this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer), delete this._mouseDelayTimer), this.ignoreMissingWhich = !1, o = !1, t.preventDefault()
            },
            _mouseDistanceMet: function (e) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function () {
                return this.mouseDelayMet
            },
            _mouseStart: function () {
            },
            _mouseDrag: function () {
            },
            _mouseStop: function () {
            },
            _mouseCapture: function () {
                return !0
            }
        }), e.widget("ui.sortable", e.ui.mouse, {
            version: "1.12.1",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _isOverAxis: function (e, t, n) {
                return e >= t && e < t + n
            },
            _isFloating: function (e) {
                return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
            },
            _create: function () {
                this.containerCache = {}, this._addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
            },
            _setOption: function (e, t) {
                this._super(e, t), "handle" === e && this._setHandleClassName()
            },
            _setHandleClassName: function () {
                var t = this;
                this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"), e.each(this.items, function () {
                    t._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle")
                })
            },
            _destroy: function () {
                this._mouseDestroy();
                for (var e = this.items.length - 1; e >= 0; e--) this.items[e].item.removeData(this.widgetName + "-item");
                return this
            },
            _mouseCapture: function (t, n) {
                var i = null, o = !1, r = this;
                return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(t), e(t.target).parents().each(function () {
                    if (e.data(this, r.widgetName + "-item") === r) return i = e(this), !1
                }), e.data(t.target, r.widgetName + "-item") === r && (i = e(t.target)), !!i && (!(this.options.handle && !n && (e(this.options.handle, i).find("*").addBack().each(function () {
                    this === t.target && (o = !0)
                }), !o)) && (this.currentItem = i, this._removeCurrentsFromItems(), !0))))
            },
            _mouseStart: function (t, n, i) {
                var o, r, a = this.options;
                if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, e.extend(this.offset, {
                    click: {left: t.pageX - this.offset.left, top: t.pageY - this.offset.top},
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (r = this.document.find("body"), this.storedCursor = r.css("cursor"), r.css("cursor", a.cursor), this.storedStylesheet = e("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(r)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !i) for (o = this.containers.length - 1; o >= 0; o--) this.containers[o]._trigger("activate", t, this._uiHash(this));
                return e.ui.ddmanager && (e.ui.ddmanager.current = this), e.ui.ddmanager && !a.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this.dragging = !0, this._addClass(this.helper, "ui-sortable-helper"), this._mouseDrag(t), !0
            },
            _mouseDrag: function (t) {
                var n, i, o, r, a = this.options, s = !1;
                for (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = s = this.scrollParent[0].scrollTop + a.scrollSpeed : t.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = s = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = s = this.scrollParent[0].scrollLeft + a.scrollSpeed : t.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = s = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (t.pageY - this.document.scrollTop() < a.scrollSensitivity ? s = this.document.scrollTop(this.document.scrollTop() - a.scrollSpeed) : this.window.height() - (t.pageY - this.document.scrollTop()) < a.scrollSensitivity && (s = this.document.scrollTop(this.document.scrollTop() + a.scrollSpeed)), t.pageX - this.document.scrollLeft() < a.scrollSensitivity ? s = this.document.scrollLeft(this.document.scrollLeft() - a.scrollSpeed) : this.window.width() - (t.pageX - this.document.scrollLeft()) < a.scrollSensitivity && (s = this.document.scrollLeft(this.document.scrollLeft() + a.scrollSpeed))), s !== !1 && e.ui.ddmanager && !a.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), n = this.items.length - 1; n >= 0; n--) if (i = this.items[n], o = i.item[0], r = this._intersectsWithPointer(i), r && i.instance === this.currentContainer && !(o === this.currentItem[0] || this.placeholder[1 === r ? "next" : "prev"]()[0] === o || e.contains(this.placeholder[0], o) || "semi-dynamic" === this.options.type && e.contains(this.element[0], o))) {
                    if (this.direction = 1 === r ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(i)) break;
                    this._rearrange(t, i), this._trigger("change", t, this._uiHash());
                    break
                }
                return this._contactContainers(t), e.ui.ddmanager && e.ui.ddmanager.drag(this, t), this._trigger("sort", t, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
            },
            _mouseStop: function (t, n) {
                if (t) {
                    if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t), this.options.revert) {
                        var i = this, o = this.placeholder.offset(), r = this.options.axis, a = {};
                        r && "x" !== r || (a.left = o.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), r && "y" !== r || (a.top = o.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, e(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function () {
                            i._clear(t)
                        })
                    } else this._clear(t, n);
                    return !1
                }
            },
            cancel: function () {
                if (this.dragging) {
                    this._mouseUp(new e.Event("mouseup", {target: null})), "original" === this.options.helper ? (this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")) : this.currentItem.show();
                    for (var t = this.containers.length - 1; t >= 0; t--) this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0)
                }
                return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)), this
            },
            serialize: function (t) {
                var n = this._getItemsAsjQuery(t && t.connected), i = [];
                return t = t || {}, e(n).each(function () {
                    var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                    n && i.push((t.key || n[1] + "[]") + "=" + (t.key && t.expression ? n[1] : n[2]))
                }), !i.length && t.key && i.push(t.key + "="), i.join("&")
            },
            toArray: function (t) {
                var n = this._getItemsAsjQuery(t && t.connected), i = [];
                return t = t || {}, n.each(function () {
                    i.push(e(t.item || this).attr(t.attribute || "id") || "")
                }), i
            },
            _intersectsWith: function (e) {
                var t = this.positionAbs.left, n = t + this.helperProportions.width, i = this.positionAbs.top,
                    o = i + this.helperProportions.height, r = e.left, a = r + e.width, s = e.top, c = s + e.height,
                    l = this.offset.click.top, p = this.offset.click.left,
                    u = "x" === this.options.axis || i + l > s && i + l < c,
                    d = "y" === this.options.axis || t + p > r && t + p < a, m = u && d;
                return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? m : r < t + this.helperProportions.width / 2 && n - this.helperProportions.width / 2 < a && s < i + this.helperProportions.height / 2 && o - this.helperProportions.height / 2 < c
            },
            _intersectsWithPointer: function (e) {
                var t, n,
                    i = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height),
                    o = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width),
                    r = i && o;
                return !!r && (t = this._getDragVerticalDirection(), n = this._getDragHorizontalDirection(), this.floating ? "right" === n || "down" === t ? 2 : 1 : t && ("down" === t ? 2 : 1))
            },
            _intersectsWithSides: function (e) {
                var t = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),
                    n = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),
                    i = this._getDragVerticalDirection(), o = this._getDragHorizontalDirection();
                return this.floating && o ? "right" === o && n || "left" === o && !n : i && ("down" === i && t || "up" === i && !t)
            },
            _getDragVerticalDirection: function () {
                var e = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== e && (e > 0 ? "down" : "up")
            },
            _getDragHorizontalDirection: function () {
                var e = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== e && (e > 0 ? "right" : "left")
            },
            refresh: function (e) {
                return this._refreshItems(e), this._setHandleClassName(), this.refreshPositions(), this
            },
            _connectWith: function () {
                var e = this.options;
                return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
            },
            _getItemsAsjQuery: function (t) {
                function n() {
                    s.push(this)
                }

                var i, o, r, a, s = [], c = [], l = this._connectWith();
                if (l && t) for (i = l.length - 1; i >= 0; i--) for (r = e(l[i], this.document[0]), o = r.length - 1; o >= 0; o--) a = e.data(r[o], this.widgetFullName), a && a !== this && !a.options.disabled && c.push([e.isFunction(a.options.items) ? a.options.items.call(a.element) : e(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
                for (c.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), i = c.length - 1; i >= 0; i--) c[i][0].each(n);
                return e(s)
            },
            _removeCurrentsFromItems: function () {
                var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
                this.items = e.grep(this.items, function (e) {
                    for (var n = 0; n < t.length; n++) if (t[n] === e.item[0]) return !1;
                    return !0
                })
            },
            _refreshItems: function (t) {
                this.items = [], this.containers = [this];
                var n, i, o, r, a, s, c, l, p = this.items,
                    u = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {item: this.currentItem}) : e(this.options.items, this.element), this]],
                    d = this._connectWith();
                if (d && this.ready) for (n = d.length - 1; n >= 0; n--) for (o = e(d[n], this.document[0]), i = o.length - 1; i >= 0; i--) r = e.data(o[i], this.widgetFullName), r && r !== this && !r.options.disabled && (u.push([e.isFunction(r.options.items) ? r.options.items.call(r.element[0], t, {item: this.currentItem}) : e(r.options.items, r.element), r]), this.containers.push(r));
                for (n = u.length - 1; n >= 0; n--) for (a = u[n][1], s = u[n][0], i = 0, l = s.length; i < l; i++) c = e(s[i]), c.data(this.widgetName + "-item", a), p.push({
                    item: c,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
            },
            refreshPositions: function (t) {
                this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)), this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
                var n, i, o, r;
                for (n = this.items.length - 1; n >= 0; n--) i = this.items[n], i.instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0] || (o = this.options.toleranceElement ? e(this.options.toleranceElement, i.item) : i.item, t || (i.width = o.outerWidth(), i.height = o.outerHeight()), r = o.offset(), i.left = r.left, i.top = r.top);
                if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this); else for (n = this.containers.length - 1; n >= 0; n--) r = this.containers[n].element.offset(), this.containers[n].containerCache.left = r.left, this.containers[n].containerCache.top = r.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
                return this
            },
            _createPlaceholder: function (t) {
                t = t || this;
                var n, i = t.options;
                i.placeholder && i.placeholder.constructor !== String || (n = i.placeholder, i.placeholder = {
                    element: function o() {
                        var i = t.currentItem[0].nodeName.toLowerCase(), o = e("<" + i + ">", t.document[0]);
                        return t._addClass(o, "ui-sortable-placeholder", n || t.currentItem[0].className)._removeClass(o, "ui-sortable-helper"), "tbody" === i ? t._createTrPlaceholder(t.currentItem.find("tr").eq(0), e("<tr>", t.document[0]).appendTo(o)) : "tr" === i ? t._createTrPlaceholder(t.currentItem, o) : "img" === i && o.attr("src", t.currentItem.attr("src")), n || o.css("visibility", "hidden"), o
                    }, update: function (e, o) {
                        n && !i.forcePlaceholderSize || (o.height() || o.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), o.width() || o.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
                    }
                }), t.placeholder = e(i.placeholder.element.call(t.element, t.currentItem)), t.currentItem.after(t.placeholder), i.placeholder.update(t, t.placeholder)
            },
            _createTrPlaceholder: function (t, n) {
                var i = this;
                t.children().each(function () {
                    e("<td>&#160;</td>", i.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(n)
                })
            },
            _contactContainers: function (t) {
                var n, i, o, r, a, s, c, l, p, u, d = null, m = null;
                for (n = this.containers.length - 1; n >= 0; n--) if (!e.contains(this.currentItem[0], this.containers[n].element[0])) if (this._intersectsWith(this.containers[n].containerCache)) {
                    if (d && e.contains(this.containers[n].element[0], d.element[0])) continue;
                    d = this.containers[n], m = n
                } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", t, this._uiHash(this)), this.containers[n].containerCache.over = 0);
                if (d) if (1 === this.containers.length) this.containers[m].containerCache.over || (this.containers[m]._trigger("over", t, this._uiHash(this)), this.containers[m].containerCache.over = 1); else {
                    for (o = 1e4, r = null, p = d.floating || this._isFloating(this.currentItem), a = p ? "left" : "top", s = p ? "width" : "height", u = p ? "pageX" : "pageY", i = this.items.length - 1; i >= 0; i--) e.contains(this.containers[m].element[0], this.items[i].item[0]) && this.items[i].item[0] !== this.currentItem[0] && (c = this.items[i].item.offset()[a], l = !1, t[u] - c > this.items[i][s] / 2 && (l = !0), Math.abs(t[u] - c) < o && (o = Math.abs(t[u] - c), r = this.items[i], this.direction = l ? "up" : "down"));
                    if (!r && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[m]) return void(this.currentContainer.containerCache.over || (this.containers[m]._trigger("over", t, this._uiHash()), this.currentContainer.containerCache.over = 1));
                    r ? this._rearrange(t, r, null, !0) : this._rearrange(t, null, this.containers[m].element, !0), this._trigger("change", t, this._uiHash()), this.containers[m]._trigger("change", t, this._uiHash(this)), this.currentContainer = this.containers[m], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[m]._trigger("over", t, this._uiHash(this)), this.containers[m].containerCache.over = 1
                }
            },
            _createHelper: function (t) {
                var n = this.options,
                    i = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === n.helper ? this.currentItem.clone() : this.currentItem;
                return i.parents("body").length || e("parent" !== n.appendTo ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]), i[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), i[0].style.width && !n.forceHelperSize || i.width(this.currentItem.width()), i[0].style.height && !n.forceHelperSize || i.height(this.currentItem.height()), i
            },
            _adjustOffsetFromHelper: function (t) {
                "string" == typeof t && (t = t.split(" ")), e.isArray(t) && (t = {
                    left: +t[0],
                    top: +t[1] || 0
                }), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
            },
            _getParentOffset: function () {
                this.offsetParent = this.helper.offsetParent();
                var t = this.offsetParent.offset();
                return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
                    top: 0,
                    left: 0
                }), {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function () {
                if ("relative" === this.cssPosition) {
                    var e = this.currentItem.position();
                    return {
                        top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {top: 0, left: 0}
            },
            _cacheMargins: function () {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function () {
                this.helperProportions = {width: this.helper.outerWidth(), height: this.helper.outerHeight()}
            },
            _setContainment: function () {
                var t, n, i, o = this.options;
                "parent" === o.containment && (o.containment = this.helper[0].parentNode), "document" !== o.containment && "window" !== o.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === o.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === o.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(o.containment) || (t = e(o.containment)[0], n = e(o.containment).offset(), i = "hidden" !== e(t).css("overflow"), this.containment = [n.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (i ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (i ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
            },
            _convertPositionTo: function (t, n) {
                n || (n = this.position);
                var i = "absolute" === t ? 1 : -1,
                    o = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    r = /(html|body)/i.test(o[0].tagName);
                return {
                    top: n.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : r ? 0 : o.scrollTop()) * i,
                    left: n.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : r ? 0 : o.scrollLeft()) * i
                }
            },
            _generatePosition: function (t) {
                var n, i, o = this.options, r = t.pageX, a = t.pageY,
                    s = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    c = /(html|body)/i.test(s[0].tagName);
                return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (r = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (r = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), o.grid && (n = this.originalPageY + Math.round((a - this.originalPageY) / o.grid[1]) * o.grid[1], a = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - o.grid[1] : n + o.grid[1] : n, i = this.originalPageX + Math.round((r - this.originalPageX) / o.grid[0]) * o.grid[0], r = this.containment ? i - this.offset.click.left >= this.containment[0] && i - this.offset.click.left <= this.containment[2] ? i : i - this.offset.click.left >= this.containment[0] ? i - o.grid[0] : i + o.grid[0] : i)), {
                    top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : c ? 0 : s.scrollTop()),
                    left: r - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : c ? 0 : s.scrollLeft())
                }
            },
            _rearrange: function (e, t, n, i) {
                n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
                var o = this.counter;
                this._delay(function () {
                    o === this.counter && this.refreshPositions(!i)
                })
            },
            _clear: function (e, t) {
                function n(e, t, n) {
                    return function (i) {
                        n._trigger(e, i, t._uiHash(t))
                    }
                }

                this.reverting = !1;
                var i, o = [];
                if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                    for (i in this._storedCSS) "auto" !== this._storedCSS[i] && "static" !== this._storedCSS[i] || (this._storedCSS[i] = "");
                    this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")
                } else this.currentItem.show();
                for (this.fromOutside && !t && o.push(function (e) {
                    this._trigger("receive", e, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || o.push(function (e) {
                    this._trigger("update", e, this._uiHash())
                }), this !== this.currentContainer && (t || (o.push(function (e) {
                    this._trigger("remove", e, this._uiHash())
                }), o.push(function (e) {
                    return function (t) {
                        e._trigger("receive", t, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), o.push(function (e) {
                    return function (t) {
                        e._trigger("update", t, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) t || o.push(n("deactivate", this, this.containers[i])), this.containers[i].containerCache.over && (o.push(n("out", this, this.containers[i])), this.containers[i].containerCache.over = 0);
                if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, t || this._trigger("beforeStop", e, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !t) {
                    for (i = 0; i < o.length; i++) o[i].call(this, e);
                    this._trigger("stop", e, this._uiHash())
                }
                return this.fromOutside = !1, !this.cancelHelperRemoval
            },
            _trigger: function () {
                e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
            },
            _uiHash: function (t) {
                var n = t || this;
                return {
                    helper: n.helper,
                    placeholder: n.placeholder || e([]),
                    position: n.position,
                    originalPosition: n.originalPosition,
                    offset: n.positionAbs,
                    item: n.currentItem,
                    sender: t ? t.element : null
                }
            }
        }), e.widget("ui.slider", e.ui.mouse, {
            version: "1.12.1",
            widgetEventPrefix: "slide",
            options: {
                animate: !1,
                classes: {
                    "ui-slider": "ui-corner-all",
                    "ui-slider-handle": "ui-corner-all",
                    "ui-slider-range": "ui-corner-all ui-widget-header"
                },
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null
            },
            numPages: 5,
            _create: function () {
                this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"), this._refresh(), this._animateOff = !1
            },
            _refresh: function () {
                this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
            },
            _createHandles: function () {
                var t, n, i = this.options, o = this.element.find(".ui-slider-handle"),
                    r = "<span tabindex='0'></span>", a = [];
                for (n = i.values && i.values.length || 1, o.length > n && (o.slice(n).remove(), o = o.slice(0, n)), t = o.length; t < n; t++) a.push(r);
                this.handles = o.add(e(a.join("")).appendTo(this.element)), this._addClass(this.handles, "ui-slider-handle", "ui-state-default"), this.handle = this.handles.eq(0), this.handles.each(function (t) {
                    e(this).data("ui-slider-handle-index", t).attr("tabIndex", 0)
                })
            },
            _createRange: function () {
                var t = this.options;
                t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"), this.range.css({
                    left: "",
                    bottom: ""
                })) : (this.range = e("<div>").appendTo(this.element), this._addClass(this.range, "ui-slider-range")), "min" !== t.range && "max" !== t.range || this._addClass(this.range, "ui-slider-range-" + t.range)) : (this.range && this.range.remove(), this.range = null)
            },
            _setupEvents: function () {
                this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
            },
            _destroy: function () {
                this.handles.remove(), this.range && this.range.remove(), this._mouseDestroy()
            },
            _mouseCapture: function (t) {
                var n, i, o, r, a, s, c, l, p = this, u = this.options;
                return !u.disabled && (this.elementSize = {
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight()
                }, this.elementOffset = this.element.offset(), n = {
                    x: t.pageX,
                    y: t.pageY
                }, i = this._normValueFromMouse(n), o = this._valueMax() - this._valueMin() + 1, this.handles.each(function (t) {
                    var n = Math.abs(i - p.values(t));
                    (o > n || o === n && (t === p._lastChangedValue || p.values(t) === u.min)) && (o = n, r = e(this), a = t)
                }), s = this._start(t, a), s !== !1 && (this._mouseSliding = !0, this._handleIndex = a, this._addClass(r, null, "ui-state-active"), r.trigger("focus"), c = r.offset(), l = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? {
                    left: 0,
                    top: 0
                } : {
                    left: t.pageX - c.left - r.width() / 2,
                    top: t.pageY - c.top - r.height() / 2 - (parseInt(r.css("borderTopWidth"), 10) || 0) - (parseInt(r.css("borderBottomWidth"), 10) || 0) + (parseInt(r.css("marginTop"), 10) || 0)
                }, this.handles.hasClass("ui-state-hover") || this._slide(t, a, i), this._animateOff = !0, !0))
            },
            _mouseStart: function () {
                return !0
            },
            _mouseDrag: function (e) {
                var t = {x: e.pageX, y: e.pageY}, n = this._normValueFromMouse(t);
                return this._slide(e, this._handleIndex, n), !1
            },
            _mouseStop: function (e) {
                return this._removeClass(this.handles, null, "ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
            },
            _detectOrientation: function () {
                this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
            },
            _normValueFromMouse: function (e) {
                var t, n, i, o, r;
                return "horizontal" === this.orientation ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), i = n / t, i > 1 && (i = 1), i < 0 && (i = 0), "vertical" === this.orientation && (i = 1 - i), o = this._valueMax() - this._valueMin(), r = this._valueMin() + i * o, this._trimAlignValue(r)
            },
            _uiHash: function (e, t, n) {
                var i = {handle: this.handles[e], handleIndex: e, value: void 0 !== t ? t : this.value()};
                return this._hasMultipleValues() && (i.value = void 0 !== t ? t : this.values(e), i.values = n || this.values()), i
            },
            _hasMultipleValues: function () {
                return this.options.values && this.options.values.length
            },
            _start: function (e, t) {
                return this._trigger("start", e, this._uiHash(t))
            },
            _slide: function (e, t, n) {
                var i, o, r = this.value(), a = this.values();
                this._hasMultipleValues() && (o = this.values(t ? 0 : 1), r = this.values(t), 2 === this.options.values.length && this.options.range === !0 && (n = 0 === t ? Math.min(o, n) : Math.max(o, n)), a[t] = n), n !== r && (i = this._trigger("slide", e, this._uiHash(t, n, a)), i !== !1 && (this._hasMultipleValues() ? this.values(t, n) : this.value(n)))
            },
            _stop: function (e, t) {
                this._trigger("stop", e, this._uiHash(t))
            },
            _change: function (e, t) {
                this._keySliding || this._mouseSliding || (this._lastChangedValue = t, this._trigger("change", e, this._uiHash(t)))
            },
            value: function (e) {
                return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), void this._change(null, 0)) : this._value()
            },
            values: function (t, n) {
                var i, o, r;
                if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), void this._change(null, t);
                if (!arguments.length) return this._values();
                if (!e.isArray(arguments[0])) return this._hasMultipleValues() ? this._values(t) : this.value();
                for (i = this.options.values, o = arguments[0], r = 0; r < i.length; r += 1) i[r] = this._trimAlignValue(o[r]), this._change(null, r);
                this._refreshValue()
            },
            _setOption: function (t, n) {
                var i, o = 0;
                switch ("range" === t && this.options.range === !0 && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (o = this.options.values.length), this._super(t, n), t) {
                    case"orientation":
                        this._detectOrientation(), this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation), this._refreshValue(), this.options.range && this._refreshRange(n), this.handles.css("horizontal" === n ? "bottom" : "left", "");
                        break;
                    case"value":
                        this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                        break;
                    case"values":
                        for (this._animateOff = !0, this._refreshValue(), i = o - 1; i >= 0; i--) this._change(null, i);
                        this._animateOff = !1;
                        break;
                    case"step":
                    case"min":
                    case"max":
                        this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                        break;
                    case"range":
                        this._animateOff = !0, this._refresh(), this._animateOff = !1
                }
            },
            _setOptionDisabled: function (e) {
                this._super(e), this._toggleClass(null, "ui-state-disabled", !!e)
            },
            _value: function () {
                var e = this.options.value;
                return e = this._trimAlignValue(e)
            },
            _values: function (e) {
                var t, n, i;
                if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t);
                if (this._hasMultipleValues()) {
                    for (n = this.options.values.slice(), i = 0; i < n.length; i += 1) n[i] = this._trimAlignValue(n[i]);
                    return n
                }
                return []
            },
            _trimAlignValue: function (e) {
                if (e <= this._valueMin()) return this._valueMin();
                if (e >= this._valueMax()) return this._valueMax();
                var t = this.options.step > 0 ? this.options.step : 1, n = (e - this._valueMin()) % t, i = e - n;
                return 2 * Math.abs(n) >= t && (i += n > 0 ? t : -t), parseFloat(i.toFixed(5))
            },
            _calculateNewMax: function () {
                var e = this.options.max, t = this._valueMin(), n = this.options.step, i = Math.round((e - t) / n) * n;
                e = i + t, e > this.options.max && (e -= n), this.max = parseFloat(e.toFixed(this._precision()))
            },
            _precision: function () {
                var e = this._precisionOf(this.options.step);
                return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))), e
            },
            _precisionOf: function (e) {
                var t = e.toString(), n = t.indexOf(".");
                return n === -1 ? 0 : t.length - n - 1
            },
            _valueMin: function () {
                return this.options.min
            },
            _valueMax: function () {
                return this.max
            },
            _refreshRange: function (e) {
                "vertical" === e && this.range.css({
                    width: "",
                    left: ""
                }), "horizontal" === e && this.range.css({height: "", bottom: ""})
            },
            _refreshValue: function () {
                var t, n, i, o, r, a = this.options.range, s = this.options, c = this,
                    l = !this._animateOff && s.animate, p = {};
                this._hasMultipleValues() ? this.handles.each(function (i) {
                    n = (c.values(i) - c._valueMin()) / (c._valueMax() - c._valueMin()) * 100, p["horizontal" === c.orientation ? "left" : "bottom"] = n + "%", e(this).stop(1, 1)[l ? "animate" : "css"](p, s.animate), c.options.range === !0 && ("horizontal" === c.orientation ? (0 === i && c.range.stop(1, 1)[l ? "animate" : "css"]({left: n + "%"}, s.animate), 1 === i && c.range[l ? "animate" : "css"]({width: n - t + "%"}, {
                        queue: !1,
                        duration: s.animate
                    })) : (0 === i && c.range.stop(1, 1)[l ? "animate" : "css"]({bottom: n + "%"}, s.animate), 1 === i && c.range[l ? "animate" : "css"]({height: n - t + "%"}, {
                        queue: !1,
                        duration: s.animate
                    }))), t = n
                }) : (i = this.value(), o = this._valueMin(), r = this._valueMax(), n = r !== o ? (i - o) / (r - o) * 100 : 0, p["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](p, s.animate), "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({width: n + "%"}, s.animate), "max" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({width: 100 - n + "%"}, s.animate), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({height: n + "%"}, s.animate), "max" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({height: 100 - n + "%"}, s.animate))
            },
            _handleEvents: {
                keydown: function (t) {
                    var n, i, o, r, a = e(t.target).data("ui-slider-handle-index");
                    switch (t.keyCode) {
                        case e.ui.keyCode.HOME:
                        case e.ui.keyCode.END:
                        case e.ui.keyCode.PAGE_UP:
                        case e.ui.keyCode.PAGE_DOWN:
                        case e.ui.keyCode.UP:
                        case e.ui.keyCode.RIGHT:
                        case e.ui.keyCode.DOWN:
                        case e.ui.keyCode.LEFT:
                            if (t.preventDefault(), !this._keySliding && (this._keySliding = !0, this._addClass(e(t.target), null, "ui-state-active"), n = this._start(t, a), n === !1)) return
                    }
                    switch (r = this.options.step, i = o = this._hasMultipleValues() ? this.values(a) : this.value(), t.keyCode) {
                        case e.ui.keyCode.HOME:
                            o = this._valueMin();
                            break;
                        case e.ui.keyCode.END:
                            o = this._valueMax();
                            break;
                        case e.ui.keyCode.PAGE_UP:
                            o = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case e.ui.keyCode.PAGE_DOWN:
                            o = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case e.ui.keyCode.UP:
                        case e.ui.keyCode.RIGHT:
                            if (i === this._valueMax()) return;
                            o = this._trimAlignValue(i + r);
                            break;
                        case e.ui.keyCode.DOWN:
                        case e.ui.keyCode.LEFT:
                            if (i === this._valueMin()) return;
                            o = this._trimAlignValue(i - r)
                    }
                    this._slide(t, a, o)
                }, keyup: function (t) {
                    var n = e(t.target).data("ui-slider-handle-index");
                    this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), this._removeClass(e(t.target), null, "ui-state-active"))
                }
            }
        }), "ui-effects-"), a = "ui-effects-style", s = "ui-effects-animated", c = e;
        e.effects = {effect: {}}, /*!
	  * jQuery Color Animations v2.1.2
	  * https://github.com/jquery/jquery-color
	  *
	  * Copyright 2014 jQuery Foundation and other contributors
	  * Released under the MIT license.
	  * http://jquery.org/license
	  *
	  * Date: Wed Jan 16 08:47:09 2013 -0600
	  */
            function (e, t) {
                function n(e, t, n) {
                    var i = u[t.type] || {};
                    return null == e ? n || !t.def ? null : t.def : (e = i.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : i.mod ? (e + i.mod) % i.mod : 0 > e ? 0 : i.max < e ? i.max : e)
                }

                function i(t) {
                    var n = l(), i = n._rgba = [];
                    return t = t.toLowerCase(), f(c, function (e, o) {
                        var r, a = o.re.exec(t), s = a && o.parse(a), c = o.space || "rgba";
                        if (s) return r = n[c](s), n[p[c].cache] = r[p[c].cache], i = n._rgba = r._rgba, !1
                    }), i.length ? ("0,0,0,0" === i.join() && e.extend(i, r.transparent), n) : r[t]
                }

                function o(e, t, n) {
                    return n = (n + 1) % 1, 6 * n < 1 ? e + (t - e) * n * 6 : 2 * n < 1 ? t : 3 * n < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e
                }

                var r,
                    a = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                    s = /^([\-+])=\s*(\d+\.?\d*)/, c = [{
                        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function (e) {
                            return [e[1], e[2], e[3], e[4]]
                        }
                    }, {
                        re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function (e) {
                            return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
                        }
                    }, {
                        re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function (e) {
                            return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
                        }
                    }, {
                        re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function (e) {
                            return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
                        }
                    }, {
                        re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        space: "hsla",
                        parse: function (e) {
                            return [e[1], e[2] / 100, e[3] / 100, e[4]]
                        }
                    }], l = e.Color = function (t, n, i, o) {
                        return new e.Color.fn.parse(t, n, i, o)
                    }, p = {
                        rgba: {
                            props: {
                                red: {idx: 0, type: "byte"},
                                green: {idx: 1, type: "byte"},
                                blue: {idx: 2, type: "byte"}
                            }
                        },
                        hsla: {
                            props: {
                                hue: {idx: 0, type: "degrees"},
                                saturation: {idx: 1, type: "percent"},
                                lightness: {idx: 2, type: "percent"}
                            }
                        }
                    }, u = {"byte": {floor: !0, max: 255}, percent: {max: 1}, degrees: {mod: 360, floor: !0}},
                    d = l.support = {}, m = e("<p>")[0], f = e.each;
                m.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = m.style.backgroundColor.indexOf("rgba") > -1, f(p, function (e, t) {
                    t.cache = "_" + e, t.props.alpha = {idx: 3, type: "percent", def: 1}
                }), l.fn = e.extend(l.prototype, {
                    parse: function (o, a, s, c) {
                        if (o === t) return this._rgba = [null, null, null, null], this;
                        (o.jquery || o.nodeType) && (o = e(o).css(a), a = t);
                        var u = this, d = e.type(o), m = this._rgba = [];
                        return a !== t && (o = [o, a, s, c], d = "array"), "string" === d ? this.parse(i(o) || r._default) : "array" === d ? (f(p.rgba.props, function (e, t) {
                            m[t.idx] = n(o[t.idx], t)
                        }), this) : "object" === d ? (o instanceof l ? f(p, function (e, t) {
                            o[t.cache] && (u[t.cache] = o[t.cache].slice())
                        }) : f(p, function (t, i) {
                            var r = i.cache;
                            f(i.props, function (e, t) {
                                if (!u[r] && i.to) {
                                    if ("alpha" === e || null == o[e]) return;
                                    u[r] = i.to(u._rgba)
                                }
                                u[r][t.idx] = n(o[e], t, !0)
                            }), u[r] && e.inArray(null, u[r].slice(0, 3)) < 0 && (u[r][3] = 1, i.from && (u._rgba = i.from(u[r])))
                        }), this) : void 0
                    }, is: function g(e) {
                        var g = l(e), t = !0, n = this;
                        return f(p, function (e, i) {
                            var o, r = g[i.cache];
                            return r && (o = n[i.cache] || i.to && i.to(n._rgba) || [], f(i.props, function (e, n) {
                                if (null != r[n.idx]) return t = r[n.idx] === o[n.idx]
                            })), t
                        }), t
                    }, _space: function () {
                        var e = [], t = this;
                        return f(p, function (n, i) {
                            t[i.cache] && e.push(n)
                        }), e.pop()
                    }, transition: function (e, t) {
                        var i = l(e), o = i._space(), r = p[o], a = 0 === this.alpha() ? l("transparent") : this,
                            s = a[r.cache] || r.to(a._rgba), c = s.slice();
                        return i = i[r.cache], f(r.props, function (e, o) {
                            var r = o.idx, a = s[r], l = i[r], p = u[o.type] || {};
                            null !== l && (null === a ? c[r] = l : (p.mod && (l - a > p.mod / 2 ? a += p.mod : a - l > p.mod / 2 && (a -= p.mod)), c[r] = n((l - a) * t + a, o)))
                        }), this[o](c)
                    }, blend: function h(t) {
                        if (1 === this._rgba[3]) return this;
                        var n = this._rgba.slice(), i = n.pop(), h = l(t)._rgba;
                        return l(e.map(n, function (e, t) {
                            return (1 - i) * h[t] + i * e
                        }))
                    }, toRgbaString: function () {
                        var t = "rgba(", n = e.map(this._rgba, function (e, t) {
                            return null == e ? t > 2 ? 1 : 0 : e
                        });
                        return 1 === n[3] && (n.pop(), t = "rgb("), t + n.join() + ")"
                    }, toHslaString: function () {
                        var t = "hsla(", n = e.map(this.hsla(), function (e, t) {
                            return null == e && (e = t > 2 ? 1 : 0), t && t < 3 && (e = Math.round(100 * e) + "%"), e
                        });
                        return 1 === n[3] && (n.pop(), t = "hsl("), t + n.join() + ")"
                    }, toHexString: function (t) {
                        var n = this._rgba.slice(), i = n.pop();
                        return t && n.push(~~(255 * i)), "#" + e.map(n, function (e) {
                            return e = (e || 0).toString(16), 1 === e.length ? "0" + e : e
                        }).join("")
                    }, toString: function () {
                        return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                    }
                }), l.fn.parse.prototype = l.fn, p.hsla.to = function (e) {
                    if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                    var t, n, i = e[0] / 255, o = e[1] / 255, r = e[2] / 255, a = e[3], s = Math.max(i, o, r),
                        c = Math.min(i, o, r), l = s - c, p = s + c, u = .5 * p;
                    return t = c === s ? 0 : i === s ? 60 * (o - r) / l + 360 : o === s ? 60 * (r - i) / l + 120 : 60 * (i - o) / l + 240, n = 0 === l ? 0 : u <= .5 ? l / p : l / (2 - p), [Math.round(t) % 360, n, u, null == a ? 1 : a]
                }, p.hsla.from = function (e) {
                    if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                    var t = e[0] / 360, n = e[1], i = e[2], r = e[3], a = i <= .5 ? i * (1 + n) : i + n - i * n,
                        s = 2 * i - a;
                    return [Math.round(255 * o(s, a, t + 1 / 3)), Math.round(255 * o(s, a, t)), Math.round(255 * o(s, a, t - 1 / 3)), r]
                }, f(p, function (i, o) {
                    var r = o.props, a = o.cache, c = o.to, p = o.from;
                    l.fn[i] = function (i) {
                        if (c && !this[a] && (this[a] = c(this._rgba)), i === t) return this[a].slice();
                        var o, s = e.type(i), u = "array" === s || "object" === s ? i : arguments, d = this[a].slice();
                        return f(r, function (e, t) {
                            var i = u["object" === s ? e : t.idx];
                            null == i && (i = d[t.idx]), d[t.idx] = n(i, t)
                        }), p ? (o = l(p(d)), o[a] = d, o) : l(d)
                    }, f(r, function (t, n) {
                        l.fn[t] || (l.fn[t] = function (o) {
                            var r, a = e.type(o), c = "alpha" === t ? this._hsla ? "hsla" : "rgba" : i, l = this[c](),
                                p = l[n.idx];
                            return "undefined" === a ? p : ("function" === a && (o = o.call(this, p), a = e.type(o)), null == o && n.empty ? this : ("string" === a && (r = s.exec(o), r && (o = p + parseFloat(r[2]) * ("+" === r[1] ? 1 : -1))), l[n.idx] = o, this[c](l)))
                        })
                    })
                }), l.hook = function (t) {
                    var n = t.split(" ");
                    f(n, function (t, n) {
                        e.cssHooks[n] = {
                            set: function (t, o) {
                                var r, a, s = "";
                                if ("transparent" !== o && ("string" !== e.type(o) || (r = i(o)))) {
                                    if (o = l(r || o), !d.rgba && 1 !== o._rgba[3]) {
                                        for (a = "backgroundColor" === n ? t.parentNode : t; ("" === s || "transparent" === s) && a && a.style;) try {
                                            s = e.css(a, "backgroundColor"), a = a.parentNode
                                        } catch (c) {
                                        }
                                        o = o.blend(s && "transparent" !== s ? s : "_default")
                                    }
                                    o = o.toRgbaString()
                                }
                                try {
                                    t.style[n] = o
                                } catch (c) {
                                }
                            }
                        }, e.fx.step[n] = function (t) {
                            t.colorInit || (t.start = l(t.elem, n), t.end = l(t.end), t.colorInit = !0), e.cssHooks[n].set(t.elem, t.start.transition(t.end, t.pos))
                        }
                    })
                }, l.hook(a), e.cssHooks.borderColor = {
                    expand: function (e) {
                        var t = {};
                        return f(["Top", "Right", "Bottom", "Left"], function (n, i) {
                            t["border" + i + "Color"] = e
                        }), t
                    }
                }, r = e.Color.names = {
                    aqua: "#00ffff",
                    black: "#000000",
                    blue: "#0000ff",
                    fuchsia: "#ff00ff",
                    gray: "#808080",
                    green: "#008000",
                    lime: "#00ff00",
                    maroon: "#800000",
                    navy: "#000080",
                    olive: "#808000",
                    purple: "#800080",
                    red: "#ff0000",
                    silver: "#c0c0c0",
                    teal: "#008080",
                    white: "#ffffff",
                    yellow: "#ffff00",
                    transparent: [null, null, null, 0],
                    _default: "#ffffff"
                }
            }(c), function () {
            function t(t) {
                var n, i,
                    o = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
                    r = {};
                if (o && o.length && o[0] && o[o[0]]) for (i = o.length; i--;) n = o[i], "string" == typeof o[n] && (r[e.camelCase(n)] = o[n]); else for (n in o) "string" == typeof o[n] && (r[n] = o[n]);
                return r
            }

            function n(t, n) {
                var i, r, a = {};
                for (i in n) r = n[i], t[i] !== r && (o[i] || !e.fx.step[i] && isNaN(parseFloat(r)) || (a[i] = r));
                return a
            }

            var i = ["add", "remove", "toggle"], o = {
                border: 1,
                borderBottom: 1,
                borderColor: 1,
                borderLeft: 1,
                borderRight: 1,
                borderTop: 1,
                borderWidth: 1,
                margin: 1,
                padding: 1
            };
            e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (t, n) {
                e.fx.step[n] = function (e) {
                    ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (c.style(e.elem, n, e.end), e.setAttr = !0)
                }
            }), e.fn.addBack || (e.fn.addBack = function (e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }), e.effects.animateClass = function (o, r, a, s) {
                var c = e.speed(r, a, s);
                return this.queue(function () {
                    var r, a = e(this), s = a.attr("class") || "", l = c.children ? a.find("*").addBack() : a;
                    l = l.map(function () {
                        var n = e(this);
                        return {el: n, start: t(this)}
                    }), r = function () {
                        e.each(i, function (e, t) {
                            o[t] && a[t + "Class"](o[t])
                        })
                    }, r(), l = l.map(function () {
                        return this.end = t(this.el[0]), this.diff = n(this.start, this.end), this
                    }), a.attr("class", s), l = l.map(function () {
                        var t = this, n = e.Deferred(), i = e.extend({}, c, {
                            queue: !1, complete: function () {
                                n.resolve(t)
                            }
                        });
                        return this.el.animate(this.diff, i), n.promise()
                    }), e.when.apply(e, l.get()).done(function () {
                        r(), e.each(arguments, function () {
                            var t = this.el;
                            e.each(this.diff, function (e) {
                                t.css(e, "")
                            })
                        }), c.complete.call(a[0])
                    })
                })
            }, e.fn.extend({
                addClass: function (t) {
                    return function (n, i, o, r) {
                        return i ? e.effects.animateClass.call(this, {add: n}, i, o, r) : t.apply(this, arguments)
                    }
                }(e.fn.addClass), removeClass: function (t) {
                    return function (n, i, o, r) {
                        return arguments.length > 1 ? e.effects.animateClass.call(this, {remove: n}, i, o, r) : t.apply(this, arguments)
                    }
                }(e.fn.removeClass), toggleClass: function (t) {
                    return function (n, i, o, r, a) {
                        return "boolean" == typeof i || void 0 === i ? o ? e.effects.animateClass.call(this, i ? {add: n} : {remove: n}, o, r, a) : t.apply(this, arguments) : e.effects.animateClass.call(this, {toggle: n}, i, o, r)
                    }
                }(e.fn.toggleClass), switchClass: function (t, n, i, o, r) {
                    return e.effects.animateClass.call(this, {add: n, remove: t}, i, o, r)
                }
            })
        }(), function () {
            function t(t, n, i, o) {
                return e.isPlainObject(t) && (n = t, t = t.effect), t = {effect: t}, null == n && (n = {}), e.isFunction(n) && (o = n, i = null, n = {}), ("number" == typeof n || e.fx.speeds[n]) && (o = i, i = n, n = {}), e.isFunction(i) && (o = i, i = null), n && e.extend(t, n), i = i || n.duration, t.duration = e.fx.off ? 0 : "number" == typeof i ? i : i in e.fx.speeds ? e.fx.speeds[i] : e.fx.speeds._default, t.complete = o || n.complete, t
            }

            function i(t) {
                return !(t && "number" != typeof t && !e.fx.speeds[t]) || ("string" == typeof t && !e.effects.effect[t] || (!!e.isFunction(t) || "object" === ("undefined" == typeof t ? "undefined" : n(t)) && !t.effect))
            }

            function o(e, t) {
                var n = t.outerWidth(), i = t.outerHeight(),
                    o = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
                    r = o.exec(e) || ["", 0, n, i, 0];
                return {
                    top: parseFloat(r[1]) || 0,
                    right: "auto" === r[2] ? n : parseFloat(r[2]),
                    bottom: "auto" === r[3] ? i : parseFloat(r[3]),
                    left: parseFloat(r[4]) || 0
                }
            }

            e.expr && e.expr.filters && e.expr.filters.animated && (e.expr.filters.animated = function (t) {
                return function (n) {
                    return !!e(n).data(s) || t(n)
                }
            }(e.expr.filters.animated)), e.uiBackCompat !== !1 && e.extend(e.effects, {
                save: function (e, t) {
                    for (var n = 0, i = t.length; n < i; n++) null !== t[n] && e.data(r + t[n], e[0].style[t[n]])
                }, restore: function (e, t) {
                    for (var n, i = 0, o = t.length; i < o; i++) null !== t[i] && (n = e.data(r + t[i]), e.css(t[i], n))
                }, setMode: function (e, t) {
                    return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"), t
                }, createWrapper: function (t) {
                    if (t.parent().is(".ui-effects-wrapper")) return t.parent();
                    var n = {width: t.outerWidth(!0), height: t.outerHeight(!0), "float": t.css("float")},
                        i = e("<div></div>").addClass("ui-effects-wrapper").css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }), o = {width: t.width(), height: t.height()}, r = document.activeElement;
                    try {
                        r.id
                    } catch (a) {
                        r = document.body
                    }
                    return t.wrap(i), (t[0] === r || e.contains(t[0], r)) && e(r).trigger("focus"), i = t.parent(), "static" === t.css("position") ? (i.css({position: "relative"}), t.css({position: "relative"})) : (e.extend(n, {
                        position: t.css("position"),
                        zIndex: t.css("z-index")
                    }), e.each(["top", "left", "bottom", "right"], function (e, i) {
                        n[i] = t.css(i), isNaN(parseInt(n[i], 10)) && (n[i] = "auto")
                    }), t.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    })), t.css(o), i.css(n).show()
                }, removeWrapper: function (t) {
                    var n = document.activeElement;
                    return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).trigger("focus")), t
                }
            }), e.extend(e.effects, {
                version: "1.12.1", define: function (t, n, i) {
                    return i || (i = n, n = "effect"), e.effects.effect[t] = i, e.effects.effect[t].mode = n, i
                }, scaledDimensions: function (e, t, n) {
                    if (0 === t) return {height: 0, width: 0, outerHeight: 0, outerWidth: 0};
                    var i = "horizontal" !== n ? (t || 100) / 100 : 1, o = "vertical" !== n ? (t || 100) / 100 : 1;
                    return {
                        height: e.height() * o,
                        width: e.width() * i,
                        outerHeight: e.outerHeight() * o,
                        outerWidth: e.outerWidth() * i
                    }
                }, clipToBox: function (e) {
                    return {
                        width: e.clip.right - e.clip.left,
                        height: e.clip.bottom - e.clip.top,
                        left: e.clip.left,
                        top: e.clip.top
                    }
                }, unshift: function (e, t, n) {
                    var i = e.queue();
                    t > 1 && i.splice.apply(i, [1, 0].concat(i.splice(t, n))), e.dequeue()
                }, saveStyle: function (e) {
                    e.data(a, e[0].style.cssText)
                }, restoreStyle: function (e) {
                    e[0].style.cssText = e.data(a) || "", e.removeData(a)
                }, mode: function (e, t) {
                    var n = e.is(":hidden");
                    return "toggle" === t && (t = n ? "show" : "hide"), (n ? "hide" === t : "show" === t) && (t = "none"), t
                }, getBaseline: function (e, t) {
                    var n, i;
                    switch (e[0]) {
                        case"top":
                            n = 0;
                            break;
                        case"middle":
                            n = .5;
                            break;
                        case"bottom":
                            n = 1;
                            break;
                        default:
                            n = e[0] / t.height
                    }
                    switch (e[1]) {
                        case"left":
                            i = 0;
                            break;
                        case"center":
                            i = .5;
                            break;
                        case"right":
                            i = 1;
                            break;
                        default:
                            i = e[1] / t.width
                    }
                    return {x: i, y: n}
                }, createPlaceholder: function (t) {
                    var n, i = t.css("position"), o = t.position();
                    return t.css({
                        marginTop: t.css("marginTop"),
                        marginBottom: t.css("marginBottom"),
                        marginLeft: t.css("marginLeft"),
                        marginRight: t.css("marginRight")
                    }).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()), /^(static|relative)/.test(i) && (i = "absolute", n = e("<" + t[0].nodeName + ">").insertAfter(t).css({
                        display: /^(inline|ruby)/.test(t.css("display")) ? "inline-block" : "block",
                        visibility: "hidden",
                        marginTop: t.css("marginTop"),
                        marginBottom: t.css("marginBottom"),
                        marginLeft: t.css("marginLeft"),
                        marginRight: t.css("marginRight"),
                        "float": t.css("float")
                    }).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"), t.data(r + "placeholder", n)), t.css({
                        position: i,
                        left: o.left,
                        top: o.top
                    }), n
                }, removePlaceholder: function (e) {
                    var t = r + "placeholder", n = e.data(t);
                    n && (n.remove(), e.removeData(t))
                }, cleanUp: function (t) {
                    e.effects.restoreStyle(t), e.effects.removePlaceholder(t)
                }, setTransition: function (t, n, i, o) {
                    return o = o || {}, e.each(n, function (e, n) {
                        var r = t.cssUnit(n);
                        r[0] > 0 && (o[n] = r[0] * i + r[1])
                    }), o
                }
            }), e.fn.extend({
                effect: function () {
                    function n(t) {
                        function n() {
                            c.removeData(s), e.effects.cleanUp(c), "hide" === i.mode && c.hide(), a()
                        }

                        function a() {
                            e.isFunction(l) && l.call(c[0]), e.isFunction(t) && t()
                        }

                        var c = e(this);
                        i.mode = u.shift(), e.uiBackCompat === !1 || r ? "none" === i.mode ? (c[p](), a()) : o.call(c[0], i, n) : (c.is(":hidden") ? "hide" === p : "show" === p) ? (c[p](), a()) : o.call(c[0], i, a)
                    }

                    var i = t.apply(this, arguments), o = e.effects.effect[i.effect], r = o.mode, a = i.queue,
                        c = a || "fx", l = i.complete, p = i.mode, u = [], d = function (t) {
                            var n = e(this), i = e.effects.mode(n, p) || r;
                            n.data(s, !0), u.push(i), r && ("show" === i || i === r && "hide" === i) && n.show(), r && "none" === i || e.effects.saveStyle(n), e.isFunction(t) && t()
                        };
                    return e.fx.off || !o ? p ? this[p](i.duration, l) : this.each(function () {
                        l && l.call(this)
                    }) : a === !1 ? this.each(d).each(n) : this.queue(c, d).queue(c, n)
                }, show: function (e) {
                    return function (n) {
                        if (i(n)) return e.apply(this, arguments);
                        var o = t.apply(this, arguments);
                        return o.mode = "show", this.effect.call(this, o)
                    }
                }(e.fn.show), hide: function (e) {
                    return function (n) {
                        if (i(n)) return e.apply(this, arguments);
                        var o = t.apply(this, arguments);
                        return o.mode = "hide", this.effect.call(this, o)
                    }
                }(e.fn.hide), toggle: function (e) {
                    return function (n) {
                        if (i(n) || "boolean" == typeof n) return e.apply(this, arguments);
                        var o = t.apply(this, arguments);
                        return o.mode = "toggle", this.effect.call(this, o)
                    }
                }(e.fn.toggle), cssUnit: function (t) {
                    var n = this.css(t), i = [];
                    return e.each(["em", "px", "%", "pt"], function (e, t) {
                        n.indexOf(t) > 0 && (i = [parseFloat(n), t])
                    }), i
                }, cssClip: function (e) {
                    return e ? this.css("clip", "rect(" + e.top + "px " + e.right + "px " + e.bottom + "px " + e.left + "px)") : o(this.css("clip"), this)
                }, transfer: function c(t, n) {
                    var i = e(this), o = e(t.to), r = "fixed" === o.css("position"), a = e("body"),
                        s = r ? a.scrollTop() : 0, l = r ? a.scrollLeft() : 0, p = o.offset(),
                        u = {top: p.top - s, left: p.left - l, height: o.innerHeight(), width: o.innerWidth()},
                        d = i.offset(),
                        c = e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({
                            top: d.top - s,
                            left: d.left - l,
                            height: i.innerHeight(),
                            width: i.innerWidth(),
                            position: r ? "fixed" : "absolute"
                        }).animate(u, t.duration, t.easing, function () {
                            c.remove(), e.isFunction(n) && n()
                        })
                }
            }), e.fx.step.clip = function (t) {
                t.clipInit || (t.start = e(t.elem).cssClip(), "string" == typeof t.end && (t.end = o(t.end, t.elem)), t.clipInit = !0), e(t.elem).cssClip({
                    top: t.pos * (t.end.top - t.start.top) + t.start.top,
                    right: t.pos * (t.end.right - t.start.right) + t.start.right,
                    bottom: t.pos * (t.end.bottom - t.start.bottom) + t.start.bottom,
                    left: t.pos * (t.end.left - t.start.left) + t.start.left
                })
            }
        }(), function () {
            var t = {};
            e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (e, n) {
                t[n] = function (t) {
                    return Math.pow(t, e + 2)
                }
            }), e.extend(t, {
                Sine: function (e) {
                    return 1 - Math.cos(e * Math.PI / 2)
                }, Circ: function (e) {
                    return 1 - Math.sqrt(1 - e * e)
                }, Elastic: function (e) {
                    return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
                }, Back: function (e) {
                    return e * e * (3 * e - 2)
                }, Bounce: function (e) {
                    for (var t, n = 4; e < ((t = Math.pow(2, --n)) - 1) / 11;) ;
                    return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
                }
            }), e.each(t, function (t, n) {
                e.easing["easeIn" + t] = n, e.easing["easeOut" + t] = function (e) {
                    return 1 - n(1 - e)
                }, e.easing["easeInOut" + t] = function (e) {
                    return e < .5 ? n(2 * e) / 2 : 1 - n(e * -2 + 2) / 2
                }
            })
        }();
        e.effects
    })
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    angular.module("eqx.ng.multiPay", []).directive("eqxPayMulti", ["payMessageType", "eqxNgPay", function (e, t) {
        return {
            restrict: "A", link: function (n, i, o) {
                function r(t) {
                    if ("string" == typeof t.data) {
                        var o = JSON.parse(t.data);
                        o.msgType != e.READY && o.msgType != e.RESIZE ? n.closeThisDialog(o) : o.msgType === e.READY ? s.contentWindow.postMessage(payData, a + "/pay/purchaseConfirm") : o.msgType === e.RESIZE && (n.iframeHeight = o.iframeHeight, s.height = o.iframeHeight, i.css("marginTop", -o.iframeHeight / 2))
                    }
                }

                payData = n.data;
                var a = t.getHost(), s = document.createElement("iframe");
                s.src = a + "/pay/purchaseConfirm", s.width = 600, s.height = 334, s.scrolling = "no", s.frameBorder = 0, n.iframeHeight = 334, i.append(s), window.removeEventListener("message", r), window.addEventListener("message", r), i.on("$destroy", function () {
                    window.removeEventListener("message", r)
                })
            }
        }
    }]), angular.module("eqx.ng.pay", ["ngDialog", "eqx.ng.multiPay"]).provider("eqxNgPay", function () {
        var e = "http://localhost";
        this.setConfig = function (t) {
            e = t.host || e
        }, this.$get = ["ngDialog", "$q", function (t, n) {
            function i(i) {
                i.host = e;
                var o = n.defer();
                return t.open({
                    template: l,
                    plain: !0,
                    appendTo: "body",
                    showClose: !1,
                    controller: "payIfmCtrl",
                    className: "eqxPayDialog",
                    resolve: {
                        payObj: function () {
                            return i
                        }
                    }
                }).closePromise.then(function (e) {
                    o.resolve(e)
                }), o.promise
            }

            function o(e) {
                var i = n.defer();
                return t.open({
                    template: u,
                    plain: !0,
                    appendTo: "body",
                    showClose: !1,
                    controller: "payIfmCtrl",
                    className: "eqxPayDialog",
                    resolve: {
                        payObj: function () {
                            return e
                        }
                    }
                }).closePromise.then(function (e) {
                    i.resolve(e)
                }), i.promise
            }

            function r(e) {
                var i = n.defer();
                return t.open({
                    template: p,
                    plain: !0,
                    appendTo: "body",
                    showClose: !1,
                    className: "eqxPayDialog",
                    controller: "payIfmCtrl",
                    resolve: {
                        payObj: function () {
                            return e
                        }
                    }
                }).closePromise.then(function (e) {
                    i.resolve(e)
                }), i.promise
            }

            function a() {
                return e
            }

            function s() {
                var e = n.defer();
                return t.open({
                    template: d,
                    plain: !0,
                    appendTo: "body",
                    showClose: !1,
                    className: "eqxPayDialog"
                }).closePromise.then(function (t) {
                    e.resolve(t)
                }), e.promise
            }

            function c(t, i) {
                var o = n.defer(), r = e + "/pay/ppc", a = i;
                return a ? a.location.href = r : a = window.open(r), setTimeout(function () {
                    a.postMessage(t, r)
                }, 1e3), window.addEventListener("message", function (e) {
                    var t = e.data;
                    return "string" == typeof t ? void o.resolve(JSON.parse(t)) : void o.resolve(t)
                }), o.promise
            }

            var l = '<div eqx-data class="eqx-pay"></div>', p = '<div eqx-buy-data class="eqx-buy"></div>',
                u = '<div eqx-pay-multi ng-style="{height:iframeHeight}" class="eqx-pay-multi"></div>',
                d = '<div class="eqx-warn"><div class="prompt_header"><span class="title">提醒</span><div class="closeBtn ngdialog-close" >&times;</div></div><div class="eqf-exclamation-sign signIcon"></div><div class="promptText_1">请您在新打开的页面上完成充值</div><div class="promptText_2">充值完成前请不要关闭此窗口</div><div class="promptBtn"><a class="finish pmtBtn ngdialog-close">已完成充值</a><a class="unfinish pmtBtn" href="http://bbs.eqxiu.com/plugin.php?id=eqxiu_help&cid=53" target="_blank">充值遇到问题</a></div></div>';
            return {pay: i, buy: r, getHost: a, openMsg: s, pagePayConfirm: c, payMulti: o}
        }]
    }).directive("eqxData", ["payMessageType", function (e) {
        return {
            restrict: "A", link: function (t, n, i) {
                function o(n) {
                    if ("string" == typeof n.data) {
                        var i = JSON.parse(n.data);
                        i.msgType != e.READY ? t.closeThisDialog(i) : i.msgType === e.READY && a.contentWindow.postMessage(payData, r + "/pay/")
                    }
                }

                payData = t.data;
                var r = payData.host, a = document.createElement("iframe");
                a.src = r + "/pay/", a.width = 640, a.height = 400, a.scrolling = "no", a.frameBorder = 0, n.append(a), window.removeEventListener("message", o), window.addEventListener("message", o), a.onload = function () {
                }, n.on("$destroy", function () {
                    window.removeEventListener("message", o)
                })
            }
        }
    }]).controller("payIfmCtrl", ["$scope", "payObj", function (e, t) {
        e.data = t
    }]).constant("payMessageType", {
        CLOSE: "close",
        NO_LOGIN: "notLogin",
        PAY_SUCCESS: "successInfo",
        PAY_FAILED: "errorInfo",
        READY: "done",
        RESIZE: "resize"
    }).directive("eqxBuyData", ["payMessageType", "eqxNgPay", function (e, t) {
        return {
            restrict: "A", link: function (n, i, o) {
                function r(t) {
                    if ("string" == typeof t.data) {
                        var i = JSON.parse(t.data);
                        i.msgType != e.READY ? n.closeThisDialog(i) : i.msgType === e.READY && c.contentWindow.postMessage(a, s + "/pay/payCode/" + l)
                    }
                }

                var a = n.data || {}, s = t.getHost(), c = document.createElement("iframe"), l = a.goodsId || 20;
                c.src = s + "/pay/payCode/" + l, c.width = 640, c.height = 450, c.scrolling = "no", c.frameBorder = 0, i.append(c), window.removeEventListener("message", r), window.addEventListener("message", r), c.onload = function () {
                }, i.on("$destroy", function () {
                    window.removeEventListener("message", r)
                })
            }
        }
    }])
}, function (e, t) {
}, function (e, t) {
    angular.module("eqx.ng.auth", []).provider("eqxNgAuth", function () {
        var e = "http://localhost";
        this.setConfig = function (t) {
            e = t.host || e
        }, this.$get = ["eqxNgDialog", "authMessageType", function (t, n) {
            function i(i) {
                var r = "";
                switch (i.type) {
                    case n.LOGIN:
                        r = "/auth/login";
                        break;
                    case n.REGISTER:
                        r = "/auth/reg/wx";
                        break;
                    case n.REGISTER_ENTERPRISE:
                        r = "/auth/register/mobile/2";
                        break;
                    case n.RESET:
                        r = "/auth/reset/" + i.resetToken
                }
                return t.open({template: o.replace("{{src}}", e + r + "?t=" + Date.now()), plain: !0})
            }

            var o = '<div class="eqc-auth" eqd-message-event><iframe class="eqc-auth" src="{{src}}" frameborder="0" scrolling="no"></iframe></div>';
            return {showAuth: i}
        }]
    }).constant("authMessageType", {
        LOGIN: "login",
        REGISTER: "register",
        REGISTER_ENTERPRISE: "registerEnterprise",
        RESET: "reset",
        CLOSE: "close"
    }).directive("eqdMessageEvent", ["authMessageType", function (e) {
        function t(t, n) {
            function i(n) {
                try {
                    if ("string" == typeof n.data) {
                        var i = JSON.parse(n.data);
                        i.type === e.CLOSE && (i = void 0), t.closeThisDialog(i)
                    }
                } catch (o) {
                    console.error(o)
                }
            }

            n.on("$destroy", function () {
                window.removeEventListener("message", i)
            }), window.addEventListener("message", i)
        }

        return {link: t}
    }])
}, function (e, t) {
}, function (e, t) {
    angular.module("eqx.ng.dialog", ["ngDialog"]).factory("eqxNgDialog", ["$q", "ngDialog", function (e, t) {
        function n(n) {
            var i = e.defer();
            n = angular.extend({appendTo: "body", showClose: !1}, n);
            var o = t.open(n);
            return o.closePromise.then(function (e) {
                var t = e.value;
                t && "$document" != t ? i.resolve(t) : i.reject()
            })["catch"](function (e) {
                i.reject(e)
            }), i.promise
        }

        return {open: n}
    }])
}, function (e, t) {
}, function (e, t) {
    !function (e, t, n, i) {
        "use strict";

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function r(e) {
            e.newWindow ? e.newWindow.location.href = e.src : e.reloadIframe && (e.$iframe.attr("src", e.src), e.reloadIframe = !1)
        }

        function a(e) {
            var t = e ? e.chatId : "", n = t || "zwyqx-a8cb5e20-03df-11e7-b892-f9cbcff64299", i = "";
            if (e && e.id) {
                var o = e.name, r = e.loginName, a = e.phone, s = e.id, c = e.type, l = e.memberType;
                t || 99 !== c && (2 !== c && 21 !== c || !l) || (n = "zwyqx-587dde40-ec0e-11e6-a4f5-89f5441296e9"), i = "&customerId=" + s + "&nickName=" + o + "&businessParam=name:" + o + ",account:" + r + ",phoneNum:" + a
            }
            var p = "http://a1.7x24cc.com/phone_webChat.html?accountId=N000000007733&chatId=" + n;
            return i ? p + i : p
        }

        function s() {
            return '<div class="eqx-kefu">\n            <iframe frameborder="0"></iframe>\n            <div class="kf-header">\n                <i class="kf-refresh eqf-refresh-cw"></i>\n                <i class="kf-hide eqf-down"></i>\n                <i class="kf-resize eqf-arrow-bigger"></i>\n            </div>\n        </div>'
        }

        var c = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), l = function () {
            function t(e) {
                var i = this;
                o(this, t), this.$dialog = n(s()).appendTo("body"), this.$iframe = this.$dialog.find("iframe"), this.$hide = this.$dialog.find(".kf-hide"), this.$refresh = this.$dialog.find(".kf-refresh"), this.$resize = this.$dialog.find(".kf-resize"), this.user = e, this.src = "", this.reloadIframe = !0, this.newWindow = null, this.$hide.click(function () {
                    return i.hide()
                }), this.$resize.click(function () {
                    return i.resize()
                }), this.$refresh.click(function () {
                    return i.refresh()
                }), this.setUser(e)
            }

            return c(t, [{
                key: "show", value: function () {
                    this.newWindow && (this.newWindow.close(), this.newWindow = null, this.reloadIframe = !0), r(this), this.$dialog.addClass("open")
                }
            }, {
                key: "hide", value: function () {
                    this.$dialog.removeClass("open")
                }
            }, {
                key: "refresh", value: function () {
                    this.reloadIframe = !0, r(this)
                }
            }, {
                key: "resize", value: function () {
                    var t = (e.outerHeight - 600) / 2, n = (e.outerWidth - 600) / 2,
                        i = ["width=600", "height=600", "top=" + t, "left=" + n];
                    this.hide(), this.newWindow = e.open(this.src, "_blank", i.join(","))
                }
            }, {
                key: "setUser", value: function (e) {
                    this.src = a(e), (this.user && this.user.id && !e || !this.user && e && e.id || this.user && e && e.id !== this.user.id) && (this.reloadIframe = !0, r(this)), this.user = e
                }
            }]), t
        }();
        e.EqxKeFu = l
    }(window, document, jQuery)
}, function (e, t) {
}, , function (e, t) {
    e.exports = angular
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.api", []).factory("apiCache", n(90)).factory("fileAPI", n(91)).factory("pageAPI", n(92)).factory("tagAPI", n(94)).factory("tplAPI", n(95)).factory("userAPI", n(96)).factory("sceneAPI", n(97)).factory("sceneMetaAPI", n(98)).factory("sceneCategoryAPI", n(99)).factory("pageCategoryAPI", n(100)).factory("fontAPI", n(101)).factory("XDAPI", n(102)).factory("materialAPI", n(103)).factory("audioAPI", n(104)).factory("yqcAPI", n(105)).factory("redPacketAPI", n(106)).factory("smsAPI", n(107)).factory("jointAPI", n(108)).factory("payAPI", n(109)).factory("bannerAPI", n(110)).factory("marketingAPI", n(111)).name
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(i, o) {
            function c() {
                return t(i).then(function (e) {
                    return window.localStorage.setItem(g, JSON.stringify({
                        expires: Date.now() + m,
                        version: f,
                        value: e
                    })), e
                }, function (t) {
                    return window.localStorage.removeItem(g), e.reject(t)
                })
            }

            var l = i.method, p = i.url, u = i.params;
            if ("GET" != l) return console.log("api cache does not support " + l), t(i);
            var d = Object.assign(o || {}, {expiresOffset: a, version: r}), m = d.expiresOffset, f = d.version,
                g = s + p;
            u && (g += g.indexOf("?") > -1 ? "&" : "?" + n(u));
            var h = JSON.parse(window.localStorage.getItem(g));
            if (h && h.value && h.expires) {
                var v = Date.now();
                return v > h.expires || h.version != f ? c() : e.resolve(h.value)
            }
            return c()
        }

        function o() {
            for (var e in window.localStorage) if (window.localStorage.hasOwnProperty(e) && 0 === e.indexOf(s)) {
                var t = window.localStorage.getItem(e), n = JSON.parse(t);
                Date.now() > n.expires && window.localStorage.removeItem(e)
            }
        }

        var r = window.__version, a = 36e5, s = "API-";
        return o(), i
    }

    n.$inject = ["$q", "$http", "$httpParamSerializer"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";

        function r(t) {
            return e({method: "GET", url: i.SERVER_0 + "m/material/sysList", params: t})
        }

        function a(e) {
            return t({method: "POST", url: i.MALL_HOST + "api/product/cat/listProdByCate", params: e})
        }

        function s(e) {
            return t({method: "GET", url: i.SERVER_0 + "m/material/userList", params: e})
        }

        function c(e) {
            return t({method: "GET", url: i.SERVER_0 + "m/material/user/list/upload", params: e})
        }

        function l(e) {
            return t({method: "GET", url: i.SERVER_0 + "m/material/user/list/buy", params: e})
        }

        function p(e) {
            return t({
                method: "GET",
                withCredentials: !1,
                headers: {Accept: "application/xml, text/xml, */*; q=0.01"},
                url: e.startsWith("http") ? e : i.FILE + e
            })
        }

        function u() {
            for (var e = [1, 2, 4, 7], o = arguments.length, r = Array(o), a = 0; a < o; a++) r[a] = arguments[a];
            var s = r.filter(function (t) {
                return !e.includes(t.fileType)
            }).map(function (e) {
                return "fileIds=" + e.id + "&fileTypes=" + e.fileType
            }).join("&");
            return s ? t({method: "GET", url: i.SERVER_0 + "m/base/file/history/save?" + s}) : n.reject("无数据")
        }

        function d(e) {
            return t({method: "POST", url: i.SERVER_0 + "m/base/file/info/save", data: e})
        }

        function m(e) {
            return t({method: "POST", url: i.SERVER_0 + "m/e/scene/video/codec", data: {path: e}})
        }

        function f(e) {
            return e ? (x[e] || (x[e] = Date.now()), t({
                withCredentials: !0,
                method: "GET",
                url: i.SERVER_0 + "m/e/scene/video/status?pid=" + e
            }).then(function (t) {
                var i = t.data.map.code;
                switch (i) {
                    case 0:
                        return t.data.map.path;
                    case 1:
                    case 2:
                        return Date.now() - x[e] > 6e4 ? n.reject("裁切失败") : o(function () {
                            return f(e)
                        }, 2e3);
                    case 3:
                    case 4:
                    default:
                        return n.reject("裁切失败")
                }
            })) : n.reject()
        }

        function g(e, n) {
            var o = "m/base/file/link/save?url=" + n + "&fileType=" + e, r = new Date;
            return o += "&time=" + r.getTime(), t({method: "GET", url: i.SERVER_0 + o})
        }

        function h(e, n) {
            return t({method: "POST", url: i.SERVER_0 + "m/base/file/delete", data: {id: e, backup: n}})
        }

        function v(e, n, o, r) {
            var a = "search/mall?cat=" + e + "&keyword=" + n + "&pageNo=" + o + "&pageSize=" + r;
            return t({withCredentials: !0, method: "GET", url: i.QUERY_SERVER + a}).then(function (t) {
                return 1 == e && t.data && t.data.list && t.data.list.forEach(function (e) {
                    e.path = e.mid_pic
                }), t
            })
        }

        function y(t) {
            var n = t.category, o = t.sortBy, r = t.priceFloor, a = t.priceCeiling, s = t.keyWords, c = t.pageNo,
                l = t.pageSize,
                p = {category: n, sortBy: o, priceFloor: r, priceCeiling: a, keyWords: s, pageNo: c, pageSize: l};
            return e({method: "GET", url: i.STORE + "api/product/cat/listProdByParam", params: p})
        }

        function b(e, n) {
            return t({method: "POST", url: i.SERVER_0 + "m/e/material/word/to/audio", data: {content: e, fileType: n}})
        }

        var x = {};
        return {
            getSysItems: r,
            getSysMaterialItems: a,
            getSvgElement: p,
            saveFilesHistory: u,
            saveFileInfo: d,
            getUserItems: s,
            getUserPurchaseItems: l,
            getUserUploadItems: c,
            addMusicLink: g,
            deleteFile: h,
            searchMaterial: v,
            searchMaterial1: y,
            videoCodec: m,
            pollingStatus: f,
            wordTransformSound: b
        }
    }

    n.$inject = ["apiCache", "$http", "$q", "HOST", "$timeout"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function n(n) {
            var i = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
            return e({
                method: "POST",
                loading: i,
                url: t.SERVER_0 + "m/scene/save",
                headers: {"Content-Type": "text/plain; charset=UTF-8"},
                data: JSON.stringify(o(n))
            })
        }

        function i(n) {
            return e({method: "GET", loading: !0, url: t.SERVER_0 + "m/scene/design/" + n})
        }

        function r(n) {
            return e({
                method: "GET",
                loading: !0,
                url: t.SERVER_0 + "m/scene/createPage/" + n,
                params: {copy: !0, time: (new Date).getTime()}
            })
        }

        function a(n, i) {
            return e({
                method: "GET",
                loading: !0,
                url: t.SERVER_0 + "m/scene/createPage/" + n,
                params: {longPage: i, time: (new Date).getTime()}
            })
        }

        function s(n) {
            return e({method: "GET", loading: !0, url: t.SERVER_0 + "m/scene/delPage/" + n})
        }

        function c(n, i) {
            return e({
                method: "GET",
                loading: !0,
                url: t.SERVER_0 + "m/scene/pageSort",
                params: {id: n, pos: i, date: (new Date).getTime()}
            })
        }

        function l(n) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/savePage",
                data: {id: n.id, sceneId: n.sceneId, name: n.name}
            })
        }

        return {getPage: i, savePage: n, copyPage: r, createPage: a, deletePage: s, sortPage: c, savePageName: l}
    }

    i.$inject = ["$http", "HOST"];
    var o = n(93).remove$key;
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = Object.assign({}, e);
        return s(t), t
    }

    function i(e, t) {
        return Object.prototype.toString.call(e).toLowerCase() === "[object " + t + "]"
    }

    function o(e) {
        return i(e, "object")
    }

    function r(e) {
        return i(e, "array")
    }

    function a(e) {
        e.forEach(function (e) {
            r(e) ? a(e) : o(e) && s(e)
        })
    }

    function s(e) {
        for (var t in e) e.hasOwnProperty(t) && (t.startsWith("$") ? delete e[t] : r(e[t]) ? a(e[t]) : o(e[t]) && s(e[t]))
    }

    function c(e, t) {
        return JSON.stringify(e) === JSON.stringify(t)
    }

    function o(e) {
        return null != e && "object" === ("undefined" == typeof e ? "undefined" : u(e)) && Array.isArray(e) === !1
    }

    function l(e) {
        return o(e) === !0 && "[object Object]" === Object.prototype.toString.call(e)
    }

    function p(e) {
        var t, n;
        return l(e) !== !1 && (t = e.constructor, "function" == typeof t && (n = t.prototype, l(n) !== !1 && n.hasOwnProperty("isPrototypeOf") !== !1))
    }

    var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    e.exports = {remove$key: n, isSameValue: c, isObject: o, isPlainObject: p}
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o(t) {
            return e({method: "GET", url: n.SERVER_0 + "m/e/scene/get/tpltags", params: {parentId: t}})
        }

        function r() {
            return e({method: "GET", url: n.SERVER_0 + "m/e/scene/get/colortags"})
        }

        function a(t, i) {
            return e({
                method: "GET", url: n.MALL_HOST + "api/category/getCategoryListByTopId",
                params: {id: t}
            }).then(function (e) {
                if (!x[t]) {
                    i ? x[t] = [{id: t, name: "推荐"}] : x[t] = [{id: t, name: "全部"}];
                    var n = {};
                    angular.forEach(e.data.list, function (e) {
                        e.parentId === t ? x[t].push(e) : (n[e.parentId] || (n[e.parentId] = []), n[e.parentId].push(e))
                    }), angular.forEach(x[t], function (e) {
                        e.list = n[e.id]
                    }), i && x[t].forEach(function (e) {
                        e.list && e.list.length > 0 && e.list.unshift({name: "精选", id: e.id})
                    })
                }
                return x[t]
            })
        }

        function s(e) {
            switch (e) {
                case 1:
                    return c(n.MALL_PIC_ID);
                case 2:
                    return c(n.MALL_MUSIC_ID).then(function (e) {
                        return e.data.list
                    });
                case 3:
                    return c(n.MALL_FONT_ID).then(function (e) {
                        return e.data.list
                    });
                case 4:
                    return c(n.MALL_SOUND_ID).then(function (e) {
                        return e.data.list
                    });
                case 7:
                    return l();
                default:
                    return i.reject("unknown fileType")
            }
        }

        function c(e) {
            return t({method: "POST", url: n.MALL_HOST + "api/category/getCategoryListById", params: {id: e}})
        }

        function l() {
            return i.resolve([{id: 8201, name: "图形", bizType: 8201, fileType: 7}, {
                id: 8203,
                name: "文字",
                bizType: 8203,
                fileType: 7
            }, {id: 8202, name: "图标", bizType: 8202, fileType: 7}])
        }

        function p(t, o) {
            switch (t) {
                case 7:
                    return e({method: "GET", url: n.SERVER_0 + "m/base/file/tag/sys", params: {bizType: o}});
                default:
                    return i.resolve({data: {list: []}})
            }
        }

        function u(e) {
            switch (e) {
                case 1:
                    return d();
                case 2:
                case 4:
                    return i.resolve({data: {list: []}});
                default:
                    return i.reject("unknown fileType")
            }
        }

        function d() {
            return t({method: "GET", url: n.SERVER_0 + "m/base/file/tag/my?time" + (new Date).getTime()})
        }

        function m(e) {
            return t.post(n.SERVER_0 + "m/base/file/tag/create", {tagName: e})
        }

        function f(e) {
            return t.post(n.SERVER_0 + "m/base/file/tag/delete", {id: e})
        }

        function g(e) {
            return t.post(n.SERVER_0 + "m/base/file/tag/clear", {tagId: e})
        }

        function h(e) {
            return t.post(n.SERVER_0 + "m/material/userFile/deleteAll", {fileType: e})
        }

        function v(e, i) {
            return t.post(n.SERVER_0 + "m/base/file/tag/modify", {tagId: e, tagName: i})
        }

        function y(e, i) {
            return t.post(n.SERVER_0 + "m/base/file/tag/set", {tagId: e, fileIds: i})
        }

        function b(e, i) {
            return t.post(n.SERVER_0 + "m/base/file/tag/unset", {tagId: e, fileIds: i})
        }

        var x = {};
        return {
            getTplTags: o,
            getTplColors: r,
            getCategoryListByTopId: a,
            getSysCategories: s,
            getSysTags: p,
            getUserTags: u,
            assignTag: y,
            createTag: m,
            deleteTag: f,
            clearImgTag: g,
            modifyTagName: v,
            clearMyImg: h,
            cancelTag: b
        }
    }

    n.$inject = ["apiCache", "$http", "HOST", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(t) {
            return e({method: "GET", url: n.SERVER_0 + "m/scene/pageTpl/" + t})
        }

        function o(i, o, r) {
            var a = /tagIds:(.*)-name:(.*)-colorId:(.*)/, s = a.exec(i) || [], c = s[1] || void 0, l = s[2] || void 0,
                p = s[3] || void 0, u = {
                    method: "GET",
                    url: n.SERVER_0 + "m/e/scene/get/searchtpl",
                    params: {tagId: c, keywords: l, colorId: p, pageNo: o, pageSize: r}
                };
            return l ? t(u) : e(u)
        }

        function r(t, i) {
            return e({
                method: "GET",
                url: n.SERVER_0 + "m/scene/tpl/page/list/",
                params: {type: 2, pageNo: t, pageSize: i}
            })
        }

        function a(e, i, o) {
            return t({
                method: "GET",
                url: n.SERVER_0 + "m/e/scene/page/tpl/list",
                params: {status: e, pageNo: i, pageSize: o}
            })
        }

        function s(e, i, o) {
            return t({
                method: "GET",
                url: n.SERVER_0 + "m/scene/page/custom/list/",
                params: {id: e, pageNo: i, pageSize: o}
            })
        }

        function c() {
            return t.get(n.SERVER_0 + "m/scene/tpl/recently/used")
        }

        function l(e, i, o) {
            var r = "m/accept/task/my?pageNo=" + e + "&pageSize=" + i + "&status=" + o;
            return t.get(n.SERVER_0 + r)
        }

        function p(e) {
            var i = "m/scene/page/mytpl/save";
            return t({
                withCredentials: !0,
                method: "POST",
                url: n.SERVER_0 + i,
                headers: {"Content-Type": "text/plain; charset=UTF-8"},
                data: JSON.stringify(e)
            })
        }

        function u(e) {
            var i = "m/scene/page/companytpl/save";
            return t({
                withCredentials: !0,
                method: "POST",
                url: n.SERVER_0 + i,
                headers: {"Content-Type": "text/plain; charset=UTF-8"},
                data: JSON.stringify(e)
            })
        }

        function d(e) {
            var i = "m/scene/pageTplList/" + e + "?time=" + (new Date).getTime();
            return t({method: "GET", url: n.SERVER_0 + i})
        }

        return {
            getGroupTpls: r,
            getApplyTpls: a,
            getPageTpls: o,
            getCustomerPageTpls: s,
            getRecentlyUsedPageTpls: c,
            getMyTaskTpls: l,
            getTpl: i,
            saveMyTpl: p,
            saveCompanyTpl: u,
            getActivityTpls: d
        }
    }

    n.$inject = ["apiCache", "$http", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n() {
            return e.get(t.SERVER_0 + "logout")
        }

        function i() {
            return e({method: "GET", url: t.SERVER_0 + "account/info"}).then(function (n) {
                return n.data.obj && [2, 5, 21, 51].indexOf(n.data.obj.type) > -1 ? e({
                    method: "GET",
                    url: t.SERVER_0 + "m/e/scene/companyTplId/get"
                }).then(function (e) {
                    return n.data.obj.companyTplId = e.data.obj, n
                }) : n
            })
        }

        function o() {
            return e.get(t.SERVER_0 + "m/u/info")
        }

        function r() {
            return e.get(t.SERVER_0 + "m/u/company/info")
        }

        function a() {
            return e.get(t.SERVER_0 + "m/u/xd")
        }

        function s() {
            return e({method: "GET", url: t.SERVER_0 + "m/scene/function/detail"}).then(function (e) {
                return e.data.map
            })
        }

        return {logout: n, login: i, getUserInfo: o, getCompanyInfo: r, getUserXd: a, getUserMemberDetail: s}
    }

    n.$inject = ["$http", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e, t, i, o) {
        "ngInject";

        function r(n) {
            return e({
                method: "GET",
                loading: !0,
                url: t.SERVER_0 + "m/scene/preview/" + n + ".data&time=" + (new Date).getTime()
            })
        }

        function a(e, t) {
            var r = 20, a = [], c = 1, l = !1;
            for (0 == t && (l = !0, t = 1); t > 0;) a.push(p(e, c, r)), t -= r, c += 1;
            Date.now();
            return i.all(a).then(function (e) {
                var t, i = (t = []).concat.apply(t, n(e.map(function (e) {
                    return e.data.list
                }))), r = i.filter(function (e, t) {
                    var n = i.findIndex(function (t) {
                        return t.id == e.id
                    });
                    return n == t
                });
                return r.length != i.length && (l = !0), l ? o.emit("h5editor.sceneDataError") : o.remove("h5editor.sceneDataError"), r
            }).then(function (t) {
                return s(e, t)
            })
        }

        function s(e, t) {
            var n = !1, o = [];
            return t.forEach(function (e, t) {
                e.num != t + 1 && (n = !0), e.num = t + 1, o.push({pageId: e.id, num: e.num})
            }), n ? (console.log("bad page list sequence"), c({
                sceneId: e,
                pageNumStr: JSON.stringify(o)
            }).then(function () {
                return t
            })) : i.resolve(t)
        }

        function c(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/pageNum/update", data: n})
        }

        function l(n) {
            return e.get(t.SERVER_0 + "m/scene/detail/" + n)
        }

        function p(n, i, o) {
            return e({method: "GET", url: t.SERVER_0 + "m/scene/pages/" + n, params: {pageNo: i, pageSize: o}})
        }

        function u(n, i, o) {
            var r = "m/scene/publish?id=" + n;
            i && (r += (/\?/.test(r) ? "&" : "?") + "checkType=" + i), o && (r += (/\?/.test(r) ? "&" : "?") + "code=" + o);
            var a = new Date;
            return r += "&time=" + a.getTime(), e({withCredentials: !0, method: "GET", url: t.SERVER_0 + r})
        }

        function d(n) {
            return e({
                method: "POST",
                withCredentials: !0,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                url: t.SERVER_0 + "m/scene/copyScene",
                data: $.param({id: n, editorModel: 2})
            }).then(function (e) {
                return e.data
            })
        }

        function m(n) {
            var i = "m/scene/pageTplList/" + n, o = new Date;
            return i += (/\?/.test(i) ? "&" : "?") + "time=" + o.getTime(), e({
                withCredentials: !0,
                method: "GET",
                url: t.SERVER_0 + i
            })
        }

        function f() {
            var n = new Date, i = "m/scene/tag/sys/list?type=2&time=" + n.getTime();
            return e({withCredentials: !0, method: "GET", url: t.SERVER_0 + i})
        }

        function g() {
            var n = t.SERVER_0 + "base/class/scene_template_new_prices";
            return e({withCredentials: !0, method: "GET", url: n})
        }

        function h() {
            var n = t.SERVER_0 + "base/class/scene_template_large_prices";
            return e({withCredentials: !0, method: "GET", url: n})
        }

        function v() {
            var n = t.SERVER_0 + "base/class/scene_app_template_prices";
            return e({withCredentials: !0, method: "GET", url: n})
        }

        function y() {
            var n = t.SERVER_1 + "eqs/activity?all=1";
            return e({method: "GET", url: n})
        }

        function b() {
            var n = t.SERVER_0 + "m/scene/company/promotion";
            return e({method: "GET", url: n})
        }

        function x(n) {
            var i = t.SERVER_0 + "m/yqc/ad/adSourceType/get?sceneId=" + n;
            return e({method: "GET", url: i})
        }

        function w() {
            var n = t.SERVER_2 + "eqs/notice?pageCode=editor_notice";
            return e({method: "GET", url: n, withCredentials: !1})
        }

        function S(n, i, o, r, a, s) {
            var c = t.SERVER_0 + "m/scene/form/commit/set";
            return e({
                method: "POST",
                url: c,
                data: {sceneId: n, pageId: i, elementId: o, type: r, commitTimes: a, commitFlag: s}
            })
        }

        return {
            getAllPageList: a,
            getSceneMeta: l,
            getPageList: p,
            getPageTpls: m,
            getFullSceneInfo: r,
            publishScene: u,
            copyToAppScene: d,
            getSceneTags: f,
            getScenePrices: g,
            getSceneLargePrices: h,
            getAppScenePrice: v,
            getSceneActivities: y,
            getActivityPromStatus: b,
            getSceneAddAdType: x,
            getSceneNotice: w,
            commitTimeSetting: S
        }
    }

    i.$inject = ["$http", "HOST", "$q", "clientReportService"], e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";

        function r(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/setting/save", data: n, loading: !0})
        }

        function a(n, i) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/audio/set",
                data: {id: n, bgAudio: i || ""},
                loading: !0
            })
        }

        function s(n, i, o) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/wx/save ",
                data: {id: n, wxCount: i, wxClickFarmerCount: o}
            })
        }

        function c(n, i, o) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/promotion/join",
                data: {id: n, promIds: i, activityPageId: o}
            })
        }

        function l(n, i) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/show/join", data: {id: n, tagId: i}})
        }

        function p(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/show/cancel ", data: {id: n}})
        }

        function u(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/tpl/company/set", data: {id: n}, loading: !0})
        }

        function d(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/tpl/company/unset", data: {id: n}, loading: !0})
        }

        function m(n, i) {
            var o = {id: n, loadingLogo: i};
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/loading-logo/save",
                data: {sceneId: n, settings: JSON.stringify(o)},
                loading: !0
            })
        }

        function f(n, i) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/loading-logo/set/check",
                data: {id: n, loadingLogo: i},
                loading: !0
            })
        }

        function g(n, i) {
            return i.id = n, e({method: "POST", url: t.SERVER_0 + "m/scene/tail-page/set/check", data: i, loading: !0})
        }

        function h(n, i) {
            return i.id = n, e({
                method: "POST",
                url: t.SERVER_0 + "m/scene/tail-page/save",
                data: {sceneId: n, settings: JSON.stringify(i)},
                loading: !0
            })
        }

        function v(r, a, s) {
            function c() {
                return l || (l = Date.now()), e({
                    method: "POST",
                    url: t.SERVER_0 + "m/scene/order/callback/verify",
                    data: {orderId: r, sceneId: a, functionName: s}
                }).then(function (e) {
                    return e && e.data && 200 === e.data.code ? e : n.reject(e)
                })["catch"](function (e) {
                    return e && e.data && 120611 === e.data.code ? Date.now() - l > 6e4 || p++ >= 10 ? n.reject("请求超时") : i(function () {
                        return c(r, a, s)
                    }, 3e3) : n.reject(e)
                })
            }

            if (!r || !a || !s) return n.reject("参数不正确");
            var l = 0, p = 0;
            return o.show(), c()["finally"](function () {
                o.hide()
            })
        }

        return {
            saveCommonSetting: r,
            saveBgAudio: a,
            joinShow: l,
            cancelShow: p,
            saveWx: s,
            joinActivity: c,
            checkLoadingLogo: f,
            saveLoadingLogo: m,
            checkTail: g,
            saveTail: h,
            polling: v,
            applyCompanyTpl: u,
            cancelCompanyTpl: d
        }
    }

    n.$inject = ["$http", "HOST", "$q", "$timeout", "loadingService"], e.exports = n
}, function (e, t) {
    "use strict";
    e.exports = ["$http", "HOST", function (e, t) {
        "ngInject";

        function n() {
            return e({method: "GET", url: t.SERVER_0 + "m/e/scene/tpl/source/type/list"})
        }

        function i() {
            return e({method: "GET", url: t.SERVER_0 + "m/e/scene/tpl/source/type/list?type=1"})
        }

        function o(n) {
            return e({method: "GET", url: t.SERVER_0 + "m/e/scene/tpl/category/list", params: {editorModel: n}})
        }

        function r(n, i) {
            return e({
                method: "GET",
                url: t.SERVER_0 + "m/e/scene/tpl/category/choose",
                params: {sceneId: n, editorModel: i}
            })
        }

        function a(n, i) {
            var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], r = arguments[3];
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/e/scene/new/tpl/apply",
                data: {id: n, price: i, category: JSON.stringify(o), source: JSON.stringify(r)}
            })
        }

        return {getSources: n, getCategories: o, getCategoriesChoose: r, applyTpl: a, getFunSources: i}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["$http", "HOST", "apiCache", function (e, t, n) {
        "ngInject";

        function i(e, i) {
            return n({
                method: "GET",
                url: t.SERVER_0 + "m/e/scene/page/tpl/category/list",
                params: {type: e, platform: i}
            })
        }

        function o() {
            return n({method: "GET", url: t.SERVER_0 + "base/class/scene_page_single_template_prices"})
        }

        function r() {
            return n({method: "GET", url: t.SERVER_0 + "base/class/scene_page_function_template_prices"})
        }

        function a(n, i, o, r, a) {
            var s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : [], c = arguments[6],
                l = arguments[7], p = arguments[8], u = arguments[9];
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/e/scene/page/tpl/apply",
                data: {
                    sceneId: n,
                    pageId: i,
                    price: o,
                    type: r,
                    platform: a,
                    category: JSON.stringify(s),
                    title: c,
                    description: l,
                    setType: p,
                    source: u
                }
            })
        }

        function s(n, i) {
            return e({
                method: "GET",
                url: t.SERVER_0 + "m/e/scene/page/tpl/apply/choose",
                params: {pageId: n, platform: i}
            })
        }

        return {getCategories: i, getSingleTplPrice: o, getFunctionTplPrice: r, getCategoriesChoose: s, applyTpl: a}
    }]
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(n) {
            var i = t.SERVER_0 + "m/scene/toll/font", o = new Date;
            return e({method: "GET", url: i, withCredentials: !0, params: {id: n, time: o.getTime()}})
        }

        function o(n, i) {
            var o = t.SERVER_0 + "m/font/buy/" + n;
            return e({
                withCredentials: !0,
                method: "POST",
                url: o,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param({license: i})
            })
        }

        function r(n, i) {
            var o = t.SERVER_0 + "m/font/update/" + n + "/" + i, r = new Date;
            return e({withCredentials: !0, method: "POST", url: o, params: {time: r.getTime()}})
        }

        function a(n) {
            var i = t.SERVER_0 + "m/font/" + n, o = new Date;
            return e({withCredentials: !0, method: "GET", url: i, params: {time: o.getTime()}})
        }

        function s(n, i) {
            var o = t.SERVER_0 + "m/font/my", r = {}, a = new Date;
            return r = n ? {pageNo: n, pageSize: i, time: a.getTime()} : {time: a.getTime()}, e({
                withCredentials: !0,
                method: "GET",
                url: o,
                params: r
            })
        }

        function c(i, o) {
            if (!i) return n.resolve({data: {list: []}});
            var r = t.SERVER_0 + "m/font/info", a = $.param({fontFamilies: i, needLicense: o});
            return e({
                withCredentials: !0,
                method: "POST",
                url: r,
                data: a,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"}
            })
        }

        function l(n, i) {
            return e.get(t.SERVER_0 + "m/font/sale/status", {params: {fontId: n, productId: i}})
        }

        return {
            checkBoughtFonts: i,
            buyFont: o,
            openCloseFontStatus: r,
            getFontType: a,
            getMyFontFamily: s,
            getFontNames: c,
            getFontStatus: l
        }
    }

    n.$inject = ["$http", "HOST", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o() {
            return e.get(t.SERVER_0 + "m/u/xd")
        }

        function r(o, r, a) {
            var s = "m/u/pay/xd/url?goodsId=" + o + "&type=" + r,
                c = "/upgrade/" === i.path().substring(0, 9) || "/xdBuy" === i.path();
            return c && !a && (s += "&userId=" + n.setCurrentUser().id), e.get(t.SERVER_0 + s)
        }

        return {getUserXd: o, getPayXdQrCode: r}
    }

    n.$inject = ["$http", "HOST", "userService", "$location"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(n, i) {
            var o = t.SERVER_0 + "m/material/" + i + "/buy/" + n;
            return e({
                withCredentials: !0,
                method: "POST",
                url: o,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"}
            })
        }

        function o(n) {
            var i = t.MALL_HOST + "api/m/order/save";
            return e({
                withCredentials: !0,
                method: "POST",
                url: i,
                headers: {"Content-Type": "application/json"},
                data: n
            })
        }

        function r(i) {
            var o = t.MALL_HOST + "api/m/asyncOrderCallback/callback";
            return e({
                withCredentials: !0,
                method: "POST",
                url: o,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param(i)
            }).then(function (e) {
                return n.getOrderStatus(e.data.map.id)
            })
        }

        function a(n, i, o) {
            var r = t.SERVER_0 + "m/scene/resubmit/prevent/set";
            return e({
                withCredentials: !0,
                method: "POST",
                url: r,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param({sceneId: n, elementId: i, status: o})
            })
        }

        function s(n) {
            var i = t.MALL_HOST + "api/m/order/checkPurchase";
            return e({
                withCredentials: !0,
                method: "POST",
                url: i,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param({productId: n})
            })
        }

        function c(n) {
            var i = t.SERVER_0 + "m/font/getLicense/" + n;
            return e({withCredentials: !0, method: "GET", url: i})
        }

        function l(n, i) {
            var o = t.SERVER_0 + "m/material/user/buyList/reset";
            return e({
                withCredentials: !0,
                method: "POST",
                url: o,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param({fileType: n, fileInfo: JSON.stringify(i)})
            })
        }

        function p(n) {
            var i = t.SERVER_0 + "m/scene/prevent-resubmit/set/check";
            return e({
                withCredentials: !0,
                method: "POST",
                url: i,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param(n)
            })
        }

        function u(n, i) {
            var o = t.SERVER_0 + "m/scene/prevent-resubmit/save";
            return e({
                withCredentials: !0,
                method: "POST",
                url: o,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param({sceneId: n, status: i})
            })
        }

        return {
            buyMaterial: i,
            buyClickFarmer: a,
            saveOrderToBusinessCity: o,
            checkPurchased: s,
            getFontLicense: c,
            checkProductExist: l,
            saveToMyResource: r,
            checkBuyFarmer: p,
            saveClickFarmer: u
        }
    }

    n.$inject = ["$http", "HOST", "payAPI"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o(n, i, o) {
            var r = "m/scene/audio/transfer";
            return r += "?path=" + n, o && (o = Math.floor(o), r += "&start=" + i + "&duration=" + o), e({
                method: "POST",
                url: t.SERVER_0 + r,
                loading: !0
            })
        }

        function r(n) {
            return e({method: "GET", url: t.SERVER_0 + "m/scene/audio/cut/info?id=" + n})
        }

        function a(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/audio/cut/save", data: n, loading: !0})
        }

        function s(o) {
            return o ? (c[o] || (c[o] = Date.now()), e({
                withCredentials: !0,
                method: "GET",
                url: t.SERVER_0 + "m/scene/audio/status?pid=" + o
            }).then(function (e) {
                var t = e.data.map.code;
                switch (t) {
                    case 0:
                        return e.data.map.path;
                    case 1:
                    case 2:
                        return Date.now() - c[o] > 6e4 ? n.reject("裁切失败") : i(function () {
                            return s(o)
                        }, 2e3);
                    case 3:
                    case 4:
                    default:
                        return n.reject("裁切失败")
                }
            })) : n.reject()
        }

        var c = {};
        return {crop: o, getCropInfo: r, saveCropInfo: a, pollingStatus: s}
    }

    n.$inject = ["$http", "HOST", "$q", "$timeout"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(n) {
            return e({
                method: "GET",
                withCredentials: !0,
                url: t.SERVER_0 + "m/yqc/ad/showStatus/get",
                params: {sceneId: n, time: Date.now()}
            })
        }

        function o(i, o) {
            return [1, -1, -2].indexOf(o) === -1 ? n.reject("非法的 yqcAdStatus " + o) : e({
                method: "POST",
                url: t.SERVER_0 + "m/yqc/ad/adTask/create",
                params: {sceneId: i, status: o}
            }).then(function (e) {
                return !!(e && e.data && e.data.obj) || n.reject(!1)
            })
        }

        return {getYqcInfo: i, setYqcAdStatus: o}
    }

    n.$inject = ["$http", "HOST", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(n) {
            return e({method: "POST", url: t.SERVER_0 + "m/scene/redpacket/generate", data: n}).then(function (e) {
                return 200 === e.status ? Promise.resolve(e.data) : void Promise.reject()
            })
        }

        return {createRedPacket: n}
    }

    n.$inject = ["$http", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i() {
            return e({
                method: "GET",
                withCredentials: !0,
                url: t.SERVER_0 + "m/e/scene/user/function/count",
                params: {key: "user.msg.count"}
            }).then(function (e) {
                return e.data.map["user.msg.count"]
            })
        }

        function o() {
            return e({
                method: "GET",
                withCredentials: !0,
                url: t.SERVER_0 + "m/e/scene/sms/goods/list"
            }).then(function (e) {
                return e.data.list
            })
        }

        function r(n) {
            return e({
                method: "POST",
                withCredentials: !0,
                url: t.SERVER_0 + "m/e/scene/function/set/save",
                params: {orderTradeId: n, key: "user.msg.count"}
            }).then(function (e) {
                return e.data.map
            })
        }

        function a(n) {
            return e({method: "POST", withCredentials: !0, url: t.SERVER_0 + "m/e/scene/function/set/check", params: n})
        }

        return {getUserMessageCount: i, getMessagePackageList: o, addMessagePackage: r, getSmsTicket: a}
    }

    n.$inject = ["$http", "HOST", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i() {
            return jQuery.isEmptyObject(d) ? t({
                method: "GET",
                url: e.WAP_SERVER + "api/m/skeleton/scene/metaList"
            }).then(function (e) {
                var t = e.data.list;
                return t.forEach(function (e) {
                    d[e.id] = e
                }), t
            }) : n.resolve(Object.values(d))
        }

        function o(i) {
            return d[i] && d[i].list ? n.resolve(d[i].list) : t({
                method: "GET",
                url: e.WAP_SERVER + "api/m/skeleton/scene/" + i + "/pageTags"
            }).then(function (e) {
                d[i] || (d[i] = {});
                var t = e.data.list;
                return d[i].list = t, t
            })
        }

        function r(n) {
            return t({method: "GET", url: e.WAP_SERVER + "api/m/skeleton/page/" + n + "/metaCompTags"})
        }

        function a(n) {
            return t({method: "GET", url: e.WAP_SERVER + "api/m/skeleton/scene/" + n})
        }

        function s(n) {
            return t({method: "GET", url: e.WAP_SERVER + "api/m/skeleton/page/" + n + "/compTags"})
        }

        function c(n) {
            return t({method: "POST", url: e.WAP_SERVER + "api/m/skeleton/page/setPage", data: n})
        }

        function l(n) {
            return t({method: "POST", url: e.WAP_SERVER + "api/m/skeleton/page/unsetPage", data: n})
        }

        function p(n, i) {
            return t({
                method: "POST",
                url: e.WAP_SERVER + "api/m/skeleton/scene/setScene",
                data: {tagId: n, sceneId: i}
            })
        }

        function u(n) {
            return t({method: "POST", url: e.WAP_SERVER + "api/m/skeleton/scene/unsetScene", data: n})
        }

        var d = {};
        return {
            getMetaScene: i,
            getMetaPages: o,
            setPage: c,
            unsetPage: l,
            setScene: p,
            unsetScene: u,
            getMetaSceneById: a,
            getMetaByPageId: s,
            getMetaCompByMetaPageId: r
        }
    }

    n.$inject = ["HOST", "$http", "$q"], e.exports = n
}, function (e, t) {
    "use strict";
    e.exports = ["$http", "$q", "HOST", function (e, t, n) {
        "ngInject";

        function i(i) {
            var r = 0, a = t.defer(), s = function c(t) {
                return ++r > 15 ? void a.reject() : void e.get(n.MALL_HOST + "api/m/asyncOrderCallback/getCallbackId", {params: {outOrderId: t}}).then(function (e) {
                    var n = e.data.map.callbackId;
                    n ? o(n).then(function (e) {
                        a.resolve(e)
                    })["catch"](function () {
                        a.reject()
                    }) : setTimeout(function () {
                        c(t)
                    }, 1e3)
                })["catch"](function () {
                    a.reject()
                })
            };
            return s(i), a.promise
        }

        function o(i) {
            var o = 0, r = t.defer(), a = function s() {
                return ++o > 15 ? void r.reject() : void e.post(n.MALL_HOST + "api/m/asyncOrderCallback/isOrderCallbackSuccessById", {id: i}).then(function (e) {
                    var t = e.data.map.status;
                    0 === t ? setTimeout(function () {
                        s(i)
                    }, 1e3) : 1 === t ? r.resolve(e) : 2 === t ? r.reject() : r.reject()
                })["catch"](function () {
                    r.reject()
                })
            };
            return a(i), r.promise
        }

        return {getOrderId: i, getOrderStatus: o}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["HOST", "apiCache", function (e, t) {
        "ngInject";

        function n(n) {
            return t({method: "GET", url: e.SERVER_1 + "eqs/banners?pageCode=" + n})
        }

        return {getBanners: n}
    }]
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(n, i, o, r, a) {
            var s = t.SERVER_0 + "m/vip/lottery/save", c = {
                id: n,
                sceneId: i,
                name: o.activityName,
                startTime: o.startTime,
                endTime: o.endTime,
                prizeListStr: r,
                lotteryDayLimit: a.lotteryDayLimit,
                hitDayLimit: a.hitDayLimit,
                hitLimit: a.hitLimit
            };
            return e({
                withCredentials: !0,
                method: "POST",
                url: s,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
                data: $.param(c)
            })
        }

        function i() {
            var n = t.SERVER_0 + "m/vip/lottery/validate/wechat";
            return e({withCredentials: !0, method: "GET", url: n})
        }

        return {saveLottery: n, validateWeChatBind: i}
    }

    n.$inject = ["$http", "HOST"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.const", [n(113)]).constant("TYPE", n(118)).constant("ROLE", n(119)).constant("SCENE_TYPES", n(120)).constant("PAGE_MODES", n(121)).constant("FILE_TYPE", n(122)).constant("WARN_TYPE", n(123)).constant("AUTHORITY", n(124)).constant("COMP_INIT_JSON", n(125)).constant("ANIMATIONS", n(126)).constant("FONT", n(127)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ngcommon.const", []).constant("HOST", n(114)).constant("WX", n(116)).constant("CDN", n(117)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = window.location.protocol;
        return "file:" === t && (t = "http:"), e && e.startsWith("//") ? t + e : e
    }

    var o = n(115), r = {
        SERVER_0: o.SERVER_0,
        SERVER_0_VIP: o.SERVER_0_VIP,
        SERVER_1: o.SERVER_1,
        SERVER_2: o.SERVER_2,
        FLOW_SERVER: o.FLOW_SERVER,
        WAP_SERVER: o.WAP_SERVER,
        SERVER_MAX: o.SERVER_MAX,
        QUERY_SERVER: o.QUERY_SERVER,
        PAY_SERVER: o.PAY_SERVER,
        FONT: o.FONT,
        HOST: o.HOST,
        EQX: o.EQX,
        WAP_HOST: o.WAP_HOST,
        VIEW_HOST: o.VIEW_HOST,
        PAY_HOST: o.PAY_HOST,
        MALL_HOST: o.MALL_HOST,
        MOBILE_SERVER_1: o.MOBILE_SERVER_1,
        SOURCE: o.SOURCE,
        BIND_USER_SOURCE: o.BIND_USER_SOURCE,
        TRACK: o.TRACK,
        STORE: o.STORE,
        YQC: o.YQC,
        BIND_USER_FILE: o.BIND_USER_FILE,
        FREE_USER_FILE: o.FREE_USER_FILE,
        VIP_USER_FILE: o.VIP_USER_FILE,
        FILE: o.FILE,
        DOMAIN: o.DOMAIN,
        EQX_FAN_DOMAIN: o.EQX_FAN_DOMAIN,
        EQX_AD_DOMAIN: o.EQX_AD_DOMAIN,
        EQX_VIP_DOMAIN: o.EQX_VIP_DOMAIN,
        EQX_COMPANY_DOMAIN: o.EQX_COMPANY_DOMAIN,
        EQX_TG: o.EQX_TG,
        EQX_APP_DOMAIN: o.EQX_APP_DOMAIN,
        EQX_NO_BUSINESS_DOMAIN: o.EQX_NO_BUSINESS_DOMAIN,
        EQX_BATCH_SCENES_DOMAIN: o.EQX_BATCH_SCENES_DOMAIN,
        MALL_BUY_ID: o.MALL_BUY_ID,
        MALL_PIC_ID: o.MALL_PIC_ID,
        MALL_MUSIC_ID: o.MALL_MUSIC_ID,
        MALL_SOUND_ID: o.MALL_SOUND_ID,
        MALL_FONT_ID: o.MALL_FONT_ID,
        MALL_PIC_ID_NEW: o.MALL_PIC_ID_NEW,
        MALL_MUSIC_ID_NEW: o.MALL_MUSIC_ID_NEW,
        MALL_SOUND_ID_NEW: o.MALL_SOUND_ID_NEW,
        MALL_FONT_ID_NEW: o.MALL_FONT_ID_NEW,
        MALL_PAGE_ID_NEW: o.MALL_PAGE_ID_NEW,
        MALL_FUNCTION_ID_NEW: o.MALL_FUNCTION_ID_NEW,
        MALL_PIC_ID_DEFAULT: o.MALL_PIC_ID_DEFAULT,
        MALL_BG_ID_DEFAULT: o.MALL_BG_ID_DEFAULT,
        MALL_MUSIC_ID_DEFAULT: o.MALL_MUSIC_ID_DEFAULT,
        MALL_SOUND_ID_DEFAULT: o.MALL_SOUND_ID_DEFAULT,
        MALL_FONT_ID_DEFAULT: o.MALL_FONT_ID_DEFAULT,
        VIDEO: o.VIDEO,
        WAP_TPL_CENTER: o.WAP_TPL_CENTER
    };
    Object.keys(r).forEach(function (e) {
        var t = r[e];
        Array.isArray(t) ? t.forEach(function (e, n) {
            "string" == typeof e && (t[n] = i(e))
        }) : r[e] = i(t)
    }), e.exports = r
}, function (e, t) {
    "use strict";
    e.exports = {
        publicHost: "//as.eqh5.com/",
        HOST: "//www.eqxiu.com/",
        EQX: "//www.eqxiu.com/",
        WAP_HOST: "//wap.eqxiu.com/",
        VIEW_HOST: "//h5.eqxiu.com/",
        SERVER_0: "//service.eqxiu.com/",
        SERVER_0_VIP: "//vservice.eqxiu.com/",
        SERVER_1: "//s1.eqxiu.com/",
        SERVER_2: "//s2.eqxiu.com/",
        FLOW_SERVER: "//S6.eqxiu.com/",
        SERVER_MAX: "//max.eqxiu.com/",
        QUERY_SERVER: "//search.eqxiu.com/",
        WAP_SERVER: "//ie.eqxiu.com/",
        PAY_SERVER: "//xiupay.eqxiu.com/",
        MOBILE_SERVER_1: "//m1.eqxiu.com/",
        BIG_DATA: "//datalog.eqxiu.com/",
        TRACK: "//da.eqxiu.com/",
        PAY_HOST: "//www.eqxiu.com/",
        MALL_HOST: "//store.eqxiu.com/",
        STORE: "//store.eqxiu.com/",
        YQC: "//as.eqh5.cn/",
        MALL_BUY_ID: "10002",
        MALL_PIC_ID: "889874",
        MALL_MUSIC_ID: "889875",
        MALL_SOUND_ID: "889877",
        MALL_FONT_ID: "889873",
        MALL_PIC_ID_NEW: "890729",
        MALL_MUSIC_ID_NEW: "890727",
        MALL_SOUND_ID_NEW: "890728",
        MALL_FONT_ID_NEW: "890726",
        MALL_PAGE_ID_NEW: "890731",
        MALL_FUNCTION_ID_NEW: "890730",
        MALL_PIC_ID_DEFAULT: "890930",
        MALL_BG_ID_DEFAULT: "890810",
        MALL_MUSIC_ID_DEFAULT: "890935",
        MALL_SOUND_ID_DEFAULT: "890933",
        MALL_FONT_ID_DEFAULT: "890934",
        SOURCE: "//as.eqh5.com/c/",
        BIND_USER_SOURCE: "//as.eqxiu.com/c/",
        WX_APP_ID: "wx4726bc84d63ef524",
        WX_APP_ID_WAP: "wx8a61ef75c858990e",
        DOMAIN: "eqxiu",
        EQX_TPL_DOMAIN: "h5.eqxiu.com",
        EQX_FAN_DOMAIN: "scene.eqxiu.com",
        EQX_AD_DOMAIN: "scene.eqh5.cn",
        EQX_VIP_DOMAIN: "vip.eqxiu.cn",
        EQX_COMPANY_DOMAIN: "scene.eqxiu.cn",
        EQX_TG: "tg.eqxiu.com",
        EQX_APP_DOMAIN: "m.eqxiu.com",
        EQX_NO_BUSINESS_DOMAIN: "eqxiu.com",
        EQX_BATCH_SCENES_DOMAIN: "eqxiu.tv",
        FILE: "//res1.eqh5.com/",
        BIND_USER_FILE: "//res.eqh5.com/",
        FREE_USER_FILE: "//res1.eqh5.com/",
        VIP_USER_FILE: "//res2.eqh5.com/",
        FONT: "//font.eqh5.com/",
        VIDEO: "//res4.eqh5.com/",
        WAP_TPL_CENTER: "http://wap.eqxiu.com/wpmall/cats"
    }
}, function (e, t, n) {
    "use strict";
    var i = n(115);
    e.exports = {
        APP_ID: i.WX_APP_ID,
        APP_ID_WAP: i.WX_APP_ID_WAP || i.WX_APP_ID,
        wxNonceStr: "eqxiuview",
        wxTimestamp: Date.now()
    }
}, function (e, t) {
    "use strict";
    e.exports = {
        Parallax: "//lib.eqh5.com/parallax/1.0.2/parallax.min.js",
        JWeixin: "//res.wx.qq.com/open/js/jweixin-1.2.0.js",
        QQMap: "//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",
        SHA: "//lib.eqh5.com/jsSHA/2.0.2/sha1.js",
        Chart: "//lib.eqh5.com/Chart.js/1.0.2/Chart.min.js",
        sliders: "//lib.eqh5.com/slidesjs/3.0.3/jquery.slides.min.js",
        QRCode: "//lib.eqh5.com/@eqxiu/qrcode/1.1.1/qrcode.min.js",
        Flux: "//lib.eqh5.com/@eqxiu/flux/1.0.2/flux.min.js",
        Typed: "//lib.eqh5.com/@eqxiu/typed/1.1.4/typed.min.js",
        threecanvas: "//lib.eqh5.com/@eqxiu/threecanvas/1.1.0/threecanvas.js",
        canvg: "//lib.eqh5.com/canvg/0.0.1/canvg.min.js",
        MLink: "https://static.mlinks.cc/scripts/dist/mlink.min.js",
        datePicker: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",
        datePickerCss: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",
        moment: "//lib.eqh5.com/moment.js/2.15.2/moment.min.js",
        imgJcropJs: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",
        imgJcropCss: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",
        plupload: "//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",
        qiniu: "//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",
        html2canvas: "//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js",
        tbsJS: "//res.imtt.qq.com/tbs/tbs.js"
    }
}, function (e, t) {
    "use strict";
    e.exports = {
        sceneTypes: [{name: "行业", value: "101"}, {name: "个人", value: "102"}, {
            name: "企业",
            value: "103"
        }, {name: "节假", value: "104"}, {name: "风格", value: "105"}, {name: "品牌", value: "106"}],
        pageTpls: {
            1101: [{id: 1, name: "图文", bizType: 1101}, {id: 2, name: "图集", bizType: 1101}, {
                id: 4,
                name: "文字",
                bizType: 1101
            }, {id: 5, name: "图表", bizType: 1101}],
            1102: [{id: 6, name: "报名表", bizType: 1102}, {id: 8, name: "留言", bizType: 1102}, {
                id: 9,
                name: "联系",
                bizType: 1102
            }],
            1103: [{id: 15, name: "黑白", bizType: 1103}, {id: 16, name: "红色", bizType: 1103}, {
                id: 17,
                name: "怀旧",
                bizType: 1103
            }, {id: 18, name: "现代", bizType: 1103}, {id: 19, name: "扁平化", bizType: 1103}, {
                id: 120,
                name: "黄色",
                bizType: 1103
            }, {id: 121, name: "绿色", bizType: 1103}, {id: 122, name: "紫色", bizType: 1103}, {
                id: 123,
                name: "黑色",
                bizType: 1103
            }, {id: 124, name: "白色", bizType: 1103}, {id: 125, name: "其他", bizType: 1103}, {
                id: 260,
                name: "English",
                bizType: 1103
            }, {id: 262, name: "Android", bizType: 1103}]
        },
        audioTypes: [{id: 12918, name: "安静", value: "2"}, {id: 12919, name: "欢快", value: "3"}, {
            id: 12920,
            name: "甜蜜",
            value: "4"
        }, {id: 48372, name: "伤感", value: "5"}, {id: 48373, name: "励志", value: "6"}, {
            id: 48374,
            name: "美好",
            value: "7"
        }, {id: 48375, name: "轻松", value: "8"}],
        soundTypes: [{id: 29331, name: "交通", value: "2"}, {id: 48376, name: "人物", value: "3"}, {
            id: 48377,
            name: "生活",
            value: "4"
        }, {id: 48378, name: "自然", value: "5"}, {id: 48379, name: "动物", value: "6"}, {
            id: 48380,
            name: "科技",
            value: "7"
        }, {id: 48381, name: "卡通", value: "8"}, {id: 48382, name: "其它", value: "9"}]
    }
}, function (e, t) {
    "use strict";
    e.exports = {}
}, function (e, t) {
    "use strict";
    e.exports = [{name: "行业", value: "101"}, {name: "个人", value: "102"}, {name: "企业", value: "103"}, {
        name: "节假",
        value: "104"
    }, {name: "风格", value: "105"}, {name: "品牌", value: "106"}]
}, function (e, t) {
    "use strict";
    e.exports = [{name: "上下翻页", type: 0}, {name: "上下惯性翻页", type: 1}, {name: "左右惯性翻页", type: 3}, {
        name: "左右翻页",
        type: 4
    }, {name: "左右连续翻页", type: 5}, {name: "立体翻页", type: 6}, {name: "卡片翻页", type: 7}, {
        name: "放大翻页",
        type: 8
    }, {name: "交换翻页", type: 9}, {name: "翻书翻页", type: 10}, {name: "上下连续翻页", type: 11}, {
        name: "掉落翻页",
        type: 12
    }, {name: "淡入翻页", type: 13}, {name: "上下推出翻页", type: 14}, {name: "左右推出翻页", type: 15}, {name: "折叠翻页", type: 16}]
}, function (e, t) {
    "use strict";
    e.exports = {image: 1, audio: 2, video: 3, text: 4, word: 5, svg: 7}
}, function (e, t) {
    "use strict";
    e.exports = {normal: "normal", warn: "warning", alert: "alerting"}
}, function (e, t) {
    "use strict";

    function n(e) {
        return [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98, 99, 602].filter(function (t) {
            return e.indexOf(t) === -1
        })
    }

    var i = {
        loadingLogo: [4],
        corandingBottomLogo: n([5, 51]),
        shareApplyAppTempButton: n([4, 99]),
        shareApplyAppTempEntrance: n([4, 99, 602]),
        shareApplyPCTempEntrance: [602],
        disableShareApplyTempInPC: [4],
        shareApplyPCTempNormal: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51, 98],
        disableSecretSetting: [602],
        disableEarnMoneySetting: [602],
        disableAdvanceSetting: [602, 603],
        disableShareSetting: [603],
        disableTitleLength: [602],
        setTplPrice: n([4, 99, 602]),
        tplShowCompany: [1, 3, 4, 98, 99],
        disableLongPage: [1, 2],
        showCompManage: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98, 99],
        company: [1, 51, 21, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 98, 99],
        saveTplEditor: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98],
        saveTplCompany: [201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 2, 99],
        saveTplPersonal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
        TplCenterCompanyTpl: [3, 4, 5, 51, 98, 99, 602],
        pageSetting: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98, 99],
        newPageAndCompManage: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        longPageAddButton: [602],
        groupManage: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        pageSettingMusic: n([4, 99]),
        layerManage: n([4, 99]),
        richTxtTool: [602],
        disableBuyPersonalFont: [5, 2, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
        preview: [],
        deleteImgTips: [1, 2, 21],
        newMaterialModal: [],
        disableImgShapeCut: [602],
        multiSelectPanel: [],
        styleBackground: [602],
        styleOpacity: [602],
        styleFixedComp: [602],
        styleVariableComp: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        stylePaddingTop: [602],
        styleBoxBorderRadian: [602],
        styleBoxBorderRotate: [602],
        styleLineHeight: [602],
        styleFillFontWeight: [602],
        styleFillFontItalic: [602],
        styleFillUnderLine: [602],
        styleFillLineThrough: [602],
        styleFillAddLink: [602],
        styleFillRemoveLink: [602],
        styleFillLetterSpacing: [602],
        styleFillName: [602],
        styleFillStatus: [602],
        styleFillRemark: [602],
        animationTyper: [602],
        styleTrigger: [602],
        styleBoxBorderStyle: [602],
        styleAnimationOnly: [602],
        styleTextStyle: [602],
        styleInputStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleButtonStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleMapStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleSubmitStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleVoteStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleRadio: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleCounterScoreAttr: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleSound: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        stylePv: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        styleTime: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        styleBase: [4, 99, 602],
        styleBorder: [4, 99, 602],
        styleBoxShadow: [4, 99, 602],
        styleComp: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        styleCommon: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        styleAdvance: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98],
        styleImageSliderStyle: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 98, 99],
        compFontSetting: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        styleImgShape: n([99]),
        commitSetting: [1, 3, 5, 51, 2, 602, 98],
        newTextAdjustMode: n([99]),
        newAnimSetting: [4, 99],
        limitFreeIcon: [1, 2, 3, 5, 51, 98, 602],
        compAtlas: [602],
        hideAdvancedShortCut: [5, 51, 602],
        compPV: [602],
        compWechat: [602],
        compRadio: [602],
        compMultiRadio: [602],
        compCount: [602],
        compDropdown: [602],
        compChart: [602],
        compComment: [602],
        compVideo: [602],
        compTime: [602],
        compVote: [602],
        limitFree: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 2101, 2102, 2103, 2104, 2106, 602, 98],
        interactiveVideo: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 2101, 2102, 2103, 2104, 2106, 602, 98],
        compRedPacket: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 2101, 2102, 2103, 2104, 2106, 2107, 602, 98],
        compReward: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 2101, 2102, 2103, 2104, 2106, 2107, 602, 98],
        compRandom: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 2101, 2102, 2103, 2104, 2106, 2107, 602, 98],
        forbidHandFlip: [1, 2, 21, 201, 202, 203, 204, 206, 2101, 2102, 2103, 2104, 2106],
        compAdvertisement: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602],
        customLoadingLogo: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 2101, 2102, 2103, 2104, 2106],
        noneLastPageAndMark: [1, 2, 21, 201, 202, 203, 204, 206, 2101, 2102, 2103, 2104, 2106],
        compNewText: [602],
        compPhotoWall: [602],
        compSMS: [602],
        contextMenuLink: [602],
        contextMenuTrigger: [602],
        disableColorPickerOpacity: [602],
        resizeRotate: [602],
        templateMaterial: [602],
        compTemplate: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        personal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98, 99, 602],
        disableSoundAndLink: [602],
        applyPageTpl: [4, 99],
        wordToSound: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        compDate: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        triggerMenu: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        triggerMenuAnim: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        oneShotEditor: n([4, 99]),
        PIPEditor: n([4, 99]),
        quickFlashEditor: n([4, 99]),
        isBulkCopy: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        imgScratch: [1, 2, 3, 4, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        pageScroll: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        newTextToolbar: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98],
        imageToolbar: [1, 2, 3, 5, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 602, 98]
    };
    e.exports = {authority: i}
}, function (e, t) {
    "use strict";
    e.exports = {
        initCss: {
            fontSize: "24px",
            color: "#676767",
            backgroundColor: "",
            fontWeight: "normal",
            fontStyle: "normal",
            textAlign: "left",
            letterSpacing: 0,
            borderWidth: 0,
            borderStyle: "solid",
            borderColor: "rgba(0,0,0,1)",
            borderRadius: 0,
            borderRadiusPerc: 0,
            borderBottomRightRadius: 0,
            borderBottomLeftRadius: 0,
            borderTopRightRadius: 0,
            borderTopLeftRadius: 0,
            paddingBottom: 0,
            paddingTop: 0,
            boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
            boxShadowDirection: 0,
            boxShadowSize: 0,
            transform: "none",
            opacity: 1
        }
    }
}, function (e, t) {
    "use strict";
    var n = [{type: -1, name: "无"}, {
            type: 0,
            name: "淡入",
            cat: "进入",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 1,
            name: "移入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 33,
            name: "移入（透明度不变）",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 2,
            name: "弹入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 20, name: "翻转进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 3,
            name: "中心弹入",
            cat: "进入",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 4, name: "中心放大", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 12,
            name: "翻滚进入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 24, name: "翻开进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 13,
            name: "光速进入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 26,
            name: "魔幻进入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 27, name: "缩小进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 31,
            name: "旋转进入",
            cat: "进入",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 6, name: "摇摆", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 5,
            name: "抖动",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 7,
            name: "旋转",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            linear: !0,
            sound: !0
        }, {type: 8, name: "翻转", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 9,
            name: "悬摆",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 23, name: "闪烁", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 29,
            name: "下滑",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 30, name: "上滑", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 21,
            name: "放大抖动",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 22, name: "倾斜摆动", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 10,
            name: "淡出",
            cat: "退出",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 17,
            name: "移出",
            cat: "退出",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 19,
            name: "弹出",
            cat: "退出",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 11, name: "翻转消失", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 14,
            name: "中心消失",
            cat: "退出",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 18, name: "中心缩小", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 15,
            name: "翻滚退出",
            cat: "退出",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 25, name: "翻开消失", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 16,
            name: "光速退出",
            cat: "退出",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 28, name: "放大退出", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 32,
            name: "悬挂脱落",
            cat: "退出",
            direction: !0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }], i = [{type: 0, name: "从左向右"}, {type: 1, name: "从上到下"}, {type: 2, name: "从右向左"}, {type: 3, name: "从下到上"}],
        o = [{type: 0, name: "从右向下"}, {type: 1, name: "从左向下"}], r = {
            access: [{
                type: 0,
                name: "淡入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: 0},
                iconHover: {left: 360, top: 200}
            }, {
                type: 1,
                name: "向右移入",
                duration: 1,
                delay: 0,
                countNum: 1,
                direction: 0,
                interval: 0,
                count: 0,
                icon: {left: 120, top: -80},
                iconHover: {left: 120, top: -560}
            }, {
                type: 1,
                name: "向左移入",
                duration: 1,
                delay: 0,
                direction: 2,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -120},
                iconHover: {left: 160, top: -600}
            }, {
                type: 1,
                name: "向上移入",
                duration: 1,
                delay: 0,
                direction: 3,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 40, top: 0},
                iconHover: {left: 40, top: -480}
            }, {
                type: 1,
                name: "向下移入",
                duration: 1,
                delay: 0,
                direction: 1,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -40},
                iconHover: {left: 160, top: -520}
            }, {
                type: 20,
                name: "翻转进入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: 0},
                iconHover: {left: 200, top: -480}
            }, {
                type: 2,
                name: "向右弹入",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -80},
                iconHover: {left: 240, top: -560}
            }, {
                type: 2,
                name: "向左弹入",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -120},
                iconHover: {left: 280, top: -600}
            }, {
                type: 2,
                name: "向上弹入",
                duration: 1,
                delay: 0,
                direction: 3,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: 0},
                iconHover: {left: 160, top: -480}
            }, {
                type: 2,
                name: "向下弹入",
                duration: 1,
                delay: 0,
                direction: 1,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -40},
                iconHover: {left: 280, top: -520}
            }, {
                type: 24,
                name: "翻开进入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -240},
                iconHover: {left: 320, top: -720}
            }, {
                type: 12,
                name: "向右翻滚",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -80},
                iconHover: {left: 200, top: -560}
            }, {
                type: 12,
                name: "向左翻滚",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -120},
                iconHover: {left: 240, top: -600}
            }, {
                type: 12,
                name: "向上翻滚",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 120, top: 0},
                iconHover: {left: 120, top: -480}
            }, {
                type: 12,
                name: "向下翻滚",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -40},
                iconHover: {left: 240, top: -520}
            }, {
                type: 3,
                name: "中心弹入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -160},
                iconHover: {left: 280, top: -640}
            }, {
                type: 13,
                name: "光速向右",
                duration: 1,
                delay: 0,
                direction: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -80},
                iconHover: {left: 320, top: -560}
            }, {
                type: 13,
                name: "光速向左",
                duration: 1,
                delay: 0,
                direction: 2,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -120},
                iconHover: {left: 360, top: -600}
            }, {
                type: 13,
                name: "光速向上",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -0},
                iconHover: {left: 280, top: -480}
            }, {
                type: 13,
                name: "光速向下",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -40},
                iconHover: {left: 360, top: -520}
            }, {
                type: 4,
                name: "中心放大",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -240},
                iconHover: {left: 280, top: -720}
            }, {
                type: 26,
                name: "魔幻向右",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -80},
                iconHover: {left: 280, top: -560}
            }, {
                type: 26,
                name: "魔幻向左",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -120},
                iconHover: {left: 320, top: -600}
            }, {
                type: 26,
                name: "魔幻向上",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -0},
                iconHover: {left: 240, top: -480}
            }, {
                type: 26,
                name: "魔幻向下",
                direction: 1,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -40},
                iconHover: {left: 320, top: -520}
            }, {
                type: 27,
                name: "缩小进入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -80},
                iconHover: {left: 400, top: -560}
            }, {
                type: 31,
                name: "向左旋转",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -80},
                iconHover: {left: 160, top: -560}
            }, {
                type: 31,
                name: "向右旋转",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -120},
                iconHover: {left: 200, top: -600}
            }, {
                type: 31,
                name: "向上旋转",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 80, top: -0},
                iconHover: {left: 80, top: -480}
            }, {
                type: 31,
                name: "向下旋转",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -40},
                iconHover: {left: 200, top: -520}
            }, {
                type: "particles",
                name: "粒子进入",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -40},
                iconHover: {left: 400, top: -520}
            }, {
                type: "typer",
                name: "打字机",
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -160},
                iconHover: {left: 400, top: -640}
            }],
            emphasize: [{
                type: 6,
                name: "摇摆",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -200},
                iconHover: {left: 360, top: -680}
            }, {
                type: 5,
                name: "抖动",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -160},
                iconHover: {left: 360, top: -640}
            }, {
                type: 7,
                name: "旋转",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -200},
                iconHover: {left: 400, top: -680}
            }, {
                type: 8,
                name: "翻转",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -0},
                iconHover: {left: 200, top: -480}
            }, {
                type: 9,
                name: "悬摆",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 80, top: -160},
                iconHover: {left: 80, top: -640}
            }, {
                type: 23,
                name: "闪烁",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -160},
                iconHover: {left: 240, top: -640}
            }, {
                type: 29,
                name: "下滑",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -160},
                iconHover: {left: 160, top: -640}
            }, {
                type: 30,
                name: "上滑",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -160},
                iconHover: {left: 200, top: -640}
            }, {
                type: 21,
                name: "放大抖动",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -160},
                iconHover: {left: 280, top: -640}
            }, {
                type: 22,
                name: "倾斜摆动",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 120, top: -160},
                iconHover: {left: 120, top: -640}
            }],
            exit: [{
                type: 10,
                name: "淡出",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -240},
                iconHover: {left: 360, top: -720}
            }, {
                type: 17,
                name: "向右移出",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -320},
                iconHover: {left: 280, top: -800}
            }, {
                type: 17,
                name: "向左移出",
                direction: 2,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -360},
                iconHover: {left: 280, top: -840}
            }, {
                type: 17,
                name: "向上移出",
                direction: 3,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 120, top: -240},
                iconHover: {left: 120, top: -720}
            }, {
                type: 17,
                name: "向下移出",
                direction: 1,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -280},
                iconHover: {left: 160, top: -760}
            }, {
                type: 19,
                name: "向右弹出",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -320},
                iconHover: {left: 360, top: -800}
            }, {
                type: 19,
                name: "向左弹出",
                direction: 2,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 360, top: -360},
                iconHover: {left: 360, top: -840}
            }, {
                type: 19,
                name: "向上弹出",
                direction: 3,
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -240},
                iconHover: {left: 200, top: -720}
            }, {
                type: 19,
                name: "向下弹出",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -280},
                iconHover: {left: 240, top: -760}
            }, {
                type: 11,
                name: "翻转消失",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -400},
                iconHover: {left: 200, top: -880}
            }, {
                type: 14,
                name: "中心消失",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -280},
                iconHover: {left: 320, top: -760}
            }, {
                type: 18,
                name: "中心缩小",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -80},
                iconHover: {left: 400, top: -560}
            }, {
                type: 15,
                name: "向右翻滚",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -320},
                iconHover: {left: 320, top: -800}
            }, {
                type: 15,
                name: "向左翻滚",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -360},
                iconHover: {left: 320, top: -840}
            }, {
                type: 15,
                name: "向上翻滚",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 160, top: -240},
                iconHover: {left: 160, top: -720}
            }, {
                type: 15,
                name: "向下翻滚",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 200, top: -280},
                iconHover: {left: 200, top: -760}
            }, {
                type: 25,
                name: "翻开消失",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 320, top: -240},
                iconHover: {left: 320, top: -720}
            }, {
                type: 16,
                name: "光速向右",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -320},
                iconHover: {left: 400, top: -800}
            }, {
                type: 16,
                name: "光速向左",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -360},
                iconHover: {left: 400, top: -840}
            }, {
                type: 16,
                name: "光速向上",
                duration: 1,
                direction: 3,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 240, top: -240},
                iconHover: {left: 240, top: -720}
            }, {
                type: 16,
                name: "光速向下",
                duration: 1,
                direction: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 280, top: -280},
                iconHover: {left: 280, top: -760}
            }, {
                type: 28,
                name: "放大退出",
                duration: 1,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -120},
                iconHover: {left: 400, top: -600}
            }, {
                type: 32,
                name: "向右脱落",
                duration: 1,
                direction: 0,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -240},
                iconHover: {left: 400, top: -720}
            }, {
                type: 32,
                name: "向左脱落",
                duration: 1,
                direction: 2,
                delay: 0,
                countNum: 1,
                interval: 0,
                count: 0,
                icon: {left: 400, top: -280},
                iconHover: {left: 400, top: -760}
            }]
        }, a = [{type: 0, name: "淡入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 1,
            name: "向右移入",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 1,
            name: "向左移入",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 1,
            name: "向上移入",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 1,
            name: "向下移入",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 33,
            name: "向右移入",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 33,
            name: "向左移入",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 33,
            name: "向上移入",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {
            type: 33,
            name: "向下移入",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0,
            linear: !0
        }, {type: 20, name: "翻转进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 2,
            name: "向右弹入",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 2,
            name: "向左弹入",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 2,
            name: "向上弹入",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 2,
            name: "向下弹入",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 24, name: "翻开进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 12,
            name: "向右翻滚",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 12,
            name: "向左翻滚",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 12,
            name: "向上翻滚",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 12,
            name: "向下翻滚",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 3, name: "中心弹入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 13,
            name: "光速向右",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 13,
            name: "光速向左",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 13,
            name: "光速向上",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 13,
            name: "光速向下",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 4, name: "中心放大", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 26,
            name: "魔幻向右",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 26,
            name: "魔幻向左",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 26,
            name: "魔幻向上",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 26,
            name: "魔幻向下",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 27, name: "缩小进入", cat: "进入", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 31,
            name: "向左旋转",
            cat: "进入",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 31,
            name: "向右旋转",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 31,
            name: "向上旋转",
            cat: "进入",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 31,
            name: "向下旋转",
            cat: "进入",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: "particles",
            name: "粒子进入",
            cat: "进入",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: "typer", name: "打字机", cat: "进入", interval: !0, delay: !0, sound: !0}, {
            type: 6,
            name: "摇摆",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 5, name: "抖动", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 7,
            name: "旋转",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            linear: !0,
            sound: !0
        }, {type: 8, name: "翻转", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 9,
            name: "悬摆",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 23, name: "闪烁", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 29,
            name: "下滑",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 30, name: "上滑", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 21,
            name: "放大抖动",
            cat: "强调",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 22, name: "倾斜摆动", cat: "强调", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 10,
            name: "淡出",
            cat: "退出",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 17,
            name: "向右移出",
            cat: "退出",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 17,
            name: "向左移出",
            cat: "退出",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 17,
            name: "向上移出",
            cat: "退出",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 17,
            name: "向下移出",
            cat: "退出",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 19,
            name: "向右弹出",
            cat: "退出",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 19,
            name: "向左弹出",
            cat: "退出",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 19,
            name: "向上弹出",
            cat: "退出",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 19,
            name: "向下弹出",
            cat: "退出",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 11, name: "翻转消失", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 14,
            name: "中心消失",
            cat: "退出",
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 18, name: "中心缩小", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 15,
            name: "向右翻滚",
            cat: "退出",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 15,
            name: "向左翻滚",
            cat: "退出",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 15,
            name: "向上翻滚",
            cat: "退出",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 15,
            name: "向下翻滚",
            cat: "退出",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 25, name: "翻开消失", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 16,
            name: "光速向右",
            cat: "退出",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 16,
            name: "光速向左",
            cat: "退出",
            direction: 2,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 16,
            name: "光速向上",
            cat: "退出",
            direction: 3,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {
            type: 16,
            name: "光速向下",
            cat: "退出",
            direction: 1,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 28, name: "放大退出", cat: "退出", duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}, {
            type: 32,
            name: "向右脱落",
            cat: "退出",
            direction: 0,
            duration: !0,
            delay: !0,
            countNum: !0,
            count: !0,
            sound: !0
        }, {type: 32, name: "向左脱落", cat: "退出", direction: 2, duration: !0, delay: !0, countNum: !0, count: !0, sound: !0}];
    e.exports = {compANIMATIONS: n, compANIMATIONS2: a, compANIMJSON: r, compDIRECTIONS: i, COMP_HINGE_DIRECTIONS: o}
}, function (e, t) {
    "use strict";
    var n = [{name: "fontSizeList1", value: "96"}, {name: "fontSizeList2", value: "64"}, {
            name: "fontSizeList3",
            value: "48"
        }, {name: "fontSizeList4", value: "32"}, {name: "fontSizeList5", value: "24"}, {
            name: "fontSizeList6",
            value: "20"
        }, {name: "fontSizeList7", value: "18"}, {name: "fontSizeList8", value: "16"}, {
            name: "fontSizeList9",
            value: "14"
        }, {name: "fontSizeList10", value: "13"}, {name: "fontSizeList11", value: "12"}],
        i = [{name: "0.25", scale: "0.25"}, {name: "0.50", scale: "0.5"}, {name: "0.75", scale: "0.75"}, {
            name: "1.00",
            scale: "1"
        }, {name: "1.50", scale: "1.5"}, {name: "1.75", scale: "1.75"}, {name: "2.00", scale: "2"}, {
            name: "2.50",
            scale: "2.5"
        }, {name: "3.00", scale: "3"}],
        o = [{name: "0%", scale: "0"}, {name: "10%", scale: "10em"}, {name: "25%", scale: "25em"}, {
            name: "50%",
            scale: "50em"
        }, {name: "75%", scale: "75em"}, {name: "100%", scale: "100em"}];
    e.exports = {fontSizes: n, lineHeightLists: i, wordLineLists: o}
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.directives", [n(129), n(130), n(131), n(132), n(133), n(134), n(136), n(137), n(139)]).directive("outsideClick", n(140)).directive("eqxLoadingImage", n(141)).directive("authority", n(142)).directive("hoverElement", n(143)).directive("compile", ["$compile", "$timeout", function (e, t) {
        "ngInject";
        return {
            restrict: "A", link: function (n, i) {
                t(function () {
                    e(i.contents())(n)
                })
            }
        }
    }]).directive("convertToNumber", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$parsers.push(function (e) {
                    return parseInt(e, 10)
                }), i.$formatters.push(function (e) {
                    return "" + e
                })
            }
        }
    }).directive("convertFloatToNumber", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$formatters.push(function (e) {
                    return e = 100 * parseFloat(e || "0"), parseInt(e, 10)
                }), i.$parsers.push(function (e) {
                    return parseInt(e, 10) / 100
                })
            }
        }
    }).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("eqx.directives.scroll", []).directive("eqdScroll", function () {
        "ngInject";
        return function (e, t, n) {
            t.css({position: "relative", overflow: "hidden"});
            var i = {
                mouseWheel: !0,
                scrollbars: !0,
                interactiveScrollbars: !0,
                probeType: 2,
                bounce: !1,
                disableMouse: !0,
                disableTouch: !0,
                preventDefault: !1,
                disablePointer: !0,
                wheelMoveStopPropagation: !0
            }, o = new IScroll(t.get(0), i);
            t.on("wheel", function (e) {
                e.stopPropagation()
            });
            var r = void 0, a = e.$watch(function () {
                clearTimeout(r), r = setTimeout(function () {
                    o.refresh()
                }, 100)
            });
            n.scrolled && o.on("scroll", function () {
                e.$eval(n.scrolled + "(" + o.y + ")")
            }), n.scrolling && o.on("scroll", function () {
                e.$eval(n.scrolling + "()")
            }), n.refresh && o.on("scrollEnd", function () {
                o.y <= o.maxScrollY + 200 && e.$eval(n.refresh)
            }), n.changePos && o.on("scrollEnd", function () {
                e.pos = {y: o.y}, e.$eval(n.changePos)
            }), t.on("$destroy", function () {
                o.destroy(), o = null, a(), clearTimeout(r)
            }), e.$on("scroll.refresh." + n.scroll, function () {
                r = setTimeout(function () {
                    o.refresh()
                }, 100)
            }), e.$on("scroll.scrollTo", function (e, t, n) {
                o.scrollTo(t, n)
            })
        }
    }).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directive.string", []).directive("eqxStr", function () {
        "ngInject";
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$formatters.push(function (e) {
                    return angular.isString(e) ? e.trim() : e
                }), i.$parsers.push(function (e) {
                    return angular.isString(e) ? e.trim() : e
                })
            }
        }
    }).filter("maxLength", function () {
        "ngInject";
        return function (e, t) {
            if (e) return e.length <= t ? e : e.substr(0, t) + "…"
        }
    }).directive("checkCount", ["validCharacterNumFilter", function (e) {
        "ngInject";
        return {
            restrict: "EA", require: "ngModel", link: function (t, n, i, o) {
                var r = parseInt(i.checkCount), a = e;
                o.$viewChangeListeners.push(function () {
                    if (a(o.$modelValue) > r) {
                        var e = o.$modelValue.replace(/[^\x00-\xff]/g, "ξξ"),
                            t = e.substring(0, r).replace(/ξξ/g, "灪").replace("ξ", "").length;
                        o.$setViewValue(o.$modelValue.substring(0, t)), o.$render()
                    }
                })
            }
        }
    }]).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directive.integer", []).directive("eqxInteger", function () {
        "ngInject";
        return {
            require: "ngModel", link: function (e, t, n, i) {
                var o = parseInt(n.eqxInteger || "10");
                i.$formatters.push(function (e) {
                    return angular.isNumber(e) ? e.toString(o) : e
                }), i.$parsers.push(function (e) {
                    return angular.isString(e) ? parseInt(e, o) : e
                })
            }
        }
    }).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directive.slideInput", []).directive("eqdInputNumber", function () {
        "ngInject";

        function e(e, l, p, u) {
            l.on("$destroy", function () {
                l.unbind("mousedown")
            });
            var d = "string" == typeof p.min ? p.min : -Number.MAX_VALUE,
                m = "string" == typeof p.max ? p.max : Number.MAX_VALUE, f = "string" == typeof p.unit ? p.unit : "px",
                g = "string" == typeof p.step ? p.step : "1", h = 0;
            g.indexOf(".") > -1 && (h = g.split(".")[1].length), "px" == f ? (u.$parsers.push(t), u.$formatters.push(n)) : "deg" == f ? (f = "", u.$parsers.push(i), u.$formatters.push(o)) : "%" == f ? (u.$parsers.push(r), u.$formatters.push(a)) : u.$parsers.push(s), l.mousedown(function (t) {
                function n(t) {
                    t.preventDefault(), o = t.pageX - a;
                    var n = +(r + o * g).toFixed(h);
                    n >= d && n <= m ? n += f : n < d ? n = d + f : n > m && (n = m + f), u.$viewValue != n && (u.$setViewValue(n), u.$render(), e.$apply())
                }

                function i() {
                    c.unbind("mousemove", n), c.unbind("mouseup", i)
                }

                var o, r = parseFloat(l.val()) || 0, a = t.pageX;
                c.mousemove(n), c.mouseup(i)
            }).keydown(function (e) {
                var t = e.keyCode;
                return !!(t >= 48 && t <= 57 || t >= 96 && t <= 105 || 36 == t || 35 == t || 37 == t || 39 == t || 8 == t || 46 == t)
            })
        }

        function t(e) {
            return e = /-?\d+/.exec(e), e ? parseFloat(e) + "px" : "0"
        }

        function n(e) {
            return /-?\d+/.exec(e) + "px"
        }

        function i(e) {
            return e = /\d+/.exec(e), e ? "rotateZ(" + parseFloat(e) + "deg)" : "rotateZ(0)"
        }

        function o(e) {
            return /\d+/.exec(e)
        }

        function r(e) {
            return e = /\d+/.exec(e), e ? e / 100 + "" : "0"
        }

        function a(e) {
            return 100 * e + "%"
        }

        function s(e) {
            return "" === e && (e = "0"), parseFloat(e) + ""
        }

        var c = $(document);
        return {restrict: "E", require: "ngModel", template: '<input class="eqc-input-number"/>', replace: !0, link: e}
    }).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directives.qrcode", []).directive("qrCode", ["HOST", "EqxCore", function (e, t) {
        "ngInject";
        return {
            restrict: "A", scope: {qrUrl: "@"}, link: function (e, n, i) {
                var o = t.loader;
                e.$watch("qrUrl", function (e) {
                    $("canvas", n).length > 0 && $("canvas", n).remove(), e && o.$loadQRCode().then(function () {
                        n.qrcode({
                            render: "canvas",
                            width: 180,
                            height: 180,
                            text: e + (/\?/.test(e) ? "&" : "?") + "eqrcode=1"
                        })
                    })
                })
            }
        }
    }]).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "A",
            scope: {},
            replace: !0,
            template: '<em class="effect-tip" ng-if="!vm.show"></em>',
            link: function (t, n, i) {
                var o = i.eqxRedDot;
                t.vm = {
                    get show() {
                        return e.getItem(o)
                    }
                }
            }
        }
    }

    function o(e) {
        "ngInject";
        return {
            restrict: "A", link: function (t, n, i) {
                var o = i.eqxRedDotTrigger;
                n.on("click", function () {
                    t.$apply(function () {
                        e.getItem(o) || e.setItem(o, !0)
                    })
                })
            }
        }
    }

    i.$inject = ["storageService"], o.$inject = ["storageService"], n(135), e.exports = angular.module("common.redDot", []).directive("eqxRedDot", i).directive("eqxRedDotTrigger", o).name
}, function (e, t) {
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directive.rightClick", []).directive("rightClick", ["$rootScope", function (e) {
        "ngInject";
        return {
            scope: {rightClick: "&"}, link: function (t, n) {
                n.on("contextmenu", function (i) {
                    t.rightClick();
                    var o = {event: i, $ele: n};
                    e.$broadcast("pageManageHandle", o)
                })
            }
        }
    }]).name
}, function (e, t, n) {
    "use strict";
    n(138), e.exports = angular.module("eqx.ng.material", []).provider("eqxNgMaterial", function () {
        var e = "http://localhost";
        this.setConfig = function (t) {
            e = t.host || e
        }, this.$get = ["$q", "HOST", function (t, n) {
            function i(n) {
                var i = {};
                switch (n.type) {
                    case"music":
                    case"sound":
                        n.id && (i = {id: n.id, name: n.name, path: n.path})
                }
                if (i.t = Date.now(), u.on("load", function () {
                    c = !0, o({path: n.type, query: i})
                }).on("animationend", function () {
                    u.hasClass(l) && u.hide()
                }), !s) {
                    var p = e + "/material/" + n.type + "?t=" + Date.now();
                    u.attr("src", p).appendTo("body"), r(), s = !0
                }
                return c && (u.removeClass(l).show(), o({path: n.type, query: i})), a = t.defer(), a.promise
            }

            function o(e) {
                e = {source: "editor", data: e}, u[0].contentWindow.postMessage(e, "*")
            }

            function r() {
                function e(e) {
                    var t = e.data;
                    if (null != t && "material" === t.source) switch (t.type) {
                        case"close":
                            a.reject({handle: p}), p = {}, u.addClass(l);
                            break;
                        case"success":
                            t.data.handle = p, a.resolve(t.data), p = {}, u.addClass(l);
                            break;
                        case"clearFonts":
                            p.clearFonts = !0
                    }
                }

                window.addEventListener("message", e)
            }

            var a = t.defer(), s = !1, c = !1, l = "material-hide", p = {},
                u = $('<iframe class="eqc-material-dialog" frameborder="0" scrolling="no"></iframe>');
            return {showDialog: i}
        }]
    }).name
}, function (e, t) {
}, function (e, t) {
    "use strict";
    e.exports = angular.module("directive.stringToNumber", []).directive("stringToNumber", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$parsers.push(function (e) {
                    return "" + e
                }), i.$formatters.push(function (e) {
                    return parseFloat(e)
                })
            }
        }
    }).name
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        return {
            link: function (n, i, o) {
                var r = o.outsideClick, a = function (e) {
                    var t = i.find(e.target).length > 0;
                    !t && n.$apply(r)
                };
                t(function () {
                    e.on("click", a), i.on("$destroy", function () {
                        e.off("click", a)
                    })
                })
            }
        }
    }

    n.$inject = ["$document", "$timeout"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            restrict: "EA", link: function (t, n, i) {
                var o = parseInt(i.width) || n.width(), r = parseInt(i.height) || n.height(),
                    a = "data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E";
                n.css({
                    "background-repeat": "no-repeat",
                    "background-position": "center",
                    "background-image": "url(" + a + ")"
                });
                var s = new Image;
                s.onload = function () {
                    (this.width > o || this.height > r) && n.css({"background-size": "contain"}), "cover" === i.backgroundSize && n.css({"background-size": "cover"}), n.css({"background-image": "url(" + this.src + ")"})
                }, s.onerror = function () {
                    n.css({"background-image": ""})
                }, s.src = e(i.eqxLoadingImage, o, r)
            }
        }
    }

    n.$inject = ["qiniuZoomFilter"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            restrict: "A", link: function (t, n, i) {
                e.permission(i.authority) && n.hide()
            }
        }
    }

    n.$inject = ["authorityService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";

        function e(e, t) {
            var n = $('<div class="hover-element-flash"><div class="red-border"></div></div>');
            t.hover(function () {
                var t = $("#inside_" + e.hoverElement);
                n.appendTo(t)
            }, function () {
                n.remove()
            })
        }

        return {restrict: "A", scope: {hoverElement: "@hoverElement"}, link: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("service.security", ["eqx.ng.auth", "eqx.ng.dialog"]).factory("securityRetryQueue", n(145)).name
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = [], i = {
            onItemAddedCallbacks: [], hasMore: function () {
                return n.length > 0
            }, pushRetryFn: function (o, r) {
                var a = e.defer(), s = {
                    reason: r, retry: function () {
                        return e.when(o()).then(function (e) {
                            a.resolve(e)
                        }, function (e) {
                            a.reject(e)
                        })
                    }, cancel: function () {
                        a.reject("manual cancel")
                    }
                };
                return n.push(s), angular.forEach(i.onItemAddedCallbacks, function (e) {
                    try {
                        e(s)
                    } catch (n) {
                        t.error("securityRetryQueue.push(retryItem): callback threw an error" + n)
                    }
                }), a.promise
            }, cancelAll: function () {
                for (; i.hasMore();) n.shift().cancel()
            }, retryAll: function () {
                for (; i.hasMore();) n.shift().retry()
            }
        };
        return i
    }

    n.$inject = ["$q", "$log"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource", [n(147), n(156), n(159), n(394)]).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.service", []).factory("imageService", n(148)).factory("shapeService", n(151)).factory("musicService", n(152)).factory("fontService", n(153)).factory("imgGroupService", n(154)).factory("recentlyUseService", n(155)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t, o, r, s) {
        var c = n(150), l = a(e, t, o, r, s), p = l.$getTags, u = l.addUseHistory;
        return l.config = e, l.$getCategories = function () {
            return l.categories.length > 5 ? t.resolve(l.categories) : o.getSysCategories(e.fileType).then(function (e) {
                var t, n = e.data.list.map(function (e) {
                    var t = e.id, n = e.name;
                    return {id: t, name: n, list: []}
                });
                return (t = l.categories).splice.apply(t, [1, 0].concat(i(n))), l.categories
            })
        }, l.$getTags = function (t) {
            return p(t).then(function (n) {
                var i = l.getCategory(t);
                return i && 1301 == i.bizType && "bgColor" !== i.list[i.list.length - 1].id && n.push({
                    bizType: i.bizType,
                    id: "bgColor",
                    list: {1: c.slice(0, 18), 2: c.slice(18)},
                    name: "纯色背景",
                    pageSize: e.pageSize,
                    count: 35,
                    isLastPage: !0,
                    isBusy: !1
                }), n
            })
        }, l.addUseHistory = function () {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t = t.filter(function (e) {
                return e.tmbPath
            }), u.apply(void 0, i(t))
        }, l
    }

    function r(e, t, n, i, r, a) {
        "ngInject";
        return {
            image: o({
                fileType: 1,
                pageSize: a.permission("newMaterialModal") ? 18 : 20,
                name: "image",
                showSysTags: !0,
                showUserTags: !0,
                showRecentTags: !1,
                cat: 1,
                newest: r.MALL_PIC_ID
            }, e, t, n, i),
            bg: o({
                fileType: 1,
                pageSize: a.permission("newMaterialModal") ? 18 : 20,
                name: "image",
                showSysTags: !0,
                showUserTags: !0,
                showRecentTags: !1,
                cat: 1,
                newest: r.MALL_PIC_ID
            }, e, t, n, i)
        }
    }

    r.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "HOST", "authorityService"];
    var a = n(149);
    e.exports = r
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e, t, i, o, r, a) {
        function s() {
            return P.length > 5 ? t.resolve(P) : i.getSysCategories(b).then(function (e) {
                return e = e.map(function (e) {
                    var t = e.id, n = e.name, i = e.bizType;
                    return {id: t, name: n, bizType: i, showTags: S, list: []}
                }), P.splice.apply(P, [1, 0].concat(n(e))), P
            })
        }

        function c() {
            for (var e = arguments.length, t = Array(e), i = 0; i < e; i++) t[i] = arguments[i];
            t = t.filter(function (e) {
                return e && e.id
            }), E.addItems.apply(E, n(t)), o.saveFilesHistory.apply(o, n(t))
        }

        function l(e) {
            return P.find(function (t) {
                return t.id == e
            })
        }

        function p(e) {
            var o = l(e), r = null;
            return o ? o.list.length ? t.resolve(o.list) : (r = e == $.my ? i.getUserTags(b) : i.getSysTags(b, o.bizType), r.then(function (e) {
                var t, i = e.data.list.map(function (e) {
                    var t = e.bizType, n = e.createTime, i = e.createUser, o = e.id, r = e.name, a = e.sort;
                    return {
                        bizType: t,
                        createTime: n,
                        createUser: i,
                        id: o,
                        name: r,
                        sort: a,
                        pageSize: x,
                        list: {},
                        count: -1,
                        isLastPage: !1,
                        isBusy: !1
                    }
                });
                return i.unshift({
                    bizType: o.bizType,
                    id: o.id + "-all",
                    list: {},
                    name: "全部",
                    pageSize: x,
                    count: -1,
                    isLastPage: !1,
                    isBusy: !1
                }), (t = o.list).push.apply(t, n(i)), o.list
            })) : t.reject("no such category")
        }

        function u(e, t) {
            var n = m(e, t);
            n && Object.assign(n, {list: {}, count: -1, isLastPage: !1, isBusy: !1})
        }

        function d(n, i) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, s = arguments[3],
                c = P.find(function (e) {
                    return e.id === n
                });
            if (!c) return t.resolve([]);
            var l = c.list.find(function (e) {
                return e.id === i
            });
            if (!l) return t.resolve([]);
            if ("my" === n && "my-all" === i) {
                if (l.list[r] && l.list[r].length === l.pageSize) return t.resolve(l.list[r])
            } else if (l.list[r]) return t.resolve(l.list[r]);
            if (l.isBusy) return t.resolve([]);
            var p = l.pageSize, u = l.bizType, d = l.count;
            if (d > 0 && (r - 1) * p > d) return t.resolve([]);
            l.isBusy = !0, i === n + "-all" && (i = void 0);
            var m = null;
            if (n === $.my) m = o.getUserUploadItems({
                fileType: b,
                tagId: i,
                pageNo: r,
                pageSize: p
            }); else if (n === $.search) m = o.searchMaterial(e.cat, s, r, p); else if (n === $.myPurchase) m = e.cat && 3 === e.cat ? a.getMyFontFamily(r, p) : o.getUserPurchaseItems({
                fileType: b,
                pageNo: r,
                pageSize: p
            }); else {
                var f = {music: 3, sound: 3, image: 1, font: 4};
                m = void 0 !== f[e.name] ? o.getSysMaterialItems({
                    attrGroupId: f[e.name],
                    category: n,
                    pageNo: r,
                    pageSize: p
                }) : o.getSysItems({fileType: b, bizType: u, tagId: i, pageNo: r, pageSize: p})
            }
            return m.then(function (t) {
                var i = t.data.map || {count: 0, pageSize: p, pageNo: r}, o = [];
                o = "image" === e.name && n != $.my && n != $.myPurchase && n != $.recently ? t.data.list.map(function (e) {
                    return {
                        id: e.id,
                        libType: e.brandId,
                        name: e.title,
                        path: e.mid_pic,
                        price: e.price,
                        sort: e.sort,
                        status: e.status,
                        tagNames: e.tags,
                        tmbPath: e.tmbPath,
                        brand: e.brand || {},
                        fileType: b
                    }
                }) : t.data.list;
                var a = i.pageNo;
                return a !== r && console.error("newPageNo !== pageNo"), l.count = i.count, l.isLastPage = i.pageSize > o.length, l.list[r] = o, l.list[r]
            })["catch"](function () {
                return []
            })["finally"](function () {
                l.isBusy = !1
            })
        }

        function m(e, t) {
            var n = l(e);
            if (n) return n.list.find(function (e) {
                return e.id === t
            })
        }

        function f(e) {
            return o.saveFileInfo(e).then(function (t) {
                var n = t.data.obj;
                return 0 !== e.tagId && v(e.tagId, n), v($.my + "-all", n), n
            })
        }

        function g(e) {
            return o.videoCodec(e)
        }

        function h(e) {
            return o.pollingStatus(e)
        }

        function v(e, t) {
            var n = m($.my, e);
            if (n) {
                var i = Object.keys(n.list).map(function (e) {
                    return n.list[e]
                }).reduce(function (e, t) {
                    return e.concat(t)
                }, [t]);
                n.count++;
                for (var o = 1; i.length;) n.list[o++] = i.splice(0, x)
            }
        }

        var y = e.name, b = e.fileType, x = e.pageSize, w = e.showSysTags, S = void 0 === w || w, k = e.showUserTags,
            T = void 0 === k || k, C = e.showRecentTags, I = void 0 !== C && C, $ = {
                my: "my",
                myPurchase: "myPurchase",
                recently: "recently",
                newest: e.newest || "newest",
                search: "search"
            }, E = r.get(y, x), P = [{
                id: $.newest,
                name: "最新",
                bizType: 0,
                showTags: !1,
                list: [{
                    bizType: 0,
                    id: $.newest + "-all",
                    list: {},
                    name: "全部",
                    pageSize: x,
                    count: -1,
                    isLastPage: !1,
                    isBusy: !1
                }]
            }, {
                id: $.search,
                name: "搜索",
                bizType: 0,
                showTags: !1,
                list: [{
                    bizType: 0,
                    id: $.search + "-all",
                    list: {},
                    name: "全部",
                    pageSize: x,
                    count: -1,
                    isLastPage: !1,
                    isBusy: !1
                }]
            }, {id: $.my, name: "我的", bizType: 0, showTags: T, list: []}, {
                id: $.myPurchase,
                name: "我的购买",
                bizType: 0,
                showTags: !1,
                list: []
            }, {
                id: $.recently,
                name: "最近使用",
                bizType: 0,
                showTags: I,
                list: [{
                    bizType: 0,
                    id: $.recently + "-all",
                    list: {1: E.getList()},
                    name: "全部",
                    pageSize: x,
                    count: x,
                    isLastPage: !0,
                    isBusy: !1
                }]
            }];
        return {
            categories: P,
            $getCategories: s,
            getCategory: l,
            $getTags: p,
            getTag: m,
            $getMoreItems: d,
            addUseHistory: c,
            clearTag: u,
            saveFileInfo: f,
            ID: $,
            videoCodec: g,
            pollingStatus: h,
            addItem: v,
            config: e
        }
    }

    e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = [{color: "#6366C3"}, {color: "#29A1D6"}, {color: "#332E42"}, {color: "#DBF3FF"}, {color: "#434A54"}, {color: "#000000"}, {color: "#F1F03E"}, {color: "#FCF08E"}, {color: "#972D53"}, {color: "#724192"}, {color: "#967BDC"}, {color: "#EC87C1"}, {color: "#D870AF"}, {color: "#F6F7FB"}, {color: "#666C78"}, {color: "#ABB1BD"}, {color: "#CCD0D9"}, {color: "#E6E9EE"}, {color: "#48CFAE"}, {color: "#36BC9B"}, {color: "#3BAEDA"}, {color: "#50C1E9"}, {color: "#AC92ED"}, {color: "#4B89DC"}, {color: "#4B89DC"}, {color: "#5D9CEC"}, {color: "#8DC153"}, {color: "#ED5564"}, {color: "#DB4453"}, {color: "#FB6E52"}, {color: "#FFCE55"}, {color: "#F6BB43"}, {color: "#E9573E"}, {color: "#9FF592"}, {color: "#A0D468"}]
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r) {
        "ngInject";

        function a(t) {
            return s[t] ? e.resolve(JSON.parse(JSON.stringify(s[t]))) : n.getSvgElement(t).then(function (e) {
                for (var n, i = $(e.data), o = i.length, r = 0; r < o; r++) if ("svg" === i[r].tagName) {
                    n = i[r];
                    break
                }
                var a = parseFloat($(n).attr("width")), c = parseFloat($(n).attr("height"));
                a > c ? (a = 100 * a / c + "px", c = "100px") : (c = 100 * c / a + "px", a = "100px");
                var l = $(n).find("[fill], [style*='fill']"), p = [], u = [], d = {};
                $.each(l, function (e, t) {
                    var n = $(t).attr("style");
                    if (n) {
                        for (var i = n.split(";"), o = 0, r = i.length; o < r; o++) if (i[o].indexOf("fill:") >= 0) {
                            u.push(i[o].split(":")[1]);
                            break
                        }
                    } else u.push($(t).attr("fill"))
                });
                for (var m = 0; m < u.length; m++) d[u[m]] || (d[u[m]] = 1, "none" !== u[m] ? p.push({
                    fill: u[m],
                    svgFill: u[m]
                }) : p.push({fill: "", svgFill: "none"}));
                for (var f = 0; f < p.length; f++) {
                    var g = [];
                    $.each(l, function (e, t) {
                        var n, i = $(t).attr("style");
                        if (i) {
                            for (var o = i.split(";"), r = 0, a = o.length; r < a; r++) if (o[r].indexOf("fill:") >= 0) {
                                n = o[r].split(":")[1];
                                break
                            }
                        } else n = $(t).attr("fill");
                        n === p[f].svgFill && g.push(e)
                    }), p[f].elements = g
                }
                return s[t] = {width: a, height: c, items: p}
            })
        }

        var s = {}, c = {
            fileType: 7,
            pageSize: r.permission("newMaterialModal") ? 18 : 20,
            name: "shape",
            showSysTags: !0,
            showUserTags: !1,
            showRecentTags: !1
        }, l = o(c, e, t, n, i);
        return l.config = c, l.parse = a, l
    }

    i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "authorityService"];
    var o = n(149);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, o) {
        function a(t) {
            return i.addMusicLink(e.fileType, t)
        }

        function s(e) {
            return i.deleteFile(e)
        }

        function c(t) {
            return i.wordTransformSound(t, e.fileType)
        }

        var l = r(e, t, n, i, o);
        return l.addMusicLink = a, l.deleteMySound = s, l.wordTransformSound = c, l.config = e, l
    }

    function o(e, t, n, o, r) {
        "ngInject";
        return {
            2: i({
                fileType: 2,
                pageSize: 10,
                name: "music",
                showSysTags: !1,
                showUserTags: !1,
                showRecentTags: !1,
                cat: 4,
                newest: r.MALL_MUSIC_ID
            }, e, t, n, o),
            4: i({
                fileType: 4,
                pageSize: 10,
                name: "sound",
                showSysTags: !1,
                showUserTags: !1,
                showRecentTags: !1,
                cat: 216,
                newest: r.MALL_SOUND_ID
            }, e, t, n, o)
        }
    }

    o.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "HOST"];
    var r = n(149);
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r, a, s, c, l, p) {
        "ngInject";

        function u() {
            r.getFontNames(d().join()).then(function (e) {
                for (var t = 0; t < e.data.list.length; t++) {
                    var n = e.data.list[t].fontFamily;
                    if (b.indexOf(n) === -1) {
                        b.push(n);
                        var i = "@font-face{font-family:'" + n + "';src: url('" + s.FILE + e.data.list[t].woffPath + "') format('woff'), url('" + s.FILE + e.data.list[t].ttfPath + "') format('truetype');}";
                        m(i)
                    }
                }
            })
        }

        function d() {
            for (var e = /font-family:(.*?);/g, t = null, n = [], i = a.getCurrentPage().pageJson.elements, o = 0; o < i.length; o++) if ("2" == i[o].type) for (var r = i[o].content; null !== (t = e.exec(r));) n.push(t[1].trim()); else "7" != i[o].type && "1" != i[o].type || n.push(i[o].css.fontFamily);
            return n
        }

        function m(e) {
            var t = document.getElementsByTagName("style")[0], n = null;
            t || (t = document.createElement("style"), n = document.head || document.getElementsByTagName("head")[0], t.type = "text/css", n.appendChild(t));
            var i = document.createTextNode(e);
            t.appendChild(i)
        }

        function f() {
            return y.myFontLists.length > 0 ? e.resolve(y.myFontLists) : r.getMyFontFamily().then(function (e) {
                return y.myFontLists = e.data.list, e.data.list
            })
        }

        function g() {
            return p.permission("newMaterialModal") ? c.openFontMarket() : l.openFontMarket().then(function (e) {
                return e.handle.clearFonts && (y.myFontLists = []), e
            }, function (t) {
                return t.handle.clearFonts && (y.myFontLists = []), e.reject()
            })
        }

        function h(e) {
            return e.productId && (e.id = e.productId), c.buyFont(e)
        }

        var v = {
            fileType: 3,
            pageSize: p.permission("newMaterialModal") ? 6 : 12,
            name: "font",
            showSysTags: !1,
            showUserTags: !1,
            showRecentTags: !1,
            cat: 3,
            newest: s.MALL_FONT_ID
        }, y = {myFontLists: [], personFontNoTip: []}, b = [null, void 0], x = o(v, e, t, n, i, r);
        return x.getMyFontList = f, x.editFontFamily = u, x.openFontShopping = g, x.myFont = y, x.buyFont = h, x.editFontList = b, x.config = v, x
    }

    i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "fontAPI", "sceneService", "HOST", "fontModalFactory", "fontModalFactory2", "authorityService"];
    var o = n(149);
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(t, n) {
            return e.assignTag(t, n)
        }

        function i(n, i) {
            return parseInt(n) ? e.cancelTag(n, i) : t.deleteFile(i)
        }

        function o(t) {
            return e.createTag(t)
        }

        function r(t) {
            return e.deleteTag(t)
        }

        function a(t, n) {
            return parseInt(t) ? e.clearImgTag(t) : e.clearMyImg(n)
        }

        function s(t, n) {
            return e.modifyTagName(t, n)
        }

        return {
            assignImgGroup: n,
            deleteFile: i,
            createImgGroup: o,
            deleteImgGroup: r,
            clearImgTag: a,
            modifyTagName: s
        }
    }

    n.$inject = ["tagAPI", "fileAPI"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function i(e, t) {
        "ngInject";

        function i(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 18, i = e.getCurrentUser();
            return t = t + "-recently-" + i.id, a[t] ? a[t] : a[t] = new r(t, n)
        }

        var r = function () {
            function e(i) {
                var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 18;
                n(this, e), this.name = i, this.max = o, this.list = t.getItem(this.name) || []
            }

            return o(e, [{
                key: "getList", value: function () {
                    return this.list
                }
            }, {
                key: "addItems", value: function () {
                    for (var e = this, t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                    n.forEach(function (t) {
                        if (t && t.id) {
                            var n = $.extend({}, t, !0);
                            n.price && delete n.price, e.deleteItem(n), e.list.unshift(n)
                        }
                    }), this.updateList()
                }
            }, {
                key: "deleteItem", value: function (e) {
                    if (e && e.id) {
                        var t = this.list.findIndex(function (t) {
                            return t.id === e.id
                        });
                        t > -1 && this.list.splice(t, 1), this.updateList()
                    }
                }
            }, {
                key: "updateList", value: function () {
                    this.list.length >= this.max && (this.list.length = this.max), t.setItem(this.name, this.list)
                }
            }]), e
        }(), a = {};
        return {get: i}
    }

    i.$inject = ["userService", "storageService"];
    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    e.exports = i
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("upload", []).directive("eqxUpload", n(157)).factory("uploaderService", n(158)).name
}, function (e, t) {
    "use strict";

    function n(e, t, n, o, r, a) {
        "ngInject";

        function s(t, n) {
            function i(e) {
                var t = 0;
                if (!e) return 0;
                for (var n = 0; n < e.length; n++) {
                    var i = e.charCodeAt(n);
                    i >= 1 && i <= 126 || i >= 65376 && i <= 65439 ? t++ : t += 2
                }
                return t
            }

            function o(e) {
                $("#upload-progress").css({width: e + "%", opacity: 1})
            }

            Qiniu.uploader({
                runtimes: "html5,flash,html4",
                browse_button: n.uploadBtn,
                uptoken_url: e.SERVER_0 + "m/base/file/uptoken?type=image",
                uptoken: n.token,
                unique_names: !0,
                domain: "//qiniu-plupload.qiniudn.com/",
                container: n.uploadCon,
                max_file_size: "100mb",
                max_retries: 3,
                dragdrop: !0,
                chunk_size: "5mb",
                drop_element: n.uploadCon,
                filters: {mime_types: [{title: "Image files", extensions: n.extensions}]},
                auto_start: !0,
                init: {
                    FilesAdded: function (e, t) {
                        var o = !0, r = !0;
                        if (t.forEach(function (t) {
                            i(t.name) >= 50 && (e.removeFile(t), o && a.danger("文件名称限制在50个字符内"), o = !1);
                            var s = t.size / 1024 / 1024;
                            s > parseInt(n.maxFileSize) && (e.removeFile(t), r && a.danger("文件大小限制在" + n.maxFileSize + "M内"), r = !1)
                        }), n.maxCount && t.length > n.maxCount) {
                            t.forEach(function (t) {
                                e.removeFile(t)
                            });
                            var s = "文件个数在 " + n.maxCount + "个内";
                            n.msg && (s = n.msg), a.danger(s)
                        }
                        "function" == typeof n.onFilesAdded && n.onFilesAdded(e, t)
                    }, BeforeUpload: function (e, i) {
                        t.$apply(function () {
                            t.options.uploadTips = "上传中......"
                        }), "function" == typeof n.onBeforeUpload && n.onBeforeUpload(e, i)
                    }, UploadProgress: function (e, t) {
                        o(e.total.percent), "function" == typeof n.onUploadProgress && n.onUploadProgress(e, t)
                    }, UploadComplete: function () {
                        "video" !== t.options.tokenType && (t.options.uploadTips = "上传"), $("#upload-progress").css({
                            width: 0,
                            opacity: 0
                        }), "function" == typeof n.onUploadComplete && n.onUploadComplete()
                    }, FileUploaded: function (e, i, r) {
                        var a = JSON.parse(r);
                        o(e.total.percent), n.success && t.$apply(function () {
                            n.success({path: a.key, tmbPath: a.key, name: a.name, size: parseInt(a.size / 1024)})
                        }), "video" === t.options.tokenType && (t.options.uploadTips = "更换"), "function" == typeof n.onFileUploaded && n.onFileUploaded(e, i, r)
                    }, Error: function (e, t, i) {
                        !t || t.code !== -600 && "-600" !== t.code || a.danger("超出文件上传大小最大限制（100mb）"), "function" == typeof n.onError && n.onError(e, t, i)
                    }, Key: function (e, t) {
                    }
                }
            })
        }

        return {
            restrict: "EA", scope: {options: "=eqxUpload"}, link: function (e, n) {
                var a = Object.assign({}, {
                    tokenType: "image",
                    extensions: "jpg,gif,png,jpeg",
                    maxFileSize: 3,
                    uploadBtn: "pickfiles",
                    uploadCon: "container",
                    maxCount: 10
                }, e.options);
                o.all([t.getUploadToken(a.tokenType), r.qiniu()]).then(function (t) {
                    var n = i(t, 1), o = n[0];
                    a.token = o, s(e, a)
                })
            }
        }
    }

    n.$inject = ["HOST", "uploaderService", "modalService", "$q", "delayLoadService", "notifier"];
    var i = function () {
        function e(e, t) {
            var n = [], i = !0, o = !1, r = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
            } catch (c) {
                o = !0, r = c
            } finally {
                try {
                    !i && s["return"] && s["return"]()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }

        return function (t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }();
    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        var i = {};
        return i.getUploadToken = function (i) {
            return e({
                method: "POST",
                url: t.SERVER_0 + "m/base/file/uptokens?type=" + i,
                headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"}
            }).then(function (e) {
                return e.data && e.data.map ? e.data.map.token : n.reject()
            })
        }, i.uploadBase64 = function (e, t) {
            var i = n.defer();
            return $.ajax({
                type: "POST",
                url: "//up.qiniu.com/putb64/-1",
                contentType: "application/octet-stream",
                beforeSend: function (t) {
                    t.setRequestHeader("Authorization", "UpToken " + e)
                },
                data: t,
                success: function (e) {
                    i.resolve(e)
                },
                error: function (e) {
                    i.reject(e)
                }
            }), i.promise
        }, i
    }

    n.$inject = ["$http", "HOST", "$q"], e.exports = n
}, function (e, t, n) {
    "use strict";
    n(160), n(163);
    var i = n(165);
    e.exports = angular.module("common.resource.ui", [n(177), n(193), n(221), n(248), n(282), n(314), n(324), n(346), n(361), n(382), n(386)]).factory("imageModalFactory", ["authorityService", "modalService", "imageService", "imageCropFactory", "imageService2", "dialogService", "$q", "eqxNgMaterial", function (e, t, n, o, r, a, s, c) {
        "ngInject";

        function l(e) {
            return d(e).then(function (e) {
                return e
            })
        }

        function p(e) {
            return d(e).then(function (e) {
                if (e.shape.width === e.shape.height) return e.path;
                var t = {
                    type: "square",
                    title: "图片裁切",
                    desc: "",
                    showItems: !1,
                    imgSrc: e.path,
                    cropItems: [{ratio: 1, desc: "正方形比例"}]
                };
                return o.openCropModal({properties: {}, cw: 250}, t).then(function (e) {
                    var t = e.image;
                    return t.src
                })
            })
        }

        var u = function (e) {
            return c.showDialog({type: "背景" === e.categoryName ? "background" : "image"}).then(function (e) {
                return s.all(e.map(function (e) {
                    return i.getImgShape(e).then(function (t) {
                        return m(e, t)
                    })["catch"](function () {
                        return null
                    })
                })).then(function (e) {
                    return e = e.filter(function (e) {
                        return !!e
                    }).map(function (e) {
                        return JSON.parse(JSON.stringify(e))
                    }), e.length ? e : s.reject("No selected images.")
                })
            })
        }, d = function (e) {
            return u(Object.assign({}, {max: 1, min: 1}, e)).then(function (e) {
                return e[0]
            })
        }, m = function (e, t) {
            return e.shape = t, e
        };
        return {getImages: u, getSquareImage: p, getImage: d, getBg: l}
    }]).name
}, function (e, t) {
}, , , function (e, t) {
}, , function (e, t, n) {
    "use strict";

    function i(e, t) {
        return new Promise(function (n, i) {
            var o = new Image;
            t && (o.crossOrigin = "Anonymous"), o.onload = function () {
                n(this)
            }, o.onerror = o.onabort = function () {
                i(new Error("download image fail"))
            }, o.src = e
        })
    }

    function o(e, t, n) {
        if (!e) return "";
        if ("string" != typeof e) throw new Error("Typeof src is not string");
        var i = r(e);
        if (/^blob:/.test(e)) return e;
        if (e.startsWith("data:image/")) return e;
        if (/\.(ico|svg)$/i.test(e.split("?")[0])) return encodeURI(i);
        if (!t) return encodeURI(/\?imageMogr2/.test(e) ? i : i + "?imageMogr2/auto-orient");
        var o = a(e, t, n);
        t = o.width, n = o.height;
        var c = "imageMogr2/auto-orient/thumbnail/" + Math.round(t) + "x" + Math.round(n) + ">";
        i += /\?imageMogr2/.test(e) ? "|" + c : "?" + c;
        var l = s(i);
        return l.formatAvailable && (i = l.newSrc), encodeURI(i)
    }

    function r(e) {
        if (!e) return void console.error("add prefix invalid src");
        if (/^blob:/.test(e)) return e;
        if (e.startsWith("data:image/")) return e;
        var t = window.location.protocol;
        if (e.startsWith("//") && "file:" !== t && (e = t + e), !e.startsWith("/") && !e.startsWith("file://")) if (/^https?:\/\//.test(e)) {
            for (var n, i = [f.BIND_USER_FILE, f.FREE_USER_FILE, f.VIP_USER_FILE], o = 0; o < i.length; o++) if (n = i[o], e.startsWith(n)) {
                e = e.replace(n, f.FILE);
                break
            }
        } else e = f.FILE + e;
        return e
    }

    function a(e, t, n) {
        /gif/.test(e) && window.scene && window.scene.ext && window.scene.ext.yqc && window.scene.ext.yqc.ad && (t = .75 * t, n = .75 * n);
        var i = window.devicePixelRatio || 1;
        t = g(t), n = g(n), t && n ? (t *= i, n *= i) : (t *= i, n = t);
        var o = 9999;
        return t > n ? t > o && (n *= 1 - (t - o) / t, t = o) : t < n ? n > o && (t *= 1 - (n - o) / n, n = o) : t > o && (t = n = o), {
            width: t,
            height: n
        }
    }

    function s(e) {
        var t = !1;
        return window.scene && window.scene.ext && window.scene.ext.yqc && window.scene.ext.yqc.ad && y() && b() > 4.2 && (t = !0, e += /\?imageMogr2/.test(e) ? "/format/webp" : "?imageMogr2/format/webp"), {
            formatAvailable: t,
            newSrc: e
        }
    }

    function c(e) {
        var t = window.location.protocol;
        return e ? /^http.*/.test(e) || /^blob:/.test(e) || e.startsWith("data:image/") ? e : e.startsWith("//") && "file:" == t ? "http:" + e : e.startsWith("//") ? e : "file:" == t && e.startsWith("file://") ? e : f.FILE + e : e
    }

    function l(e) {
        var t = window.URL || window.webkitURL;
        try {
            var n = t.createObjectURL(e)
        } catch (i) {
            return Promise.reject(new TypeError("不支持URL.createObjectURL"))
        }
        return p(n)
    }

    function p(e) {
        return i(e).then(function (e) {
            return {width: e.width, height: e.height, ratio: e.width / e.height}
        })
    }

    function u(e, t) {
        if (e.shape) return Promise.resolve(e.shape);
        var n = o(e.path, t || 115), r = f.FILE + e.path, a = 0;
        return i(r).then(function (e) {
            return a = e.width / e.height, i(n)
        }).then(function (e) {
            var t = window.devicePixelRatio || 1, n = e.height / t;
            return {width: n * a, height: n, ratio: a}
        })
    }

    function d(e) {
        var t = r(e);
        return t = t.replace(/\?.*$/, ""), t += "?imageInfo", h({method: "GET", url: t})
    }

    function m(e) {
        var t;
        return new Promise(function (n) {
            v.parseMetaData(e, function (i) {
                if (i && i.exif && 1 !== i.exif.get("Orientation")) {
                    var o = {orientation: !0, canvas: !1};
                    v(e, function (e) {
                        t = e.toDataURL(), n(t)
                    }, o)
                } else t = v.createObjectURL(e), n(t)
            }, {maxMetaDataSize: 262144, disableImageHead: !1})
        })
    }

    var f = n(114), g = Number.parseInt, h = n(166).$ajax, v = n(167), y = n(175).isAndroid,
        b = n(175).getAndroidVersion;
    e.exports = {
        loadImg: i,
        qiniuZoom: o,
        addPrefix: r,
        initEffectImgPath: c,
        getImgShapeByNativeFile: l,
        getImgShape: u,
        getImgShapeBySrc: p,
        getQiniuImgInfo: d,
        uploadImg: m
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        return Promise.resolve(e)
    }

    function i(e) {
        return new Promise(function (t, n) {
            $.ajax($.extend({}, e, {
                success: function (e) {
                    e && e.success === !1 ? n(e) : t(e)
                }, error: function () {
                    for (var t, i = arguments.length, o = Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                    (t = console).error.apply(t, [e].concat(o)), n.apply(void 0, o)
                }
            }))
        })
    }

    function o(e) {
        return new Promise(function (t, n) {
            $.ajax($.extend({xhrFields: {withCredentials: !0}, crossDomain: !0}, e, {
                success: function (e) {
                    e && e.success === !1 ? n(e) : t(e)
                }, error: function () {
                    for (var t, i = arguments.length, o = Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                    (t = console).error.apply(t, [e].concat(o)), n.apply(void 0, o)
                }
            }))
        })
    }

    e.exports = {ajax: o, $ajax: i, fajax: n}
}, function (e, t, n) {
    "use strict";
    e.exports = n(168), n(169), n(170), n(171), n(172), n(173), n(174)
}, function (e, t, n) {
    var i;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (o) {
        "use strict";

        function r(e, t, n) {
            var i, o = document.createElement("img");
            return o.onerror = function (i) {
                return r.onerror(o, i, e, t, n)
            }, o.onload = function (i) {
                return r.onload(o, i, e, t, n)
            }, "string" == typeof e ? (r.fetchBlob(e, function (t) {
                t ? (e = t, i = r.createObjectURL(e)) : (i = e, n && n.crossOrigin && (o.crossOrigin = n.crossOrigin)), o.src = i
            }, n), o) : r.isInstanceOf("Blob", e) || r.isInstanceOf("File", e) ? (i = o._objectURL = r.createObjectURL(e), i ? (o.src = i, o) : r.readFile(e, function (e) {
                var n = e.target;
                n && n.result ? o.src = n.result : t && t(e)
            })) : void 0
        }

        function a(e, t) {
            !e._objectURL || t && t.noRevoke || (r.revokeObjectURL(e._objectURL), delete e._objectURL)
        }

        var s = window.createObjectURL && window || window.URL && URL.revokeObjectURL && URL || window.webkitURL && webkitURL;
        r.fetchBlob = function (e, t, n) {
            t()
        }, r.isInstanceOf = function (e, t) {
            return Object.prototype.toString.call(t) === "[object " + e + "]"
        }, r.transform = function (e, t, n, i, o) {
            n(e, o)
        }, r.onerror = function (e, t, n, i, o) {
            a(e, o), i && i.call(e, t)
        }, r.onload = function (e, t, n, i, o) {
            a(e, o), i && r.transform(e, o, i, n, {})
        }, r.createObjectURL = function (e) {
            return !!s && s.createObjectURL(e)
        }, r.revokeObjectURL = function (e) {
            return !!s && s.revokeObjectURL(e)
        }, r.readFile = function (e, t, n) {
            if (window.FileReader) {
                var i = new FileReader;
                if (i.onload = i.onerror = t, n = n || "readAsDataURL", i[n]) return i[n](e), i
            }
            return !1
        }, i = function () {
            return r
        }.call(t, n, t, e), !(void 0 !== i && (e.exports = i))
    }(window)
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        var t = e.transform;
        e.transform = function (n, i, o, r, a) {
            t.call(e, e.scale(n, i, a), i, o, r, a)
        }, e.transformCoordinates = function () {
        }, e.getTransformedOptions = function (e, t) {
            var n, i, o, r, a = t.aspectRatio;
            if (!a) return t;
            n = {};
            for (i in t) t.hasOwnProperty(i) && (n[i] = t[i]);
            return n.crop = !0, o = e.naturalWidth || e.width, r = e.naturalHeight || e.height, o / r > a ? (n.maxWidth = r * a, n.maxHeight = r) : (n.maxWidth = o, n.maxHeight = o / a), n
        }, e.renderImageToCanvas = function (e, t, n, i, o, r, a, s, c, l) {
            return e.getContext("2d").drawImage(t, n, i, o, r, a, s, c, l), e
        }, e.hasCanvasOption = function (e) {
            return e.canvas || e.crop || !!e.aspectRatio
        }, e.scale = function (t, n, i) {
            function o() {
                var e = Math.max((c || w) / w, (l || S) / S);
                e > 1 && (w *= e, S *= e)
            }

            function r() {
                var e = Math.min((a || w) / w, (s || S) / S);
                e < 1 && (w *= e, S *= e)
            }

            n = n || {};
            var a, s, c, l, p, u, d, m, f, g, h, v = document.createElement("canvas"),
                y = t.getContext || e.hasCanvasOption(n) && v.getContext, b = t.naturalWidth || t.width,
                x = t.naturalHeight || t.height, w = b, S = x;
            if (y && (n = e.getTransformedOptions(t, n, i), d = n.left || 0, m = n.top || 0, n.sourceWidth ? (p = n.sourceWidth, void 0 !== n.right && void 0 === n.left && (d = b - p - n.right)) : p = b - d - (n.right || 0), n.sourceHeight ? (u = n.sourceHeight, void 0 !== n.bottom && void 0 === n.top && (m = x - u - n.bottom)) : u = x - m - (n.bottom || 0), w = p, S = u), a = n.maxWidth, s = n.maxHeight, c = n.minWidth, l = n.minHeight, y && a && s && n.crop ? (w = a, S = s, h = p / u - a / s, h < 0 ? (u = s * p / a, void 0 === n.top && void 0 === n.bottom && (m = (x - u) / 2)) : h > 0 && (p = a * u / s, void 0 === n.left && void 0 === n.right && (d = (b - p) / 2))) : ((n.contain || n.cover) && (c = a = a || c, l = s = s || l), n.cover ? (r(), o()) : (o(), r())), y) {
                if (f = n.pixelRatio, f > 1 && (v.style.width = w + "px", v.style.height = S + "px", w *= f, S *= f, v.getContext("2d").scale(f, f)), g = n.downsamplingRatio, g > 0 && g < 1 && w < p && S < u) for (; p * g > w;) v.width = p * g, v.height = u * g, e.renderImageToCanvas(v, t, d, m, p, u, 0, 0, v.width, v.height), d = 0, m = 0, p = v.width, u = v.height, t = document.createElement("canvas"), t.width = p, t.height = u, e.renderImageToCanvas(t, v, 0, 0, p, u, 0, 0, p, u);
                return v.width = w, v.height = S, e.transformCoordinates(v, n), e.renderImageToCanvas(v, t, d, m, p, u, 0, 0, w, S)
            }
            return t.width = w, t.height = S, t
        }
    })
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        var t = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice);
        e.blobSlice = t && function () {
            var e = this.slice || this.webkitSlice || this.mozSlice;
            return e.apply(this, arguments)
        }, e.metaDataParsers = {jpeg: {65505: []}}, e.parseMetaData = function (t, n, i, o) {
            i = i || {}, o = o || {};
            var r = this, a = i.maxMetaDataSize || 262144,
                s = !(window.DataView && t && t.size >= 12 && "image/jpeg" === t.type && e.blobSlice);
            !s && e.readFile(e.blobSlice.call(t, 0, a), function (t) {
                if (t.target.error) return console.log(t.target.error), void n(o);
                var a, s, c, l, p = t.target.result, u = new DataView(p), d = 2, m = u.byteLength - 4, f = d;
                if (65496 === u.getUint16(0)) {
                    for (; d < m && (a = u.getUint16(d), a >= 65504 && a <= 65519 || 65534 === a);) {
                        if (s = u.getUint16(d + 2) + 2, d + s > u.byteLength) {
                            console.log("Invalid meta data: Invalid segment size.");
                            break
                        }
                        if (c = e.metaDataParsers.jpeg[a]) for (l = 0; l < c.length; l += 1) c[l].call(r, u, d, s, o, i);
                        d += s, f = d
                    }
                    !i.disableImageHead && f > 6 && (p.slice ? o.imageHead = p.slice(0, f) : o.imageHead = new Uint8Array(p).subarray(0, f))
                } else console.log("Invalid JPEG file: Missing JPEG marker.");
                n(o)
            }, "readAsArrayBuffer") || n(o)
        }, e.hasMetaOption = function (e) {
            return e && e.meta
        };
        var n = e.transform;
        e.transform = function (t, i, o, r, a) {
            e.hasMetaOption(i) ? e.parseMetaData(r, function (a) {
                n.call(e, t, i, o, r, a)
            }, i, a) : n.apply(e, arguments)
        }
    })
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168), n(170)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        "fetch" in window && "Request" in window && (e.fetchBlob = function (t, n, i) {
            return e.hasMetaOption(i) ? fetch(new Request(t, i)).then(function (e) {
                return e.blob()
            }).then(n)["catch"](function (e) {
                console.log(e), n()
            }) : void n()
        })
    })
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168), n(170)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        e.ExifMap = function () {
            return this
        }, e.ExifMap.prototype.map = {Orientation: 274}, e.ExifMap.prototype.get = function (e) {
            return this[e] || this[this.map[e]]
        }, e.getExifThumbnail = function (e, t, n) {
            var i, o, r;
            if (!n || t + n > e.byteLength) return void console.log("Invalid Exif data: Invalid thumbnail data.");
            for (i = [], o = 0; o < n; o += 1) r = e.getUint8(t + o), i.push((r < 16 ? "0" : "") + r.toString(16));
            return "data:image/jpeg,%" + i.join("%")
        }, e.exifTagTypes = {
            1: {
                getValue: function (e, t) {
                    return e.getUint8(t)
                }, size: 1
            }, 2: {
                getValue: function (e, t) {
                    return String.fromCharCode(e.getUint8(t))
                }, size: 1, ascii: !0
            }, 3: {
                getValue: function (e, t, n) {
                    return e.getUint16(t, n)
                }, size: 2
            }, 4: {
                getValue: function (e, t, n) {
                    return e.getUint32(t, n)
                }, size: 4
            }, 5: {
                getValue: function (e, t, n) {
                    return e.getUint32(t, n) / e.getUint32(t + 4, n)
                }, size: 8
            }, 9: {
                getValue: function (e, t, n) {
                    return e.getInt32(t, n)
                }, size: 4
            }, 10: {
                getValue: function (e, t, n) {
                    return e.getInt32(t, n) / e.getInt32(t + 4, n)
                }, size: 8
            }
        }, e.exifTagTypes[7] = e.exifTagTypes[1], e.getExifValue = function (t, n, i, o, r, a) {
            var s, c, l, p, u, d, m = e.exifTagTypes[o];
            if (!m) return void console.log("Invalid Exif data: Invalid tag type.");
            if (s = m.size * r, c = s > 4 ? n + t.getUint32(i + 8, a) : i + 8, c + s > t.byteLength) return void console.log("Invalid Exif data: Invalid data offset.");
            if (1 === r) return m.getValue(t, c, a);
            for (l = [], p = 0; p < r; p += 1) l[p] = m.getValue(t, c + p * m.size, a);
            if (m.ascii) {
                for (u = "", p = 0; p < l.length && (d = l[p], "\0" !== d); p += 1) u += d;
                return u
            }
            return l
        }, e.parseExifTag = function (t, n, i, o, r) {
            var a = t.getUint16(i, o);
            r.exif[a] = e.getExifValue(t, n, i, t.getUint16(i + 2, o), t.getUint32(i + 4, o), o)
        }, e.parseExifTags = function (e, t, n, i, o) {
            var r, a, s;
            if (n + 6 > e.byteLength) return void console.log("Invalid Exif data: Invalid directory offset.");
            if (r = e.getUint16(n, i), a = n + 2 + 12 * r, a + 4 > e.byteLength) return void console.log("Invalid Exif data: Invalid directory size.");
            for (s = 0; s < r; s += 1) this.parseExifTag(e, t, n + 2 + 12 * s, i, o);
            return e.getUint32(a, i)
        }, e.parseExifData = function (t, n, i, o, r) {
            if (!r.disableExif) {
                var a, s, c, l = n + 10;
                if (1165519206 === t.getUint32(n + 4)) {
                    if (l + 8 > t.byteLength) return void console.log("Invalid Exif data: Invalid segment size.");
                    if (0 !== t.getUint16(n + 8)) return void console.log("Invalid Exif data: Missing byte alignment offset.");
                    switch (t.getUint16(l)) {
                        case 18761:
                            a = !0;
                            break;
                        case 19789:
                            a = !1;
                            break;
                        default:
                            return void console.log("Invalid Exif data: Invalid byte alignment marker.")
                    }
                    if (42 !== t.getUint16(l + 2, a)) return void console.log("Invalid Exif data: Missing TIFF marker.");
                    s = t.getUint32(l + 4, a), o.exif = new e.ExifMap, s = e.parseExifTags(t, l, l + s, a, o), s && !r.disableExifThumbnail && (c = {exif: {}}, s = e.parseExifTags(t, l, l + s, a, c), c.exif[513] && (o.exif.Thumbnail = e.getExifThumbnail(t, l + c.exif[513], c.exif[514]))), o.exif[34665] && !r.disableExifSub && e.parseExifTags(t, l, l + o.exif[34665], a, o), o.exif[34853] && !r.disableExifGps && e.parseExifTags(t, l, l + o.exif[34853], a, o)
                }
            }
        }, e.metaDataParsers.jpeg[65505].push(e.parseExifData)
    })
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168), n(172)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        e.ExifMap.prototype.tags = {
            256: "ImageWidth",
            257: "ImageHeight",
            34665: "ExifIFDPointer",
            34853: "GPSInfoIFDPointer",
            40965: "InteroperabilityIFDPointer",
            258: "BitsPerSample",
            259: "Compression",
            262: "PhotometricInterpretation",
            274: "Orientation",
            277: "SamplesPerPixel",
            284: "PlanarConfiguration",
            530: "YCbCrSubSampling",
            531: "YCbCrPositioning",
            282: "XResolution",
            283: "YResolution",
            296: "ResolutionUnit",
            273: "StripOffsets",
            278: "RowsPerStrip",
            279: "StripByteCounts",
            513: "JPEGInterchangeFormat",
            514: "JPEGInterchangeFormatLength",
            301: "TransferFunction",
            318: "WhitePoint",
            319: "PrimaryChromaticities",
            529: "YCbCrCoefficients",
            532: "ReferenceBlackWhite",
            306: "DateTime",
            270: "ImageDescription",
            271: "Make",
            272: "Model",
            305: "Software",
            315: "Artist",
            33432: "Copyright",
            36864: "ExifVersion",
            40960: "FlashpixVersion",
            40961: "ColorSpace",
            40962: "PixelXDimension",
            40963: "PixelYDimension",
            42240: "Gamma",
            37121: "ComponentsConfiguration",
            37122: "CompressedBitsPerPixel",
            37500: "MakerNote",
            37510: "UserComment",
            40964: "RelatedSoundFile",
            36867: "DateTimeOriginal",
            36868: "DateTimeDigitized",
            37520: "SubSecTime",
            37521: "SubSecTimeOriginal",
            37522: "SubSecTimeDigitized",
            33434: "ExposureTime",
            33437: "FNumber",
            34850: "ExposureProgram",
            34852: "SpectralSensitivity",
            34855: "PhotographicSensitivity",
            34856: "OECF",
            34864: "SensitivityType",
            34865: "StandardOutputSensitivity",
            34866: "RecommendedExposureIndex",
            34867: "ISOSpeed",
            34868: "ISOSpeedLatitudeyyy",
            34869: "ISOSpeedLatitudezzz",
            37377: "ShutterSpeedValue",
            37378: "ApertureValue",
            37379: "BrightnessValue",
            37380: "ExposureBias",
            37381: "MaxApertureValue",
            37382: "SubjectDistance",
            37383: "MeteringMode",
            37384: "LightSource",
            37385: "Flash",
            37396: "SubjectArea",
            37386: "FocalLength",
            41483: "FlashEnergy",
            41484: "SpatialFrequencyResponse",
            41486: "FocalPlaneXResolution",
            41487: "FocalPlaneYResolution",
            41488: "FocalPlaneResolutionUnit",
            41492: "SubjectLocation",
            41493: "ExposureIndex",
            41495: "SensingMethod",
            41728: "FileSource",
            41729: "SceneType",
            41730: "CFAPattern",
            41985: "CustomRendered",
            41986: "ExposureMode",
            41987: "WhiteBalance",
            41988: "DigitalZoomRatio",
            41989: "FocalLengthIn35mmFilm",
            41990: "SceneCaptureType",
            41991: "GainControl",
            41992: "Contrast",
            41993: "Saturation",
            41994: "Sharpness",
            41995: "DeviceSettingDescription",
            41996: "SubjectDistanceRange",
            42016: "ImageUniqueID",
            42032: "CameraOwnerName",
            42033: "BodySerialNumber",
            42034: "LensSpecification",
            42035: "LensMake",
            42036: "LensModel",
            42037: "LensSerialNumber",
            0: "GPSVersionID",
            1: "GPSLatitudeRef",
            2: "GPSLatitude",
            3: "GPSLongitudeRef",
            4: "GPSLongitude",
            5: "GPSAltitudeRef",
            6: "GPSAltitude",
            7: "GPSTimeStamp",
            8: "GPSSatellites",
            9: "GPSStatus",
            10: "GPSMeasureMode",
            11: "GPSDOP",
            12: "GPSSpeedRef",
            13: "GPSSpeed",
            14: "GPSTrackRef",
            15: "GPSTrack",
            16: "GPSImgDirectionRef",
            17: "GPSImgDirection",
            18: "GPSMapDatum",
            19: "GPSDestLatitudeRef",
            20: "GPSDestLatitude",
            21: "GPSDestLongitudeRef",
            22: "GPSDestLongitude",
            23: "GPSDestBearingRef",
            24: "GPSDestBearing",
            25: "GPSDestDistanceRef",
            26: "GPSDestDistance",
            27: "GPSProcessingMethod",
            28: "GPSAreaInformation",
            29: "GPSDateStamp",
            30: "GPSDifferential",
            31: "GPSHPositioningError"
        }, e.ExifMap.prototype.stringValues = {
            ExposureProgram: {
                0: "Undefined",
                1: "Manual",
                2: "Normal program",
                3: "Aperture priority",
                4: "Shutter priority",
                5: "Creative program",
                6: "Action program",
                7: "Portrait mode",
                8: "Landscape mode"
            },
            MeteringMode: {
                0: "Unknown",
                1: "Average",
                2: "CenterWeightedAverage",
                3: "Spot",
                4: "MultiSpot",
                5: "Pattern",
                6: "Partial",
                255: "Other"
            },
            LightSource: {
                0: "Unknown",
                1: "Daylight",
                2: "Fluorescent",
                3: "Tungsten (incandescent light)",
                4: "Flash",
                9: "Fine weather",
                10: "Cloudy weather",
                11: "Shade",
                12: "Daylight fluorescent (D 5700 - 7100K)",
                13: "Day white fluorescent (N 4600 - 5400K)",
                14: "Cool white fluorescent (W 3900 - 4500K)",
                15: "White fluorescent (WW 3200 - 3700K)",
                17: "Standard light A",
                18: "Standard light B",
                19: "Standard light C",
                20: "D55",
                21: "D65",
                22: "D75",
                23: "D50",
                24: "ISO studio tungsten",
                255: "Other"
            },
            Flash: {
                0: "Flash did not fire",
                1: "Flash fired",
                5: "Strobe return light not detected",
                7: "Strobe return light detected",
                9: "Flash fired, compulsory flash mode",
                13: "Flash fired, compulsory flash mode, return light not detected",
                15: "Flash fired, compulsory flash mode, return light detected",
                16: "Flash did not fire, compulsory flash mode",
                24: "Flash did not fire, auto mode",
                25: "Flash fired, auto mode",
                29: "Flash fired, auto mode, return light not detected",
                31: "Flash fired, auto mode, return light detected",
                32: "No flash function",
                65: "Flash fired, red-eye reduction mode",
                69: "Flash fired, red-eye reduction mode, return light not detected",
                71: "Flash fired, red-eye reduction mode, return light detected",
                73: "Flash fired, compulsory flash mode, red-eye reduction mode",
                77: "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",
                79: "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",
                89: "Flash fired, auto mode, red-eye reduction mode",
                93: "Flash fired, auto mode, return light not detected, red-eye reduction mode",
                95: "Flash fired, auto mode, return light detected, red-eye reduction mode"
            },
            SensingMethod: {
                1: "Undefined",
                2: "One-chip color area sensor",
                3: "Two-chip color area sensor",
                4: "Three-chip color area sensor",
                5: "Color sequential area sensor",
                7: "Trilinear sensor",
                8: "Color sequential linear sensor"
            },
            SceneCaptureType: {0: "Standard", 1: "Landscape", 2: "Portrait", 3: "Night scene"},
            SceneType: {1: "Directly photographed"},
            CustomRendered: {0: "Normal process", 1: "Custom process"},
            WhiteBalance: {0: "Auto white balance", 1: "Manual white balance"},
            GainControl: {0: "None", 1: "Low gain up", 2: "High gain up", 3: "Low gain down", 4: "High gain down"},
            Contrast: {0: "Normal", 1: "Soft", 2: "Hard"},
            Saturation: {0: "Normal", 1: "Low saturation", 2: "High saturation"},
            Sharpness: {0: "Normal", 1: "Soft", 2: "Hard"},
            SubjectDistanceRange: {0: "Unknown", 1: "Macro", 2: "Close view", 3: "Distant view"},
            FileSource: {3: "DSC"},
            ComponentsConfiguration: {0: "", 1: "Y", 2: "Cb", 3: "Cr", 4: "R", 5: "G", 6: "B"},
            Orientation: {
                1: "top-left",
                2: "top-right",
                3: "bottom-right",
                4: "bottom-left",
                5: "left-top",
                6: "right-top",
                7: "right-bottom",
                8: "left-bottom"
            }
        }, e.ExifMap.prototype.getText = function (e) {
            var t = this.get(e);
            switch (e) {
                case"LightSource":
                case"Flash":
                case"MeteringMode":
                case"ExposureProgram":
                case"SensingMethod":
                case"SceneCaptureType":
                case"SceneType":
                case"CustomRendered":
                case"WhiteBalance":
                case"GainControl":
                case"Contrast":
                case"Saturation":
                case"Sharpness":
                case"SubjectDistanceRange":
                case"FileSource":
                case"Orientation":
                    return this.stringValues[e][t];
                case"ExifVersion":
                case"FlashpixVersion":
                    if (!t) return;
                    return String.fromCharCode(t[0], t[1], t[2], t[3]);
                case"ComponentsConfiguration":
                    if (!t) return;
                    return this.stringValues[e][t[0]] + this.stringValues[e][t[1]] + this.stringValues[e][t[2]] + this.stringValues[e][t[3]];
                case"GPSVersionID":
                    if (!t) return;
                    return t[0] + "." + t[1] + "." + t[2] + "." + t[3]
            }
            return String(t)
        }, function (e) {
            var t, n = e.tags, i = e.map;
            for (t in n) n.hasOwnProperty(t) && (i[n[t]] = t)
        }(e.ExifMap.prototype), e.ExifMap.prototype.getAll = function () {
            var e, t, n = {};
            for (e in this) this.hasOwnProperty(e) && (t = this.tags[e], t && (n[t] = this.getText(t)));
            return n
        }
    })
}, function (e, t, n) {
    var i, o, r;
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function (a) {
        "use strict";
        o = [n(168), n(169), n(170)], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(function (e) {
        "use strict";
        var t = e.hasCanvasOption, n = e.hasMetaOption, i = e.transformCoordinates, o = e.getTransformedOptions;
        e.hasCanvasOption = function (n) {
            return !!n.orientation || t.call(e, n)
        }, e.hasMetaOption = function (t) {
            return t && t.orientation === !0 || n.call(e, t)
        }, e.transformCoordinates = function (t, n) {
            i.call(e, t, n);
            var o = t.getContext("2d"), r = t.width, a = t.height, s = t.style.width, c = t.style.height,
                l = n.orientation;
            if (l && !(l > 8)) switch (l > 4 && (t.width = a, t.height = r, t.style.width = c, t.style.height = s), l) {
                case 2:
                    o.translate(r, 0), o.scale(-1, 1);
                    break;
                case 3:
                    o.translate(r, a), o.rotate(Math.PI);
                    break;
                case 4:
                    o.translate(0, a), o.scale(1, -1);
                    break;
                case 5:
                    o.rotate(.5 * Math.PI), o.scale(1, -1);
                    break;
                case 6:
                    o.rotate(.5 * Math.PI), o.translate(0, -a);
                    break;
                case 7:
                    o.rotate(.5 * Math.PI), o.translate(r, -a), o.scale(-1, 1);
                    break;
                case 8:
                    o.rotate(-.5 * Math.PI), o.translate(-r, 0)
            }
        }, e.getTransformedOptions = function (t, n, i) {
            var r, a, s = o.call(e, t, n), c = s.orientation;
            if (c === !0 && i && i.exif && (c = i.exif.get("Orientation")), !c || c > 8 || 1 === c) return s;
            r = {};
            for (a in s) s.hasOwnProperty(a) && (r[a] = s[a]);
            switch (r.orientation = c, c) {
                case 2:
                    r.left = s.right, r.right = s.left;
                    break;
                case 3:
                    r.left = s.right, r.top = s.bottom, r.right = s.left, r.bottom = s.top;
                    break;
                case 4:
                    r.top = s.bottom, r.bottom = s.top;
                    break;
                case 5:
                    r.left = s.top, r.top = s.left, r.right = s.bottom, r.bottom = s.right;
                    break;
                case 6:
                    r.left = s.top, r.top = s.right, r.right = s.bottom, r.bottom = s.left;
                    break;
                case 7:
                    r.left = s.bottom, r.top = s.right, r.right = s.top, r.bottom = s.left;
                    break;
                case 8:
                    r.left = s.bottom, r.top = s.left, r.right = s.top, r.bottom = s.right
            }
            return r.orientation > 4 && (r.maxWidth = s.maxHeight, r.maxHeight = s.maxWidth, r.minWidth = s.minHeight, r.minHeight = s.minWidth, r.sourceWidth = s.sourceHeight, r.sourceHeight = s.sourceWidth), r
        }
    })
}, function (e, t, n) {
    "use strict";

    function i() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent) || window.screen.width < 500
    }

    function o() {
        return window.top === window && /MicroMessenger/i.test(navigator.userAgent)
    }

    function r() {
        return i() && a()
    }

    function a() {
        return /Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.appVersion)
    }

    function s() {
        return /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)
    }

    function c() {
        return /iPhone/i.test(navigator.userAgent)
    }

    function l() {
        return !(i() || s() && window === window.top)
    }

    function p() {
        var e = n(176).getUrlParam;
        return !!e("appclient") || !!window.viewData
    }

    function u() {
        return /ipad|iphone/i.test(navigator.userAgent)
    }

    function d() {
        return /msie|applewebkit.+safari/i.test(navigator.userAgent)
    }

    function m() {
        var e = window.navigator.userAgent;
        return parseFloat(e.substr(e.indexOf("Android") + 8, 3))
    }

    e.exports = {
        mobilecheck: i,
        isMobile: i,
        isWeixin: o,
        isAndroidPhone: r,
        isAndroid: a,
        tabletCheck: s,
        iphoneCheck: c,
        isPc: l,
        isApp: p,
        isIOS: u,
        isSafari: d,
        getAndroidVersion: m
    }
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return e.startsWith("//") && (e = location.protocol + e), new window.URL(e)
    }

    function o(e) {
        var t = location.href, n = a("toPage", t);
        n ? n !== "" + e && (t = t.replace(n, e)) : t += (/\?/.test(t) ? "&" : "?") + "toPage=" + e, window.history.replaceState({
            title: $("title").html(),
            url: t
        }, $("title").html(), t)
    }

    function r(e, t) {
        b() ? (o(t), location.href = e) : window.open(e, "_blank")
    }

    function a(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location.href;
        return i(t).searchParams.get(e)
    }

    function s(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location.href, n = i(t);
        return n.searchParams["delete"](e), n.href
    }

    function c() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location.href, n = i(t);
        return e.forEach(function (e) {
            n.searchParams["delete"](e)
        }), n.href
    }

    function l(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window.location.href, o = i(n);
        return o.searchParams.set(e, t), o.href
    }

    function p(e) {
        var t = window.location.href;
        history.replaceState({}, t, e)
    }

    function u() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;
        return i(e).host
    }

    function d() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href, t = i(e);
        return t.pathname
    }

    function m() {
        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
        var i = t.length;
        if (0 === i) throw new Error("resolveUrl requires at least one argument; got none.");
        var o = document.createElement("base");
        if (o.href = t[0], 1 === i) return o.href;
        var r = document.getElementsByTagName("head")[0];
        r.insertBefore(o, r.firstChild);
        for (var a, s = document.createElement("a"), c = 1; c < i; c++) s.href = t[c], a = s.href, o.href = a;
        return r.removeChild(o), a
    }

    function f(e) {
        var t = location.protocol;
        return "https:" != t && (t = "http:"), /^\w{2,}:\/\//.test(e) || (e = "//" + e), e.replace(/^\/\//, t + "//")
    }

    function g(e) {
        return f(e).replace(/^https:/, "http:")
    }

    function h(e) {
        return f(e).replace(/^http:/, "https:")
    }

    function v() {
        var e = g(y.EQX), t = n(175).mobilecheck;
        return e = t() ? "http://service.eqxiu.com/m/special/1023.html" : "http://store.eqxiu.com/cats-2.html"
    }

    var y = n(114), b = n(175).mobilecheck;
    e.exports = {
        parseUrl: i,
        getUrlParam: a,
        removeUrlParam: s,
        removeUrlParams: c,
        addUrlParam: l,
        replaceLocationHref: p,
        getUrlHost: u,
        resolveUrl: m,
        setUrlHistory: o,
        openUrl: r,
        getPathName: d,
        addProtocol: f,
        url2http: g,
        url2https: h,
        redirectUrl: v
    }
}, function (e, t, n) {
    "use strict";
    n(178), n(179), n(180), e.exports = angular.module("comp.resource", [n(181)]).directive("eqxResourceCategory", function () {
        return {template: n(186)}
    }).directive("eqxResourceTags", function () {
        return {template: n(187)}
    }).directive("eqxResourcePagination", function () {
        return {template: n(188)}
    }).directive("eqxResourceLoading", function () {
        return {template: n(189)}
    }).directive("eqxResourceNone", function () {
        return {template: n(190)}
    }).directive("eqxResourceNav2", function () {
        return {replace: !0, template: n(191)}
    }).directive("eqxResourceTopFunction2", function () {
        return {
            replace: !0,
            template: n(192),
            scope: {category: "=", hot: "=", price: "=", keywords: "=", change: "&", scrolled: "="},
            link: function (e) {
                e.onSearch = function (t) {
                    13 === t.keyCode && e.change()
                }
            }
        }
    }).filter("inDays", function () {
        return function (e, t) {
            var n = (e - Date.now()) / 864e5;
            return parseInt(n) <= t
        }
    }).name
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    n(182), e.exports = angular.module("agreement", []).directive("eqdMusicAgreement", function () {
        return {replace: !0, template: n(183)}
    }).directive("eqdImageAgreement", function () {
        return {replace: !0, template: n(184)}
    }).directive("eqdFontAgreement", function () {
        return {replace: !0, template: n(185)}
    }).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-dialog eqc-agreement"><div class="head"><span class="title">易企秀音乐版权许可与服务协议</span> <span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="body"><div class="title">易企秀音乐版权许可与服务协议</div><h5>第一条 音乐版权声明</h5><p>易企秀平台音乐库中所有收费音乐素材均是经版权方合法授权的正版素材，其知识产权和所有权归版权方所有。用户须购买后方可享有有限使用权。</p><h5>第二条 授权使用方式</h5><p>易企秀提供的音乐授权方式是有限使用权。用户付费购买前，仅享有在线试听权，用户只有在付费购买后，才享有音乐使用授权；音乐的使用权是非排他性的、全球性的、单用户的使用权，不受使用次数的限制，使用权不可转让。</p><p>用户只有完成付款后，才能按照本协议的约定获得音乐的有限使用权，否则，音乐的使用授权不成立。</p><h5>第三条 授权使用范围</h5><p>易企秀平台提供的收费音乐仅供用户付费后在易企秀平台（编辑器）内使用并通过各种途径对在易企秀场景中所创作的设计作品进行传播。用户不得用于易企秀平台以外的其他范围或项目，不得将付费后的音乐用于任何违法场合、包括但不限于违法的宣传品。</p><h5>第四条 授权使用期限</h5><p>音乐的授权使用期限为1年。用户自完成付费之日起算1年内享受本协议第二条和第三条约定的使用权限；授权到期后，用户如需继续使用音乐版权，须重新付费购买。</p><h5>第五条 权利与义务</h5><p>用户有权利按照本协议的约定许可条件，合理的使用音乐素材版权，并遵守《中华人名共和国著作权法》等相关法律法规的规定，未经授权任何单位和个人不得非法复制、转载或以其他任何方式使用，否则产生的一切法律责任和后果均由侵权方承担。</p><h5>第六条 法律风险声明</h5><p>易企秀平台为用户提供自主上传音频素材的通道和入口，允许用户添加合法的音频外链，鼓励用户上传和使用原创优质音频素材，同时鼓励用户使用易企秀平台所提供的正版素材。如因用户的作品内容或使用的素材被他人投诉或第三方公司向易企秀公司提出异议，易企秀公司有权下架、删除有关作品信息和素材内容且不承担任何责任。</p><p>同时，用户对自主上传的音频素材和音频外链侵权风险承担全部责任，即用户因未经版权方授权进行上传和使用第三方平台或版权方的音频素材而引发的任何侵权纠纷事件，以及情节较为严重的经济索赔责任，均由用户全部承担，易企秀公司不承担任何责任。</p><p class="strong">故用户须谨慎上传和使用版权来源不明确的任何音频素材和外链。</p><h5>第七条 协议生效及其他</h5><p>本协议是用户与北京中网易企秀科技有限公司之间关于用户在易企秀平台上使用音乐授权等相关服务所签订的一份具有法律效力的协议。用户在购买音乐版权前，须充分阅读和理解、同意并遵守本协议有关条款的内容，否则用户无权购买和使用。</p><p>用户完成付费购买的行为视为已经充分理解和同意本协议。在此协议发布之前，已经完成音乐版权购买的用户，须在本协议约定的条件和范围内使用音乐版权等有关服务。</p><div class="foot">易企秀公司</div></div></div>'
}, function (e, t) {
    e.exports = '<div class="eqc-dialog eqc-agreement"><div class="head"><span class="title">易企秀图片版权许可与服务协议</span> <span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="body"><div class="title">易企秀图片版权许可与服务协议</div><h5>第一条 图片版权声明</h5><p>易企秀平台图片库中所有收费图片素材均是经版权方合法授权的正版素材，其知识产权和所有权归版权方所有。用户须购买后方可享有有限使用权。</p><h5>第二条 授权使用方式</h5><p>易企秀提供的图片授权是免版税金（RF, Royalty-Free）使用图片版权的方式。用户购买图片使用授权后，图片的使用权是非排他性的、全球性的、单用户的使用权，不受使用次数的限制，使用权不可转让。</p><p>用户只有完成付款后，才能按照本协议的约定获得图片的有限使用权，否则，图片的使用授权不成立。</p><h5>第三条 授权使用范围</h5><p>易企秀平台提供的收费图片仅供用户付费后在易企秀平台（编辑器）内使用并通过各种途径对在易企秀场景中所创作的设计作品进行传播。用户不得用于易企秀平台以外的其他范围或项目，不得将付费后的图片用在需要正式注册的商标或服务标志上，不得将图片用于其他任何违法场合、包括违法的宣传品等。</p><h5>第四条 授权使用期限</h5><p>图片的授权使用期限为1年。用户自完成付费之日起算1年内享受本协议第二条和第三条约定的使用权限；授权到期后，用户如需继续使用图片版权，须重新付费购买。</p><h5>第五条 权利与义务</h5><p>用户有权利按照本协议的约定许可条件，合理的使用图片素材版权，并遵守《中华人名共和国著作权法》等相关法律法规的规定，未经授权任何单位和个人不得非法复制、转载或以其他任何方式使用，否则产生的一切法律责任和后果均由侵权方承担。</p><h5>第六条 法律风险声明</h5><p>易企秀平台为用户提供自主上传图片素材的通道和入口，鼓励用户上传和使用原创优质素材，鼓励用户使用易企秀平台所提供的正版素材。如因用户的作品内容或使用的素材被他人投诉或第三方公司向易企秀公司提出异议，易企秀公司有权下架、删除有关作品信息和素材内容且不承担任何责任。</p><p>同时，用户对自主上传的图片素材侵权风险承担全部责任，即用户因未经版权方授权进行上传和使用第三方平台或版权方的图片素材而引发的任何侵权纠纷事件，以及情节较为严重的经济索赔责任，均由用户全部承担，易企秀公司不承担任何责任。</p><p class="strong">故用户须谨慎上传和使用版权来源不明确的任何图片素材。</p><h5>第七条 协议生效及其他</h5><p>本协议是用户与北京中网易企秀科技有限公司之间关于用户在易企秀平台上使用图片授权等相关服务所签订的一份具有法律效力的协议。用户在购买图片版权前，须充分阅读和理解、同意并遵守本协议有关条款的内容，否则用户无权购买和使用。</p><p>用户完成付费购买的行为视为已经充分理解和同意本协议。在此协议发布之前，已经完成图片版权购买的用户，须在本协议约定的条件和范围内使用图片版权等有关服务。</p><div class="foot">易企秀公司</div></div></div>'
}, function (e, t) {
    e.exports = '<div class="eqc-dialog eqc-agreement"><div class="head"><span class="title">易企秀字体版权许可与服务协议</span> <span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="body"><div class="title">易企秀字体版权许可与服务协议</div><h5>第一条 字体版权声明</h5><p>易企秀平台字体库中所有字体素材（默认字体和公开永久免费的字体除外，下同）均是经版权方合法授权的正版素材，其知识产权和所有权归版权方所有。用户须购买后方可享有有限使用权。</p><h5>第二条 授权使用方式</h5><p>易企秀提供的字体授权方式是有限使用权。用户付费购买字体使用授权后，对字体的使用权是非独占性的，不受使用次数的限制，字体的使用权不可转让。</p><p>用户只有完成付款后，才能按照本协议的约定获得字体的有限使用权，否则，字体的使用授权不成立。</p><p>个人用户购买属于非商业授权，适用于个人场景的制作和推广；企业用户购买授权，在本协议的授权范围内允许以直接营利或者间接营利为目的商业行为。</p><h5>第三条 授权使用范围</h5><p>易企秀平台提供的所有字体仅供用户付费后在易企秀平台（编辑器）内使用并通过各种途径对在易企秀场景中所创作的设计作品进行传播。用户不得用于易企秀平台之外的其他范围或项目，不得将付费后的字体用于具有商业目的的复制、发行、展览等。</p><p>无论是个人还是企业用户均不得对易企秀平台的字体进行复制、修改、仿制、反编译、反汇编、转换、翻译、拆分，或以其它方式非法获取源代码；不得将字体直接、格式转换或修改后用于网站、企业名称、商标、广告等形式和范围。</p><h5>第四条 授权使用期限</h5><p>字体的授权使用期限为1年。用户自完成付费之日起算1年内享受本协议第二条和第三条约定的使用权限；授权到期后，用户如需继续使用字体版权，须重新付费购买。</p><h5>第五条 权利与义务</h5><p>用户有权利按照本协议的约定许可条件，合理的使用字体素材版权，并遵守《中华人名共和国著作权法》等相关法律法规的规定，未经授权任何单位和个人不得非法复制或以其他任何方式使用，否则产生的一切法律责任和后果均由侵权方承担。</p><h5>第六条 协议生效及其他</h5><p>本协议是用户与北京中网易企秀科技有限公司之间关于用户在易企秀平台上使用字体授权等相关服务所签订的一份具有法律效力的协议。用户在购买字体版权前，须充分阅读和理解、同意并遵守本协议有关条款的内容，否则用户无权购买和使用。</p><p>用户完成付费购买的行为视为已经充分理解和同意本协议。在此协议发布之前，已经完成字体版权购买的用户，须在本协议约定的条件和范围内使用字体版权等有关服务。</p><div class="foot">易企秀公司</div></div></div>'
}, function (e, t) {
    e.exports = '<div class="category_list clearfix"><ul class="category_list_container clearfix"><li class="category_item" ng-class="{\'active\': vm.category === category}" ng-repeat="category in vm.categoryList" ng-click="setCategory(category)" ng-hide="category.id === \'search\' || category.id === HOST.MALL_PIC_ID\n            || category.id === HOST.MALL_MUSIC_ID || category.id === HOST.MALL_SOUND_ID\n            || category.id === HOST.MALL_FONT_ID">{{category.name}}</li></ul><div style="float: right; margin-top:10px; position: relative;font-size: 12px;margin-bottom:5px" ng-if="vm.showSearch"><input style="width:200px;height:25px;border-radius: 100px" type="text" class="search pl20" placeholder="搜索" ng-model="vm.search" ng-keypress="searchMaterial($event)"> <span ng-if="vm.title != \'正版字体\'" style="position:absolute;top:7px;right:20px" class="eqf-search-l" ng-click="searchMaterial();"></span> <span ng-if="vm.title == \'正版字体\'" style="position:absolute;top:7px;right:20px" class="eqf-search-l" ng-click="searchMaterial();"></span></div></div>'
}, function (e, t) {
    e.exports = '<div class="cat_two_list clearfix" ng-class="{showTags: vm.category.showTags}"><ul ng-show="vm.category.showTags"><li ng-repeat="tag in vm.category.list" ng-show="tag.id != \'bgColor\' || !vm.disableBgColor" ng-class="{\'active\': $index == vm.tagIndex}" ng-click="setTagIndex($index);" style="cursor:pointer">{{tag.name}}</li></ul></div>'
}, function (e, t) {
    e.exports = '<div class="modal-footer bg-pagination clearfix no-line"><div class="fl mr20" ng-show="vm.tag.count > 0 && vm.tag.count > vm.tag.pageSize"><pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="首页" last-text="尾页" max-size="5" items-per-page="vm.tag.pageSize" ng-model="vm.pageNo" boundary-links="true" total-items="vm.tag.count" ng-change="onPageNoChange()"></pagination><div class="current_page"><span class="fl">到</span> <input type="text" ng-model="vm.toPage" ng-keyup="$event.keyCode == 13 ? setPageNo(vm.toPage) : null"> <span class="fl">页</span> <a ng-click="setPageNo(vm.toPage)" class="go">确定</a></div></div><a ng-hide="vm.title==\'字体素材\'" class="modal-cancle" ng-click="close()">取消</a> <a ng-hide="vm.title==\'字体素材\'" class="btn btn-primary" ng-click="confirm();">确定</a></div>'
}, function (e, t) {
    e.exports = '<div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0;background-color: #ffffff;z-index: 99999"><div style="width: 98px; height: 60px; position: absolute; top: 0; right: 0; bottom: 0; left: 0; margin: auto; text-align: center"><img src="data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E"><p>加载中，请稍后</p></div></div>'
}, function (e, t) {
    e.exports = '<div style="position:absolute; top:0; right:0; bottom:0; left:0;text-align: center"><img style="padding-top: 110px" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2297.062%22%20height%3D%2275%22%20viewBox%3D%220%200%2097.062%2075%22%3E%0A%20%20%3Cmetadata%3E%3C%3Fxpacket%20begin%3D%22%uFEFF%22%20id%3D%22W5M0MpCehiHzreSzNTczkc9d%22%3F%3E%0A%3Cx%3Axmpmeta%20xmlns%3Ax%3D%22adobe%3Ans%3Ameta/%22%20x%3Axmptk%3D%22Adobe%20XMP%20Core%205.6-c138%2079.159824%2C%202016/09/14-01%3A09%3A01%20%20%20%20%20%20%20%20%22%3E%0A%20%20%20%3Crdf%3ARDF%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%3E%0A%20%20%20%20%20%20%3Crdf%3ADescription%20rdf%3Aabout%3D%22%22/%3E%0A%20%20%20%3C/rdf%3ARDF%3E%0A%3C/x%3Axmpmeta%3E%0A%3C%3Fxpacket%20end%3D%22w%22%3F%3E%3C/metadata%3E%0A%3Cdefs%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20.cls-1%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%23ccd5db%3B%0A%20%20%20%20%20%20%20%20fill-rule%3A%20evenodd%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20id%3D%22%u4E3A%u7A7A%u72B6%u6001%22%20class%3D%22cls-1%22%20d%3D%22M1003.21%2C496.206a8.191%2C8.191%2C0%2C0%2C1%2C2.19-.141q32.835%2C0%2C65.67%2C0a2.321%2C2.321%2C0%2C0%2C1%2C2.22%2C1.681q6.3%2C19.127%2C12.57%2C38.266a8.521%2C8.521%2C0%2C0%2C1%2C.12%2C2.312q0.015%2C15.056.01%2C30.109A2.312%2C2.312%2C0%2C0%2C1%2C1083.4%2C571q-45.48-.009-90.976%2C0c-0.918%2C0-2.019.094-2.715-.638-0.761-.694-0.692-1.831-0.688-2.776%2C0-10.033.019-20.065-.008-30.1a7.028%2C7.028%2C0%2C0%2C1%2C.608-2.9q6.038-18.414%2C12.079-36.83a2.3%2C2.3%2C0%2C0%2C1%2C1.51-1.552h0m2.09%2C4.149q-5.625%2C17.122-11.24%2C34.248%2C14.115%2C0%2C28.22%2C0a2.518%2C2.518%2C0%2C0%2C1%2C1.85.6%2C2.957%2C2.957%2C0%2C0%2C1%2C.77%2C2.275%2C12.828%2C12.828%2C0%2C0%2C0%2C5.17%2C9.641%2C12.489%2C12.489%2C0%2C0%2C0%2C16.91-1.894%2C12.735%2C12.735%2C0%2C0%2C0%2C3.14-7.98%2C2.772%2C2.772%2C0%2C0%2C1%2C.68-1.965%2C2.511%2C2.511%2C0%2C0%2C1%2C1.93-.675q14.115%2C0.006%2C28.22%2C0-5.625-17.121-11.24-34.248-32.2-.006-64.41%2C0h0m-12.053%2C38.532q0%2C13.914%2C0%2C27.827%2C44.255%2C0%2C88.513%2C0V538.887q-13.77%2C0-27.54%2C0a17.124%2C17.124%2C0%2C0%2C1-7.98%2C12.491%2C16.668%2C16.668%2C0%2C0%2C1-21.3-3.226%2C17.147%2C17.147%2C0%2C0%2C1-4.15-9.266q-13.77%2C0-27.543%2C0h0m0%2C0h0Z%22%20transform%3D%22translate%28-988.938%20-496%29%22/%3E%0A%3C/svg%3E%0A"><p style="padding-top: 20px; color: #A3AFB7">未找到结果，请尝试其他关键词！</p></div>'
}, function (e, t) {
    e.exports = '<div class="nav"><section class="nav-item"><label ng-if="vm.resourceName === \'image\' || vm.resourceName === \'bg\'">图片库</label><label ng-if="vm.resourceName === \'font\'">字体库</label><label ng-if="vm.resourceName === \'shape\'">形状库</label><label ng-if="vm.resourceName === \'music\'">音乐库</label><div class="menu-item" ng-class="{\'active\': vm.tab === TAB.sys}" ng-click="setTab(TAB.sys)"><span class="icon eqf-assembly-l"></span><label>分类</label></div></section><section class="nav-item"><label ng-if="vm.resourceName === \'image\' || vm.resourceName === \'bg\'">我的图片</label><label ng-if="vm.resourceName === \'font\'">我的字体</label><label ng-if="vm.resourceName === \'shape\'">我的形状</label><label ng-if="vm.resourceName === \'music\'">我的音乐</label><div class="menu-item" ng-if="vm.resourceName !== \'shape\'" ng-class="{\'active\': vm.tab === TAB.myPurchase}" ng-click="setTab(TAB.myPurchase)"><span class="icon eqf-shopping-l"></span><label>我的购买</label></div><div class="menu-item" ng-if="vm.resourceName === \'image\' || vm.resourceName === \'bg\' || vm.resourceName === \'music\'" ng-class="{\'active\': vm.tab === TAB.my}" ng-click="setTab(TAB.my)"><span class="icon eqf-upload"></span><label>我的上传</label></div><div class="menu-item" ng-class="{\'active\': vm.tab === TAB.recently}" ng-click="setTab(TAB.recently)"><span class="icon eqf-clock-l"></span><label>最近使用</label></div></section><a class="coupon" target="_blank" ng-repeat="c in coupons" ng-href="{{c.url}}" ng-style="{\'background-image\': \'url(\' + c.path + \')\'}"></a></div>'
}, function (e, t) {
    e.exports = '<div class="top-function clearfix" ng-class="{\'shadow\': !!scrolled}"><div class="filters clearfix"><div class="all-classify filter"><material-dropdown list="category.list" model="category.selected" change="change()"></material-dropdown></div><div class="hot filter"><material-dropdown list="hot.list" model="hot.selected" change="change()"></material-dropdown></div><div class="price filter"><material-dropdown list="price.list" model="price.selected" change="change()"></material-dropdown></div></div><div class="search-box"><div class="search"><input type="text" class="search-input" placeholder="按关键字搜索" ng-model="keywords" ng-keypress="onSearch($event)"> <span class="search-icon"><i class="eqf-search-l"></i></span></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.image", [n(194), n(201), n(210)]).directive("eqxBrandImg", n(216)).directive("imageSingleSelect", n(219)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.image.tpl", []).directive("eqxImageHeader", function () {
        return {template: n(195)}
    }).directive("eqxImageNav", function () {
        return {template: n(196)}
    }).directive("eqxImageUpload", function () {
        return {template: n(197)}
    }).directive("eqxImageList", function () {
        return {template: n(198)}
    }).directive("eqxImageEmpty", function () {
        return {template: n(199)}
    }).name
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" ng-click="close()"><span aria-hidden="true">×</span></button><div class="modal-title h4"><span>正版图片</span> <span ng-show="vm.error" class="action" ng-class="{\'modal-error\': vm.error}">{{ vm.error }}</span></div></div>'
}, function (e, t) {
    e.exports = '<div class="cate-title"><ul class="nav tabs-left" style="padding-top:0"><li ng-class="{active: vm.tab == TAB.sys}" ng-click="setTab(TAB.sys)"><a class="tab-btn" data-toggle="tab">图片库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click="setTab(TAB.myPurchase)"><a class="tab-btn" data-toggle="tab">我的购买</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click="setTab(TAB.my)"><a class="tab-btn" data-toggle="tab">我的上传</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click="setTab(TAB.recently)"><a class="tab-btn" data-toggle="tab">最近使用</a></li><eqx-image-upload></eqx-image-upload></ul></div>'
}, function (e, t) {
    e.exports = '<li class="my-bg-upload bg-img-upload" id="upload-image" style="z-index: 3" eqx-upload="vm.uploadOptions"><div class="bg-img-upload-btn form"><div id="upload-progress" class="progress" style="width: 0"></div><span class="eqf-update"></span> <em>{{vm.uploadOptions.uploadTips}}</em></div><div class="form-menus" style="z-index: 3"><div class="popover right" style="top: -73px; left: 160px"><div class="arrow"></div><div class="popover-content" style="font-size:12px"><i style="line-height: 22px">易企秀为广大用户提供原创正版图片上传渠道、信息储存空间等网络技术服务，用户可在遵守<a style="color: #59c7f9" ng-click="claimImg($event)">《易企秀图片版权许可与服务协议》</a>的前提下自行上传并对其上传作品承担全部责任，请谨慎使用上传功能。<br/><br/>大小不超过3M，支持格式：JPG、PNG、GIF，一次最多上传20张</i></div></div></div></li>'
}, function (e, t) {
    e.exports = '<div class="img_list img_list2"><div class="resource-empty-action" ng-if="vm.itemList.length <= 0 && !vm.showLoading"><eqx-image-empty></eqx-image-empty></div><eqx-resource-loading ng-show="vm.showLoading"></eqx-resource-loading><div image-single-select ng-if="vm.tag.id != \'bgColor\' && vm.itemList.length > 0" image-list="vm.itemList" error-info="vm.error" selected-image-lists="vm.selectedImageLists" select-count="vm.selectCount" select-image="selectImage"></div><p class="disclaimer" ng-if="vm.itemList.length > 0">使用图片即代表同意并接受 <a class="disclaimer-img" ng-click="claimImg($event)">《易企秀图片版权许可与服务协议》</a></p><div class="img_list_container photo_list" ng-if="vm.tag.id == \'bgColor\' && vm.itemList.length > 0"><ul class="img_box clearfix"><li ng-repeat="bg in vm.itemList" ng-click="selectBg(bg)"><div ng-style="{\'background-color\': bg.color}" style="position: relative; height: 100%; width: 63px; margin: 0px auto; background-color: rgb(99, 102, 195)"></div></li></ul></div></div>'
}, function (e, t, n) {
    e.exports = '<div class="empty-img"><img src="' + n(200) + '" alt=""></div><div class="resource-action-empty" ng-show="vm.category.id === \'search\'"><p class="empty-explain">请尝试其他关键字搜索</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.myPurchase"><p class="empty-explain">您尚未购买图片</p><p class="empty-guide">搜寻精美图片，请查看<a class="empty-guide-reinforce">＂图片库＂</a></p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.my"><p class="empty-explain">您尚未上传图片</p><p class="empty-guide">目前图片上传支持 <em>JPG、PNG、GIF</em>三种格式．</p><p class="empty-guide">文件大小不超过<em>3M</em>，一次最多可上传<em>20</em>张．</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.recently"><p class="empty-explain">您尚未使用图片</p><p class="empty-guide">赶紧去制作场景吧～</p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/emptyImage-afe425.svg"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.crop", []).factory("imageCropFactory", n(202)).directive("eqxCropPreview", n(207)).service("imageCropService", n(209)).name
}, function (e, t, n) {
    "use strict";
    var i = n(203), o = n(204);
    n(205), e.exports = ["dialogService", "modalService", "delayLoadService", "authorityService", function (e, t, r, a) {
        "ngInject";

        function s(a, s) {
            return r.imgJcrop().then(function () {
                return c ? t.open({
                    windowClass: "console img_crop pictures1",
                    template: n(206),
                    controller: i,
                    backdrop: "static",
                    resolve: {
                        obj: function () {
                            return JSON.parse(JSON.stringify(a))
                        }, cropOption: function () {
                            return s
                        }
                    }
                }) : e.open({
                    template: o, controller: i, resolve: {
                        obj: function () {
                            return JSON.parse(JSON.stringify(a))
                        }, cropOption: function () {
                            return s
                        }
                    }
                })
            })
        }

        var c = a.permission("newMaterialModal");
        return {openCropModal: s}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["obj", "$scope", "cropOption", "HOST", "EqxCore", "$rootScope", "authorityService", function (e, t, n, i, o, r, a) {
        "ngInject";
        if (!n) return t.$dismiss();
        t.TAB = {mask: 1, cory: 2}, t.imgStyles = o.core.comp.EqxImage.getImageStyles();
        t.vm = {tab: t.TAB.cory, canChange: "4" == e.type && !a.permission("disableImgShapeCut")};
        t.cropOption = n, t.cropSize = e.properties, t.HOST = i;
        var s = e.properties.radioValue - 1 || 0;
        n.currentItem = n.cropItems[s], t.cropItemChange = function (e) {
            null === e.lock && n.cropItems[7] && (n.cropItems[7].lock = !1), n.currentItem = e, r.$broadcast("cropItem.change", e)
        }, t.maskItemChange = function (e) {
            r.$broadcast("maskItem.change", e)
        }, t.ok = function () {
            e.properties.pageLength && (e.properties.type = n.currentItem.value), e.subType && delete e.subType, r.$broadcast("cropImage.ok", e)
        }, t.cancel = function () {
            t.$dismiss()
        }
    }]
}, function (e, t) {
    e.exports = '<div class="single-image-cut-container"><div class="single-image-cut-box" ng-if="cropOption.showItems"><div class="image-cut-left"><div class="head">{{::cropOption.title}}</div><div class="image_crop crop-img-cut" ctype="{{cropOption.type}}" ng-class="{\'bg-crop\': !cropOption.showItems}"><img id="target" eqx-crop-preview ng-src="{{HOST.FILE + cropOption.imgSrc}}"></div></div><div class="image-cut-right"><div class="image-cut-close-btn"><span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="cut-size"><div class="cut-shape-box" ng-if="vm.canChange"><span class="cut-shape-title">裁切形状</span><div eqd-scroll style="max-height: 144px"><div><ul class="cut-mask clearfix"><li ng-style="{border: cropSize.maskSrc ? \'\' : \'solid 2px #1593ff\'}" ng-click="maskItemChange()"><span></span></li><li ng-repeat="img in imgStyles" ng-style="{backgroundImage: \'url(\' + img.path + \')\', border: cropSize.maskSrc === img.path ? \'solid 2px #1593ff\': \'\'}" ng-click="maskItemChange(img.path)"></li></ul></div></div></div><div class="cut-cory-box"><div class="cut-cory-head"><span class="cut-cory-title">裁切比例</span></div><ul class="cut-cory"><li ng-repeat="item in cropOption.cropItems"><div class="radio-square" style="margin-top:10px" ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)"></div><label for="{{item.desc}}">{{item.desc}}</label><span ng-if="item.lock != null" ng-click="item.lock = !item.lock;cropItemChange(item)" class="hint--right hint--rounded" data-hint="{{item.lock ? \'取消锁定比例\' : \'锁定比例\'}}" style="margin-left: 5px"><em ng-class="{\'eqf-lock-f\': item.lock, \'eqf-unlock-f\': !item.lock}"></em></span></li></ul></div></div><div class="footer"><a class="cancel" ng-click="closeThisDialog()">取消</a> <a class="confirm" ng-click="ok()">确定</a></div></div></div><div class="single-image-cut-box2" ng-if="!cropOption.showItems"><div class="head">{{::cropOption.title}} <span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="image_crop crop-img-cut" ctype="{{cropOption.type}}" ng-class="{\'bg-crop\': !cropOption.showItems}"><img id="target2" eqx-crop-preview ng-src="{{HOST.FILE + cropOption.imgSrc}}"></div><div class="footer"><a class="cancel" ng-click="closeThisDialog()">取消</a> <a class="confirm" ng-click="ok()">确定</a></div></div></div>'
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="images-cut-box2"><div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">{{cropOption.title}} <span class="action">{{cropOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class="image_crop crop-img-cut" ctype="{{cropOption.type}}" ng-class="{\'bg-crop\': !cropOption.showItems}"><img id="target" eqx-crop-preview ng-src="{{HOST.FILE + cropOption.imgSrc}}"></div><div class="cut-size" ng-show="cropOption.showItems"><div class="cut-nav clearfix" ng-if="vm.canChange"><span ng-style="{\'background-color\': vm.tab === TAB.mask ? \'#FFF\' : \'#CCD5DB\'}" ng-click="vm.tab = TAB.mask">裁剪形状</span> <span ng-style="{\'background-color\': vm.tab ===  TAB.cory ? \'#FFF\' : \'#CCD5DB\'}" ng-click="vm.tab = TAB.cory">裁剪比例</span></div><div class="cut-nav clearfix" style="background-color: #CCD5DB" ng-if="!vm.canChange"><span>裁剪比例</span></div><ul ng-if="vm.tab === TAB.cory" class="cut-cory"><li ng-repeat="item in cropOption.cropItems"><input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)"><label for="{{item.desc}}">{{item.desc}}</label><span ng-if="item.lock != null" style="margin-left: 10px"><input type="checkbox" id="lock" style="margin-right: 5px" ng-model="item.lock" ng-change="cropItemChange(item)"><label for="lock">锁定</label></span></li></ul><div ng-if="vm.tab === TAB.mask" eqd-scroll style="height: 400px"><div><ul class="cut-mask clearfix"><li ng-style="{border: cropSize.maskSrc ? \'\' : \'solid 2px #4ad9ab\'}" ng-click="maskItemChange()" style="text-align: center"><span style="line-height: 62px">无</span></li><li ng-repeat="img in imgStyles" ng-style="{backgroundImage: \'url(\' + img.path + \')\', border: cropSize.maskSrc === img.path ? \'solid 2px #4ad9ab\': \'\'}" ng-click="maskItemChange(img.path)"></li></ul></div></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="ok()">确定</a></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i) {
        "ngInject";

        function r(e, t) {
            e.cropSize.maskSrc && y.css({"-webkit-mask-box-image": "url(" + e.cropSize.maskSrc + ")"}), a(e, t), e.$on("$destroy", function () {
                h = !1, y.css({"-webkit-mask-box-image": ""})
            }), e.$on("cropItem.change", function (e, t) {
                l(t)
            }), e.$on("maskItem.change", function (t, n) {
                e.cropSize.maskSrc = n, n ? d.ui.selection.find(".img_mask").css({"-webkit-mask-box-image": "url(" + e.cropSize.maskSrc + ")"}) : (delete e.cropSize.maskSrc, d.ui.selection.find(".img_mask").css({"-webkit-mask-box-image": ""}))
            }), e.$on("cropImage.ok", function (n, i) {
                h || (g = i, p(e, t))
            }), e.$on("crop.success", function (t, i) {
                4 !== g.type && "4" !== g.type || (v && (i.radioValue = v.value, v.lock && "" + v.value == "8" && (i.lock = !0)), g.id && u(i)), "" + g.type == "3" && "" + g.properties.type == "2" && (i.type = 2, i.pageLength = g.properties.pageLength), b ? e.$close({
                    image: i,
                    obj: g
                }) : n(function () {
                    e.closeThisDialog({image: i, obj: g})
                })
            })
        }

        function a(e, t) {
            t.hide().load(function () {
                t.show();
                var n = $(".image_crop"), i = {width: n.width(), height: n.height()}, o = i.width / i.height;
                m = {width: this.width, height: this.height};
                var r, a = m.width / m.height;
                m.width > i.width || m.height > i.height ? a > o ? (t.css({
                    width: i.width,
                    height: i.width / a
                }), r = {position: "absolute", top: "50%", marginTop: -i.width / a / 2}) : (t.css({
                    width: i.height * a,
                    height: i.height
                }), r = {margin: "auto"}) : r = {
                    position: "absolute",
                    left: "50%",
                    top: "50%",
                    marginLeft: -m.width / 2,
                    marginTop: -m.height / 2
                }, f = {width: t.width(), height: t.height()}, s(e, t, r)
            })
        }

        function s(e, t, n) {
            var i, r, a = t.parent().attr("ctype"), s = e.cropSize, l = {};
            s && (l = e.cropSize.cropSize), i = f.width, r = f.height;
            var p = e.cropOption.currentItem;
            if (l && (l.w > i && (l.w = i, l.h = i / p.ratio), l.h > r && (l.h = r, l.w = r * p.ratio), l.x2 = l.x + l.w, l.y2 = l.y + l.h), "" + a == 3 || "" + a == "square") i > r ? i = r * p.ratio : r = i / p.ratio, t.Jcrop({
                keySupport: !1,
                aspectRatio: p.ratio,
                allowSelect: !1,
                setSelect: l ? [l.x, l.y, l.x2, l.y2] : [0, 0, i, r],
                onRelease: function () {
                    this.setOptions({setSelect: [0, 0, i, r]})
                }
            }, function () {
                d = this
            }); else {
                t.Jcrop({
                    keySupport: !1,
                    aspectRatio: p.ratio,
                    allowSelect: !1,
                    setSelect: l ? [l.x, l.y, l.x2, l.y2] : [0, 0, i, r],
                    onRelease: function () {
                        this.setOptions({setSelect: [0, 0, i, r]})
                    }
                }, function () {
                    d = this
                });
                var u;
                p.ratio === -1 && (u = {aspectRatio: l.w / l.h, setSelect: [l.x, l.y, l.x2, l.y2]}, d.setOptions(u))
            }
            $(".jcrop-holder").css(n), o("WebkitMaskBoxImage") && d.ui.selection.find("img").wrap(y), c(p, t)
        }

        function c(e, t) {
            if (e.innerWFactor && e.innerHFactor) {
                var n = t.data("Jcrop"), i = n.ui.holder;
                window.holder = i;
                var o = i.find(".jcrop-vline");
                if ($(o[0]).is(".right")) var r = $(o[0]), a = $(o[1]); else r = $(o[1]), a = $(o[0]);
                var s = i.find(".jcrop-hline");
                if ($(s[0]).is(".bottom")) var c = $(s[0]), l = $(s[1]); else c = $(s[1]), l = $(s[0]);
                var p = 100 * e.innerWFactor + "%", u = 100 * (1 - e.innerWFactor) / 2 + "%", d = u,
                    m = 100 * e.innerHFactor + "%", f = 100 * (1 - e.innerHFactor) / 2 + "%", g = f,
                    h = "dashed 1px #ff0000", v = "none", y = 1,
                    b = r.clone().css({background: v, opacity: y, borderRight: h, height: m, top: f, right: d}),
                    x = a.clone().css({background: v, opacity: y, borderRight: h, height: m, top: f, left: u}),
                    w = c.clone().css({background: v, opacity: y, borderTop: h, width: p, left: u, bottom: g}),
                    S = l.clone().css({background: v, opacity: y, borderTop: h, width: p, left: u, top: f});
                a.after(x), r.after(b), l.after(S), c.after(w), console.log("add inner rect")
            }
        }

        function l(e) {
            var t, n = f.width, i = f.height;
            if (v = e, e.ratio === -1) {
                var o = d.tellSelect();
                t = e.lock ? {aspectRatio: o.w / o.h, setSelect: [0, 0, o.w, o.h]} : {
                    aspectRatio: 0,
                    setSelect: [0, 0, o.w, o.h]
                }
            } else 0 === e.ratio ? t = {
                aspectRatio: n / i,
                setSelect: [0, 0, n, i]
            } : (n > i ? n = i * e.ratio : i = n / e.ratio, t = {aspectRatio: n / i, setSelect: [0, 0, n, i]});
            d.setOptions(t)
        }

        function p(n, i) {
            var o = d.tellSelect(), r = {};
            $.extend(r, o);
            var a = n.cropSize.cropSize;
            if (a && parseInt(a.x, 10) === parseInt(o.x, 10) && parseInt(a.w, 10) === parseInt(o.w, 10) && parseInt(a.y, 10) === parseInt(o.y, 10) && parseInt(a.h, 10) === parseInt(o.h, 10) && !g.properties.maskSrc === a.maskSrc) return void(b ? n.$dismiss(g.properties.src) : n.closeThisDialog(g.properties.src));
            if (0 === o.w && 0 === o.h) {
                if (!g) return;
                return void(b ? n.$dismiss(g.properties.src) : n.closeThisDialog(g.properties.src))
            }
            if ("" + g.type == "3" && Math.abs(o.w - f.width) <= 2 && Math.abs(o.h - f.height) <= 2) {
                var s = {
                    type: g.properties.type,
                    src: g.properties.src,
                    pageLength: g.properties.pageLength,
                    id: g.properties.id
                };
                return void(b ? n.$close({image: s}) : n.closeThisDialog({image: s}))
            }
            var c = m.width / f.width;
            r.ratio = c, o.w = parseInt(o.w * c, 10), o.h = parseInt(o.h * c, 10), o.x = parseInt(o.x * c, 10), o.y = parseInt(o.y * c, 10), o.y < 0 && (o.y = 0), o.x < 0 && (o.x = 0), o.src = i.attr("src").split(t.FILE)[1], o.x + o.w > m.width && (o.w = m.width - o.x), o.y + o.h > m.height && (o.h = m.height - o.y), "" + g.type == "3" ? o.fileType = 0 : o.fileType = 1, delete o.x2, delete o.y2, g.cw && (o.cw = g.cw), o.name = g.properties.name || "default.png", e.cropImage(o, r)
        }

        function u(e) {
            var n = g;
            n.properties.src = e.src, n.properties.id = e.id, e.originSrc && (n.properties.originSrc = e.originSrc, n.properties.cropSize = e.cropSize), e.radioValue && (n.properties.radioValue = e.radioValue), e.lock ? n.properties.lock = e.lock : n.properties.lock = !1;
            var i = e.width / e.height, o = $("#" + n.id), r = $("#inside_" + n.id), a = r.width(), s = r.height(),
                c = a / s;
            i >= c ? (s = a / i, r.height(s), n.css.height = s, n.properties.height = s, o.outerHeight(s), o.outerWidth(a), o.css("marginLeft", 0), o.css("marginTop", 0)) : (a = s * i, r.width(a), n.css.width = a, n.properties.width = a, o.outerWidth(a), o.outerHeight(s), o.css("marginTop", 0), o.css("marginLeft", 0)), o.attr("src", t.FILE + e.src), n.properties.imgStyle = {}, n.properties.imgStyle.width = o.outerWidth(), n.properties.imgStyle.height = o.outerHeight(), n.properties.imgStyle.marginTop = o.css("marginTop"), n.properties.imgStyle.marginLeft = o.css("marginLeft")
        }

        var d = void 0, m = void 0, f = void 0, g = void 0, h = !1, v = void 0,
            y = $('<div class="img_mask" style="position: absolute; width: 100%; height: 100%"></div>'),
            b = i.permission("newMaterialModal");
        return {link: r}
    }

    i.$inject = ["imageCropService", "HOST", "$timeout", "authorityService"];
    var o = n(208).isSupportStyle;
    e.exports = i
}, function (e, t) {
    "use strict";

    function n() {
        var e = navigator.userAgent, t = e.indexOf("Opera") > -1;
        return t ? "Opera" : e.indexOf("Firefox") > -1 ? "FF" : e.indexOf("Chrome") > -1 ? "Chrome" : e.indexOf("Safari") > -1 ? "Safari" : e.indexOf("compatible") > -1 && e.indexOf("MSIE") > -1 && !t ? "IE" : void 0
    }

    function i() {
        var e = {Chrome: "-webkit-", FF: "-moz-", Opera: "-o-", Safari: "-webkit-"};
        return e[n()] || "-webkit-"
    }

    function o(e) {
        return e in document.documentElement.style
    }

    function r(e) {
        var t = e.originalEvent, n = t.touches, i = n ? t.changedTouches[0] : null;
        return e = i ? i : e
    }

    e.exports = {getBrowserPrefix: i, isSupportStyle: o, getEvent: r}
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        var t = {};
        return t.cropImage = function (t, n) {
            var i = "?imageMogr2/auto-orient/crop/!" + t.w + "x" + t.h + "a" + t.x + "a" + t.y;
            i = t.src.indexOf("?imageMogr2") >= 0 ? i.replace(/\?/, "|") : i;
            var o = {
                width: t.w,
                height: t.h,
                src: t.src + i,
                id: t.id,
                originSrc: t.src,
                cropSize: {x: n.x, y: n.y, w: n.w, h: n.h}
            };
            e.$broadcast("crop.success", o)
        }, t
    }

    n.$inject = ["$rootScope"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.image.imagemanagement", []).directive("imageManagement", n(211)).directive("imgGroup", n(214)).name
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o) {
        "ngInject";

        function r(n) {
            function r() {
                for (var e = [], t = n.vm.selectedImageLists, i = 0; i < t.length; i++) e.push(t[i].id);
                return e
            }

            function a() {
                n.vm.tag.list = [];
                var e = n.vm.tagIndex;
                n.vm.tagIndex = null, n.setTagIndex(e), n.vm.selectedImageLists = []
            }

            n.assignImgGroup = function (t) {
                n.vm.currentGroupId = null;
                var o = r();
                if (t) return 0 === o.length ? void(n.vm.error = "请先点击管理选择一张图片再进行分组") : void e.assignImgGroup(t, o).then(function (e) {
                    i.success("移动成功"), n.vm.selectedImageLists = [];
                    for (var o = 0; o < n.vm.category.list.length; o++) n.vm.category.list[o].id === t && (n.vm.category.list[o].list = [])
                })
            }, n.deleteFile = function () {
                var s = r(), c = "删除所选图片";
                return 0 === s.length ? void(n.vm.error = "选中图片后再进行删除操作!") : ("my-all" === n.vm.tag.id && (c = o.permission("deleteImgTips") ? "确定删除图片吗？" : "删除所选图片后,该图片将在回收站中保留15天"), void t.openConfirmDialog({
                    msg: c,
                    confirmName: "确定",
                    cancelName: "取消"
                }).then(function () {
                    e.deleteFile(n.vm.tag.id, s).then(function (e) {
                        i.success(e.data.msg), a()
                    })
                }))
            }, n.clearImgTag = function (n) {
                var r = "确定清空改组下所有图片";
                "my-all" === n && (r = o.permission("deleteImgTips") ? "确认删除图片吗？" : "删除的图片,将在回收站中保留15天"), t.openConfirmDialog({
                    msg: r,
                    confirmName: "确定",
                    cancelName: "取消"
                }).then(function () {
                    e.clearImgTag(n, 1).then(function (e) {
                        i.success(e.data.msg), a()
                    })
                })
            }, n.cacelManagement = function () {
                n.vm.managingImgStatus = !1, n.vm.selectCount = 1, n.vm.selectedImageLists = []
            }, n.manageGroup = function () {
                n.vm.manageGroupStatus = !0
            }, n.backImgList = function () {
                n.vm.category = null, n.setTab(n.TAB.my, !0), n.vm.manageGroupStatus = !1, n.vm.managingImgStatus = !1, n.vm.selectCount = 1, n.vm.selectedImageLists = []
            }
        }

        return {template: n(213), replace: !0, restrict: "E", link: r}
    }

    i.$inject = ["imgGroupService", "modalService", "notifier", "authorityService"], n(212), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="image-management-content" ng-class="{\'image-management-hidden\':!$parent.vm.managingImgStatus}"><div class="move-img-group" ng-if="!vm.manageGroupStatus"><eqx-select class="select-sm select-contain border-width fl" model="vm.currentGroupId" change="assignImgGroup(vm.currentGroupId)"><eqx-select-option value="null">移动至</eqx-select-option><eqx-select-option value="group.id" ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'">{{group.name}}</eqx-select-option></eqx-select></div><div class="set-group-btn image-management-btn" ng-click="manageGroup()" ng-if="!vm.manageGroupStatus"><span>分组管理</span></div><div class="set-group-btn image-management-btn" ng-click="backImgList()" ng-if="vm.manageGroupStatus"><span>取消分组管理</span></div><div class="img-delete-all image-management-btn" ng-if="!vm.manageGroupStatus" ng-click="clearImgTag(vm.tag.id)"><span>清空</span></div><div class="img-delete-select image-management-btn" ng-click="deleteFile()" ng-if="!vm.manageGroupStatus"><span>删除</span></div><div class="cacel-set-group-btn image-management-btn" ng-click="cacelManagement()" ng-if="!vm.manageGroupStatus"><span>取消管理</span></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o) {
        "ngInject";

        function r(n) {
            function r(e) {
                for (var t = 0; t < n.vm.category.list.length; t++) if (n.vm.category.list[t].id == e) return [t, n.vm.category.list[t]]
            }

            n._vm = {createGroupText: ""}, n.createImgGroup = function () {
                return i(n._vm.createGroupText) > 16 ? void(n.vm.error = "分类名称不能超过16个字符") : n.vm.category.list.length > 8 ? (n.vm.error = "最多能创建8个自定义分组!", void(n._vm.createGroupText = "")) : void(n._vm.createGroupText && e.createImgGroup(n._vm.createGroupText).then(function (e) {
                    o.success(e.data.msg), n.vm.category.list.push({
                        bizType: 0,
                        count: -1,
                        id: e.data.obj,
                        isBusy: !1,
                        isLastPage: !1,
                        list: [],
                        name: n._vm.createGroupText,
                        pageSize: 18,
                        sort: 0
                    }), n._vm.createGroupText = ""
                }))
            }, n.deleteImgGroup = function (i) {
                t.openConfirmDialog({msg: "确定删除此分组", confirmName: "确定", cancelName: "取消"}).then(function () {
                    e.deleteImgGroup(i).then(function (e) {
                        o.success(e.data.msg), n.vm.category.list.splice(r(i)[0], 1)
                    })
                })
            }, n.editImgGroup = function (e, t) {
                n._vm[e] = !0, $(t.target).closest("div").attr("contenteditable", !0).focus()
            }, n.editBlur = function (t, a, s) {
                if (s = $(t.target).text(), n._vm[a] = !1, $(t.target).removeAttr("contenteditable"), r(a)[1].name !== s) return i(s) > 16 ? (n.vm.error = "分类名称不能超过16个字符", void $(t.target).text(r(a)[1].name)) : void e.modifyTagName(a, s).then(function (e) {
                    o.success(e.data.msg), r(a)[1].name = s
                })
            }
        }

        return {template: n(215), replace: !0, restrict: "E", link: r}
    }

    i.$inject = ["imgGroupService", "modalService", "validCharacterNumFilter", "notifier"], n(212), e.exports = i
}, function (e, t) {
    e.exports = '<div class="img-create-group"><div class="img-group-content"><div class="create-img-group"><input class="create-img-input create-img-border" placeholder="新建分组名称" ng-change="maxLength10()" type="text" ng-model="_vm.createGroupText"/> <a class="create-img-btn create-img-border" ng-click="createImgGroup()"><em class="eqf-plus add-img-group"></em>新建</a></div><ul class="img-group-list"><li class="img-group-item" ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'"><div class="img-group-edit" ng-class="{\'img-group-edit\': !_vm[group.id], \'img-group-edit2\': _vm[group.id]}" ng-blur="editBlur($event, group.id, group.name)" ng-model="group.name">{{group.name}} <em class="eqf-no-f" ng-click="deleteImgGroup(group.id)"></em> <em class="eqf-pen-f" ng-click="editImgGroup(group.id, $event)"></em></div></li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    n(217), e.exports = function () {
        return {template: n(218), replace: !0, restrict: "EA", scope: {brand: "="}}
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<a ng-href="{{brand.url}}" target="_blank" class="imagesBrand" ng-show="brand && brand.logo && brand.id !==2" ng-click="$event.stopPropagation();"><img ng-src="{{brand.logo}}"> <span class="brand-name">{{brand.name}}</span></a>'
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";

        function e(e) {
            e.chooseImage = function (t) {
                if (e.selectCount < 2) return e.selectedImageLists.push(t), void e.selectImage();
                var n = e.selectedImageLists.findIndex(function (e) {
                    return e.id == t.id
                });
                n > -1 ? e.selectedImageLists.splice(n, 1) : e.selectedImageLists.length < e.selectCount ? e.selectedImageLists.push(t) : e.errorInfo = "最多可选择" + e.selectCount + "张图片"
            }, e.isSelected = function (t) {
                return e.selectedImageLists.find(function (e) {
                    return e.id == t.id
                })
            }
        }

        return {
            template: n(220),
            replace: !0,
            restrict: "EA",
            scope: {
                managingImgStatus: "=",
                imageList: "=",
                selectedImageLists: "=",
                selectCount: "=",
                selectImage: "=",
                errorInfo: "="
            },
            link: e
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="img_list_container photo_list"><ul class="img_box clearfix"><li ng-repeat="img in imageList" class="my-tpl-self imageList" eqx-loading-image="{{img.path}}" resource="img" style="position: relative;overflow:hidden"><eqx-brand-img brand="img.brand"></eqx-brand-img><div class="img-mask" ng-if="selectCount > 1" ng-class="{\'selected-active\': isSelected(img)}"></div><div eqx-material-status obj="img" success-fn="chooseImage" select-count="selectCount" type="\'pic\'" selected-image-lists="selectedImageLists"></div><div ng-if="img.couponFlag" class="coupon">券</div></li></ul></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.image2", [n(222), n(226), n(230), n(233), n(236), n(242)]).factory("imageService2", n(245)).factory("buyImageService", n(247)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.image2.tpl", []).directive("eqxImageHead2", function () {
        return {replace: !0, template: n(223)}
    }).directive("eqxImageImages2", function () {
        return {replace: !0, template: n(224)}
    }).directive("eqxImageEmpty2", function () {
        return {replace: !0, template: n(225)}
    }).name
}, function (e, t) {
    e.exports = '<div class="head"><span class="title">正版图片</span><div class="tip"><i class="icon eqf-info-f"></i><div class="tip-box"><div class="desc">使用图片即代表同意并接受 <span class="agreement" ng-click="openAgreement()">《易企秀图片版权许可与服务协议》</span></div></div></div><span class="close1 eqf-no" ng-click="close()"></span></div>'
}, function (e, t) {
    e.exports = '<div class="images"><ul class="list clearfix"><li class="item" ng-class="{\'selected-item\': vm.selectCount > 1 && !!isSelected(item)}" ng-repeat="item in vm.image.list"><div class="selected-icon" ng-if="vm.selectCount > 1"><span class="icon"><i class="eqf-yes"></i></span></div><div class="image" ng-click="onImageClick(item)" eqx-loading-image="{{::item.path}}" data-width="136" data-height="136"></div><div class="image-info clearfix" ng-class="{sys: vm.tab === TAB.sys}"><span class="price" ng-if="vm.tab === TAB.sys" ng-bind="::item.price ? item.price + \'秀点\' : \'免费\'"></span> <span class="preview hint--top hint--rounded" data-hint="预览" ng-click="preview($event, item, \'pic\', chooseImage)"><i class="eqf-eye-f"></i> </span><a class="source hint--top hint--rounded" target="_blank" data-hint="{{::item.brand.name}}" ng-if="vm.tab === TAB.sys" ng-style="{\'background-image\': \'url(\'+ item.brand.logo +\')\'}" ng-href="{{::item.brand.url}}"></a></div></li></ul></div>'
}, function (e, t) {
    e.exports = "<div class=\"material-empty\"><span class=\"image\"></span><div class=\"warning\"><span ng-show=\"vm.tab === TAB.myPurchase\">{{vm.image.isBusy ? '加载中…' : '您还没有购买图片'}}</span> <span ng-show=\"vm.tab === TAB.my\">{{vm.image.isBusy ? '加载中…' : '您还没有上传图片'}}</span> <span ng-show=\"vm.tab === TAB.recently\">{{vm.image.isBusy ? '加载中…' : '您还没有使用图片'}}</span> <span ng-show=\"vm.tab === TAB.sys\">{{vm.image.isBusy ? '加载中…' : '暂无数据'}}</span></div></div>"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.image2.preview", []).factory("imagePreviewService2", ["dialogService", function (e) {
        "ngInject";

        function t(t) {
            return e.open({
                template: n(227), controller: n(228), resolve: {
                    image: function () {
                        return t
                    }
                }
            })
        }

        return {show: t}
    }]).name
}, function (e, t) {
    e.exports = '<div class="pay-tpl-preview eqc-dialog"><span class="eqf-no cancel" ng-click="cancel()"></span><div class="information"><div class="title">预览</div><div class="bug"><div class="price" ng-show="image.price"><span class="activePrice">{{image.price}}</span> <span class="measureUnit">秀点</span></div><div class="free" ng-show="!image.price">免费</div><div class="createScene"><a ng-show="image.price && !image.isSelected" class="btn btn-sm green" ng-click="buy()">立即购买</a><div ng-show="!image.price"><a ng-show="!image.isSelected" class="btn btn-sm green" ng-click="use()">立即使用</a> <a ng-show="image.isSelected" class="btn btn-sm green" ng-click="use()">取消使用</a></div></div></div></div><div class="preview" eqx-loading-image="{{image.path}}" data-width="400" data-height="400"></div></div>'
}, function (e, t, n) {
    "use strict";
    n(229), e.exports = ["$scope", "image", "buyImageService", function (e, t, n) {
        "ngInject";
        e.image = t, e.buy = function () {
            n.buy(e.image).then(function (t) {
                e.closeThisDialog(t)
            })
        }, e.use = function () {
            return e.closeThisDialog({data: "use", path: t.path})
        }, e.cancel = function () {
            return e.closeThisDialog()
        }
    }]
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.image2.classify", []).directive("materialImage2Classify", n(231)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(232),
            replace: !0,
            restrict: "E",
            controller: ["$scope", "imageService2", "tagAPI", "HOST", function (e, t, n, i) {
                "ngInject";
                var o = e.vm, r = t.config[o.resourceName], a = e.category = t.classify.category;
                e.hot = t.classify.hot, e.price = t.classify.price, e.search = t.classify.search, "bg" === r.resourceName ? (r.categoryId = parseInt(i.MALL_BG_ID_DEFAULT), r.categoryName = "背景") : (r.categoryId = r.categoryId || parseInt(i.MALL_PIC_ID_DEFAULT), r.categoryName = r.categoryName || "精选"), a.selected = {
                    id: r.categoryId,
                    name: r.categoryName
                }, n.getCategoryListByTopId(parseInt(i.MALL_PIC_ID_NEW)).then(function (e) {
                    return a.list = e
                }), e.change = function () {
                    var n = JSON.stringify(Object.assign({}, e.setClassifyKey(), {tab: o.tab}));
                    e.vm.image = t.getImageInfo(n), 0 === e.vm.image.list.length && t.getMoreItems(n), r.categoryId = a.selected.id, r.categoryName = a.selected.name
                }, e.change()
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="material-classify"><eqx-resource-top-function2 scrolled="vm.scrolled" category="category" hot="hot" price="price" keywords="search.keywords" change="change()"></eqx-resource-top-function2><div class="bottom-images" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow"><div class="bottom-images-content"><eqx-image-images2></eqx-image-images2></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.image2.buy", []).directive("materialImage2Buy", n(234)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {template: n(235), replace: !0, restrict: "E"}
    }
}, function (e, t) {
    e.exports = '<div class="material-buy"><div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}">我的购买</div><div class="bottom-images" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow"><div class="bottom-images-content"><eqx-image-images2></eqx-image-images2></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.image2.upload", []).directive("materialImage2Upload", n(237)).directive("eqxImageUploadGroups2", function () {
        return {replace: !0, template: n(240)}
    }).directive("eqxImageUploadManager2", function () {
        return {replace: !0, template: n(241)}
    }).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    n(238), e.exports = function () {
        return {
            template: n(239),
            replace: !0,
            restrict: "E",
            controller: ["$scope", "imageService2", "imgGroupService", "notifier", "dialogService", "authorityService", "tagAPI", "fileAPI", function (e, t, n, o, r, a, s, c) {
                "ngInject";

                function l(e) {
                    for (var t = 0; t < g.list.length; t++) if (g.list[t].id === e) return [t, g.list[t]]
                }

                function p() {
                    function e() {
                        o.on("transitionend", function () {
                            o.hide(), o.off("transitionend")
                        }).css({transform: "translate3d(0, -10px, 0) scale(0.9)", opacity: 0})
                    }

                    function t() {
                        o.show(), setTimeout(function () {
                            o.css({transform: "translate3d(0, 0, 0) scale(1)", opacity: 1})
                        })
                    }

                    var n = $(".material-upload .create-group"), i = n.find(".create"), o = n.find(".wrapper");
                    i.on("click.createGroupBtn", function () {
                        o.is(":visible") ? e() : t(), $(document).on("click.createGroupBtn", function () {
                            e()
                        }), n.on("click.createGroupBtn", function (e) {
                            e.stopPropagation()
                        })
                    })
                }

                var u = e.vm, d = u.selectCount || 1, m = u.selectedImageLists || [], f = t.upload,
                    g = e.groups = f.groups, h = g.list[0].id, v = null, y = "";
                u.uploadOptions = {
                    tokenType: "image",
                    extensions: "jpg,gif,png,jpeg",
                    maxFileSize: 3,
                    uploadBtn: "upload-image",
                    uploadCon: "container",
                    maxCount: 20,
                    tip: "上传图片",
                    msg: "一次最多上传20张图片",
                    onFilesAdded: function (t, n) {
                        t.total.queued > 0 && (u.uploadOptions.tip = "上传中…", e.$apply(), y = g.list[g.currentIndex].id)
                    },
                    onBeforeUpload: function (e, t) {
                    },
                    onUploadProgress: function (e, t) {
                        v || (v = $("#btn_upload_progress")), v.css({opacity: 1, width: e.total.percent + "%"})
                    },
                    onFileUploaded: function (e, n, i) {
                        var o = {
                            path: n.target_name,
                            tmbPath: n.target_name,
                            name: n.name,
                            size: parseInt(n.size / 1024),
                            fileType: 1,
                            bizType: 0,
                            tagId: y
                        };
                        c.saveFileInfo(o).then(function (e) {
                            var n = e.data.obj, i = JSON.stringify({group: h, tab: u.tab}), o = t.getImageInfo(i);
                            o.list.unshift(n), o.count++, 0 !== y && (i = JSON.stringify({
                                group: y,
                                tab: u.tab
                            }), o = t.getImageInfo(i), o.list.unshift(angular.copy(n)), o.count++)
                        })
                    },
                    onUploadComplete: function () {
                        "上传中…" === u.uploadOptions.tip && (o.success("上传成功"), u.uploadOptions.tip = "上传图片", v.css({opacity: 0}), setTimeout(function () {
                            v.css({width: 0})
                        }, 1e3), e.$apply())
                    },
                    onError: function (e, t, n) {
                        console.log(e, t, n), o.danger("上传异常，请稍后重试")
                    }
                }, g.isInit || (g.isInit = !0, s.getUserTags(1).then(function (e) {
                    var t;
                    return (t = g.list).push.apply(t, i(e.data.list))
                })), e.assignImgGroup = function (e) {
                    var i = u.selectedImageLists.map(function (e) {
                        return e.id
                    });
                    if (e) return 0 === i.length ? void(u.error = "请先点击管理选择一张图片") : void n.assignImgGroup(e, i).then(function () {
                        o.success("添加成功"), u.selectedImageLists = [];
                        var n = JSON.stringify(Object.assign({group: e}, {tab: u.tab}));
                        t.clearKey(n)
                    })
                }, e.clearImgTag = function (e) {
                    var t = "清空该标签下所有图片";
                    e === h && (t = a.permission("deleteImgTips") ? "确认删除图片吗？" : "删除的图片，将在回收站中保留15天"), r.openConfirmDialog({msg: t}).then(function () {
                        n.clearImgTag(e, 1).then(function (e) {
                            o.success(e.data.msg), u.image.list = [], u.image.count = 0
                        })
                    })
                }, e.deleteFiles = function () {
                    var e = u.selectedImageLists.map(function (e) {
                        return e.id
                    }), i = g.list[g.currentIndex].id;
                    if (0 === e.length) return void(u.error = "选中图片后再进行删除操作!");
                    var s = "在该标签中删除图片，若要真正删除请切换到“全部”中";
                    i === h && (s = a.permission("deleteImgTips") ? "确定删除图片吗？" : "删除所选图片后,该图片将在回收站中保留15天"), r.openConfirmDialog({msg: s}).then(function () {
                        n.deleteFile(i, e).then(function (n) {
                            o.success(n.data.msg), u.selectedImageLists = [], e.forEach(function (e) {
                                var n = u.image.list.findIndex(function (t) {
                                    return t.id === e
                                });
                                n !== -1 && (u.image.list.splice(n, 1), u.image.count--, i === h && f.groups.list.forEach(function (e) {
                                    if (e.id !== h) {
                                        var n = JSON.stringify(Object.assign({group: e.id}, {tab: u.tab}));
                                        t.clearKey(n)
                                    }
                                }))
                            })
                        })
                    })
                }, e.deleteImgGroup = function (t, i) {
                    t.stopPropagation(), r.openConfirmDialog({msg: "确定删除此标签"}).then(function () {
                        e.setTagIndex(0), n.deleteImgGroup(i).then(function (e) {
                            o.success(e.data.msg), g.list.splice(l(i)[0], 1)
                        })
                    })
                }, e.createImgGroup = function () {
                    return g.list.length > 8 ? (u.error = "最多能创建8个自定义标签!", void(u.createGroupText = "")) : void(u.createGroupText && n.createImgGroup(u.createGroupText).then(function (e) {
                        o.success(e.data.msg), g.list.push({
                            bizType: 0,
                            count: -1,
                            id: e.data.obj,
                            isBusy: !1,
                            isLastPage: !1,
                            list: [],
                            name: u.createGroupText,
                            pageSize: 20,
                            sort: 0
                        }), u.createGroupText = ""
                    }))
                }, e.resetImgGroup = function () {
                    u.createGroupText = ""
                }, e.cancelCreateImgGroup = function (t) {
                    t.stopPropagation(), e.resetImgGroup();
                    var n = $(".material-upload .create-group"), i = n.find(".wrapper");
                    i.on("transitionend", function () {
                        i.hide(), i.off("transitionend")
                    }).css({transform: "translate3d(0, -10px, 0) scale(0.9)", opacity: 0})
                }, e.saveEditGroupName = function (t, i) {
                    t.stopPropagation(), i.editName !== i.name && n.modifyTagName(i.id, i.editName).then(function (n) {
                        o.success(n.data.msg), i.name = i.editName, e.hideEditGroupName(t, i)
                    })
                }, e.showEditGroupName = function (e, t) {
                    e.stopPropagation(), t.isEditNameDisplayed = !0, t.editName = t.name
                }, e.hideEditGroupName = function (e, t) {
                    e.stopPropagation(), t.isEditNameDisplayed = !1, t.editName = ""
                }, e.manageGroup = function () {
                    u.manageGroupStatus = !0, u.selectCount > 1 && (d = u.selectCount), u.selectedImageLists.length > 0 && m.push.apply(m, i(u.selectedImageLists)), u.selectCount = 20, u.selectedImageLists = []
                }, e.cancelManageGroup = function () {
                    u.manageGroupStatus = !1, u.selectCount = d, u.selectedImageLists = m
                }, e.setTagIndex = function (n) {
                    g.currentIndex = n;
                    var i = JSON.stringify(Object.assign({}, e.setUploadKey(), {tab: u.tab}));
                    u.image = t.getImageInfo(i), 0 === u.image.list.length && t.getMoreItems(i), u.selectedImageLists = []
                }, e.$on("$destroy", function () {
                    e.cancelManageGroup()
                }), p()
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="material-upload"><div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}"><div class="title">我的上传</div><div class="tip"><i class="icon eqf-info-f"></i><div class="float-tip"><span class="triangle"></span> <span class="text">易企秀为广大用户提供原创正版图片上传渠道、信息储存空间等网络技术服务，用户可在遵守<a ng-click="openAgreement($event)">《易企秀图片版权许可与服务协议》</a>的前提下自行上传并对其上传作品承担全部责任，请谨慎使用上传功能。<br/>上传图片大小不超过3M，支持格式：JPG、PNG、GIF，一次最多上传20张</span></div></div><div class="upload-image eqc-btn blue h30" id="upload-image" eqx-upload="vm.uploadOptions"><span class="progress1" id="btn_upload_progress"></span> <i class="icon eqf-upload" style="position: relative"></i> <span class="text" style="position: relative">{{vm.uploadOptions.tip}}</span></div></div><div class="bottom-images" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow"><div class="bottom-images-content"><eqx-image-upload-groups2></eqx-image-upload-groups2><eqx-image-upload-manager2></eqx-image-upload-manager2><eqx-image-images2></eqx-image-images2></div></div></div>';
}, function (e, t) {
    e.exports = '<div class="groups" ng-show="!vm.manageGroupStatus"><ul class="items"><li class="item" ng-repeat="group in groups.list" ng-class="{\'active\': $index == groups.currentIndex}" ng-click="setTagIndex($index);" ng-bind="group.name"></li></ul><div class="group-manager-btn" ng-click="manageGroup()"><span class="eqf-setting-l"></span> <span class="text">标签管理</span></div></div>'
}, function (e, t) {
    e.exports = '<div class="manager clearfix" ng-show="vm.manageGroupStatus"><div class="left clearfix"><div class="group-list"><div class="label"><span class="text" ng-bind="groups.list[groups.currentIndex].name"></span> <span class="icon"><i class="caret"></i></span></div><div class="wrapper"><ul class="items"><li class="group" ng-class="{\'selected\': group.id === groups.list[groups.currentIndex].id}" ng-repeat="group in groups.list" ng-click="setTagIndex($index)"><span class="name" ng-bind="group.name"></span> <span class="delete eqf-delete-l" ng-if="group.id !== 0" ng-click="deleteImgGroup($event, group.id)"></span> <span class="edit eqf-pen-l" ng-if="group.id !== 0" ng-click="showEditGroupName($event, group)"></span><div class="edit-panel" ng-click="$event.stopPropagation();" ng-show="group.isEditNameDisplayed"><input type="text" check-count="16" placeholder="输入标签名" ng-model="group.editName"> <a class="fl eqc-btn blue h20" style="margin-right: 6px" ng-click="saveEditGroupName($event, group)">保存</a> <a class="fl eqc-btn white h20" ng-click="hideEditGroupName($event, group)">取消</a></div></li></ul></div></div><div class="create-group"><div class="create eqc-btn blue h30"><span class="text">创建新标签</span></div><div class="wrapper"><div class="arrow"></div><div class="panel"><span class="title">标签名</span> <input type="text" check-count="16" placeholder="输入标签名" ng-model="vm.createGroupText"><div><a class="fr eqc-btn blue h24" style="margin-left: 10px" ng-click="createImgGroup()">创建</a> <a class="fr eqc-btn white h24" ng-click="cancelCreateImgGroup($event)">取消</a></div></div></div></div></div><div class="right clearfix"><span class="fr eqc-btn white h30" ng-click="cancelManageGroup()">取消标签管理</span> <span class="fr eqc-btn red h30" style="margin-right: 10px" ng-click="deleteFiles()">删除</span> <span class="fr eqc-btn red h30" style="margin-right: 10px" ng-click="clearImgTag(groups.list[groups.currentIndex].id)">清空</span><div class="move"><div class="label"><span class="text">添加标签</span> <span class="icon"><i class="caret"></i></span></div><div class="wrapper" ng-if="groups.list.length > 1"><ul class="items"><li class="group" ng-if="group.id !== 0" ng-repeat="group in groups.list" ng-bind="group.name" ng-click="assignImgGroup(group.id)"></li></ul></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.image2.history", []).directive("materialImage2History", n(243)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(244),
            replace: !0,
            restrict: "E",
            controller: ["$scope", "recentlyUseService", "imageService2", function (e, t, n) {
                "ngInject";
                var i = e.vm, o = t.get(e.vm.resourceName, 20), r = JSON.stringify({tab: e.TAB.recently});
                i.image = n.getImageInfo(r), i.image.list = o.getList()
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="material-history"><div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}">最近使用</div><div class="bottom-images" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow"><div class="bottom-images-content"><eqx-image-images2></eqx-image-images2></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    var o = n(246);
    e.exports = ["$q", "fileAPI", "HOST", "tagAPI", function (e, t, n, r) {
        "ngInject";

        function a(n) {
            var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = c(n, o), a = JSON.parse(n);
            if (!r.isBusy && r.list.length !== r.count) {
                r.isBusy = !0;
                var s = {fileType: o, pageNo: r.pageNo, pageSize: r.pageSize}, l = null;
                switch (a.tab) {
                    case 4:
                        l = t.getUserPurchaseItems(s);
                        break;
                    case 3:
                        l = e.reject();
                        break;
                    case 2:
                        var p = 0 === a.group ? null : a.group;
                        l = t.getUserUploadItems(Object.assign({}, s, {tagId: p}));
                        break;
                    case 1:
                        Object.assign(s, a), delete s.fileType, l = t.searchMaterial1(s)
                }
                l.then(function (e) {
                    r.isBusy = !1, r.count = e.data.map.count;
                    var t = e.data.list;
                    if (t && t.length && r.list.length < r.count) {
                        var n;
                        r.pageNo++, (n = r.list).push.apply(n, i(t))
                    }
                })["catch"](function () {
                    r.isBusy = !1
                })
            }
        }

        function s(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            e = e + "-" + t, delete l[e]
        }

        function c(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, n = e + "-" + t;
            return l[n] || (l[n] = {isBusy: !1, pageNo: 1, pageSize: 20, count: -1, list: []}), l[n]
        }

        var l = {}, p = {}, u = [{id: [-1, -1], name: "全部"}, {id: [0, 0], name: "免费"}, {id: [1, 10], name: "1-10秀点"}, {
                id: [11, 20],
                name: "11-20秀点"
            }], d = {list: [], selected: {id: 0, name: ""}}, m = {list: o, selected: o[0]}, f = {list: u, selected: u[0]},
            g = {keywords: ""}, h = {currentIndex: 0, isInit: !1, list: [{id: 0, name: "全部"}]};
        return {
            classify: {category: d, hot: m, price: f, search: g},
            upload: {groups: h},
            config: p,
            getImageInfo: c,
            clearKey: s,
            getMoreItems: a
        }
    }]
}, function (e, t) {
    "use strict";
    e.exports = [{id: "product_usage", name: "最热"}, {id: "create_time", name: "最新"}]
}, function (e, t) {
    "use strict";
    e.exports = ["$q", "materialAPI", "HOST", "notifier", "dialogService", "eqxNgPay", function (e, t, n, i, o, r) {
        "ngInject";

        function a(a) {
            var s = 1;
            return t.checkPurchased(a.id).then(function (c) {
                if (c.data.map.isPurchase) return o.openConfirmDialog({msg: "用户已购买，是否立即使用？"}).then(function () {
                    return t.checkProductExist(s, {
                        id: a.id,
                        name: a.name,
                        path: a.path,
                        fileType: s,
                        price: a.price
                    }), {path: c.data.map.product.authedPath, type: "use"}
                });
                var l = {
                    orderAppId: n.MALL_BUY_ID,
                    signUrl: n.MALL_HOST + "api/m/order/sign",
                    buyItems: [{name: "购买图片", price: a.price, id: a.id, type: 2}]
                };
                return r.payMulti(l).then(function (n) {
                    var o = n.value;
                    if ("$document" === o || void 0 === o || "close" === o.msgType) return e.reject();
                    if (o.data.success) {
                        var r = {
                            productId: l.buyItems[0].id,
                            totalFee: l.buyItems[0].price,
                            outOrderId: o.data.obj.merchantOrderNo,
                            channel: "EDITOR"
                        };
                        return t.saveOrderToBusinessCity(r).then(function (e) {
                            a.path = e.data.obj.authedPath;
                            var n = {
                                id: a.id,
                                orderId: e.data.map.orderId,
                                name: a.name || a.title,
                                path: a.path,
                                price: a.price,
                                source: 2,
                                prodType: 1
                            };
                            return t.saveToMyResource(n)
                        }).then(function () {
                            return i.success("购买成功，已保存至“我的购买”"), {path: a.path, type: "buy"}
                        })["catch"](function () {
                            return i.danger("购买失败，请联系客服处理"), e.reject()
                        })
                    }
                    return i.danger("支付失败，请稍后重试"), e.reject()
                })
            })
        }

        return {buy: a}
    }]
}, function (e, t, n) {
    "use strict";
    var i = n(249).size;
    e.exports = angular.module("resource.ui.music", [n(250)]).factory("musicModal", n(262)).directive("eqxCropPanel", n(276)).directive("eqxAudio", n(278)).directive("eqxBrandMusic", n(279)).filter("size", function () {
        return function (e) {
            return i(parseFloat(e))
        }
    }).name
}, function (e, t) {
    "use strict";

    function n(e, t) {
        return "number" != typeof e && (e = parseFloat(e)), parseFloat(e.toFixed(t))
    }

    function i(e) {
        return n(e, 0)
    }

    function o(e) {
        return n(e, 1)
    }

    function r(e) {
        return n(e, 2)
    }

    function a(e) {
        return e.toFixed(2)
    }

    function s(e) {
        return (!e || e < 0) && (e = 0), e < 1024 ? e + " KB" : (e /= 1024, e < 1024 ? a(e) + " MB" : (e /= 1024, e < 1024 ? a(e) + " GB" : (e /= 1024, a(e) + " TB")))
    }

    e.exports = {toFixed: n, toFixed1: o, toFixed2: r, toInt: i, size: s}
}, function (e, t, n) {
    "use strict";
    n(251), e.exports = angular.module("comp.music.tpl", []).directive("eqxMusicHeader", function () {
        return {template: n(252)}
    }).directive("eqxMusicCategory", function () {
        return {template: n(253)}
    }).directive("eqxMusicNav", function () {
        return {template: n(254)}
    }).directive("eqxMusicList", function () {
        return {template: n(255)}
    }).directive("eqxMusicEmpty", function () {
        return {template: n(256)}
    }).directive("eqxSoundEmpty", function () {
        return {template: n(258)}
    }).directive("wordToSound", function () {
        return {template: n(260)}
    }).directive("wordSoundLoading", function () {
        return {template: n(261)}
    }).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="modal-header no-bottom-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">{{vm.title}} <span ng-show="vm.error" class="action">{{vm.error}}</span></h4></div>'
}, function (e, t) {
    e.exports = '<div class="clearfix category_list"><audio style="margin: 25px 0 0 20px;height:30px" eqx-audio></audio><div class="music-cate"><ul class="clearfix" ng-show="vm.tab == TAB.sys"><li ng-repeat="category in vm.categoryList" ng-class="{active: vm.category === category}" ng-click="setCategory(category)" ng-hide="category.id === \'search\'">{{category.name}}</li></ul><div class="search-box" ng-show="vm.tab == TAB.sys"><input class="search pl10 search-music" placeholder="{{vm.searchTips}}" ng-model="vm.search" ng-keypress="searchMaterial($event)"> <span class="eqf-search-l search-icon" ng-click="searchMaterial();"></span></div></div></div>'
}, function (e, t) {
    e.exports = '<div class="cate-title" style="width:160px;height:412px;background-color:#f7f7f7"><ul class="nav tabs-left" style="padding-top:0"><li ng-class="{active: vm.tab == TAB.sys}" ng-click="setTab(TAB.sys)"><a>{{vm.nav.sys}}</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click="setTab(TAB.myPurchase)"><a>{{vm.nav.myPurchase}}</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click="setTab(TAB.my)"><a>{{vm.nav.my}}</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click="setTab(TAB.recently)"><a>最近使用</a></li><li class="word-to-sound" ng-click="setTab(TAB.wordToSound)" ng-if="!isWordToSound"><span>字转音</span></li><li class="my-bg-upload"><div id="upload-progress" class="upload-progress-music"></div><div class="sound-upload form" id="upload-music"><span class="eqf-update" eqx-upload="vm.uploadOptions"></span><em>{{vm.uploadOptions.uploadTips}}</em></div><div class="form-menus" style="z-index: 3"><div class="popover right" style="top: -80px; left: 160px"><div class="arrow"></div><div class="popover-content" style="font-size:12px"><i style="line-height: 22px">易企秀为广大用户提供原创正版音乐上传渠道、信息储存空间、外部链接等网络技术服务，用户可在遵守<a style="color: #59c7f9" ng-click="claimImg($event)">《易企秀音乐版权许可与服务协议》</a>的前提下自行上传并对其上传作品承担全部责任，请谨慎使用上传功能。<br/><br/>通过本地电脑上传或者添加外链，大小不超过{{vm.uploadOptions.maxFileSize}}M，格式为MP3。链接如何减少文件大小，请查看</i><a style="color: #59c7f9" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target="_blank">如何裁剪音乐</a></div></div></div></li><li class="add-tag" ng-click="openLink()"><a class="add-tag-btn"><span class="eqf-link" style="padding-right:10px"></span> <span>添加外链</span></a></li></ul></div>'
}, function (e, t) {
    e.exports = '<div class="tab-content" id="bg_contain"><div class="tab-pane tab-head active" style="margin:0;padding-top:15px"><div class="tab-pane" style="height: 300px"><div class="img_list"><div class="sound-list clearfix" ng-show="vm.itemList.length"><ul><li ng-repeat="music in vm.itemList" ng-class="{active: isSelectedMusic(music)}" ng-click="setMusic(music)"><span class="music-set"><a class="del eqf-cut" title="裁切" ng-show="vm.tab == TAB.my || vm.tab == TAB.myPurchase" ng-click="crop(music)"></a> <a class="sound eqf-play" title="{{music.isPlaying ? (\'暂停\') : (\'播放\')}}" ng-class="{\'eqf-play-f\': !music.isPlaying, \'eqf-stop-f\': music.isPlaying}" ng-click="togglePlay(music)"></a> <a class="del eqf-no-f" ng-show="vm.tab == TAB.my" title="删除" ng-click="delete(music)"></a></span><div class="linkName"><div class="music-name ellipsis" title="{{music.name}}">{{music.name}}</div><eqx-brand-music brand="music.brand"></eqx-brand-music><eqx-material-status obj="music" class="music-price" type="\'audio\'"></eqx-material-status><span ng-if="music.couponFlag" class="coupon">券</span></div></li></ul></div></div><eqx-resource-loading ng-show="vm.showLoading"></eqx-resource-loading><div class="resource-empty-action" ng-show="vm.itemList.length === 0 && !vm.showLoading"><eqx-music-empty ng-if="vm.music.fileType == 2"></eqx-music-empty><eqx-sound-empty ng-if="vm.music.fileType == 4"></eqx-sound-empty></div></div></div></div>'
}, function (e, t, n) {
    e.exports = '<div class="empty-img"><img src="' + n(257) + '" alt=""></div><div class="resource-action-empty" ng-show="vm.category.id === \'search\'"><p class="empty-explain">请尝试其他关键字搜索</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.myPurchase"><p class="empty-explain">您尚未购买音乐</p><p class="empty-guide">搜寻动听音乐，请查看<a class="empty-guide-reinforce">＂音乐库＂</a></p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.my"><p class="empty-explain">您尚未上传音乐</p><p class="empty-guide">目前可通过电脑上传或添加外链，支持文件大小不超过<em>10M</em>的<em>MP3</em>格式音乐．</p><p class="empty-guide">注意：文件大小会影响场景打开速度．</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.recently"><p class="empty-explain">您尚未使用音乐</p><p class="empty-guide">赶紧去制作场景吧～</p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/emptyMusic-6ea5d8.svg"
}, function (e, t, n) {
    e.exports = '<div class="empty-img"><img src="' + n(259) + '" alt=""></div><div class="resource-action-empty" ng-show="vm.category.id === \'search\'"><p class="empty-explain">请尝试其他关键字搜索</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.myPurchase"><p class="empty-explain">您尚未购买音效</p><p class="empty-guide">搜寻动听音乐，请查看<a class="empty-guide-reinforce">＂音效库＂</a></p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.my"><p class="empty-explain">您尚未上传音效</p><p class="empty-guide">目前可通过电脑上传或添加外链，支持文件大小不超过<em>100KB</em>的<em>MP3</em>格式音乐．</p><p class="empty-guide">注意：文件大小会影响场景打开速度．</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.recently"><p class="empty-explain">您尚未使用音效</p><p class="empty-guide">赶紧去制作场景吧～</p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/emptySound-e9859b.svg"
}, function (e, t) {
    e.exports = '<div class="word-transform-sound"><textarea placeholder="请输入文字" rows="10" ng-model="content"></textarea><div class="footer"><a class="cancel" ng-click="close()" style="margin-right: 40px">取消</a> <a class="btn btn-primary" ng-click="transformSound();">确定</a></div></div><word-sound-loading ng-show="show.loading"></word-sound-loading>'
}, function (e, t) {
    e.exports = '<div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%; opacity: 0.3; z-index: 2; background: #fff"><div style="width: 180px; height: 60px; position: absolute; top: 0; right: 0; bottom: 0; left: 0; margin: auto; text-align: center; color: #000"><img src="data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E"><p>转换中，请稍等。。。</p></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o, r) {
        "ngInject";
        var a = {
            open: function (e, o) {
                return t.open({
                    windowClass: "console music_console",
                    template: n(264),
                    controller: n(265),
                    resolve: {
                        musicJson: function () {
                            if (e) {
                                var t = e.id, n = e.name;
                                return {id: t, name: n, url: e.path || e.url || e.src}
                            }
                            return {}
                        }, fileType: function () {
                            return o
                        }
                    }
                }).then(function (e) {
                    return e ? (e.fileType = o, i[o].addUseHistory(e), e) : {}
                })
            }, openLink: function (e) {
                return t.open({
                    windowClass: "console six-contain",
                    template: n(269),
                    controller: n(270),
                    resolve: {
                        fileType: function () {
                            return e
                        }
                    }
                })
            }, openCrop: function (e, i) {
                return t.open({
                    windowClass: "upload-console",
                    template: n(271),
                    backdrop: "static",
                    controller: n(272),
                    resolve: {
                        sound: function () {
                            return e
                        }, cropConfig: function () {
                            return i || {}
                        }
                    }
                })
            }
        };
        return o.permission("newMaterialModal") || (a.open = function (e, t) {
            var n = {}, i = n.id, o = n.name, a = n.path;
            return e && (i = e.id, o = e.name, a = e.path || e.url || e.src), r.open(i, o, a, t).then(function (e) {
                return e.id ? (e.fileType = t, e) : {}
            })
        }), a
    }

    i.$inject = ["dialogService", "modalService", "musicService", "authorityService", "musicModalFactory2"], n(263), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<eqx-music-header></eqx-music-header><div class="dialog-contain" id="container"><div class="dialog-content bg_console clearfix"><div class="sound-flex sound-panel"><eqx-music-nav></eqx-music-nav><div class="cate-list bg-rig" style="height:506px;padding-bottom: 116px" ng-show="vm.tab != TAB.wordToSound"><div id="bg_contain"><div class="tab-pane active tab-head"><audio style="margin: 25px 0 0 20px;height:30px" eqx-audio></audio><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if="!vm.managingImgStatus"></eqx-resource-category><eqx-music-list></eqx-music-list></div></div><div class="ellipsis" style="font-size: 12px;margin: 20px 20px 0" ng-if="vm.music.id"><span><i>已选择: </i>{{vm.music.name | maxLength: 16}} <a class="eqf-no-f" style="margin-left: 10px" title="清除" ng-click="setMusic(null)"></a></span></div><p class="disclaimer" ng-if="vm.itemList.length > 0" style="bottom: 58px">使用音乐即代表同意并接受 <a class="disclaimer-img" ng-click="claimImg($event)">《易企秀音乐版权许可与服务协议》</a></p><eqx-resource-pagination></eqx-resource-pagination></div><word-to-sound ng-show="vm.tab == TAB.wordToSound"></word-to-sound></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, r, a, s, c, l, p, u, d, m, f) {
        "ngInject";

        function g(t, n) {
            e.$broadcast("sound.toggle", t, n)
        }

        function h(t) {
            e.$broadcast("sound.pause", t)
        }

        function v() {
            T.tab == e.TAB.myPurchase ? b.clearTag(b.ID.myPurchase, b.ID.myPurchase + "-all") : b.clearTag(b.ID.my, b.ID.my + "-all")
        }

        function y() {
            T.tab == e.TAB.myPurchase ? e.setTab(e.TAB.myPurchase, !0) : e.setTab(e.TAB.my, !0), e.loadMoreItems(1)
        }

        var b = r[i], x = Object.assign({}, b.config);
        if (o(e, b, x), e.isWordToSound = f.permission("wordToSound"), e.TAB.wordToSound = 5, e.show = {loading: !1}, 2 == i) var w = "正版音乐",
            S = "音乐搜索", k = {sys: "音乐库", my: "我的上传", myPurchase: "我的购买"}; else w = "正版音乐", S = "音效搜索", k = {
            sys: "音效库",
            my: "我的上传",
            myPurchase: "我的购买"
        };
        var T = Object.assign(e.vm, {
            title: w,
            searchTips: S,
            nav: k,
            music: Object.assign(t, {fileType: i, path: t.url}),
            uploadOptions: {
                tokenType: "audio",
                extensions: "mp3",
                maxFileSize: 10,
                uploadBtn: "upload-music",
                uploadCon: "container",
                maxCount: 10,
                uploadTips: "上传",
                success: function (e) {
                    var t = Object.assign({}, e, {fileType: i, bizType: 0, tagId: 0});
                    h(), a.openCrop(t).then(v).then(y)
                }
            }
        });
        e.HOST = d, e.claimImg = function (e) {
            e.stopPropagation(), m.open({windowClass: "console upload-console", template: n(267)})
        }, e.isSelectedMusic = function (e) {
            return !!T.music && (!!T.music.id && T.music.id == e.id)
        }, e.setMusic = function (e) {
            T.music = e
        }, e.togglePlay = function (t) {
            return T.tab === e.TAB.my ? s.getCropInfo(t.id).then(function (e) {
                var n = e.data.obj, i = n ? n.url : null;
                g(t, i)
            }) : void g(t)
        }, e["delete"] = function (t) {
            c.openConfirmDialog({msg: "确定删除此音乐吗？"}).then(function () {
                b.deleteMySound(t.id).then(function () {
                    T.music === t && e.setMusic(null), h(t)
                }).then(v).then(y)
            })
        }, e.crop = function (e) {
            s.getCropInfo(e.id).then(function (t) {
                h();
                var n = {soundId: e.id, lastCropInfo: t.data.obj};
                a.openCrop(e, n).then(y)
            })
        }, e.confirm = function () {
            T.music && T.music.price ? p.checkPurchased(T.music.id).then(function (t) {
                if (t.data.map.isPurchase) c.openConfirmDialog({
                    msg: "用户已购买，是否立即使用？",
                    confirmName: "确定",
                    cancelName: "取消"
                }).then(function () {
                    e.$close(T.music), p.checkProductExist(i, {
                        id: T.music.id,
                        name: T.music.name,
                        path: T.music.path,
                        fileType: i,
                        price: T.music.price
                    }), b.clearTag("myPurchase", "myPurchase-all")
                }); else {
                    var n = {buyItems: [{name: "购买音乐", price: T.music.price, id: T.music.id, type: 3}]};
                    l.buyMaterial(n).then(function (e) {
                        var t = {
                            id: T.music.id,
                            orderId: e.data.map.orderId,
                            name: T.music.name || T.music.title,
                            path: T.music.path,
                            price: T.music.price,
                            source: 2,
                            prodType: 4,
                            musicType: i
                        };
                        return p.saveToMyResource(t)
                    }).then(function () {
                        u.success("购买成功，已保存至我的购买");
                        var t = JSON.parse(JSON.stringify(T.music));
                        delete t.price, b.clearTag("myPurchase", "myPurchase-all"), e.$close(T.music)
                    })["catch"](function () {
                        return u.danger("购买失败，请联系客服处理"), $q.reject()
                    })
                }
            }) : T.music && T.music.id ? s.getCropInfo(T.music.id).then(function (t) {
                var n = t.data.obj;
                n && n.url && (T.music.path = n.url), e.$close(T.music)
            }) : e.$close()
        }, e.cancel = function () {
            e.$dismiss()
        }, e.openLink = function () {
            return a.openLink(i).then(y)
        }, e.content = "", e.transformSound = function () {
            "" !== e.content && (e.show.loading = !0, b.wordTransformSound(e.content).then(function (t) {
                t.data.success ? (e.show.loading = !1, c.openConfirmDialog({msg: "转换成功，请去我的上传查看！"}).then(function () {
                    e.setTab(e.TAB.my, !0), v(), y()
                })) : (e.show.loading = !1, c.openMsgDialog({msg: t.data.msg}))
            }))
        }
    }

    i.$inject = ["$scope", "musicJson", "fileType", "musicService", "musicModal", "audioAPI", "modalService", "buyService", "materialAPI", "notifier", "HOST", "$modal", "authorityService"];
    var o = n(266);
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e, t, i) {
        "ngInject";

        function o() {
            return g.filter(function (e) {
                return e.id !== x.my && e.id !== x.recently && e.id !== x.myPurchase
            })
        }

        function r(e) {
            return g.find(function (t) {
                return t.id === e
            })
        }

        function a(e) {
            return g.find(function (t) {
                return t.name === e
            })
        }

        function s() {
            return r(x.my)
        }

        function c() {
            return r(x.myPurchase)
        }

        function l() {
            return r(x.recently)
        }

        function p() {
            i.tab === b.sys ? (w.showLoading = !0, t.$getCategories().then(function () {
                if (i.categoryName) var t = a(i.categoryName);
                t || (t = 1 === i.fileType || 2 === i.fileType || 4 === i.fileType || 3 === i.fileType ? g[1] : g[0]), e.setCategory(t, i.tagName)
            })) : d(i.tab)
        }

        function u(e, n) {
            t.config[e] = n
        }

        function d(n) {
            var i = null;
            switch (n) {
                case b.my:
                    i = Promise.resolve(s());
                    break;
                case b.recently:
                    i = Promise.resolve(l());
                    break;
                case b.myPurchase:
                    i = Promise.resolve(c());
                    break;
                default:
                    i = t.$getCategories().then(function () {
                        return g[0]
                    })
            }
            i.then(function (t) {
                e.setCategory(t), w.tab = n
            })
        }

        var m = {showSearch: !0, tab: 1, categoryName: "", tagName: "", selectPageNo: 1}, f = !0;
        i = Object.assign(m, i || {});
        var g = e.categories = t.categories, h = [], v = {id: -1, name: "", bizType: -1, showTags: !1, list: []},
            y = {}, b = e.TAB = {sys: 1, my: 2, recently: 3, myPurchase: 4}, x = t.ID, w = e.vm = {
                showLoading: !0,
                tagIndex: -1,
                pageNo: -1,
                toPage: 1,
                tab: b.sys,
                showSearch: i.showSearch,
                search: i.search,
                get categoryList() {
                    return w.tab === b.sys ? o() : w.tab === b.my ? [s()] : w.tab === b.recently ? [l()] : w.tab === b.myPurchase ? [c()] : void 0
                },
                get tag() {
                    return w.category && w.category.list[w.tagIndex] || y
                },
                get itemList() {
                    return w.tag && (w.tag.list || {})[w.pageNo] || h
                },
                get totalItems() {
                    if (w.tag && w.tag.list) {
                        var e = w.tag.list, t = [];
                        for (var i in e) t.push.apply(t, n(e[i]));
                        return t
                    }
                    return h
                },
                category: v
            };
        p(), e.editBoxShadow = function (t) {
            e.$apply(function () {
                e.vm.scrolled = !!t
            })
        }, e.setTab = function (e, n) {
            (w.tab !== e || n) && (w.scrolled && (w.scrolled = !1), t.config.selectPageNo = 1, u("tab", e), d(e))
        }, e.setCategory = function (n) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "全部", o = arguments[2];
            return w.showLoading = !0, w.category === n ? void(w.showLoading = !1) : (w.category = n, w.tagIndex = -1, w.pageNo = -1, w.toPage = 1, u("categoryName", n.name), void t.$getTags(n.id).then(function (t) {
                var n = t.findIndex(function (e) {
                    return e.name === i
                });
                n < 0 && (n = 0), e.setTagIndex(n, o)
            }))
        }, e.setTagIndex = function (e, n) {
            if (w.tagIndex !== e) {
                w.showLoading = !0, w.tagIndex = e;
                var o = w.category, r = o.list[w.tagIndex];
                u("tagName", r.name), f ? w.pageNo = i.selectPageNo : w.pageNo = 1, w.toPage = w.pageNo, t.$getMoreItems(o.id, r.id, w.pageNo, n).then(function () {
                    f = !1, w.showLoading = !1, i.itemListCallback && i.itemListCallback()
                })
            }
        }, e.setPageNo = function (t) {
            t = parseInt(t), Number.isNaN(t) && (t = w.pageNo);
            var n = w.tag.count, i = w.tag.pageSize, o = 1, r = Math.ceil(n / i);
            t > r && (t = r), t < o && (t = o), w.toPage = t, w.pageNo !== t && (w.pageNo = t, e.loadMoreItems(t))
        }, e.loadMoreItems = function (n) {
            w.showLoading = !0;
            var o = w.category, r = o.list[w.tagIndex];
            r && t.$getMoreItems(o.id, r.id, n, e.vm.search).then(function () {
                w.showLoading = !1, u("selectPageNo", w.pageNo), i.itemListCallback && i.itemListCallback()
            })
        }, e.onPageNoChange = function () {
            w.toPage = w.pageNo, u("selectPageNo", w.pageNo), e.loadMoreItems(w.pageNo)
        }, e.close = function () {
            e.$dismiss()
        }, e.searchMaterial = function (n) {
            var i = null;
            if (w.search && w.search.length > 0 && (!n || n && 13 === n.keyCode)) {
                u("search", w.search), w.category = w.categoryList[0];
                for (var o = 0; o < w.categoryList.length; o++) "search" === w.categoryList[o].id && (i = w.categoryList[o], t.clearTag(i.id, i.list[0].id));
                e.setCategory(i, 0, w.search), e.vm.scrolled = !1
            }
        }
    }

    i.$inject = ["$scope", "resourceService", "resourceConfig"], e.exports = i
}, function (e, t, n) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$close()"><span aria-hidden="true">×</span></button><h4 class="modal-title" style="text-align: center">易企秀音乐版权许可与服务协议</h4></div><div class="dialog-contain" eqd-scroll disable-mouse="true" prevent-exception="true" style="height:520px"><div><img src="' + n(268) + '" alt="" style="width: 900px"></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/musicAgreement_v1.2-5be615.jpg"
}, function (e, t) {
    e.exports = '<div class="modal-header no-bottom-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">外部链接 <span ng-show="!vm.error" class="action">可从外部使用链接添加音乐</span> <span ng-show="vm.error" class="action">{{vm.error}}</span></h4></div><div class="dialog-contain"><div class="dialog-content"><form class="form-contain" role="form"><div class="form-list audio_area clearfix"><lable class="form-label">链接地址:</lable><div class="form-input"><input type="text" class="link" ng-model="vm.src" placeholder="请输入mp3格式的音乐链接"></div></div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        var i = t[n], o = e.vm = {error: "", src: ""};
        e.confirm = function () {
            var t = o.src;
            return t.length ? /^http?:\/\/.*\.mp3$/.test(t) ? void i.addMusicLink(t).then(function () {
                e.$close("")
            })["catch"](function (e) {
                o.error = e.data.msg, $(".link").focus()
            }) : (o.error = "请输入正确的的音乐链接(mp3格式)", void $(".link").focus()) : (o.error = "链接地址不能为空", void $(".link").focus())
        }, e.cancel = function () {
            e.$dismiss()
        }
    }

    n.$inject = ["$scope", "musicService", "fileType"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><h4 class="modal-title">音频裁切</h4></div><div class="dialog-contain crop-sound"><div class="crop-content dialog-content clearfix"><div class="sound-title">{{title}}</div><eqx-crop-panel></eqx-crop-panel><div class="set-point-wrapper"><em ng-class="{\'eqf-play-f\': state != \'start\', \'eqf-stop-f\': state == \'start\'}" ng-click="play();"></em><div><span class="blue" ng-click="setStartTime()">设当前播放为起点</span> 起点: <input class="from-point" type="number" min="0" ng-model="minuteS" ng-change="changeStartTime()"> 分 <input type="number" max="59" min="0" ng-model="secondS" ng-change="changeStartTime()">秒</div><div class="set-point"><span class="blue" ng-click="setEndTime();">设当前播放为终点</span> 终点: <input type="number" min="0" ng-model="minuteE" ng-change="changeEndTime()"> 分 <input type="number" ng-change="changeEndTime()" ng-model="secondE" max="59" min="0">秒</div></div><div class="sound-len"><h6>音乐长度</h6><h1>{{cropLen}}</h1><h6>(建议长度控制在20秒内)</h6></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="ok()">确定</a></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r, a, s) {
        "ngInject";

        function c(n, i) {
            var o = {id: n, url: i, start: e.startTime, duration: Math.abs(e.endTime - e.startTime), rate: ""};
            return t.saveCropInfo(o)
        }

        e.startTime = 0, e.endTime = 0, e.currentTime = 0, e.minuteS = 0, e.secondS = 0, e.minuteE = 0, e.secondS = 0, e.soundSrc = i.FILE + a.path, e.title = a.name, e.cropLen = "0:00", e.resourceType = "mp3", e.soundType = a.fileType, e.lastCropInfo = s.lastCropInfo, e.ok = function () {
            var i = e.startTime, o = e.endTime - e.startTime;
            return o <= 0 ? void r.openMsgDialog({msg: "裁切长度不能为0。"}) : (o >= e.duration && (i = null, o = null), void t.crop(a.path, i, o).then(function (i) {
                var o = i.data.obj;
                $("#loading").show(), t.pollingStatus(o).then(function (e) {
                    return $("#loading").hide(), s.soundId ? c(s.soundId, e) : n.saveFileInfo(a).then(function (t) {
                        var n = t.data.obj;
                        return c(n.id, e)
                    })
                }, function () {
                    $("#loading").hide(), r.openMsgDialog({msg: "裁切失败"}), e.$close()
                }).then(function (t) {
                    e.$close(t)
                })
            }))
        }, e.play = function () {
            "start" !== e.state ? e.state = "start" : e.state = "pause"
        }, e.changeStartTime = function () {
            e.secondS || (e.secondS = 0), e.secondS = Math.floor(e.secondS), e.startTime = 60 * e.minuteS + e.secondS, e.startTime > e.endTime && (e.minuteS = Math.floor(e.endTime / 60), e.secondS = Math.round(e.endTime % 60), e.startTime = e.endTime)
        }, e.changeEndTime = function () {
            e.secondE || (e.secondE = 0), e.secondE = Math.floor(e.secondE), e.endTime = 60 * e.minuteE + e.secondE, e.endTime > e.duration ? (e.minuteE = Math.floor(e.duration / 60), e.secondE = Math.round(e.duration % 60), e.endTime = e.duration) : e.endTime < e.startTime && (e.minuteE = Math.floor(e.startTime / 60), e.secondE = Math.round(e.startTime % 60), e.endTime = e.startTime)
        }, e.setStartTime = function () {
            e.startTime = e.currentTime
        }, e.setEndTime = function () {
            e.endTime = e.currentTime
        }, e.$watch("startTime", function (t, n) {
            t !== n && (e.minuteS = Math.floor(t / 60), e.secondS = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
        }), e.$watch("endTime", function (t, n) {
            t !== n && (e.minuteE = Math.floor(t / 60), e.secondE = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
        }), e.cancel = function () {
            e.$dismiss()
        }
    }

    i.$inject = ["$scope", "audioAPI", "fileAPI", "HOST", "modalService", "sound", "cropConfig"], n(273);
    var o = n(275).toMinute;
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    "use strict";

    function n(e) {
        return Math.round(e % 60) >= 10 ? Math.floor(e / 60) + ":" + Math.round(e % 60) : Math.floor(e / 60) + ":0" + Math.round(e % 60)
    }

    e.exports = {toMinute: n}
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(277), link: function (e, t) {
                function n(e) {
                    a = e, v = t.offset().left
                }

                function i(t) {
                    if (a) {
                        var n = t.clientX - v;
                        "s" === a ? (n >= g ? n = g : n <= 0 && (n = 0), e.startTime = Math.round(n / 850 * e.duration)) : "e" === a ? (n <= f ? n = f : n >= 850 && (n = 850), e.endTime = Math.round(n / 850 * e.duration)) : (n <= f ? n = f : n >= g && (n = g), e.currentTime = Math.round(n / 850 * e.duration)), e.$apply()
                    }
                }

                function r(t) {
                    var n = l.position().left;
                    n >= 800 ? l.css({zIndex: 2}) : l.css({zIndex: 1}), a && ("s" === a ? (f = t.clientX - v, f >= g ? f = g : f <= 0 && (f = 0), e.startTime = Math.round(f / 850 * e.duration)) : "e" === a ? (g = t.clientX - v, g <= f ? g = f : g >= 850 && (g = 850), e.endTime = Math.round(g / 850 * e.duration)) : (h = t.clientX - v, h < f && (h = f), c.currentTime = e.currentTime), a = null)
                }

                var a, s = t.find("audio"), c = s.get(0), l = t.find(".bar-s"), p = t.find(".bar-c"),
                    u = t.find(".bar-e"), d = t.find(".left-distance"), m = t.find(".right-distance"), f = 0, g = 850,
                    h = 0, v = 0, y = e.lastCropInfo;
                e.curT = "0:00", e.endT = "0:00", s.attr("src", e.soundSrc), p.hide(), l.on("mousedown", function () {
                    return n("s")
                }), u.on("mousedown", function () {
                    return n("e")
                }), p.on("mousedown", function () {
                    return n("c")
                }), t.on("mousemove", i), t.on("mouseup mouseleave", r), s.on("error", function (t) {
                    switch (t.target.error.code) {
                        case t.target.error.MEDIA_ERR_ABORTED:
                            console.error("You aborted the video playback.");
                            break;
                        case t.target.error.MEDIA_ERR_NETWORK:
                            console.error("A network error caused the video download to fail part-way.");
                            break;
                        case t.target.error.MEDIA_ERR_DECODE:
                            console.error("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");
                            break;
                        case t.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
                            console.error("The video could not be loaded, either because the server or network failed or because the format is not supported.");
                            break;
                        default:
                            console.error("An unknown error occurred.")
                    }
                    e.$dismiss()
                }), s.on("loadedmetadata", function () {
                    if (!isNaN(c.duration)) {
                        var t = Math.floor(c.duration), n = "";
                        2 == e.soundType ? n = t < 90 ? t : 90 : 4 == e.soundType && (n = t < 15 ? t : 15), y ? (e.startTime = y.start, e.endTime = y.start + y.duration, e.currentTime = e.lastCropInfo.start) : (e.endTime = n, e.startTime = 0, e.currentTime = 0), e.duration = t, e.endT = o(e.endTime);
                        for (var i = 850 / e.duration, r = e.duration / 6 + 1, a = [], s = 1; s <= r; s++) a.push(o(6 * s));
                        e.timeline = a, e.liW = 6 * i + "px", e.endLi = 850 - 6 * i * (Math.floor(r) - 1) + "px", e.$apply()
                    }
                }), s.on("timeupdate", function () {
                    "c" !== a && (e.currentTime = c.currentTime, e.$apply())
                }), e.$watch("state", function (t) {
                    "start" == t ? (e.currentTime >= e.endTime && (c.currentTime = e.startTime), c.currentTime < e.startTime && (c.currentTime = e.startTime), p.show(), c.play()) : "pause" == t && c.pause()
                }), e.$watch("endTime", function (t) {
                    e.endT = o(t), g = t / e.duration * 850, g = g > 850 ? 850 : g, u.css("left", g - 5 + "px"), m.css("width", 850 - g + "px"), g < h && (e.currentTime = t, c.currentTime = t)
                }), e.$watch("startTime", function (t) {
                    f = t / e.duration * 850, f = f > 850 ? 850 : f, l.css("left", f - 5 + "px"), d.css("width", f + "px"), h < f && (e.currentTime = t, c.currentTime = t)
                }), e.$watch("currentTime", function (t) {
                    e.curT = o(t), h = Math.round(t / e.duration * 850), h >= g && (h = g, e.state = "pause"), p.css("left", h - 5 + "px")
                }), e.$watch("soundSrc", function (t, n) {
                    t !== n && (p.hide(), s.attr("src", t), e.state = "pause")
                })
            }
        }
    }

    var o = n(275).toMinute;
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="crop-panel"><ul class="time-line"><li ng-class="{\'s-scale\': ($index+1) % 5 != 0, \'l-scale\': ($index+1) % 5 == 0}" ng-style="{\'width\': ($index+1) != timeline.length ? liW : endLi}" ng-repeat="scale in timeline"><span ng-if="$index == 0" class="time-line-0">0:00</span> <span ng-if="($index+1) % 5 == 0">{{scale}}</span></li></ul><em class="bar-s"><em class="triangle"></em> <em class="line"></em> </em><em class="bar-c"><em class="triangle"></em> <em class="line"></em> </em><em class="bar-e"><em class="triangle"></em> <em class="line"></em></em><div class="left-distance"></div><div class="right-distance"></div></div><span>{{curT}}/<span>{{endT}}</span></span><audio></audio>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t, n) {
            function i(e) {
                e && e.pause && e.pause()
            }

            function o(t, n, i, o) {
                var r, a = {};
                a.src = o ? o : n.src || n.url || n.path || n.tmbPath, r = /^https?/.test(a.src) ? a.src : e.FILE + a.src;
                var s = r.substr(r.lastIndexOf("/") + 1), c = i.src.substr(r.lastIndexOf("/") + 1);
                null === t.id ? s === c && n.isPlaying ? i.pause() : s !== c || n.isPlaying ? (i.src = r, i.play(), t.isPlaying = !1, n.isPlaying = !0) : i.play() : t.id === n.id && n.isPlaying ? i.pause() : t.id !== n.id || n.isPlaying ? (i.src = r, i.play(), t.isPlaying = !1, n.isPlaying = !0) : (i.src = r, i.play())
            }

            var r = {};
            n.on("pause", function () {
                n.attr("src") && t.$apply(function () {
                    return r.isPlaying = !1
                })
            }).on("play", function () {
                n.attr("src") && t.$apply(function () {
                    return r.isPlaying = !0
                })
            }), t.$on("sound.toggle", function (e, t, i, a) {
                o(r, t, n[0], i, a), r = t
            }), t.$on("sound.pause", function (e) {
                e && e.id == r.id && i(n[0])
            }), t.$on("$destroy", function () {
                r && r.id && (r.isPlaying = !1)
            })
        }

        return {link: t}
    }

    n.$inject = ["HOST"], e.exports = n
}, function (e, t, n) {
    "use strict";
    n(280), e.exports = function () {
        return {template: n(281), replace: !0, restrict: "EA", scope: {brand: "="}}
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<span class="brand-music"><span>音乐来源：</span> <a ng-show="brand && brand.logo" class="hint--bottom hint--rounded" data-hint="{{brand.name}}" ng-href="{{brand.url}}" target="_blank"><img ng-src="{{brand.logo}}" alt=""></a></span>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.music2", [n(283)]).factory("musicModalFactory2", n(298)).factory("musicService2", n(299)).factory("audioService", n(300)).directive("eqdMusic2Head", n(301)).directive("eqdMusic2Foot", n(303)).directive("eqdDialogMusic", n(305)).directive("eqdDialogCrop", n(308)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.music2.buy", []).directive("eqdMusic2Buy", n(284)).directive("eqdMusic2Category", n(287)).directive("eqdMusic2Upload", n(289)).directive("eqdMusic2Recently", n(291)).directive("eqdDialogWord", n(293)).factory("categoryService", n(297)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {replace: !0, template: n(285)}
    }
}, function (e, t, n) {
    e.exports = '<div class="content"><div class="title" ng-class="{shadow: vm.scrolled}"><span class="name">我的购买</span></div><div class="scroll" style="height: calc(100% - 70px)" eqd-scroll refresh="refresh()" scrolled="editBoxShadow" ng-if="vm.music.list.length"><ul class="list"><li class="item" ng-class="{active: vm.selected.id === item.id}" ng-repeat="item in vm.music.list" ng-click="select(item)"><span class="num" ng-show="$index < 999">{{::$index + 1}}</span> <span class="num" ng-show="$index >= 999">…</span> <span class="name">{{::item.name}}</span> <span class="cut hint--left hint--rounded" data-hint="裁剪" ng-click="crop($event, item)"><i class="eqf-cut"></i></span></li></ul></div><div class="empty" ng-if="!vm.music.list.length"><img src="' + n(286) + "\" alt=\"\"> {{vm.music.isBusy ? '加载中…' : '您还没有购买音乐'}}</div></div>"
}, function (e, t, n) {
    e.exports = n.p + "images/emptyMusic-6ea5d8.svg"
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            replace: !0,
            template: n(288),
            controller: ["$scope", "musicService2", "HOST", "tagAPI", "categoryService", function (e, t, n, i, o) {
                "ngInject";

                function r() {
                    var e = {
                        category: p.selected.id,
                        sortBy: u.selected.id,
                        priceFloor: d.selected.id[0],
                        priceCeiling: d.selected.id[1],
                        keyWords: "" === m.keywords ? void 0 : m.keywords
                    };
                    return JSON.stringify(e)
                }

                var a = e.vm, s = a.fileType, c = null, l = o.getCondition(s), p = l.category, u = l.hot, d = l.price,
                    m = l.search;
                0 === p.selected.id && (2 === s ? p.selected.id = parseInt(n.MALL_MUSIC_ID_DEFAULT) : p.selected.id = parseInt(n.MALL_SOUND_ID_DEFAULT)), c = 2 === s ? parseInt(n.MALL_MUSIC_ID_NEW) : parseInt(n.MALL_SOUND_ID_NEW), e.category = p, e.hot = u, e.price = d, e.search = m, i.getCategoryListByTopId(c).then(function (e) {
                    p.list = e
                }), e.refresh = function () {
                    t.getMoreItems(r(), s)
                }, e.change = function () {
                    var e = r();
                    a.music = t.getMusicInfo(e, s), 0 === a.music.list.length && t.getMoreItems(e, s)
                }, e.change()
            }]
        }
    }
}, function (e, t, n) {
    e.exports = '<div class="content"><eqx-resource-top-function2 category="category" hot="hot" price="price" keywords="search.keywords" change="change()" scrolled="vm.scrolled"></eqx-resource-top-function2><div class="scroll" style="height: calc(100% - 70px)" eqd-scroll refresh="refresh()" scrolled="editBoxShadow" ng-if="vm.music.list.length"><ul class="list"><li class="item" ng-class="{active: vm.selected.id === item.id}" ng-repeat="item in vm.music.list" ng-click="select(item)"><span class="num" ng-show="$index < 999">{{::$index + 1}}</span> <span class="num" ng-show="$index >= 999">…</span> <span class="name">{{::item.name}}</span><span class="price">{{::item.price ? item.price + \'秀点\' : \'免费\'}}</span> <span class="ico hint--left hint--rounded" data-hint="{{::item.brand.name}}"><a ng-href="{{::item.brand.url}}" target="_blank"><img ng-src="{{::item.brand.logo}}" alt=""></a></span></li></ul></div><div class="empty" ng-if="!vm.music.list.length"><img src="' + n(286) + "\" alt=\"\"> {{vm.music.isBusy ? '加载中…' : '暂无数据'}}</div></div>"
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            replace: !0,
            template: n(290),
            controller: ["$scope", "authorityService", "fileAPI", "notifier", "dialogService", "musicService2", function (e, t, n, i, o, r) {
                "ngInject";
                var a = e.vm, s = a.fileType;
                e.isWordToSound = !t.permission("wordToSound");
                var c = null, l = e.uploadOptions = {
                    tokenType: "audio",
                    extensions: "mp3",
                    maxFileSize: 10,
                    uploadBtn: "btn_upload",
                    uploadCon: "content_music",
                    tip: "上传音频",
                    maxCount: 10,
                    onFilesAdded: function (t, n) {
                        t.total.queued > 0 && (l.tip = "上传中…"), e.$apply()
                    },
                    onBeforeUpload: function (e, t) {
                    },
                    onUploadProgress: function (e, t) {
                        c || (c = $("#btn_upload_progress")), c.css({opacity: 1, width: e.total.percent + "%"})
                    },
                    onFileUploaded: function (e, t, i) {
                        var o = {
                            path: t.target_name,
                            tmbPath: t.target_name,
                            name: t.name,
                            size: parseInt(t.size / 1024),
                            fileType: s,
                            bizType: 0,
                            tagId: 0
                        };
                        n.saveFileInfo(o)
                    },
                    onUploadComplete: function () {
                        "上传中…" === l.tip && (i.success("上传成功"), l.tip = "上传音频", c.css({opacity: 0}), setTimeout(function () {
                            c.css({width: 0})
                        }, 1e3), r.clearKey(e.TAB.my, s), e.setTab(e.TAB.my), e.$apply())
                    },
                    onError: function (e, t, n) {
                        console.log(e, t, n), i.danger("上传异常，请稍后重试")
                    }
                };
                e["delete"] = function (e, t, r) {
                    e.stopPropagation(), o.openConfirmDialog({msg: "确定删除此音频吗？"}).then(function () {
                        return n.deleteFile(r.id)
                    }).then(function () {
                        a.music.list.splice(t, 1), i.success("删除成功")
                    })
                }
            }]
        }
    }
}, function (e, t, n) {
    e.exports = '<div class="content"><div class="title" id="content_music" ng-class="{shadow: vm.scrolled}"><span class="name">我的上传</span><div class="tip"><i class="icon eqf-info-f"></i><div class="desc">易企秀为广大用户提供原创正版音乐上传渠道、信息储存空间、外部链接等网络技术服务，用户可在遵守 <span class="agreement" ng-click="openAgreement()">《易企秀音乐版权许可与服务协议》</span> 的前提下自行上传并对其上传作品承担全部责任，请谨慎使用上传功能。<br>通过本地电脑上传或者添加外链，大小不超过10M，格式为MP3。链接如何减少文件大小，请查看 <a class="crop" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505">如何裁剪音乐</a></div></div><span class="eqc-btn blue h30 upload" id="btn_upload" eqx-upload="uploadOptions"><span class="progress1" id="btn_upload_progress"></span> <i class="icon eqf-upload" style="position: relative"></i> <span style="position: relative">{{uploadOptions.tip}}</span> </span><span class="eqc-btn white h30 word-to-sound" ng-if="isWordToSound" eqd-dialog-word><i class="icon eqf-volume-medium"></i>字转音</span></div><div class="scroll" style="height: calc(100% - 70px)" eqd-scroll refresh="refresh()" scrolled="editBoxShadow" ng-if="vm.music.list.length"><ul class="list"><li class="item" ng-class="{active: vm.selected.id === item.id}" ng-repeat="item in vm.music.list" ng-click="select(item)"><span class="num" ng-show="$index < 999">{{::$index + 1}}</span> <span class="num" ng-show="$index >= 999">…</span> <span class="name" title="{{::item.name}}">{{::item.name}}</span> <span class="del hint--left hint--rounded" data-hint="删除" ng-click="delete($event, $index, item)"><i class="eqf-delete-l"></i></span> <span class="cut hint--left hint--rounded" data-hint="裁剪" ng-click="crop($event, item)" style="margin-right: 10px"><i class="eqf-cut"></i></span></li></ul></div><div class="empty" ng-if="!vm.music.list.length"><img src="' + n(286) + "\" alt=\"\"> {{vm.music.isBusy ? '加载中…' : '您还没有上传音乐'}}</div></div>"
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        "ngInject";
        return {
            replace: !0,
            template: n(292),
            controller: ["$scope", "recentlyUseService", "musicService2", function (e, t, n) {
                var i = e.vm, o = i.fileType, r = 2 === o ? "music" : "sound", a = t.get(r, 10);
                i.music = n.getMusicInfo(i.tab, o), i.music.list = a.getList()
            }]
        }
    }
}, function (e, t, n) {
    e.exports = '<div class="content"><div class="title" ng-class="{shadow: vm.scrolled}"><span class="name">最近使用</span></div><div class="scroll" style="height: calc(100% - 70px)" eqd-scroll refresh="refresh()" scrolled="editBoxShadow" ng-if="vm.music.list.length"><ul class="list"><li class="item" ng-class="{active: vm.selected.id === item.id}" ng-repeat="item in vm.music.list" ng-click="select(item)"><span class="num" ng-show="$index < 999">{{::$index + 1}}</span> <span class="num" ng-show="$index >= 999">…</span> <span class="name" title="{{::item.name}}">{{::item.name}}</span> <span class="cut hint--left hint--rounded" data-hint="裁剪" ng-click="crop($event, item)"><i class="eqf-cut"></i></span></li></ul></div><div class="empty" ng-if="!vm.music.list.length"><img src="' + n(286) + "\" alt=\"\"> {{vm.music.isBusy ? '加载中…' : '您还没有使用音乐'}}</div></div>"
}, function (e, t, n) {
    "use strict";
    n(294);
    var i = n(295);
    e.exports = ["$rootScope", "$compile", "fileAPI", "notifier", "musicService2", function (e, t, n, o, r) {
        "ngInject";
        return {
            scope: !0, link: function (a, s) {
                function c() {
                    m.show(), m.addClass("show1"), m.removeClass("hide1"), m.off("webkitAnimationEnd"), g.focus()
                }

                function l() {
                    v = !1, m.addClass("hide1"), m.removeClass("show1"), m.on("webkitAnimationEnd", function () {
                        m.hide(), m.off("webkitAnimationEnd")
                    })
                }

                function p() {
                    var e = s.outerWidth(), t = s.outerHeight(), n = s.position(), i = m.outerWidth(),
                        o = f.outerWidth();
                    m.css({top: n.top + t + 8, left: n.left - (i - e) / 2}), f.css({left: (i - o) / 2})
                }

                var u = $(document), d = s.parent(), m = t(i)(a), f = m.find(".arrow"), g = m.find("textarea");
                d.append(m), setTimeout(p);
                var h = a.vm.fileType, v = !1, y = a.vm = {text: "", isShow: !1, isLoading: !1};
                s.click(function (t) {
                    e.$broadcast("hint.hide", "word"), v || (t.stopPropagation(), v = !0, c(), m.on("click.word", function (e) {
                        e.stopPropagation()
                    }), u.on("click.word", function () {
                        l(), u.off("click.word"), m.off("click.word")
                    }))
                }), a.ok = function () {
                    return y.text.length ? (y.isLoading = !0, void n.wordTransformSound(y.text, h).then(function () {
                        y.isLoading = !1, o.success("转换成功"), r.clearKey(a.TAB.my, h), a.setTab(a.TAB.my)
                    }, function (e) {
                        o.danger(e.data.msg), y.isLoading = !1
                    })) : (o.danger("请输入要转换的内容"), void g.focus())
                }, a.cancel = function () {
                    l()
                }, a.$on("hint.hide", function (e, t) {
                    "word" !== t && l()
                })
            }
        }
    }]
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="eqc-hint"><textarea placeholder="请输入要转为音频的内容" rows="3" ng-model="vm.text" check-count="100"></textarea><div class="foot1 clearfix"><span class="count">{{vm.text | validCharacterNum}}/100</span> <span class="eqc-btn blue h24 fr ok" ng-click="ok()">确定</span> <span class="eqc-btn white h24 fr" ng-click="cancel()">取消</span></div><div class="loading-mask" ng-show="vm.isLoading"><div class="loading-icon"><img src="' + n(296) + '" alt=""><p>音频转换中</p></div></div><div class="arrow"></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/puff-6d972e.svg"
}, function (e, t, n) {
    "use strict";
    var i = n(246);
    e.exports = function () {
        function e(e) {
            return t[e] ? t[e] : t[e] = {
                category: {selected: {id: 0, name: "精选"}, list: []},
                hot: {selected: i[0], list: i},
                price: {selected: n[0], list: n},
                search: {keywords: ""}
            }
        }

        var t = {}, n = [{id: [-1, -1], name: "全部"}, {id: [0, 0], name: "免费"}, {id: [1, 10], name: "1-10秀点"}, {
            id: [11, 20],
            name: "11-20秀点"
        }, {id: [21, 30], name: "21-30秀点"}];
        return {getCondition: e}
    }
}, function (e, t) {
    "use strict";
    e.exports = ["dialogService", "eqxNgMaterial", function (e, t) {
        "ngInject";

        function n() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", o = arguments[3];
            return t.showDialog({type: 2 === o ? "music" : "sound", id: e, name: n, path: i})
        }

        function i() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
            return e.open({template: '<eqd-dialog-crop id="' + t + '" name="' + n + '" path="' + i + '"></eqd-dialog-crop>'})
        }

        return {open: n, openMusicCropDialog: i}
    }]
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    e.exports = ["$q", "fileAPI", function (e, t) {
        "ngInject";

        function i(e, t) {
            return e = e + "-" + t, a[e] || (a[e] = {
                isBusy: !1,
                isLastPage: !1,
                pageNo: 1,
                pageSize: 18,
                count: -1,
                list: []
            }), a[e]
        }

        function o(o, r) {
            var a = i(o, r);
            if (!a.isBusy && a.list.length !== a.count) {
                a.isBusy = !0;
                var s = {fileType: r, pageNo: a.pageNo, pageSize: a.pageSize}, c = null;
                switch (o) {
                    case"music-buy":
                        c = t.getUserPurchaseItems(s);
                        break;
                    case"music-upload":
                        c = t.getUserUploadItems(s);
                        break;
                    case"music-recently":
                        c = e.reject();
                        break;
                    default:
                        Object.assign(s, JSON.parse(o)), delete s.fileType, c = t.searchMaterial1(s)
                }
                c.then(function (e) {
                    var t;
                    a.isBusy = !1, a.count = e.data.map.count, a.pageNo++, (t = a.list).push.apply(t, n(e.data.list))
                })["catch"](function () {
                    a.isBusy = !1
                })
            }
        }

        function r(e, t) {
            e = e + "-" + t, delete a[e]
        }

        var a = {};
        return {getMusicInfo: i, getMoreItems: o, clearKey: r}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["HOST", function (e) {
        "ngInject";

        function t(t) {
            a || (a = new Audio), 0 === a.played.length && (a.src = e.FILE + t)
        }

        function n(e) {
            t(e), a.play()
        }

        function i() {
            a && a.pause()
        }

        function o() {
            i(), a = null
        }

        function r() {
            return a ? a.currentTime / a.duration : 0
        }

        var a = null;
        return {play: n, pause: i, stop: o, getProgress: r}
    }]
}, function (e, t, n) {
    "use strict";
    e.exports = ["dialogService", function (e) {
        "ngInject";
        return {
            replace: !0, template: n(302), link: function (t) {
                t.openAgreement = function () {
                    e.open({template: "<eqd-music-agreement></eqd-music-agreement>"})
                }
            }
        }
    }]
}, function (e, t) {
    e.exports = '<div class="head"><span class="title">正版音乐</span><div class="tip"><i class="icon eqf-info-f"></i><div class="tip-box"><div class="desc">使用音乐即代表同意并接受 <span class="agreement" ng-click="openAgreement()">《易企秀音乐版权许可与服务协议》</span></div></div></div><span class="close1 eqf-no" ng-click="close()"></span></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            replace: !0,
            template: n(304),
            controller: ["$scope", "materialAPI", "dialogService", "HOST", "notifier", "musicService2", "audioAPI", "eqxNgPay", function (e, t, n, i, o, r, a, s) {
                "ngInject";
                var c = e.vm, l = c.fileType;
                e.unSelect = function () {
                    c.selected = {}
                }, e.useDefault = function () {
                    c.selected = c["default"]
                }, e.ok = function () {
                    c.selected.id ? e.use() : e.close({})
                }, e.buy = function () {
                    var a = c.selected;
                    t.checkPurchased(a.id).then(function (c) {
                        if (c.data.map.isPurchase) n.openConfirmDialog({msg: "用户已购买，是否立即使用？"}).then(function () {
                            t.checkProductExist(l, {
                                id: a.id,
                                name: a.name,
                                path: a.path,
                                fileType: l,
                                price: a.price
                            }), e.addRecently(a), e.close(a)
                        }); else {
                            var p = {
                                orderAppId: i.MALL_BUY_ID,
                                signUrl: i.MALL_HOST + "api/m/order/sign",
                                buyItems: [{name: "购买音乐", price: a.price, id: a.id, type: 3}]
                            };
                            s.payMulti(p).then(function (n) {
                                var i = n.value;
                                if ("$document" !== i && void 0 !== i && "close" !== i.msgType) if (i.data.success) {
                                    var s = {
                                        productId: p.buyItems[0].id,
                                        totalFee: p.buyItems[0].price,
                                        outOrderId: i.data.obj.merchantOrderNo,
                                        channel: "EDITOR"
                                    };
                                    t.saveOrderToBusinessCity(s).then(function (e) {
                                        var n = {
                                            id: a.id,
                                            orderId: e.data.map.orderId,
                                            name: a.name || a.title,
                                            path: a.path,
                                            price: a.price,
                                            source: 2,
                                            prodType: 4,
                                            musicType: l
                                        };
                                        return t.saveToMyResource(n)
                                    }).then(function () {
                                        o.success("购买成功，已保存至“我的购买”"), r.clearKey(e.TAB.myPurchase, l), e.addRecently(a), e.close(a)
                                    })["catch"](function () {
                                        o.danger("购买失败，请联系客服处理")
                                    })
                                } else o.danger("支付失败，请稍后重试")
                            })
                        }
                    })
                }, e.use = function () {
                    var t = angular.copy(c.selected);
                    a.getCropInfo(t.id).then(function (n) {
                        e.addRecently(t);
                        var i = n.data.obj;
                        i && i.url && (t.path = i.url), e.close(t)
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="foot"><div class="info clearfix"><div class="progress1 all-change" ng-style="{width: vm.progress * 100 + \'%\'}"></div><span class="ctrl" ng-show="vm.selected.id && !vm.isPlayed" ng-click="play()"><i class="eqf-play"></i></span> <span class="ctrl" ng-show="vm.selected.id && vm.isPlayed" ng-click="pause()"><i class="eqf-pause"></i></span> <span class="ctrl disable" ng-show="!vm.selected.id"><i class="eqf-play"></i></span> <span class="name" ng-class="{disable: !vm.selected.id}">{{vm.selected.id ? vm.selected.name : \'无音乐\'}}</span> <span class="default" ng-show="vm.default.id === vm.selected.id && vm.default.id">默认</span> <span class="use-default" ng-show="vm.default.id !== vm.selected.id && vm.default.id" ng-click="useDefault()">恢复默认音乐</span> <span class="del eqf-no" ng-show="vm.default.id === vm.selected.id && vm.default.id" ng-click="unSelect()"></span> <span class="price" ng-show="vm.default.id !== vm.selected.id">{{vm.selected.price ? vm.selected.price + \'秀点\' : \'免费\'}}</span></div><div class="ok" ng-show="vm.default.id !== vm.selected.id && !vm.selected.price" ng-click="use()">使用</div><div class="ok buy" ng-show="vm.default.id !== vm.selected.id && vm.selected.price" ng-click="buy()">购买</div><div class="ok" ng-show="vm.default.id === vm.selected.id || !vm.selected.id" ng-click="ok()">确定</div></div>'
}, function (e, t, n) {
    "use strict";
    n(306), e.exports = ["$q", "$timeout", "musicModalFactory2", "musicService2", "audioService", "recentlyUseService", "audioAPI", "bannerAPI", function (e, t, i, o, r, a, s, c) {
        "ngInject";
        var l = {};
        return {
            replace: !0, template: n(307), controller: ["$scope", "$attrs", function (n, p) {
                function u() {
                    if (b.isPlayed) {
                        if (b.progress >= 1) return b.isPlayed = !1, void(b.progress = 0);
                        b.progress = r.getProgress(), t(function () {
                            u()
                        }, 1e3)
                    }
                }

                var d = p.id, m = p.name, f = p.path, g = p.fileType;
                d = d ? parseInt(d) : d, g = parseInt(g);
                var h = n.TAB = {
                    sys: "music-sys",
                    myPurchase: "music-buy",
                    my: "music-upload",
                    recently: "music-recently"
                }, v = 2 === g ? "music" : "sound", y = a.get(v, 10), b = n.vm = {
                    tab: "",
                    resourceName: "music",
                    music: null,
                    "default": {id: d, name: m, path: f},
                    selected: {id: d, name: m, path: f},
                    isPlayed: !1,
                    progress: 0,
                    fileType: g
                };
                n.setTab = function (e) {
                    b.tab = e, l[g] = e, b.scrolled = !1, e !== h.my && e !== h.myPurchase || (b.music = o.getMusicInfo(b.tab, g), 0 === b.music.list.length && o.getMoreItems(b.tab, g))
                }, n.setTab(l[g] || h.sys), n.refresh = function () {
                    o.getMoreItems(b.tab, g)
                }, n.select = function (e) {
                    b.selected = e, b.isPlayed = !1, b.progress = 0, r.stop()
                }, n.editBoxShadow = function (e) {
                    n.$apply(function () {
                        b.scrolled = !!e
                    })
                }, n.play = function () {
                    var t = e.defer(), n = b.selected, i = n.path, o = n.cropPath;
                    o ? t.resolve(o) : n.brand ? (n.cropPath = i, t.resolve(i)) : (n.cropPath = i, s.getCropInfo(n.id).then(function (e) {
                        var i = e.data.obj;
                        i && i.url && (n.cropPath = i.url), t.resolve(n.cropPath)
                    }, function () {
                        return t.reject()
                    })), t.promise.then(function (e) {
                        r.play(e), b.isPlayed = !0, u()
                    })
                }, n.pause = function () {
                    r.pause(), b.isPlayed = !1
                }, n.$on("$destroy", function () {
                    return r.stop()
                }), n.close = function (e) {
                    var t = void 0;
                    e && (t = {}, e.id && (t = {id: e.id, name: e.name, path: e.path})), n.closeThisDialog(t)
                }, n.addRecently = function (e) {
                    var t = e.id, n = e.name, i = e.path;
                    y.addItems({id: t, name: n, path: i})
                }, n.crop = function (e, t) {
                    e.stopPropagation(), n.pause();
                    var o = t.id, r = t.name, a = t.path;
                    i.openMusicCropDialog(o, r, a).then(function (e) {
                        e = {
                            id: o,
                            url: e.cropPath,
                            start: e.startTime,
                            duration: e.duration,
                            rate: ""
                        }, s.saveCropInfo(e)
                    })
                }, c.getBanners("pc_audio_coupon").then(function (e) {
                    return n.coupons = e.data.list
                })
            }]
        }
    }]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-dialog blue1 eqc-dialog-music material"><eqd-music2-head></eqd-music2-head><div class="body"><eqx-resource-nav2></eqx-resource-nav2><eqd-music2-category ng-if="vm.tab === TAB.sys"></eqd-music2-category><eqd-music2-buy ng-if="vm.tab === TAB.myPurchase"></eqd-music2-buy><eqd-music2-upload ng-if="vm.tab === TAB.my"></eqd-music2-upload><eqd-music2-recently ng-if="vm.tab === TAB.recently"></eqd-music2-recently></div><eqd-music2-foot></eqd-music2-foot></div>'
}, function (e, t, n) {
    "use strict";
    n(309), e.exports = ["$q", "audioService", "audioAPI", "HOST", "notifier", function (e, t, i, o, r) {
        "ngInject";
        return {
            replace: !0, template: n(313), link: function (t, n, a) {
                function s() {
                    f.totalTime = E.duration, f.endTime > f.totalTime && (f.endTime = f.totalTime), f.totalTime <= 70 && (k = 1), P.resolve(), t.$apply()
                }

                function c() {
                    var e = 0;
                    I || (f.currentTime = E.currentTime, t.$apply(), e = f.currentTime * C + f.margin, v.css({left: e})), (E.currentTime >= f.endTime || E.currentTime === E.duration) && (t.pause(), t.$apply(), e = f.endTime * C + f.margin, v.css({left: e}))
                }

                function l(e) {
                    switch (e.target.error.code) {
                        case e.target.error.MEDIA_ERR_ABORTED:
                            console.error("You aborted the video playback.");
                            break;
                        case e.target.error.MEDIA_ERR_NETWORK:
                            console.error("A network error caused the video download to fail part-way.");
                            break;
                        case e.target.error.MEDIA_ERR_DECODE:
                            console.error("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");
                            break;
                        case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
                            console.error("The video could not be loaded, either because the server or network failed or because the format is not supported.");
                            break;
                        default:
                            console.error("An unknown error occurred.")
                    }
                    r.danger("音频加载失败"), t.closeThisDialog()
                }

                function p(e) {
                    var t = e / k;
                    C = (w - 2 * f.margin) / e, f.distancePerShortLine = (w - 2 * f.margin) / t, t = Math.ceil(e / k);
                    for (var n = 0; n < t; n++) f.shortLineArr.push({time: n * k, isLong: n % T === 0});
                    var i = f.margin + f.startTime * C, o = f.margin + f.endTime * C;
                    g.css({left: i}), v.css({left: i}), h.css({left: o}), y.css({width: i}), b.css({width: w - o})
                }

                var u = a.id, d = a.name, m = a.path, f = t.vm = {
                        name: d,
                        startTime: 0,
                        endTime: 90,
                        currentTime: 0,
                        totalTime: 0,
                        margin: 16,
                        shortLineArr: [],
                        isPlayed: !1
                    }, g = n.find(".bar-left"), h = n.find(".bar-right"), v = n.find(".bar-current"),
                    y = n.find(".bar-area-left"), b = n.find(".bar-area-right"), x = $(document), w = 740,
                    S = w - f.margin, k = 6, T = 5, C = 0, I = !1, E = new Audio;
                E.addEventListener("loadedmetadata", s), E.addEventListener("timeupdate", c), E.addEventListener("error", l), E.src = o.FILE + m;
                var P = e.defer(), _ = i.getCropInfo(u).then(function (e) {
                    var t = e.data.obj;
                    t && (E.currentTime = f.currentTime = f.startTime = t.start, f.endTime = t.start + t.duration)
                });
                t.play = function () {
                    f.isPlayed = !0, E.play()
                }, t.pause = function () {
                    f.isPlayed = !1, E.pause()
                }, t.cancel = function () {
                    t.closeThisDialog()
                }, n.on("$destroy", function () {
                    E.pause(), E.removeEventListener("loadedmetadata", s), E.removeEventListener("timeupdate", c), E.removeEventListener("error", l), E = null, g.off("mousedown"), h.off("mousedown"), v.off("mousedown")
                }), e.all([_, P.promise]).then(function () {
                    p(f.totalTime)
                }), g.mousedown(function (e) {
                    var i = f.startTime * C + f.margin, o = f.endTime * C + f.margin, r = f.currentTime * C + f.margin,
                        a = 0, s = 0, c = e.clientX;
                    n.css({cursor: "ew-resize"}), x.mousemove(function (e) {
                        s = e.clientX - c, a = i + s, a <= f.margin && (a = f.margin), a >= o ? (a = o, g.css({zIndex: 1})) : g.css({zIndex: ""}), a >= r && (r = a, f.currentTime = (a - f.margin) / C, t.pause(), E.currentTime = f.currentTime, v.css({left: r})), g.css({left: a}), y.css({width: a}), f.startTime = (a - f.margin) / C, t.$apply()
                    }), x.mouseup(function () {
                        n.css({cursor: ""}), x.off("mousemove mouseup")
                    })
                }), h.mousedown(function (e) {
                    var i = f.startTime * C + f.margin, o = f.endTime * C + f.margin, r = f.currentTime * C + f.margin,
                        a = 0, s = 0, c = e.clientX;
                    n.css({cursor: "ew-resize"}), x.mousemove(function (e) {
                        s = e.clientX - c, a = o + s, a <= i && (a = i), a >= S && (a = S), a <= r && (r = a, f.currentTime = (a - f.margin) / C, t.pause(), E.currentTime = f.currentTime, v.css({left: r})), h.css({left: a}), b.css({width: w - a}), f.endTime = (a - f.margin) / C, t.$apply()
                    }), x.mouseup(function () {
                        n.css({cursor: ""}), x.off("mousemove mouseup")
                    })
                }), v.mousedown(function (e) {
                    var i = f.startTime * C + f.margin, o = f.endTime * C + f.margin, r = f.currentTime * C + f.margin,
                        a = 0, s = 0, c = e.clientX;
                    I = !0, n.css({cursor: "ew-resize"}), x.mousemove(function (e) {
                        s = e.clientX - c, a = r + s, a <= i && (a = i), a >= o && (a = o), v.css({left: a}), f.currentTime = (a - f.margin) / C, t.$apply()
                    }), x.mouseup(function () {
                        n.css({cursor: ""}), I = !1, E.currentTime = f.currentTime, E.currentTime >= E.duration && t.pause(), x.off("mousemove mouseup")
                    })
                }), t.ok = function () {
                    var e = Math.round(f.startTime), n = Math.round(f.endTime - f.startTime);
                    if (n <= 0) return void r.danger("裁切长度不能为0");
                    var o = $("#loading");
                    i.crop(m, e, n).then(function (e) {
                        return o.show(), i.pollingStatus(e.data.obj)
                    }).then(function (i) {
                        o.hide();
                        var r = {cropPath: i, startTime: e, duration: n};
                        t.closeThisDialog(r)
                    }, function () {
                        o.hide(), t.closeThisDialog(), r.danger("裁切失败")
                    })
                }, t.cancel = function () {
                    t.closeThisDialog()
                }
            }
        }
    }]
}, function (e, t) {
}, , , , function (e, t) {
    e.exports = '<div class="eqc-dialog-crop eqc-dialog"><div class="head"><span class="title">音乐裁切</span> <span class="close1 eqf-no" ng-click="cancel()"></span></div><div class="body"><div class="name" title="{{::vm.name}}">{{::vm.name}}</div><div class="time"><span class="time-duration">{{vm.startTime | formatTime}} — {{vm.endTime | formatTime}}</span> <span class="time-crop">{{vm.endTime - vm.startTime | formatTime}}</span></div><div class="text"><span class="text-duration">起始时间到结束时间之外的音频会被剪掉</span> <span class="text-crop">音频有效时长</span></div><div class="time-line"><ul><li ng-repeat="item in vm.shortLineArr" ng-style="{left: vm.margin + vm.distancePerShortLine * $index + \'px\'}" ng-class="{long: item.isLong}"><span class="time-flag" ng-show="item.isLong">{{::item.time | formatTime}}</span></li></ul><div class="bar-area"><div class="bar-area-left"></div><div class="bar-area-right"></div><div class="bar bar-current"><span></span></div><div class="bar bar-left"><span></span></div><div class="bar bar-right"><span></span></div></div></div><div class="info"><span class="ctrl" ng-show="!vm.isPlayed" ng-click="play()"><i class="eqf-play"></i></span> <span class="ctrl" ng-show="vm.isPlayed" ng-click="pause()"><i class="eqf-pause"></i></span> <span class="time-play">{{vm.currentTime | formatTime}}/{{vm.totalTime | formatTime}}</span></div><div class="foot clearfix"><span class="desc fl">建议音乐有效时长控制在20秒内，场景浏览会更流畅</span> <span class="eqc-btn blue h34 fr ok" ng-click="ok()">确定</span> <span class="eqc-btn white h34 fr" ng-click="cancel()">取消</span></div></div></div>'
}, function (e, t, n) {
    "use strict";
    n(315), e.exports = angular.module("resource.ui.shape", [n(316)]).factory("shapeModalFactory", n(321)).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.shape.tpl", []).directive("eqxShapeHeader", function () {
        return {template: n(317)}
    }).directive("eqxShapeNav", function () {
        return {template: n(318)}
    }).directive("eqxShapeEmpty", function () {
        return {template: n(319)}
    }).name
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">形状库 <span ng-show="!authError" class="action">矢量素材，可更换颜色，放大不失真</span> <span ng-show="authError" class="action">{{authError}}</span></h4></div>'
}, function (e, t) {
    e.exports = '<div class="cate-title"><ul class="nav tabs-left" style="padding-top:0"><li ng-class="{active: vm.tab== TAB.sys}" ng-click="setTab(TAB.sys)"><a>形状库</a></li></ul><ul class="nav tabs-left user-tabs" style="padding-top:0"><li ng-class="{active: vm.tab == TAB.recently}" ng-click="setTab(TAB.recently)"><a>最近使用</a></li></ul></div>'
}, function (e, t, n) {
    e.exports = '<div class="empty-img"><img src="' + n(320) + '" alt=""></div><div class="resource-action-empty" ng-show="vm.tab == TAB.recently"><p class="empty-explain">您尚未使用形状</p><p class="empty-guide">赶紧去制作场景吧～</p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/emptyShape-30f2a8.svg"
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o) {
        "ngInject";

        function r(e) {
            var n = a(e);
            return s().then(function (e) {
                return t.parse(e.path).then(function (t) {
                    return Object.assign(n.properties, {
                        src: e.path,
                        id: e.id,
                        items: t.items
                    }), Object.assign(n.css, {height: t.height, width: t.width}), n
                })
            })
        }

        function a(e) {
            return JSON.parse(JSON.stringify(e))
        }

        function s() {
            return i.permission("newMaterialModal") ? e.open({
                windowClass: "console img_console",
                template: n(322),
                controller: n(323)
            }).then(function (e) {
                return t.addUseHistory(e), e
            }) : o.showDialog({type: "shape"}).then(function (e) {
                return e[0]
            })
        }

        return {getSvg: s, getShapeJson: r}
    }

    i.$inject = ["modalService", "shapeService", "authorityService", "eqxNgMaterial"], e.exports = i
}, function (e, t) {
    e.exports = '<eqx-shape-header></eqx-shape-header><div class="dialog-contain"><div class="dialog-content bg_console sound-flex shape clearfix"><eqx-shape-nav></eqx-shape-nav><div class="cate-list bg-rig" style="padding-bottom:0"><div id="bg_contain"><div class="tab-pane active tab-head"><div class="img_list"><eqx-resource-category ng-show="vm.tab == TAB.sys"></eqx-resource-category><eqx-resource-tags></eqx-resource-tags></div></div><div class="img_list" style="height: 480px;padding: 15px 20px 0 20px"><div class="img_list_container photo_list"><ul class="img_box clearfix" ng-if="vm.itemList.length > 0"><li ng-repeat="img in vm.itemList" ng-style="{backgroundImage: \'url(\' + HOST.FILE+ img.path + \')\'}" ng-click="selectSvg(img)"></li></ul></div><div class="resource-empty-action" ng-if="vm.itemList.length <= 0 && !vm.showLoading"><eqx-shape-empty ng-if="vm.itemList.length <= 0 && !vm.showLoading"></eqx-shape-empty></div><eqx-resource-pagination></eqx-resource-pagination></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        "ngInject";
        var i = Object.assign({showSearch: !1}, n.config);
        o(e, n, i), e.HOST = t, e.selectSvg = function (t) {
            e.$close(t)
        }, e.cancel = function () {
            e.$dismiss()
        }, e.confirm = function () {
            e.$dismiss()
        }
    }

    i.$inject = ["$scope", "HOST", "shapeService"];
    var o = n(266);
    e.exports = i
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.shape2", [n(325), n(330), n(336)]).factory("shapeModalFactory2", n(342)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.shape2.classify", []).directive("materialShape2Classify", n(326)).directive("eqxShapeClassifyBottomShapes2", function () {
        return {template: n(329)}
    }).name
}, function (e, t, n) {
    "use strict";
    n(327), e.exports = function () {
        return {
            template: n(328), replace: !0, restrict: "E", controller: function () {
                "ngInject"
            }
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="material-classify"><eqx-resource-top-function2></eqx-resource-top-function2><eqx-shape-classify-bottom-shapes2></eqx-shape-classify-bottom-shapes2></div>'
}, function (e, t) {
    e.exports = '<div class="bottom-shapes" eqd-scroll refresh="getMoreShapes()" scrolled="editBoxShadow"><div class="bottom-shapes-content"><eqx-shape-shapes2></eqx-shape-shapes2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.shape2.history", []).directive("materialShape2History", n(331)).directive("eqxShapeHistoryTopTitle2", function () {
        return {template: n(334)}
    }).directive("eqxShapeHistoryBottomShapes2", function () {
        return {template: n(335)}
    }).name
}, function (e, t, n) {
    "use strict";
    n(332), e.exports = function () {
        return {template: n(333), replace: !0, restrict: "E"}
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="material-history"><eqx-shape-history-top-title2></eqx-shape-history-top-title2><eqx-shape-history-bottom-shapes2></eqx-shape-history-bottom-shapes2></div>'
}, function (e, t) {
    e.exports = '<div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}">最近使用</div>'
}, function (e, t) {
    e.exports = '<div class="bottom-shapes" eqd-scroll refresh="getMoreShapes()" scrolled="editBoxShadow"><div class="bottom-shapes-content"><eqx-shape-shapes2></eqx-shape-shapes2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.shape2.tpl", []).directive("eqxShapeHead2", function () {
        return {replace: !0, template: n(337)}
    }).directive("eqxShapeBody2", function () {
        return {template: n(338)}
    }).directive("eqxShapeContent2", function () {
        return {template: n(339)}
    }).directive("eqxShapeShapes2", function () {
        return {template: n(340)}
    }).directive("eqxShapeEmpty2", function () {
        return {template: n(341)}
    }).name
}, function (e, t) {
    e.exports = '<div class="head"><span class="title">正版形状</span><span class="desc">矢量素材，可更换颜色，放大不失真</span> <span class="close1 eqf-no" ng-click="close()"></span></div>'
}, function (e, t) {
    e.exports = '<div class="body" id="container"><eqx-resource-nav2></eqx-resource-nav2><eqx-shape-content2></eqx-shape-content2></div>'
}, function (e, t) {
    e.exports = '<div class="content"><material-shape2-classify ng-show="vm.tab === TAB.sys"></material-shape2-classify><material-shape2-history ng-show="vm.tab === TAB.recently"></material-shape2-history><eqx-shape-empty2 ng-show="!vm.itemList.length && !vm.showLoading"></eqx-shape-empty2></div>'
}, function (e, t) {
    e.exports = '<div class="shapes"><ul class="list clearfix"><li class="item" ng-repeat="item in vm.totalItems"><div class="shape" ng-style="{backgroundImage: \'url(\' + HOST.FILE + item.path + \')\'}" ng-click="selectSvg(item)"></div></li></ul></div>'
}, function (e, t) {
    e.exports = '<div class="material-empty"><span class="image"></span><div class="warning"><span ng-show="vm.tab === TAB.recently">您还没有使用形状</span> <span ng-show="vm.category.id === \'search\'">请尝试其他关键字搜索</span></div></div>1'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";

        function o() {
            return i.open({template: n(344), controller: n(345)}).then(function (e) {
                return t.addUseHistory(e), e
            })
        }

        function r(e) {
            var n = JSON.parse(JSON.stringify(e));
            return o().then(function (e) {
                return t.parse(e.path).then(function (t) {
                    return Object.assign(n.properties, {
                        src: e.path,
                        id: e.id,
                        items: t.items
                    }), Object.assign(n.css, {height: t.height, width: t.width}), n
                })
            })
        }

        return {getSvg: o, getShapeJson: r}
    }

    i.$inject = ["modalService", "shapeService", "dialogService"], e.exports = i, n(343)
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-dialog blue1 shape-material material"><eqx-shape-head2></eqx-shape-head2><eqx-shape-body2></eqx-shape-body2></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        var n = Object.assign({showSearch: !1, resourceName: "shape"}, t.config);
        o(e, t, n), Object.assign(e.vm, {resourceName: n.resourceName}), e.selectSvg = function (t) {
            e.closeThisDialog(t)
        }, e.close = function () {
            e.closeThisDialog()
        }, e.getMoreShapes = function () {
            var t = e.vm.pageNo;
            e.setPageNo(t + 1)
        }
    }

    i.$inject = ["$scope", "shapeService"];
    var o = n(266);
    e.exports = i
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("resource.ui.font", [n(347)]).factory("fontModalFactory", n(353)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.font.tpl", []).directive("eqxFontHeader", function () {
        return {template: n(348)}
    }).directive("eqxFontNav", function () {
        return {template: n(349)}
    }).directive("eqxFontList", function () {
        return {template: n(350)}
    }).directive("eqxFontEmpty", function () {
        return {template: n(351)}
    }).name
}, function (e, t) {
    e.exports = '<div class="modal-header no-bottom-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">{{vm.title}} <span ng-show="vm.error" class="action">{{vm.error}}</span></h4></div>'
}, function (e, t) {
    e.exports = '<div class="cate-title"><ul class="nav tabs-left" style="padding-top:0"><li ng-class="{active: vm.tab == TAB.sys}" ng-click="setTab(TAB.sys)"><a data-toggle="tab">字体库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click="setTab(TAB.myPurchase)"><a data-toggle="tab">我的字体</a></li></ul></div>'
}, function (e, t) {
    e.exports = '<div class="fonts_list"><div class="resource-empty-action" style="height: 320px" ng-if="vm.itemList.length <= 0 && !vm.showLoading"><eqx-font-empty></eqx-font-empty></div><eqx-resource-loading ng-show="vm.showLoading"></eqx-resource-loading><div style="height:320px" ng-if="vm.itemList.length > 0"><ul><li ng-repeat="font in vm.itemList" class="font_box"><div class="font-name"><div class="font-display"><span ng-style="{fontFamily: font.font_family? font.font_family : font.fontFamily }">{{font.fontDisplay ? font.fontDisplay : font.preview_text}}</span></div><span ng-class="{true: \'fontName-ellipsis\',false: \'fontName\'}[vm.tab == TAB.sys]">{{font.name}}</span> <a ng-if="vm.tab == TAB.sys" class="fontBuy" ng-click="buyFont(font)">购买</a> <span ng-if="vm.tab == TAB.sys" class="fontPrice">{{font.price}}秀点/年</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 0 && font.expStatus != 0" class="fontType fontPersonal">个人</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 0 && font.expStatus == 0" class="fontType fontPersonal hint--top hint--rounded" ng-class="{\'fontOverTime\': font.expStatus == 0}" data-hint="当前字体已过期，请重新购买使用">个人</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 1 && font.fontType != 0 && font.expStatus != 0" class="fontType fontBusiness">企业</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 1 && font.fontType != 0 && font.expStatus == 0" class="fontType fontBusiness hint--top hint--rounded" ng-class="{\'fontOverTime\': font.expStatus == 0}" data-hint="当前字体已过期，请重新购买使用">企业</span><div ng-if="vm.tab == TAB.myPurchase" class="fr switch fontSwitch" ng-class="font.status == 1 ? \'switch-open\' : \'switch-close\'" ng-click="openOrClose(font)"><div class="circle-con"><i class="circle"></i></div></div><span ng-if="font.couponFlag" class="coupon">券</span></div></li></ul></div><div class="display-time"><span>实时预览</span> <input placeholder="请输入文字预览字体效果" ng-model="vm.previewFont" check-count="20" ng-keypress="displayPreviewFont($event)"> <span class="font-count">{{(vm.previewFont?countCharacters(vm.previewFont.trim()):0)}}/20</span> <a class="btn btn-primary" ng-click="displayPreviewFont()">确认</a></div></div>'
}, function (e, t, n) {
    e.exports = '<div class="empty-img"><img src="' + n(352) + '" alt=""></div><div class="resource-action-empty" ng-show="vm.category.id === \'search\'"><p class="empty-explain">请尝试其他关键字搜索</p></div><div class="resource-action-empty" ng-show="vm.tab == TAB.myPurchase"><p class="empty-explain">您尚未购买字体</p><p class="empty-guide">搜寻精美字体，请查看<a class="empty-guide-reinforce">＂字体库＂</a></p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/emptyFont-c02a23.svg"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function i() {
            return e.open({windowClass: "console img_console", template: n(355), controller: n(356)})
        }

        function o(e) {
            return void 0 !== e.price && null !== e.price || (e.price = 0), void 0 !== e.business_price && null !== e.business_price || (e.business_price = 0), t.open({
                template: n(357),
                controller: n(358),
                resolve: {
                    font: function () {
                        return e
                    }
                }
            }).result
        }

        return {openFontMarket: i, buyFont: o}
    }

    i.$inject = ["modalService", "$modal"], n(354), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<eqx-font-header></eqx-font-header><div class="dialog-contain" id="container"><div class="dialog-content bg_console sound-flex clearfix"><eqx-font-nav></eqx-font-nav><div class="cate-list bg-rig"><div id="bg_contain"><div class="tab-pane active tab-head"><div class="font_list"><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if="!vm.managingImgStatus"></eqx-resource-category><eqx-resource-tags ng-if="!vm.managingImgStatus"></eqx-resource-tags></div></div></div><eqx-font-list ng-if="!vm.manageGroupStatus"></eqx-font-list><eqx-resource-pagination></eqx-resource-pagination></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r, a, s, c) {
        "ngInject";

        function l(e) {
            var t = document.getElementById("fontFacePreview"),
                n = document.head || document.getElementsByTagName("head")[0];
            t && n.removeChild(t), t = document.createElement("style"), t.type = "text/css", t.id = "fontFacePreview", n.appendChild(t);
            var i = document.createTextNode(e);
            t.appendChild(i)
        }

        var p = n;
        e.cancel = function () {
            e.$dismiss()
        }, e.countCharacters = a, e.buyFont = function (e) {
            r.getFontLicense(e.sourceId).then(function (t) {
                return 1 == t.data.obj ? i.success("当前字体已经购买，请到字体工具栏中使用。") : (e.license = t.data.obj, n.buyFont(e))
            })
        }, e.displayPreviewFont = function (t) {
            if (!t || t && 13 === t.keyCode) {
                var n = "", i = "http://font.eqh5.com/store/fonts/";
                d.itemList.forEach(function (t) {
                    var o = t.font_family ? t.font_family : t.fontFamily, r = null;
                    r = e.vm.previewFont ? e.vm.previewFont : t.preview_text ? t.preview_text : "易企秀免费简单好用", t.fontDisplay = r, r = encodeURIComponent(r);
                    var a = new Date;
                    n = n + "@font-face{font-family:'" + o + "';src: url('" + i + o + ".woff?text=" + r + "&date=" + a.getTime() + "') format('woff');}"
                }), l(n)
            }
        };
        var u = Object.assign({itemListCallback: e.displayPreviewFont}, p.config);
        o(e, p, u);
        var d = Object.assign(e.vm, {title: "正版字体", previewFont: ""});
        e.openOrClose = function (e) {
            if (0 == e.expStatus) s.getFontStatus(e.id, e.productId).then(function (t) {
                var n = t.data.map;
                1 === n.status ? c.openConfirmDialog({
                    msg: "当前字体已过期，是否重新购买？",
                    confirmName: "立即购买",
                    cancelName: "取消"
                }).then(function () {
                    p.buyFont(e).then(function () {
                        p.myFont.myFontLists = [], p.$getMoreItems("myPurchase", "myPurchase-all")
                    })
                }) : i.danger("当前字体已下架，请使用其他字体")
            }); else {
                var t = 1;
                t = 1 === e.status ? 0 : 1, s.openCloseFontStatus(e.id, t).then(function (n) {
                    n.data.success ? (e.status = t, p.myFont.myFontLists = [], c.openMsgDialog({msg: "操作成功"})) : c.openMsgDialog({msg: "网络繁忙,请稍后再试"})
                })
            }
        }, e.confirm = function () {
            e.$dismiss()
        }
    }

    i.$inject = ["$scope", "$q", "fontService", "notifier", "materialAPI", "validCharacterNumFilter", "fontAPI", "modalService"];
    var o = n(266);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">购买字体</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class="buy-font-info"><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && disableBuyPersonalFont()" class="hint--top hint--rounded" data-hint="企业用户及公共用户只允许购买企业授权版本"><input type="radio" ng-model="usage.type" value="personal" ng-checked="usage.type === \'personal\'" ng-disabled="true"> <span class="disable-buy-peronal">购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && !disableBuyPersonalFont()"><input type="radio" ng-model="usage.type" value="personal" ng-checked="usage.type === \'personal\'"> <span>购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="font.license == 0 && font.expStatus != 0"><span>已购买个人授权版本,不可用于商业用途</span></div><div ng-show="font.license !=1 || font.expStatus == 0"><input type="radio" ng-model="usage.type" value="business" ng-checked="usage.type === \'business\'"> <span>购买企业授权版本，授权范围内可用于商业用途({{font.business_price }}秀点/年）</span></div><div><input type="checkbox" ng-model="acceptFZFont.value" style="margin-right: 8px">已阅读并接受<a style="color:#59c7f9" ng-click="openFZAgreement()">《易企秀字体版权许可与服务协议》</a></div></div></div><div class="btn-contain btn-small"><button ng-show="font.license == null || ( font.license == 0 && userType != 21 && userType != 51) || font.expStatus == 0" ng-disabled="(font.brandId === 10) && (!acceptFZFont.value)" ng-click="confirmBuyFont();" class="btn btn-main" style="width:100px;height:36px">立即购买</button> <a ng-click="cancel();" class="btn-grey0">取消</a></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o, r, a, s, c, l, p, u) {
        "ngInject";

        function d(t) {
            return r.saveToMyResource(t).then(function () {
                c.success("当前字体购买成功，请到字体工具栏中使用。"), o.clearTag("myPurchase", "myPurchase-all"), o.myFont.myFontLists = [], e.ok()
            })["catch"](function () {
                return c.danger("购买失败，请联系客服处理"), $q.reject()
            })
        }

        e.font = s, e.usage = {}, e.acceptFZFont = {value: !1}, e.userType = l.getCurrentUser().type, 1 === e.userType && 0 != e.font.license ? e.usage.type = "personal" : e.usage.type = "business", e.ok = function () {
            e.$close(e.usage.license)
        }, e.cancel = function () {
            e.$dismiss()
        }, e.confirmBuyFont = function () {
            var n = {buyItems: [], signUrl: ""};
            e.usage.type || (21 !== e.userType && 51 !== e.userType ? e.usage.type = "business" : e.usage.type = "personal"), "personal" === e.usage.type ? (e.usage.price = Number(e.font.price), e.usage.license = 0) : (e.usage.price = Number(e.font.business_price), e.usage.license = 1, n.signUrl = t.MALL_HOST + "api/m/order/sign_business"), n.buyItems = [{
                id: s.id,
                name: s.name || "购买字体",
                price: e.usage.price,
                type: 4
            }];
            var o = {id: s.id, license: e.usage.license, price: e.usage.price, source: 2, prodType: 3};
            return 0 == o.price ? (o.orderId = "", d(o)) : void i.buyMaterial(n).then(function (e) {
                return e ? (o.orderId = e.data.map.orderId, d(o)) : void a.openMsgDialog({msg: "网络繁忙,请稍后再试"})
            })
        }, e.openFZAgreement = function () {
            p.open({windowClass: "console upload-console", template: n(359)})
        }, e.disableBuyPersonalFont = function () {
            return u.permission("disableBuyPersonalFont")
        }
    }

    i.$inject = ["$scope", "HOST", "buyService", "fontService", "materialAPI", "modalService", "font", "notifier", "userService", "$modal", "authorityService"], e.exports = i
}, function (e, t, n) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$close()"><span aria-hidden="true">×</span></button><h4 class="modal-title" style="text-align: center">易企秀字体版权许可与服务协议</h4></div><div class="dialog-contain" eqd-scroll disable-mouse="true" prevent-exception="true" style="height:520px"><div><img src="' + n(360) + '" alt="" style="width: 900px"></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/fontAgreement_v1.2-64e6be.jpg"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("resource.ui.font2", [n(362)]).directive("materialFont2Buy", n(367)).directive("materialFont2Classify", n(369)).directive("materialFont2History", n(371)).factory("fontModalFactory2", n(373)).factory("fontService2", n(380)).factory("buyFontService", n(381)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.resource.ui.font2.tpl", []).directive("eqxFontHead2", function () {
        return {replace: !0, template: n(363)}
    }).directive("eqxFontFonts2", function () {
        return {template: n(364)}
    }).directive("eqxFontEmpty2", function () {
        return {template: n(365)}
    }).directive("eqxFontPreview2", function () {
        return {template: n(366)}
    }).name
}, function (e, t) {
    e.exports = '<div class="head"><span class="title">正版字体</span><div class="tip"><i class="icon eqf-info-f"></i><div class="tip-box"><div class="desc">使用字体即代表同意并接受 <span class="agreement" ng-click="openAgreement()">《易企秀字体版权许可与服务协议》</span></div></div></div><span class="desc" ng-if="disableBuyPersonalFont">当前账号使用的字体，授权范围内可用于商业用途</span> <span class="desc" ng-if="!disableBuyPersonalFont">企业版字体授权范围内可商用，个人版不可商用</span> <span class="close1 eqf-no" ng-click="close()"></span></div>'
}, function (e, t) {
    e.exports = '<div class="fonts"><ul class="list clearfix"><li class="item" ng-repeat="item in vm.font.list" ng-click="useThisFont(item)" data-id="{{::item.id}}"><div class="font"><span class="text" ng-bind="item.fontDisplay" ng-style="{fontFamily: item.font_family || item.fontFamily}"></span><div class="fr switch font-switch hint--top hint--rounded" data-hint="点击后该字体将在文字快捷下拉菜单中{{item.status === 1 ? \'隐藏\' : \'显示\'}}" ng-if="vm.tab == TAB.myPurchase" ng-class="item.status === 1 ? \'switch-open\' : \'switch-close\'" ng-click="openOrCloseFont($event, item)"><div class="circle-con"><i class="circle"></i></div></div></div><div class="font-info clearfix"><span class="name" ng-show="item.fontDisplay !== item.name">{{::item.name}}</span> <span class="price" ng-if="vm.tab === TAB.sys && disableBuyPersonalFont">{{item.business_price !== \'0\' ? item.business_price + \'秀点/年\' : \'免费\'}}</span> <span class="price" ng-if="vm.tab === TAB.sys && !disableBuyPersonalFont">{{item.price ? item.price + \'秀点/年\' : \'免费\'}}</span> <span class="expire expire0" ng-if="vm.tab === TAB.myPurchase && item.expStatus === 0">已过期</span> <span class="expire expire2" ng-if="vm.tab === TAB.myPurchase && item.expStatus === 1 && (item.expiresTime | inDays : 30)">即将过期</span> <span class="fontType personal" ng-if="vm.tab === TAB.myPurchase && item.license === 0">个人版</span> <span class="fontType company" ng-if="vm.tab === TAB.myPurchase && item.license === 1">企业版</span></div></li></ul></div>'
}, function (e, t) {
    e.exports = "<div class=\"material-empty\"><span class=\"image\"></span><div class=\"warning\"><span ng-show=\"vm.tab === TAB.myPurchase\">{{vm.font.isBusy ? '加载中…' : '您还没有购买字体'}}</span> <span ng-show=\"vm.tab === TAB.my\">{{vm.font.isBusy ? '加载中…' : '您还没有上传字体'}}</span> <span ng-show=\"vm.tab === TAB.recently\">{{vm.font.isBusy ? '加载中…' : '您还没有使用字体'}}</span> <span ng-show=\"vm.tab === TAB.sys\">{{vm.font.isBusy ? '加载中…' : '暂无数据'}}</span></div></div>"
}, function (e, t) {
    e.exports = '<div class="font-preview"><div class="input-preview" ng-class="{open: vm.isFontPreviewDisplayed}"><div class="input-preview-content"><div class="input-group"><input type="text" placeholder="请输入要实时预览的文字" ng-keypress="fontPreview($event)" ng-model="vm.previewFont" check-count="12"> <span class="word-count">{{(vm.previewFont | validCharacterNum)}}/12</span> <span class="clear" ng-show="vm.previewFont.length" ng-click="clearFontPreview()"><i class="eqf-no-f"></i></span></div><span class="button" ng-click="fontPreview()">确定</span></div></div><div class="button-click" ng-click="toggleFontPreview()"><span class="label">实时预览</span> <i class="icon eqf-down" ng-class="{\'active\': vm.isFontPreviewDisplayed}"></i></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {template: n(368), replace: !0, restrict: "E"}
    }
}, function (e, t) {
    e.exports = '<div class="material-buy"><div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}">我的购买</div><div class="bottom-fonts" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow" scrolling="fontPreview"><div class="bottom-fonts-content"><eqx-font-fonts2></eqx-font-fonts2></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        "ngInject";
        return {
            template: n(370),
            replace: !0,
            restrict: "E",
            controller: ["$scope", "fontService2", "tagAPI", "HOST", function (e, t, n, i) {
                var o = e.vm;
                e.category = t.classify.category, e.hot = t.classify.hot, e.price = t.classify.price, e.search = t.classify.search, n.getCategoryListByTopId(parseInt(i.MALL_FONT_ID_NEW)).then(function (t) {
                    return e.category.list = t
                }), e.change = function () {
                    var n = JSON.stringify(Object.assign({}, e.setClassifyKey(), {tab: o.tab}));
                    o.font = t.getFontInfo(n), 0 === o.font.list.length && t.getMoreItems(n)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="material-classify"><eqx-resource-top-function2 scrolled="vm.scrolled" category="category" hot="hot" price="price" keywords="search.keywords" change="change()"></eqx-resource-top-function2><div class="bottom-fonts" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow" scrolling="fontPreview"><div class="bottom-fonts-content"><eqx-font-fonts2></eqx-font-fonts2></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(372),
            replace: !0,
            restrict: "E",
            controller: ["$scope", "recentlyUseService", "fontService2", function (e, t, n) {
                "ngInject";
                var i = t.get(e.vm.resourceName, 20), o = JSON.stringify({tab: e.TAB.recently});
                n.getFontInfo(o).list = i.getList(), e.displayPreviewFont()
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="material-history"><div class="top-title" ng-class="{\'shadow\': !!vm.scrolled}">最近使用</div><div class="bottom-fonts" eqd-scroll refresh="getMoreItems()" scrolled="editBoxShadow" scrolling="fontPreview"><div class="bottom-fonts-content"><eqx-font-fonts2></eqx-font-fonts2></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";

        function o() {
            return i.showDialog({type: "font"})
        }

        function r(e) {
            return t.open({
                template: n(379), controller: ["$scope", function (t) {
                    t.font = e
                }]
            })
        }

        return {openFontMarket: o, buyFont: r}
    }

    i.$inject = ["$q", "dialogService", "eqxNgMaterial"], n(374), n(376), e.exports = i
}, function (e, t) {
}, , function (e, t) {
}, , , function (e, t) {
    e.exports = '<div class="material-buy-font eqc-dialog"><div class="head"><span class="title">请选择要使用的字体版本</span> <span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="body"><div class="person" ng-click="closeThisDialog({license: 0})"><span class="icon"></span> <span class="title">个人版</span> <span class="tip">不可用于商业用途</span><div class="price" ng-if="font.expStatus === 0"><span ng-bind="font.price || 0"></span>秀点/年</div><span class="use-now" ng-if="font.expStatus === 1 && font.license === 0">立即使用</span></div><div class="business" ng-click="closeThisDialog({license: 1});"><span class="icon"></span> <span class="title">企业版</span> <span class="tip">授权范围内用于商业用途</span><div class="price"><span ng-bind="font.business_price || 0"></span>秀点/年</div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    var o = n(246);
    e.exports = ["$q", "fileAPI", "HOST", "tagAPI", "fontModalFactory2", "fontAPI", "authorityService", function (e, t, n, r, a, s, c) {
        "ngInject";

        function l(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3, n = e + "-" + t;
            return d[n] || (d[n] = {isBusy: !1, pageNo: 1, pageSize: 18, count: -1, list: []}), d[n]
        }

        function p(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
            e = e + "-" + t, delete d[e]
        }

        function u(n) {
            var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3, r = l(n, o), a = JSON.parse(n);
            if (!r.isBusy && r.list.length !== r.count) {
                r.isBusy = !0;
                var c = {fileType: o, pageNo: r.pageNo, pageSize: r.pageSize}, p = null;
                switch (a.tab) {
                    case 4:
                        p = s.getMyFontFamily(r.pageNo, r.pageSize);
                        break;
                    case 3:
                        p = e.reject();
                        break;
                    case 1:
                        Object.assign(c, a), delete c.fileType, p = t.searchMaterial1(c)
                }
                p.then(function (e) {
                    r.isBusy = !1, r.count = e.data.map.count;
                    var t = e.data.list;
                    if (t && t.length && r.list.length < r.count) {
                        var n;
                        r.pageNo++, (n = r.list).push.apply(n, i(t)), m.font.callback && m.font.callback()
                    }
                })["catch"](function () {
                    r.isBusy = !1
                })
            }
        }

        var d = {}, m = {}, f = c.permission("disableBuyPersonalFont"),
            g = [{id: [-1, -1], name: "全部"}, {id: [0, 0], name: "免费"}, {id: [1, 10], name: "1-10秀点"}, {
                id: [11, 20],
                name: "11-20秀点"
            }], h = [{id: [-1, -1], name: "全部"}, {id: [0, 0], name: "免费"}, {id: [1, 100], name: "1-100秀点"}, {
                id: [101, 200],
                name: "101-200秀点"
            }, {id: [201, 1e4], name: "200秀点以上"}], v = f ? h : g,
            y = {list: [], selected: {id: parseInt(n.MALL_FONT_ID_DEFAULT), name: "精选"}}, b = {list: o, selected: o[0]},
            x = {list: v, selected: v[0]}, w = {keywords: ""};
        return {
            classify: {category: y, hot: b, price: x, search: w},
            config: m,
            getFontInfo: l,
            getMoreItems: u,
            clearKey: p
        }
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["$q", "HOST", "materialAPI", "notifier", "fontAPI", "fontModalFactory2", "authorityService", "dialogService", "eqxNgPay", function (e, t, n, i, o, r, a, s, c) {
        "ngInject";

        function l(t) {
            return t = {
                id: t.productId ? t.id : t.sourceId,
                productId: t.sourceId ? t.id : t.productId,
                name: t.name
            }, o.getFontStatus(t.id, t.productId).then(function (n) {
                var o = n.data.map, a = t.license = o.license, c = t.expStatus = o.expStatus, l = t.status = o.status,
                    m = t.price = o.price, f = t.business_price = Number(o.business_price), g = e.defer(),
                    h = g.promise;
                if (0 === l && (null === a || 0 === c)) return i.danger("当前字体已下架，请使用其它字体"), e.reject();
                if (d) {
                    if (null !== a && 0 === c && 1 === l && 0 !== f) h = s.openConfirmDialog({msg: "当前字体已过期，是否重新购买？"}); else {
                        if (1 !== l || null !== a || 0 === f) return 0 === f && 0 === c ? u(t).then(function () {
                            return !0
                        }) : e.resolve();
                        h = e.resolve()
                    }
                    return h.then(function () {
                        return t.license = 1, p(t).then(function () {
                            return !0
                        })
                    })
                }
                if (null === a || 0 !== c || 1 !== l || 0 === m && 0 === f) {
                    if (1 !== l || null !== a && (0 !== a || 1 !== c) || 0 === m && 0 === f) return 0 === m && 0 === c ? u(t).then(function () {
                        return !0
                    }) : e.resolve();
                    h = e.resolve()
                } else h = s.openConfirmDialog({msg: "当前字体已过期，是否重新购买？"});
                return h.then(function () {
                    return r.buyFont(t).then(function (n) {
                        return 0 === n.license && (0 === m || 1 === c && 0 === a) || 1 === n.license && 0 === f ? null === a ? u(t).then(function () {
                            return !0
                        }) : e.resolve() : (t.license = n.license, p(t).then(function () {
                            return !0
                        }))
                    })
                })
            })
        }

        function p(o) {
            var r = o.productId, a = o.name, s = o.price, l = o.business_price, p = o.license;
            s = p ? Number(l) : s;
            var u = {
                orderAppId: t.MALL_BUY_ID,
                signUrl: t.MALL_HOST + "api/m/order/" + (p ? "sign_business" : "sign"),
                buyItems: [{name: a || "购买字体", price: s, id: r, type: 4}]
            };
            return c.payMulti(u).then(function (t) {
                var o = t.value;
                if ("$document" === o || void 0 === o || "close" === o.msgType) return e.reject();
                if (o.data.success) {
                    var a = {
                        productId: u.buyItems[0].id,
                        totalFee: u.buyItems[0].price,
                        outOrderId: o.data.obj.merchantOrderNo,
                        channel: "EDITOR"
                    };
                    return n.saveOrderToBusinessCity(a).then(function (e) {
                        var t = {id: r, license: p, price: s, source: 2, prodType: 3, orderId: e.data.map.orderId};
                        return n.saveToMyResource(t)
                    }).then(function () {
                        return i.success("购买成功，已保存至“我的购买”"), e.resolve()
                    })["catch"](function () {
                        return i.danger("购买失败，请联系客服处理"), e.reject()
                    })
                }
                return i.danger(o.data.msg || "支付失败，请稍后重试"), e.reject()
            })
        }

        function u(t) {
            var o = t.productId, r = {id: o, license: d ? 1 : 0, price: 0, source: 2, prodType: 3, orderId: ""};
            return n.saveToMyResource(r).then(function () {
                return i.success("购买成功，已保存至“我的购买”"), e.resolve()
            })["catch"](function () {
                return i.danger("购买失败，请联系客服处理"), e.reject()
            })
        }

        var d = a.permission("disableBuyPersonalFont");
        return {use: l, buy: p}
    }]
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("resource.ui.sms", []).factory("messageBuyModal", n(383)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console agreement-console",
                    template: n(385),
                    resolve: {
                        effectJson: function () {
                            return t
                        }
                    },
                    controller: ["$scope", "smsAPI", "buyService", "HOST", "sceneService", "notifier", "$q", "sceneMetaAPI", "eqxNgPay", "payMessageType", function (e, t, n, i, o, r, a, s, c, l) {
                        function p(e) {
                            var t = e.sceneId, n = e.orderAppId, o = e.buyItem, r = e.description, p = e.orderTradeId,
                                u = e.signParam, d = e.functionName;
                            return c.payMulti({
                                orderAppId: n,
                                buyItems: [o],
                                returnUrl: "http://www.eqxiu.com/",
                                description: r,
                                signUrl: i.SERVER_0 + "m/scene/pay/order/sign",
                                orderTradeId: p,
                                jsonPros: JSON.stringify(u)
                            }).then(function (e) {
                                var n = e.value.msgType;
                                return "close" === n ? (console.log("用户关闭"), a.reject("用户关闭")) : n !== l.PAY_SUCCESS ? a.reject("支付失败") : s.polling(p, t, d)
                            })["catch"](function (e) {
                                return console.error(e), a.reject()
                            })
                        }

                        e.packageList = null, e.selectedPkg = null, t.getMessagePackageList().then(function (t) {
                            e.packageList = t
                        }), e.selectedPackage = function (t) {
                            e.selectedPkg = t
                        }, e.confirm = function () {
                            if (e.selectedPkg) {
                                var n = o.eqxScene.meta.id,
                                    i = {id: n, value: e.selectedPkg.amount, key: "user.msg.count"};
                                t.getSmsTicket(i).then(function (i) {
                                    var o = i.data.map, s = o.isPaying, c = o.isPurchase, l = o.orderTradeId,
                                        u = "user.msg.count";
                                    if (s) {
                                        var d = "有正在处理的请求; 请稍候再试";
                                        return r(d), a.reject(d)
                                    }
                                    if (!c) return m = p({
                                        orderAppId: 100004,
                                        buyItem: {
                                            id: e.selectedPkg.id,
                                            name: "购买" + e.selectedPkg.name,
                                            price: e.selectedPkg.price,
                                            type: 10
                                        },
                                        description: "短信验证码",
                                        orderTradeId: l,
                                        sceneId: n,
                                        signParam: {sceneId: n, functionName: u},
                                        functionName: u
                                    }), m.then(function (t) {
                                        r.success("验证码支付成功"), e.$close()
                                    });
                                    var m = t.addMessagePackage(l)
                                })["catch"](function (e) {
                                    return r.error("验证码购买失败"), a.reject(e)
                                })
                            }
                        }, e.cancel = function () {
                            e.$dismiss("cancel")
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService"], n(384), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">短信包</h4></div><div class="dialog-contain"><div class="form_console dialog-content msg-count-price-contain"><div class="msg-count-price active" ng-class="{active: selectedPkg.id == packageList[1].id}" ng-click="selectedPackage(packageList[1])"><span class="count">短信包{{packageList[1].amount}}条</span> <span class="price">{{packageList[1].price}}秀点</span><div class="selected" ng-class="{active: selectedPkg.id == packageList[1].id}"><span class="eqf-yes"></span></div><div class="discount"><span>9折</span></div></div><div class="msg-count-price active" ng-class="{active: selectedPkg.id == packageList[3].id}" ng-click="selectedPackage(packageList[3])"><span class="count">短信包{{packageList[3].amount}}条</span> <span class="price">{{packageList[3].price}}秀点</span><div class="selected" ng-class="{active: selectedPkg.id == packageList[3].id}"><span class="eqf-yes"></span></div><div class="discount"><span>5折</span></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("material.ui.dropdown", []).directive("materialDropdown", n(387)).name
}, function (e, t, n) {
    "use strict";
    n(388), e.exports = function () {
        return {
            template: n(389),
            replace: !0,
            restrict: "E",
            scope: {menu: "=list", model: "=", change: "&"},
            controller: ["$scope", "$element", "$timeout", "storageService", function (e, t, n, i) {
                "ngInject";
                e.themeSkin = i.getItem("themeSkin") || "white", e.onChange = function (i, o) {
                    i.stopPropagation(), t.find(".list").hide(), setTimeout(function () {
                        t.find(".list").css("display", "")
                    }, 500), e.model = o, n(function () {
                        return e.change()
                    })
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="material-dropdown" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><div class="selected"><span class="name" ng-bind="model.name"></span> <span class="icon eqf-menu-down"></span></div><div class="list"><ul class="items"><li class="item" ng-class="{active: model.id === item.id}" ng-if="menu.length" ng-repeat="item in menu track by item.name" ng-click="onChange($event, item)"><span>{{::item.name}}</span> <span class="icon eqf-right" ng-if="item.list && item.list.length"></span><ul class="sub-items" ng-if="item.list.length"><li class="sub-item" ng-class="{active: model.id === subItem.id}" ng-repeat="subItem in item.list track by subItem.name" ng-click="onChange($event, subItem)"><span>{{::subItem.name}}</span></li></ul></li></ul></div></div>'
}, function (e, t) {
    e.exports = '<eqx-image-header></eqx-image-header><div class="dialog-contain" id="container"><div class="dialog-content bg_console sound-flex clearfix"><eqx-image-nav></eqx-image-nav><div class="cate-list bg-rig"><div id="bg_contain"><div class="tab-pane active tab-head"><div class="img_list" ng-class="{my_img_list: vm.tab == TAB.my}"><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if="!vm.managingImgStatus"></eqx-resource-category><eqx-resource-tags ng-if="!vm.managingImgStatus"></eqx-resource-tags><image-management ng-if="vm.managingImgStatus"></image-management></div><span ng-class="{\'hidden-img_manage_btn\': vm.managingImgStatus}" class="img_manage_btn" ng-if="vm.tab == TAB.my && config.manageGroup" ng-click="managingImg()">管理</span></div></div><eqx-image-list ng-if="!vm.manageGroupStatus"></eqx-image-list><img-group ng-if="vm.manageGroupStatus"></img-group><eqx-resource-pagination ng-if="!vm.manageGroupStatus"></eqx-resource-pagination></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, r, a) {
        "ngInject";
        var s = i[t.resourceName];
        t = Object.assign({
            disableBgColor: !0,
            manageGroup: !0,
            min: 1,
            max: 1,
            images: []
        }, t || {}, s.config), o(e, s, t), e.config = t, e.HOST = r;
        var c = Object.assign(e.vm, {
            onlineHref: r.HOST + "site/print/create",
            disableBgColor: t.disableBgColor,
            managingImgStatus: !1,
            error: null,
            selectCount: t.max,
            selectedImageLists: t.images,
            uploadOptions: {
                tokenType: "image",
                extensions: "jpg,gif,png,jpeg",
                maxFileSize: 3,
                uploadBtn: "upload-image",
                uploadCon: "container",
                maxCount: 20,
                uploadTips: "上传",
                msg: "一次最多上传20张图片",
                success: function (t) {
                    var n = c.tag.id;
                    (n + "").includes("-all") && (n = 0);
                    var i = Object.assign({}, t, {fileType: 1, bizType: 0, tagId: n});
                    e.setTab(e.TAB.my), s.saveFileInfo(i)
                }
            }
        });
        e.selectImage = function () {
            e.$close(c.selectedImageLists)
        }, e.selectBg = function (t) {
            e.$close([t])
        }, e.confirm = function () {
            c.selectedImageLists.length > t.max ? c.error = "最多可选择" + t.max + "张图片" : (c.error = null, e.$close(c.selectedImageLists))
        }, e.claimImg = function (e) {
            e.stopPropagation(), a.open({
                windowClass: "console upload-console",
                template: n(392)
            })
        }, e.managingImg = function () {
            e.vm.managingImgStatus = !0, e.vm.selectCount = 20
        }, e.$watch("vm", function () {
            e.vm.tab != e.TAB.my && 1 === e.config.max && (e.vm.selectCount = 1, e.vm.managingImgStatus = !1, e.vm.manageGroupStatus = !1)
        }, !0)
    }

    i.$inject = ["$scope", "imageConfig", "imageService", "HOST", "$modal"];
    var o = n(266);
    e.exports = i
}, function (e, t, n) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$close()"><span aria-hidden="true">×</span></button><h4 class="modal-title" style="text-align: center">易企秀图片版权许可与服务协议</h4></div><div class="dialog-contain" eqd-scroll disable-mouse="true" prevent-exception="true" style="height:520px"><div><img src="' + n(393) + '" alt="" style="width: 900px"></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/imageAgreement_v1.2-be8a7e.jpg"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("business.material", [n(395), n(400), n(407)]).name
}, function (e, t, n) {
    "use strict";
    var i = n(396);
    e.exports = angular.module("business.material.status", []).directive("eqxMaterialStatus", i).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: o,
            scope: {obj: "=", type: "=", selectCount: "=", successFn: "=", selectedImageLists: "=", buttonVisible: "="},
            controller: r
        }
    }

    var o = n(397), r = n(398);
    n(399), e.exports = i
}, function (e, t) {
    e.exports = '<div ng-if="type === \'tpl\'"><div ng-show="obj.price" class="price" style="left: -20px" ng-click="$event.stopPropagation()"><span>{{obj.price}}秀点</span></div><div ng-show="obj.price" class="overlay" ng-click="$event.stopPropagation()"><div class="cover"><div eqx-material-preview obj="obj" type="type" success-fn="successFn"></div><div eqx-material-buy-process obj="obj" type="type" preview="false" success-fn="successFn"></div></div></div></div><div ng-if="type === \'pic\'"><div ng-show="obj.price" class="price"><span>{{obj.price}}秀点</span></div><div class="overlay" ng-click="$event.stopPropagation()"><div class="cover"><div eqx-material-preview obj="obj" type="type" success-fn="successFn" selected-image-lists="selectedImageLists" button-visible="buttonVisible"></div><div ng-show="obj.price" eqx-material-buy-process obj="obj" type="type" preview="false" success-fn="successFn" selected-image-lists="selectedImageLists"></div><div ng-show="!obj.price"><a class="use" ng-click="successFn(obj)">{{getButStr()}}</a></div></div></div></div><span ng-if="type === \'audio\'" ng-show="obj.price">{{obj.price}}秀点</span>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        e.getButStr = function () {
            return e.selectedImageLists.find(function (t) {
                return t.id == e.obj.id
            }) ? "取消" : e.selectCount > 1 ? "选择" : "使用"
        }
    }

    n.$inject = ["$scope"], e.exports = n
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = n(401), o = n(404), r = n(405);
    e.exports = angular.module("business.material.buyProcess", []).directive("eqxMaterialBuyProcess", i).controller("materialBuyMessageCtrl", o).factory("buyMessageFact", r).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: o,
            scope: {obj: "=", type: "=", preview: "=", successFn: "=", previewCancel: "=", selectedImageLists: "="},
            controller: r
        }
    }

    var o = n(402), r = n(403);
    e.exports = i
}, function (e, t) {
    e.exports = '<a ng-show="!preview && !isSelected()" class="buy" ng-click="buyMaterial(price)">购买</a> <a ng-show="!preview && isSelected()" class="use" ng-click="successFn(obj)">取消</a> <a ng-show="preview && !isSelected()" class="btn btn-sm green" ng-click="buyMaterial(price);">立即购买</a> <a ng-show="preview && isSelected()" class="btn btn-sm green" ng-click="successFn(obj);">取消使用</a>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s, c) {
        "ngInject";
        e.buyMaterial = function () {
            "pic" == e.type ? i.checkPurchased(e.obj.id).then(function (t) {
                if (t.data.map.isPurchase) c.openConfirmDialog({msg: "用户已购买，是否立即使用？"}).then(function () {
                    e.obj.path = t.data.map.product.authedPath;
                    var n = e.obj;
                    i.checkProductExist(1, {
                        id: n.id,
                        name: n.name,
                        path: n.path,
                        price: n.price,
                        libType: n.libType,
                        fileType: 1
                    }), r.image.clearTag("myPurchase", "myPurchase-all"), e.successFn(e.obj), e.previewCancel && e.previewCancel()
                }); else {
                    var s = {buyItems: [{id: e.obj.id, name: e.obj.buyItem || "购买图片", price: e.obj.price, type: 2}]};
                    a.buyMaterial(s).then(function (t) {
                        var n = e.obj.name || e.obj.title || "图片";
                        n = n.substr(0, 50);
                        var o = {
                            id: e.obj.id,
                            name: n,
                            path: t.data.obj.authedPath,
                            price: t.data.obj.price,
                            orderId: t.data.map.orderId,
                            source: 2,
                            prodType: 1
                        };
                        return e.obj.path = t.data.obj.authedPath, i.saveToMyResource(o)
                    }).then(function () {
                        o.success("支付成功，已保存至我的购买"), r.image.clearTag("myPurchase", "myPurchase-all"), e.successFn(e.obj), n.$broadcast("material.buy.success", {
                            type: e.type,
                            obj: e.obj
                        })
                    })["catch"](function () {
                        return o.danger("购买失败，请联系客服处理"), $q.reject()
                    })
                }
            }) : t.openMessage(e.obj, e.type, e.successFn)
        }, e.isSelected = function () {
            return !!e.selectedImageLists && e.selectedImageLists.find(function (t) {
                return t.id == e.obj.id
            })
        }
    }

    n.$inject = ["$scope", "buyMessageFact", "$rootScope", "materialAPI", "notifier", "imageService", "buyService", "modalService", "dialogService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s, c) {
        "ngInject";
        e.price = t.price, o.userXd().then(function (t) {
            e.userXd = t, e.buyXD = e.userXd < e.price
        }), e.acceptCopyrightAgreement = {value: !0}, e.ok = function () {
            e.$close()
        }, e.cancel = function () {
            e.$dismiss()
        }, e.confirmBuyMaterial = function () {
            e.buyXD ? (o.buyXd(), e.cancel()) : r.buyMaterial(t.id, n).then(function () {
                t.isPaid = 1, a.success("购买成功"), e.ok(), i(t), c.$broadcast("material.buy.success", {type: n, obj: t})
            })["catch"](function (e) {
                a.danger(e.data.msg || "网络繁忙")
            })
        }
    }

    n.$inject = ["$scope", "obj", "type", "successFn", "XDService", "materialAPI", "notifier", "modalService", "$rootScope"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";

        function t(t, n, i) {
            return e.open({
                windowClass: "console agreement_console",
                template: o,
                controller: "materialBuyMessageCtrl",
                resolve: {
                    obj: function () {
                        return t
                    }, type: function () {
                        return n
                    }, successFn: function () {
                        return i
                    }
                }
            }).result
        }

        return {openMessage: t}
    }

    i.$inject = ["$modal"];
    var o = n(406);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">购买</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class="buy-font-info" style="margin-left:0"><div style="text-align: center;padding-top: 10px"><span>当前需消耗秀点 <span style="color:#ff6e6e">{{price}}</span> 个，账户秀点余额 <span ng-show="!buyXD" style="color:#ff6e6e">{{userXd}}个。</span> <span ng-show="buyXD">不足 (<span style="color:#ff6e6e">{{userXd}} </span>)。</span> <span ng-show="buyXD">请充值！</span></span></div></div></div><div class="btn-contain btn-small" style="padding: 15px 0"><a ng-click="cancel();" class="btn-grey0">取消</a> <button ng-show="!acceptCopyrightAgreement.value && !buyXD" ng-disabled="true" ng-click="confirmBuyMaterial();" class="btn btn-main hint--right hint--rounded" style="width:100px;height:36px" data-hint="请勾选易企秀版权说明">购买</button> <button ng-show="acceptCopyrightAgreement.value && !buyXD" ng-click="confirmBuyMaterial();" class="btn btn-main" style="width:100px;height:36px">购买</button> <button ng-show="buyXD" ng-click="confirmBuyMaterial();" class="btn btn-main" style="width:100px;height:36px">充值</button></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class="buy-font-info" style="margin-left:0; text-align:center;font-size:12px;margin-bottom:10px"><div ng-show="!buyXD"><input type="checkbox" ng-model="acceptCopyrightAgreement.value"><span></span>购买版权仅限本账号使用。</div></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(408), o = n(413);
    e.exports = angular.module("business.material.preview", []).directive("eqxMaterialPreview", i).controller("previewDetailCtrl", o).factory("imagePreviewService", ["dialogService", function (e) {
        "ngInject";

        function t(t, i, o, r) {
            e.open({
                template: n(412), controller: "previewDetailCtrl", resolve: {
                    obj: function () {
                        return t
                    }, type: function () {
                        return i
                    }, successFn: function () {
                        return o
                    }, selectedImageLists: function () {
                        return r
                    }
                }
            })
        }

        return {open: t}
    }]).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: o,
            scope: {obj: "=", type: "=", successFn: "=", selectedImageLists: "=", buttonVisible: "="},
            controller: r,
            link: function (e, t) {
                t.on("click", function (e) {
                    e.stopPropagation()
                })
            }
        }
    }

    var o = n(409), r = n(410);
    e.exports = i
}, function (e, t) {
    e.exports = '<a class="preview" ng-class="{\'button-visible\': !buttonVisible}" ng-click="preview()">预览</a>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        "ngInject";
        e.preview = function () {
            var i = new Promise(function (n) {
                "tpl" === e.type ? t.getTpl(e.obj.id).then(function (t) {
                    t.data.obj && (e.obj.elements = t.data.obj.elements, n())
                }) : n()
            });
            i.then(function () {
                n.open({
                    template: o, controller: "previewDetailCtrl", resolve: {
                        obj: function () {
                            return e.obj
                        }, type: function () {
                            return e.type
                        }, successFn: function () {
                            return e.successFn
                        }, selectedImageLists: function () {
                            return e.selectedImageLists
                        }
                    }
                })
            })
        }
    }

    i.$inject = ["$scope", "tplAPI", "dialogService"], n(411);
    var o = n(412);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="pay-tpl-preview eqc-dialog"><span class="eqf-no cancel" ng-click="cancel()"></span><div class="information"><div class="title">预览</div><div class="bug"><div ng-show="obj.price" class="price"><span class="activePrice">{{obj.price}}</span> <span class="measureUnit">秀点</span></div><div ng-show="!obj.price" style="font-size: 28px;font-family: \'ArialMT\', \'Arial\';color: #48D5B2">免费</div><div class="createScene"><div ng-show="obj.price" eqx-material-buy-process obj="obj" type="type" preview="true" preview-cancel="cancel" success-fn="successFn" selected-image-lists="selectedImageLists"></div><div ng-show="!obj.price"><a ng-show="!isSelected()" class="btn btn-sm green" ng-click="use(obj)">立即使用</a> <a ng-show="isSelected()" class="btn btn-sm green" ng-click="use(obj)">取消使用</a></div></div></div></div><div ng-if="type === \'tpl\'" class="wrap"><div class="content nr" ng-if="obj" style="height:486px" thumb-tpl="obj" shift-size="486" disable-use="true"></div></div><div ng-if="type === \'pic\'" class="image"><div eqx-loading-image="{{obj.path}}" data-width="400" data-height="400"></div></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s) {
        "ngInject";
        e.type = n, e.FILE = r.FILE, e.successFn = i, e.obj = t, e.selectedImageLists = o, e.cancel = function () {
            e.closeThisDialog()
        }, e.use = function (t) {
            e.successFn(t), e.cancel()
        }, e.isSelected = function () {
            return !!o && o.find(function (t) {
                return t.id == e.obj.id
            })
        }, a(function () {
            "tpl" === n && $(".pay-tpl-preview").css("height", "486")
        }), s.$on("material.buy.success", function (t, n) {
            "tpl" !== n.type && "pic" !== n.type || e.cancel()
        })
    }

    n.$inject = ["$scope", "obj", "type", "successFn", "selectedImageLists", "HOST", "$timeout", "$rootScope"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.service", [n(415)]).factory("cacheService", n(423)).factory("EqxCore", n(424)).factory("fileService", n(873)).factory("sceneService", n(874)).factory("sceneMetaService", n(876)).factory("historyService", n(877)).factory("tplService", n(880)).factory("userService", n(881)).factory("flagService", n(882)).factory("storageService", n(883)).factory("sessionStorageService", n(884)).factory("XDService", n(885)).factory("authorityService", n(886)).factory("setCompService", n(887)).factory("urlParameterService", n(888)).factory("appDeleteCompService", n(889)).factory("delayLoadService", n(890)).factory("buyService", n(892)).factory("clientReportService", n(893)).factory("gravityService", n(894)).factory("redPacketService", n(895)).factory("html2ImgService", n(896)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("service.XD", []).factory("buyXdModal", n(416)).factory("payModal", n(419)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function () {
                return e.open({windowClass: "console", template: n(417), controller: n(418), resolve: {}})
            }
        }
    }

    i.$inject = ["modalService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-body"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><div class="confirm-msg"><h4 class="text-left">尊敬的易企秀用户</h4><p class="mt20 text-left ml20 mr20" style="line-height: 1.5em">感谢您对易企秀的支持，您即将购买500个秀点。购买、发票等相关问题，请<a class="text-primary" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324">查看详情</a>。<br/>1.暂仅支持一次购买500秀点，费用500元；<br/>2.包年购买、优惠购买，请先<a class="text-primary" href="privilege" target="_blank">升级企业账号</a>；<br/>3.购买需要发票的，请联系fapiao@eqxiu.com；</p></div></div><div class="text-right pb20 btn-small"><a class="btn btn-primary mr20" ng-click="confirm()">立即购买</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";

        function r(i, r, a) {
            t.getPayXdQrCode(i, r, a).then(function (i) {
                if (e.$close(), i.data.success) {
                    var r = i.data.obj;
                    o.openBuy(r).then(function () {
                        t.userXd()
                    })
                } else {
                    var a = "/upgrade/" === n.path().substring(0, 9) || "/xdBuy" === n.path();
                    970301 === i.data.code && a && alert("当前用户不一致,请刷新页面再次购买!")
                }
            })
        }

        e.confirm = function () {
            r(10, 1, !1)
        }, e.cancel = function () {
            e.$close()
        }
    }

    n.$inject = ["$scope", "XDService", "$location", "userService", "payModal"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            openBuy: function (t) {
                return e.open({
                    windowClass: "console",
                    template: n(421),
                    controller: n(422),
                    resolve: {
                        qrCodeUrl: function () {
                            return t.url
                        }, type: function () {
                            return 10
                        }, money: function () {
                            return t.price / 100
                        }, oprice: function () {
                            return t.oprice / 100
                        }, method: function () {
                            return "buyXd"
                        }, counts: function () {
                        }
                    }
                })
            }
        }
    }

    i.$inject = ["modalService"], n(420), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">请选择喜欢的支付方式进行支付</h4></div><div><ul class="nav nav-bg"><li ng-class="{active:payWay==\'alipay\'}"><a ng-click="getWeChatUrl(\'alipay\');">支付宝</a></li><li ng-class="{active:payWay==\'wechat\'}"><a ng-click="getWeChatUrl(\'wechat\');" ng-hide="type==3 || money === 6800 || money === 15600 ">微信</a></li><li ng-class="{active:payWay==\'remit\'}"><a ng-click="getWeChatUrl(\'remit\');">汇款支付</a></li><li ng-class="{active:payWay==\'unionpay\'}"><a ng-click="getWeChatUrl(\'unionpay\');">银联支付</a></li></ul><div class="tab-content"><div class="tab-pane" ng-class="{active:payWay==\'alipay\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class="text-center" style="color:red;margin-top:15px">{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url="{{qrCodeUrl}}"></div></div><div class="tab-pane" ng-class="{active:payWay==\'wechat\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class="text-center" style="color:red;margin-top:15px">{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url="{{qrCodeUrl}}"></div></div><div class="tab-pane" ng-class="{active:payWay==\'remit\'}"><h4 class="text-center mt20">需支付</h4><h3 class="text-center" style="color:red;margin-top:15px">{{money}}元</h3><div class="remit-contain p20"><p>对公支付请按照下列步骤进行：</p><p style="padding-top:15px">步骤1：打款<br/>公司名称：北京中网易企秀科技有限公司<br/>开户行全称：中国工商银行股份有限公司北京海淀支行<br/>银行账号：0200049609201083655</p><p style="padding-top:15px"><span class="action">重要说明！！！</span><br/>步骤2：发邮件到fapiao@eqxiu.com,以便易企秀更快捷给你提供相关服务。邮件内容如下：<br/>购买项目：（秀点，企业体验版，企业基础版，企业标准版，企业高级版等）<br/>购买金额，购买数量，易企秀账号，联系电话。</p></div></div><div class="tab-pane" ng-class="{active:payWay==\'unionpay\'}" ng-init="paying = true;"><div ng-show="paying"><h4 class="text-center mt20">需支付</h4><h3 class="text-center" style="color:red;margin-top:15px;margin-bottom:20px">{{money}}元</h3><div style="text-align:center;margin-bottom:20px;width: 180px;position: relative;margin-left: -90px;left:50%" ng-show="counts.length>0 && payWay==\'unionpay\'"><eqx-select class="select-great select-contain border-width" model="count" ng-init="count = counts[0]" change="setCount(count.value,$index)"><eqx-select-option value="count" ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div class="text-center" style="padding-bottom:20px"><a ng-click="paying = false" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target="_blank">立即支付</a></div></div><div ng-show="!paying" class="p20 text-center"><p>请在新开启的支付页面中完成支付后，点击完成支付按钮关闭对话框。<br/>未完成支付，可点击重新支付按钮再次进行支付</p><p style="margin-top:20px"><a class="btn btn-primary" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target="_blank">重新支付</a></p></div></div></div><div style="text-align:center;margin-bottom:20px;width: 180px;position: relative;margin-left: -90px;left:50%" ng-show="counts.length>0 && payWay!=\'unionpay\'"><eqx-select class="select-great select-contain border-width" model="count" ng-init="count = counts[0]" change="setCount(count.value,$index)"><eqx-select-option value="count" ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div ng-show="payWay==\'alipay\'" style="padding-bottom:10px" class="text-center"><a ng-href="{{HOST.SERVER_0 +\'m/u/alipay/direct?goodsId=\' + type + \'&amount=\' + curentCount+ \'&goodsType=\' + goodsType}}" target="_blank">支付宝网页支付</a></div></div><div class="modal-footer pay-invoice"><a class="btn btn-primary fr" ng-click="paymented()">完成支付</a> <a ng-click="invoiceNotice()">发票须知</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s, c, l, p) {
        "ngInject";
        e.qrCodeUrl = n, e.HOST = p;
        var u = o;
        o === s ? e.money = u : e.money = s + "-" + (s - u) + "=" + u, e.type = i, 1 === i ? e.payUrl = p + "download/vip1-201512.pdf" : 2 === i ? e.payUrl = p + "download/vip2-201512.pdf" : 3 === i ? e.payUrl = p + "download/vip4-201512.pdf" : 4 === i ? e.payUrl = p + "download/vip3-201512.pdf" : 10 === i && (e.payUrl = p + "download/xd-201512.pdf"), e.counts = a, e.payWay = "alipay", a && a.length > 0 && (e.curentCount = a[0].value);
        var d = {}, m = {};
        d["alipay1" + e.curentCount] = n, m["alipay1" + e.curentCount] = e.money, e.paymented = function () {
            e.$close(), "/xdBuy" === l.path() && l.path("usercenter/member")
        }, e.cancel = function () {
            e.$dismiss()
        }, "member" === r ? e.goodsType = 0 : e.goodsType = 1, e.getWeChatUrl = function (n) {
            var o = e.payWay;
            e.payWay = n;
            var a = 1;
            if ("wechat" === e.payWay && (a = 0), d[e.payWay + "" + a + e.curentCount]) return e.qrCodeUrl = d[e.payWay + "" + a + e.curentCount], void(e.money = m[e.payWay + "" + a + e.curentCount]);
            if ("member" === r) {
                var s = i, l = e.curentCount;
                1 === i && 6 === e.curentCount && (s = 2, l = 1), t.getCompanyQrCode(s, a, l).then(function (t) {
                    t.data.success ? (d[e.payWay + "" + a + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = m[e.payWay + "" + a + e.curentCount] = t.data.obj.price / 100 : e.money = m[e.payWay + "" + a + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({msg: t.data.msg}), e.payWay = o)
                })
            } else t.getPayXdQrCode(i, a).then(function (t) {
                t.data.success ? (d[e.payWay + "" + a + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = m[e.payWay + "" + a + e.curentCount] = t.data.obj.price / 100 : e.money = m[e.payWay + "" + a + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({msg: t.data.msg}), e.payWay = o)
            })
        }, e.setCount = function (n) {
            var o = e.curentCount;
            e.curentCount = n;
            var r = 1;
            if ("wechat" === e.payWay && (r = 0), d[e.payWay + "" + r + e.curentCount]) return e.qrCodeUrl = d[e.payWay + "" + r + e.curentCount], e.money = m[e.payWay + "" + r + e.curentCount], void(e.curentCount = n);
            var a = i, s = n;
            1 === i && 6 === n && (a = 2, s = 1), t.getCompanyQrCode(a, r, s).then(function (t) {
                t.data.success ? (d[e.payWay + "" + r + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = m[e.payWay + "" + r + e.curentCount] = t.data.obj.price / 100 : e.money = m[e.payWay + "" + r + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({msg: t.data.msg}), e.curentCount = o)
            })
        }
    }

    n.$inject = ["$scope", "XDService", "qrCodeUrl", "type", "money", "method", "counts", "oprice", "modalService", "$location", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {
            get: function (e) {
                return JSON.parse(window.sessionStorage.getItem(e))
            }, set: function (e, t) {
                return window.sessionStorage.setItem(e, JSON.stringify(t)), t
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return o
    }

    var o = n(425);
    e.exports = i
}, function (e, t, n) {
    "use strict";
    n(73), n(426), n(438);
    var i = n(439), o = n(459), r = n(461), a = n(867).Guess, s = n(870), c = n(507).$getActivityPage, l = n(453),
        p = n(465).randomId, u = n(612), d = n(767), m = n(458), f = n(115);
    window._DEBUG_ = f.DEBUG, e.exports = {
        adaptor: i,
        "const": o,
        core: r,
        Guess: a,
        lastPage: s,
        randomId: p,
        loader: l,
        getActivityPage: c,
        countTime: u,
        parallax: d,
        event: m
    }
}, function (e, t, n) {
    "use strict";
    n(427), n(434), n(437)
}, function (e, t, n) {
    n(428), n(429), n(430), n(431), n(432), n(433)
}, function (e, t) {
    !function (e) {
        e.forEach(function (e) {
            e.hasOwnProperty("replaceWith") || Object.defineProperty(e, "replaceWith", {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                value: function () {
                    var e = Array.prototype.slice.call(arguments), t = document.createDocumentFragment();
                    e.forEach(function (e) {
                        var n = e instanceof Node;
                        t.appendChild(n ? e : document.createTextNode(String(e)))
                    }), this.parentNode.replaceChild(t, this)
                }
            })
        })
    }([Element.prototype, CharacterData.prototype, DocumentType.prototype])
}, function (e, t) {
    !function () {
        Math.hypot = Math.hypot || function () {
            for (var e = 0, t = arguments.length, n = 0; n < t; n++) {
                if (arguments[n] === 1 / 0 || arguments[n] === -(1 / 0)) return 1 / 0;
                e += arguments[n] * arguments[n]
            }
            return Math.sqrt(e)
        }
    }()
}, function (e, t) {
    !function () {
        "function" != typeof Object.values && !function () {
            Object.values = function (e) {
                "use strict";
                if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
                var t = [];
                for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
                return t
            }
        }(), "function" != typeof Object.assign && !function () {
            Object.assign = function (e) {
                "use strict";
                if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
                for (var t = Object(e), n = 1; n < arguments.length; n++) {
                    var i = arguments[n];
                    if (void 0 !== i && null !== i) for (var o in i) i.hasOwnProperty(o) && (t[o] = i[o])
                }
                return t
            }
        }()
    }()
}, function (e, t) {
    !function () {
        Number.isInteger = Number.isInteger || function (e) {
            return "number" == typeof e && isFinite(e) && Math.floor(e) === e
        }, Number.isNaN = Number.isNaN || function (e) {
            return "number" == typeof e && isNaN(e)
        }, Number.parseInt = parseInt, Number.parseFloat = parseFloat
    }()
}, function (e, t) {
    !function () {
        String.prototype.includes || (String.prototype.includes = function (e, t) {
            "use strict";
            return "number" != typeof t && (t = 0), !(t + e.length > this.length) && this.indexOf(e, t) !== -1
        }), String.prototype.startsWith || (String.prototype.startsWith = function (e, t) {
            return t = t || 0, this.substr(t, e.length) === e
        }), String.prototype.endsWith || (String.prototype.endsWith = function (e, t) {
            var n = this.toString();
            ("number" != typeof t || !isFinite(t) || Math.floor(t) !== t || t > n.length) && (t = n.length), t -= e.length;
            var i = n.indexOf(e, t);
            return i !== -1 && i === t
        })
    }()
}, function (e, t) {
    !function () {
        Array.isArray || (Array.isArray = function (e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }), Array.prototype.includes || (Array.prototype.includes = function (e) {
            "use strict";
            var t = Object(this), n = parseInt(t.length) || 0;
            if (0 === n) return !1;
            var i, o = parseInt(arguments[1]) || 0;
            o >= 0 ? i = o : (i = n + o, i < 0 && (i = 0));
            for (var r; i < n;) {
                if (r = t[i], e === r || e !== e && r !== r) return !0;
                i++
            }
            return !1
        }), Array.prototype.findIndex || Object.defineProperty(Array.prototype, "findIndex", {
            value: function (e) {
                "use strict";
                if (null == this) throw new TypeError("Array.prototype.findIndex called on null or undefined");
                if ("function" != typeof e) throw new TypeError("predicate must be a function");
                for (var t, n = Object(this), i = n.length >>> 0, o = arguments[1], r = 0; r < i; r++) if (t = n[r], e.call(o, t, r, n)) return r;
                return -1
            }, enumerable: !1, configurable: !1, writable: !1
        }), Array.prototype.find || (Array.prototype.find = function (e) {
            if (null === this) throw new TypeError("Array.prototype.find called on null or undefined");
            if ("function" != typeof e) throw new TypeError("predicate must be a function");
            for (var t, n = Object(this), i = n.length >>> 0, o = arguments[1], r = 0; r < i; r++) if (t = n[r], e.call(o, t, r, n)) return t
        }), Array.from || (Array.from = function () {
            var e = Object.prototype.toString, t = function (t) {
                return "function" == typeof t || "[object Function]" === e.call(t)
            }, n = function (e) {
                var t = Number(e);
                return isNaN(t) ? 0 : 0 !== t && isFinite(t) ? (t > 0 ? 1 : -1) * Math.floor(Math.abs(t)) : t
            }, i = Math.pow(2, 53) - 1, o = function (e) {
                var t = n(e);
                return Math.min(Math.max(t, 0), i)
            };
            return function (e) {
                var n = this, i = Object(e);
                if (null == e) throw new TypeError("Array.from requires an array-like object - not null or undefined");
                var r, a = arguments.length > 1 ? arguments[1] : void 0;
                if ("undefined" != typeof a) {
                    if (!t(a)) throw new TypeError("Array.from: when provided, the second argument must be a function");
                    arguments.length > 2 && (r = arguments[2])
                }
                for (var s, c = o(i.length), l = t(n) ? Object(new n(c)) : new Array(c), p = 0; p < c;) s = i[p], a ? l[p] = "undefined" == typeof r ? a(s, p) : a.call(r, s, p) : l[p] = s, p += 1;
                return l.length = c, l
            }
        }())
    }()
}, function (e, t, n) {
    (function (e) {
        "use strict";
        var t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        };
        !function (n) {
            function i() {
            }

            function o(e, t) {
                return function () {
                    e.apply(t, arguments)
                }
            }

            function r(e) {
                if ("object" !== t(this)) throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof e) throw new TypeError("not a function");
                this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], u(e, this)
            }

            function a(e, t) {
                for (; 3 === e._state;) e = e._value;
                return 0 === e._state ? void e._deferreds.push(t) : (e._handled = !0, void m(function () {
                    var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null === n) return void(1 === e._state ? s : c)(t.promise, e._value);
                    var i;
                    try {
                        i = n(e._value)
                    } catch (o) {
                        return void c(t.promise, o)
                    }
                    s(t.promise, i)
                }))
            }

            function s(e, n) {
                try {
                    if (n === e) throw new TypeError("A promise cannot be resolved with itself.");
                    if (n && ("object" === ("undefined" == typeof n ? "undefined" : t(n)) || "function" == typeof n)) {
                        var i = n.then;
                        if (n instanceof r) return e._state = 3, e._value = n, void l(e);
                        if ("function" == typeof i) return void u(o(i, n), e)
                    }
                    e._state = 1, e._value = n, l(e)
                } catch (a) {
                    c(e, a)
                }
            }

            function c(e, t) {
                e._state = 2, e._value = t, l(e)
            }

            function l(e) {
                2 === e._state && 0 === e._deferreds.length && setTimeout(function () {
                    e._handled || f(e._value)
                }, 1);
                for (var t = 0, n = e._deferreds.length; t < n; t++) a(e, e._deferreds[t]);
                e._deferreds = null
            }

            function p(e, t, n) {
                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
            }

            function u(e, t) {
                var n = !1;
                try {
                    e(function (e) {
                        n || (n = !0, s(t, e))
                    }, function (e) {
                        n || (n = !0, c(t, e))
                    })
                } catch (i) {
                    if (n) return;
                    n = !0, c(t, i)
                }
            }

            var d = setTimeout, m = "function" == typeof e && e || function (e) {
                d(e, 1)
            }, f = function (e) {
                console.warn("Possible Unhandled Promise Rejection:", e)
            }, g = Array.isArray || function (e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            };
            r.prototype["catch"] = function (e) {
                return this.then(null, e)
            }, r.prototype.then = function (e, t) {
                var n = new r(i);
                return a(this, new p(e, t, n)), n
            }, r.all = function () {
                var e = Array.prototype.slice.call(1 === arguments.length && g(arguments[0]) ? arguments[0] : arguments);
                return new r(function (n, i) {
                    function o(a, s) {
                        try {
                            if (s && ("object" === ("undefined" == typeof s ? "undefined" : t(s)) || "function" == typeof s)) {
                                var c = s.then;
                                if ("function" == typeof c) return void c.call(s, function (e) {
                                    o(a, e)
                                }, i)
                            }
                            e[a] = s, 0 === --r && n(e)
                        } catch (l) {
                            i(l)
                        }
                    }

                    if (0 === e.length) return n([]);
                    for (var r = e.length, a = 0; a < e.length; a++) o(a, e[a])
                })
            }, r.resolve = function (e) {
                return e && "object" === ("undefined" == typeof e ? "undefined" : t(e)) && e.constructor === r ? e : new r(function (t) {
                    t(e)
                })
            }, r.reject = function (e) {
                return new r(function (t, n) {
                    n(e)
                })
            }, r.race = function (e) {
                return new r(function (t, n) {
                    for (var i = 0, o = e.length; i < o; i++) e[i].then(t, n)
                })
            }, r._setImmediateFn = function (e) {
                m = e
            }, r._setUnhandledRejectionFn = function (e) {
                f = e
            }, window.Promise ? r = window.Promise : window.Promise = r, r.prototype["finally"] = function (e) {
                var t = this.constructor;
                return this.then(function (n) {
                    return t.resolve(e()).then(function () {
                        return n
                    })
                }, function (n) {
                    return t.resolve(e()).then(function () {
                        throw n
                    })
                })
            }
        }(void 0)
    }).call(t, n(435).setImmediate)
}, function (e, t, n) {
    (function (e, i) {
        function o(e, t) {
            this._id = e, this._clearFn = t
        }

        var r = n(436).nextTick, a = Function.prototype.apply, s = Array.prototype.slice, c = {}, l = 0;
        t.setTimeout = function () {
            return new o(a.call(setTimeout, window, arguments), clearTimeout)
        }, t.setInterval = function () {
            return new o(a.call(setInterval, window, arguments), clearInterval)
        }, t.clearTimeout = t.clearInterval = function (e) {
            e.close()
        }, o.prototype.unref = o.prototype.ref = function () {
        }, o.prototype.close = function () {
            this._clearFn.call(window, this._id)
        }, t.enroll = function (e, t) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = t
        }, t.unenroll = function (e) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
        }, t._unrefActive = t.active = function (e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 && (e._idleTimeoutId = setTimeout(function () {
                e._onTimeout && e._onTimeout()
            }, t))
        }, t.setImmediate = "function" == typeof e ? e : function (e) {
            var n = l++, i = !(arguments.length < 2) && s.call(arguments, 1);
            return c[n] = !0, r(function () {
                c[n] && (i ? e.apply(null, i) : e.call(null), t.clearImmediate(n))
            }), n
        }, t.clearImmediate = "function" == typeof i ? i : function (e) {
            delete c[e]
        }
    }).call(t, n(435).setImmediate, n(435).clearImmediate)
}, function (e, t) {
    function n() {
        throw new Error("setTimeout has not been defined")
    }

    function i() {
        throw new Error("clearTimeout has not been defined")
    }

    function o(e) {
        if (p === setTimeout) return setTimeout(e, 0);
        if ((p === n || !p) && setTimeout) return p = setTimeout, setTimeout(e, 0);
        try {
            return p(e, 0)
        } catch (t) {
            try {
                return p.call(null, e, 0)
            } catch (t) {
                return p.call(this, e, 0)
            }
        }
    }

    function r(e) {
        if (u === clearTimeout) return clearTimeout(e);
        if ((u === i || !u) && clearTimeout) return u = clearTimeout, clearTimeout(e);
        try {
            return u(e)
        } catch (t) {
            try {
                return u.call(null, e)
            } catch (t) {
                return u.call(this, e)
            }
        }
    }

    function a() {
        g && m && (g = !1, m.length ? f = m.concat(f) : h = -1, f.length && s())
    }

    function s() {
        if (!g) {
            var e = o(a);
            g = !0;
            for (var t = f.length; t;) {
                for (m = f, f = []; ++h < t;) m && m[h].run();
                h = -1, t = f.length
            }
            m = null, g = !1, r(e)
        }
    }

    function c(e, t) {
        this.fun = e, this.array = t
    }

    function l() {
    }

    var p, u, d = e.exports = {};
    !function () {
        try {
            p = "function" == typeof setTimeout ? setTimeout : n
        } catch (e) {
            p = n
        }
        try {
            u = "function" == typeof clearTimeout ? clearTimeout : i
        } catch (e) {
            u = i
        }
    }();
    var m, f = [], g = !1, h = -1;
    d.nextTick = function (e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        f.push(new c(e, t)), 1 !== f.length || g || o(s)
    }, c.prototype.run = function () {
        this.fun.apply(null, this.array)
    }, d.title = "browser", d.browser = !0, d.env = {}, d.argv = [], d.version = "", d.versions = {}, d.on = l, d.addListener = l, d.once = l, d.off = l, d.removeListener = l, d.removeAllListeners = l, d.emit = l, d.prependListener = l, d.prependOnceListener = l, d.listeners = function (e) {
        return []
    }, d.binding = function (e) {
        throw new Error("process.binding is not supported")
    }, d.cwd = function () {
        return "/"
    }, d.chdir = function (e) {
        throw new Error("process.chdir is not supported")
    }, d.umask = function () {
        return 0
    }
}, function (e, t) {
    !function (e) {
        "use strict";

        function t(e) {
            var t = "", n = !0;
            return e.forEach(function (e) {
                var i = encodeURIComponent(e.name), o = encodeURIComponent(e.value);
                n || (t += "&"), t += i + "=" + o, n = !1
            }), t.replace(/%20/g, "+")
        }

        function n(e, t) {
            var n = e.split("&");
            t && n[0].indexOf("=") === -1 && (n[0] = "=" + n[0]);
            var i = [];
            n.forEach(function (e) {
                if (0 !== e.length) {
                    var t = e.indexOf("=");
                    if (t !== -1) var n = e.substring(0, t), o = e.substring(t + 1); else n = e, o = "";
                    n = n.replace(/\+/g, " "), o = o.replace(/\+/g, " "), i.push({name: n, value: o})
                }
            });
            var o = [];
            return i.forEach(function (e) {
                o.push({name: decodeURIComponent(e.name), value: decodeURIComponent(e.value)})
            }), o
        }

        function i(e) {
            if (a) return new s(e);
            var t = document.createElement("a");
            return t.href = e, t
        }

        function o(e) {
            var i = this;
            this._list = [], void 0 !== e && null !== e || (e = ""), Object(e) === e && e instanceof o || (e = String(e)), "string" == typeof e && "?" === e.substring(0, 1) && (e = e.substring(1)), "string" == typeof e ? this._list = n(e) : this._list = e._list.slice(), this._url_object = null, this._setList = function (e) {
                r || (i._list = e)
            };
            var r = !1;
            this._update_steps = function () {
                r || (r = !0, i._url_object && ("about:" === i._url_object.protocol && i._url_object.pathname.indexOf("?") !== -1 && (i._url_object.pathname = i._url_object.pathname.split("?")[0]), i._url_object.search = t(i._list), r = !1))
            }
        }

        function r(t, r) {
            function c() {
                var e = p.href.replace(/#$|\?$|\?(?=#)/g, "");
                p.href !== e && (p.href = e)
            }

            function l() {
                m._setList(p.search ? n(p.search.substring(1)) : []),
                    m._update_steps()
            }

            if (!(this instanceof e.URL)) throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");
            r && (t = function () {
                if (a) return new s(t, r).href;
                var e;
                if (document.implementation && document.implementation.createHTMLDocument ? e = document.implementation.createHTMLDocument("") : document.implementation && document.implementation.createDocument ? (e = document.implementation.createElement("http://www.w3.org/1999/xhtml", "html", null), e.documentElement.appendChild(e.createElement("head")), e.documentElement.appendChild(e.createElement("body"))) : window.ActiveXObject && (e = new window.ActiveXObject("htmlfile"), e.write("<head></head><body></body>"), e.close()), !e) throw Error("base not supported");
                var n = e.createElement("base");
                n.href = r, e.getElementsByTagName("head")[0].appendChild(n);
                var i = e.createElement("a");
                return i.href = t, i.href
            }());
            var p = i(t || ""), u = function () {
                if (!("defineProperties" in Object)) return !1;
                try {
                    var e = {};
                    return Object.defineProperties(e, {
                        prop: {
                            get: function () {
                                return !0
                            }
                        }
                    }), e.prop
                } catch (t) {
                    return !1
                }
            }(), d = u ? this : document.createElement("a"), m = new o(p.search ? p.search.substring(1) : null);
            return m._url_object = d, Object.defineProperties(d, {
                href: {
                    get: function () {
                        return p.href
                    }, set: function (e) {
                        p.href = e, c(), l()
                    }, enumerable: !0, configurable: !0
                }, origin: {
                    get: function () {
                        return "origin" in p ? p.origin : this.protocol + "//" + this.host
                    }, enumerable: !0, configurable: !0
                }, protocol: {
                    get: function () {
                        return p.protocol
                    }, set: function (e) {
                        p.protocol = e
                    }, enumerable: !0, configurable: !0
                }, username: {
                    get: function () {
                        return p.username
                    }, set: function (e) {
                        p.username = e
                    }, enumerable: !0, configurable: !0
                }, password: {
                    get: function () {
                        return p.password
                    }, set: function (e) {
                        p.password = e
                    }, enumerable: !0, configurable: !0
                }, host: {
                    get: function () {
                        var e = {"http:": /:80$/, "https:": /:443$/, "ftp:": /:21$/}[p.protocol];
                        return e ? p.host.replace(e, "") : p.host
                    }, set: function (e) {
                        p.host = e
                    }, enumerable: !0, configurable: !0
                }, hostname: {
                    get: function () {
                        return p.hostname
                    }, set: function (e) {
                        p.hostname = e
                    }, enumerable: !0, configurable: !0
                }, port: {
                    get: function () {
                        return p.port
                    }, set: function (e) {
                        p.port = e
                    }, enumerable: !0, configurable: !0
                }, pathname: {
                    get: function () {
                        return "/" !== p.pathname.charAt(0) ? "/" + p.pathname : p.pathname
                    }, set: function (e) {
                        p.pathname = e
                    }, enumerable: !0, configurable: !0
                }, search: {
                    get: function () {
                        return p.search
                    }, set: function (e) {
                        p.search !== e && (p.search = e, c(), l())
                    }, enumerable: !0, configurable: !0
                }, searchParams: {
                    get: function () {
                        return m
                    }, enumerable: !0, configurable: !0
                }, hash: {
                    get: function () {
                        return p.hash
                    }, set: function (e) {
                        p.hash = e, c()
                    }, enumerable: !0, configurable: !0
                }, toString: {
                    value: function () {
                        return p.toString()
                    }, enumerable: !1, configurable: !0
                }, valueOf: {
                    value: function () {
                        return p.valueOf()
                    }, enumerable: !1, configurable: !0
                }
            }), d
        }

        var a, s = e.URL;
        try {
            if (s) {
                if (a = new e.URL("http://example.com"), "searchParams" in a) return;
                "href" in a || (a = void 0)
            }
        } catch (c) {
        }
        if (Object.defineProperties(o.prototype, {
            append: {
                value: function (e, t) {
                    this._list.push({name: e, value: t}), this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, "delete": {
                value: function (e) {
                    for (var t = 0; t < this._list.length;) this._list[t].name === e ? this._list.splice(t, 1) : ++t;
                    this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, get: {
                value: function (e) {
                    for (var t = 0; t < this._list.length; ++t) if (this._list[t].name === e) return this._list[t].value;
                    return null
                }, writable: !0, enumerable: !0, configurable: !0
            }, getAll: {
                value: function (e) {
                    for (var t = [], n = 0; n < this._list.length; ++n) this._list[n].name === e && t.push(this._list[n].value);
                    return t
                }, writable: !0, enumerable: !0, configurable: !0
            }, has: {
                value: function (e) {
                    for (var t = 0; t < this._list.length; ++t) if (this._list[t].name === e) return !0;
                    return !1
                }, writable: !0, enumerable: !0, configurable: !0
            }, set: {
                value: function (e, t) {
                    for (var n = !1, i = 0; i < this._list.length;) this._list[i].name === e ? n ? this._list.splice(i, 1) : (this._list[i].value = t, n = !0, ++i) : ++i;
                    n || this._list.push({name: e, value: t}), this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, entries: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length) return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: [n.name, n.value]}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, keys: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length) return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: n.name}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, values: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length) return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: n.value}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, forEach: {
                value: function (e) {
                    var t = arguments.length > 1 ? arguments[1] : void 0;
                    this._list.forEach(function (n, i) {
                        e.call(t, n.name, n.value)
                    })
                }, writable: !0, enumerable: !0, configurable: !0
            }, toString: {
                value: function () {
                    return t(this._list)
                }, writable: !0, enumerable: !1, configurable: !0
            }
        }), "Symbol" in e && "iterator" in e.Symbol && Object.defineProperty(o.prototype, e.Symbol.iterator, {
            value: o.prototype.entries,
            writable: !0,
            enumerable: !0,
            configurable: !0
        }), s) for (var l in s) s.hasOwnProperty(l) && "function" == typeof s[l] && (r[l] = s[l]);
        e.URL = r, e.URLSearchParams = o
    }(window)
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = n(440).ObjAdaptor, o = n(440).ListAdaptor, r = n(441), a = n(443), s = n(447), c = n(442), l = n(450);
    e.exports = {
        ObjAdaptor: i,
        ListAdaptor: o,
        SceneAdaptor: r,
        perfectMeta: a,
        perfectPage: s,
        perfectScene: c,
        perfectComp: l
    }
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = function () {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            o(this, e), this.fns = t
        }

        return r(e, [{
            key: "addFns", value: function (e) {
                var t = this;
                return e.forEach(function (e) {
                    return t.addFn(e)
                }), this
            }
        }, {
            key: "addFn", value: function (e) {
                return this.fns.includes(e) || this.fns.push(e), this
            }
        }, {
            key: "removeFn", value: function (e) {
                var t = this.fns.indexOf(e);
                return t > -1 && this.fns.splice(t, 1), this
            }
        }, {
            key: "clearFns", value: function () {
                return this.fns.length = 0, this
            }
        }, {
            key: "start", value: function () {
                return this
            }
        }]), e
    }(), s = function (e) {
        function t(e) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            o(this, t);
            var r = n(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i));
            return r.data = e, r
        }

        return i(t, e), r(t, [{
            key: "start", value: function (e) {
                var t = this;
                return this.fns.forEach(function (n) {
                    return n.call(null, t.data, e)
                }), this
            }
        }]), t
    }(a), c = function (e) {
        function t(e) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            o(this, t);
            var r = n(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i));
            return Array.isArray(e) || (_DEBUG_ && console.error("Invalid Array"), e = []), r.list = e, r
        }

        return i(t, e), r(t, [{
            key: "start", value: function () {
                for (var e = this, t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                return this.fns.forEach(function (t) {
                    return e.list.forEach(function (e) {
                        return t.call.apply(t, [null, e].concat(n))
                    })
                }), this
            }
        }]), t
    }(a);
    e.exports = {ObjAdaptor: s, ListAdaptor: c}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(440), a = r.ObjAdaptor, s = r.ListAdaptor, c = n(442).perfectScene, l = function () {
        function e(t) {
            i(this, e), c(t), this.sceneJson = {
                map: t.map,
                meta: t.meta,
                list: t.list
            }, this.mapAdaptor = new a(t.map), this.metaAdaptor = new a(t.meta), this.pageAdaptor = new s(t.list), this.eleAdptorList = t.list.map(function (e) {
                return e.elements || (e.elements = []), new s(e.elements)
            })
        }

        return o(e, [{
            key: "addMapFn", value: function (e) {
                return this.mapAdaptor.addFn(e), this
            }
        }, {
            key: "addMetaFn", value: function (e) {
                return this.metaAdaptor.addFn(e), this
            }
        }, {
            key: "addPageFn", value: function (e) {
                return this.pageAdaptor.addFn(e), this
            }
        }, {
            key: "addEleFn", value: function (e) {
                return this.eleAdptorList.forEach(function (t) {
                    return t.addFn(e)
                }), this
            }
        }, {
            key: "start", value: function () {
                var e = this;
                this.mapAdaptor.start(this.sceneJson), this.metaAdaptor.start(this.sceneJson), this.pageAdaptor.start(this.sceneJson), this.eleAdptorList.forEach(function (t, n) {
                    return t.start(e.sceneJson, e.sceneJson.list[n])
                })
            }
        }]), e
    }();
    e.exports = l
}, function (e, t) {
    "use strict";

    function n(e) {
        return e.meta ? e.obj = e.meta : e.obj = e.obj || {}, e.meta = e.obj, e.map = e.map || {}, e.list = e.list || [], e.list.forEach(function (e, t) {
            e.num = t + 1
        }), e
    }

    e.exports = {perfectScene: n}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return e.ext || (e.ext = {}), "string" == typeof e.property && (e.property = JSON.parse(e.property) || {}), "string" == typeof e.bgAudio && (e.bgAudio = JSON.parse(e.bgAudio) || null), null === e.accessCode && (e.accessCode = ""), c(e), a(e), s(e), e
    }

    function o(e) {
        e.name = e.name || "未命名场景", e.name = e.name.replace(/&quot;/g, '"')
    }

    function r(e) {
        e.description = e.description || "我用易企秀做了一个超酷炫的H5，快来看看吧。"
    }

    function a(e) {
        switch (e.pageMode + "") {
            case"2":
                e.pageMode = l["上下翻页"]
        }
        void 0 === l[e.pageMode] && (_DEBUG_, e.pageMode = l["上下翻页"]), e.property || (e.property = {});
        var t = e.property;
        return "triggerLoop" in t || (t.triggerLoop = !0), "autoFlip" in t || (t.autoFlip = !1), t.autoFlipTime || (t.autoFlipTime = 3), "forbidHandFlip" in t || (t.forbidHandFlip = !1), void 0 !== t.slideNumber && null !== t.slideNumber || (t.slideNumber = !0), e
    }

    function s(e) {
        var t = e.property, n = e.createTime, i = e.hideEqAd, o = e.eqAdType, r = e.isAdvancedUser, a = e.bottomLabel;
        switch (n < 14165028e5 | i | 99 === o && (t.eqAdType = p["无尾页无底标"], delete t.createTime, delete t.hideEqAd), r && (t.ad = 2, a && a.id ? t.eqAdType = p["品牌联合底标"] : t.eqAdType = p["技术支持底标"], delete t.isAdvancedUser), "" + t.eqAdType) {
            case p["无尾页无底标"]:
                t.ad = 0;
                break;
            case p["技术支持尾页"]:
                t.ad = 1;
                break;
            case p["技术支持底标"]:
            case p["品牌联合底标"]:
                t.ad = 2;
                break;
            case p["deepshare尾页"]:
                t.ad = 4;
                break;
            default:
                t.eqAdType = p["技术支持尾页"], t.eqAdType = parseInt(t.eqAdType), t.ad = 1
        }
    }

    function c(e) {
        var t = e.property;
        if (t.shareDes && "string" == typeof t.shareDes) try {
            t.shareDes = JSON.parse(t.shareDes)
        } catch (n) {
            t.shareDes = {description: {type: "position", description: t.shareDes}}
        }
        var i = !1;
        if (t.wxCount > 0 || (1 == t.clickFarmerStatus || 2 == t.clickFarmerStatus) && t.wxClickFarmerCount > 0) i = !0; else {
            var o = t.shareDes;
            o && (o.description && ["myself", "selfAndPosition"].includes(o.description.type) || o.title && ["myself", "selfAndPosition"].includes(o.title.type) || o.avatar) && (i = !0)
        }
        t.wxAuth = i
    }

    var l = n(444).PAGE_MODE, p = n(445).AD_TYPE;
    e.exports = {perfectMeta: i, perfectPageMode: a, perfectAdType: s, perfectName: o, perfectDescription: r}
}, function (e, t) {
    "use strict";

    function n(e) {
        return s.includes(e)
    }

    function i(e) {
        return c.includes(e)
    }

    var o = {up: 1, right: 2, down: 3, left: 4},
        r = [{name: "上下翻页", type: 0, dir: o.down}, {name: "上下惯性翻页", type: 1, dir: o.down}, {
            name: "左右惯性翻页",
            type: 3,
            dir: o.right
        }, {name: "左右翻页", type: 4, dir: o.right}, {name: "左右连续翻页", type: 5, dir: o.right}, {
            name: "立体翻页",
            type: 6,
            dir: o.down
        }, {name: "卡片翻页", type: 7, dir: o.down}, {name: "放大翻页", type: 8, dir: o.down}, {
            name: "交换翻页",
            type: 9,
            dir: o.right
        }, {name: "翻书翻页", type: 10, dir: o.right}, {name: "上下连续翻页", type: 11, dir: o.down}, {
            name: "掉落翻页",
            type: 12,
            dir: o.down
        }, {name: "淡入翻页", type: 13, dir: o.down}, {name: "上下推出翻页", type: 14, dir: o.down}, {
            name: "左右推出翻页",
            type: 15,
            dir: o.right
        }, {name: "折叠翻页", type: 16, dir: o.down}], a = {};
    r.forEach(function (e) {
        a[e.type] = e.name, a[e.name] = e.type
    });
    var s = r.filter(function (e) {
        return e.dir == o.down
    }).map(function (e) {
        return e.type
    }), c = r.filter(function (e) {
        return e.dir == o.right
    }).map(function (e) {
        return e.type
    });
    e.exports = {isBottomArrow: n, isRightArrow: i, BOTTOM_ARROWS: s, RIGHT_ARROWS: c, PAGE_MODE: a}
}, function (e, t, n) {
    "use strict";
    var i = n(446).make, o = i({0: "无尾页无底标", 1: "技术支持尾页", 2: "技术支持底标", 3: "品牌联合底标", 4: "deepshare尾页"});
    e.exports = {AD_TYPE: o}
}, function (e, t) {
    "use strict";

    function n() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = {};
        for (var n in e) if (e.hasOwnProperty(n)) {
            var i = e[n];
            t[t[n] = i] = n
        }
        return t
    }

    e.exports = {make: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        o(e), s(e, t), r(e, t), a(e), l(e), p(e.properties, "p", e)
    }

    function o(e) {
        e.elements && e.elements.forEach(function (e) {
            e.css = e.css || {};
            var t = e.type;
            "3" == t ? e.css.zIndex = -1 : "q" == t && (e.css.zIndex = 0)
        })
    }

    function r(e) {
        e.elements = e.elements.filter(function (e) {
            var t = e.type;
            if ("EqxShape" == u[t]) {
                var n = e.properties, i = n.type, o = n.src;
                if (o) return !0;
                if (!i) return !1;
                if (i.includes("symbols")) return !0;
                var r = i.replace(/-([a-z])/g, function (e, t) {
                    return t.toUpperCase()
                });
                return !!r
            }
            return !0
        })
    }

    function a(e) {
        var t = e.properties, n = t.longPage;
        n && n > 1 && n < 6 && (t.longPage = 486 * n)
    }

    function s(e, t) {
        e.properties = e.properties || {}, e.properties.triggerGroup = e.properties.triggerGroup || [], e.properties.pageScroll = e.properties.pageScroll || {}, Array.isArray(e.properties.triggerGroup) || (e.properties.triggerGroup = []), e.elements = e.elements || [], e.sceneId = t.meta.id, e.name = e.name || "第" + e.num + "页", e.elements.forEach(function (t) {
            return t.pageId = e.id
        })
    }

    function c(e) {
        var t = e + "Effect";
        d.includes(t) || d.push(t)
    }

    function l(e) {
        var t = e.properties || {};
        if (t.image || t.scratch) {
            c("scratch");
            var n = t.effect = Object.assign({name: "scratch"}, t.image || t.scratch),
                i = n.percentage ? n.percentage.value || n.percentage || .15 : .15;
            return delete n.percentage, n.percentage = i, void(t.image ? delete t.image : delete t.scratch)
        }
        if (t.finger) return c("finger"), t.effect = Object.assign({name: "finger"}, t.finger), void delete t.finger;
        if (t.fallingObject) return c("fallingObject"), t.effect = Object.assign({name: "fallingObject"}, t.fallingObject), void delete t.fallingObject;
        if (t.effect) {
            var o = t.effect.name;
            c(o), "money" === o && _DEBUG_ && (t.effect.seconds = 2)
        }
    }

    var p = n(448), u = n(449).COMP_TYPE, d = [];
    e.exports = {perfectPage: i, perfectJson: s, perfectLongPage: a, perfectTrigger: p, effectArr: d, perfectEffect: l}
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        var i = e.trigger;
        if (i) {
            var o = i.sends;
            Array.isArray(o) && (n.properties.triggerGroup = n.properties.triggerGroup || [], o.forEach(function (i) {
                i.handles.forEach(function (o) {
                    o.ids && o.ids.length && o.ids.forEach(function (r) {
                        n.properties.triggerGroup.push({
                            eventType: i.type,
                            sourceType: t,
                            sourceId: "e" == t ? e.id : n.id,
                            targetType: "e",
                            targetId: r,
                            targetState: o.type,
                            delay: i.delay
                        })
                    })
                })
            })), "e" == t && i.initType && (e.properties.initType = i.initType), delete e.trigger
        }
        if ("e" == t && 1 != e.properties.initType && 2 != e.properties.initType) if (i && i.receives && i.receives.length) {
            var r = i.receives.length;
            1 === i.receives[r - 1].type ? e.properties.initType = 2 : 2 === i.receives[r - 1].type && (e.properties.initType = 1)
        } else e.properties.initType = 1
    }

    e.exports = n
}, function (e, t) {
    "use strict";
    var n = {
            16: "EqxPipButton",
            1: "EqxHotNewText",
            13: "EqxPhotoWall",
            7: "EqxNewText",
            2: "EqxText",
            x: "EqxText",
            298: "EqxDeepShare",
            299: "EqxReport",
            3: "EqxBackground",
            4: "EqxImage",
            8: "EqxTelephone",
            9: "EqxRedPacket",
            10: "EqxRandomContent",
            11: "EqxReward",
            b: "EqxComment",
            h: "EqxShape",
            i: "EqxCount",
            l: "EqxLink",
            t: "EqxChart",
            v: "EqxVideo",
            o: "EqxInteractiveVideo",
            p: "EqxImageSlider",
            m: "EqxMap",
            n: "EqxRandom",
            s: "EqxSound",
            d: "EqxPv",
            g: "EqxAdvertise",
            e: "EqxDownTime",
            f: "EqxUpTime",
            upload: "EqxUploadImages",
            a: "EqxScore",
            c: "EqxCheckbox",
            r: "EqxRadio",
            z: "EqxDropDownList",
            5: "EqxInput",
            501: "EqxInput",
            502: "EqxInputPhone",
            503: "EqxInputEmail",
            504: "EqxInput",
            6: "EqxSubmitButton",
            601: "EqxSubmitButton",
            12: "EqxSMS",
            201: "EqxWxNickName",
            401: "EqxWxProfile",
            403: "EqxWxUploadImage",
            w01: "EqxWxSoundPlay",
            w02: "EqxWxSoundRecord",
            j: "EqxImgVote",
            k: "EqxTextVote",
            q: "EqxGravity",
            u: "EqxDrawingBoard",
            14: "EqxDate",
            17: "EqxWeChatCard",
            18: "EqxTurntable",
            19: "EqxSmashEgg"
        }, i = ["upload", "5", "501", "502", "503", "504", "c", "r", "z", "a", "12"],
        o = ["201", "401", "403", "w01", "w02", "j", "k", "11", "9", "b", "13", "17", "18", "19"],
        r = ["i", "6", "601"], a = ["3", "q"], s = Date.now() + "" + Math.floor(1e5 * Math.random());
    e.exports = {COMP_TYPE: n, FORM_COMPS: i, WX_COMPS: o, WX_CLICK_FARMER_COMPS: r, FIX_INDEX_COMPS: a, COMP_KEY: s}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return r(e, t), a(e, t, n), s(e), l(e), o(e, t), c(e), p(e), u(e), m(e, t), S(e, "e", n), d(e), v(e, n), y(e, n), b(e), e
    }

    function o(e, t) {
        if ("EqxDrawingBoard" === x[e.type] && t.map[$]) {
            var n = t.map[$][e.id];
            n && (e.properties.imgSrc = n, e.properties.qiniuSrc = n)
        }
    }

    function r(e, t) {
        e && t && (e.properties = e.properties || {}, "string" == typeof e.properties && (e.properties = {}), e.css = e.css || {}, e.sceneId = t.meta.id)
    }

    function a(e, t, n) {
        var i = e.css, o = x[e.type];
        if ("translate3d(0px, 0px, 0px) rotateZ(0deg) scale(1, 1)" === i.transform && (i.transform = ""), i.letterSpacing && !i.letterSpacing.toString().endsWith("em") && (i.letterSpacing = i.letterSpacing + "em"), "EqxBackground" !== o) {
            var r = ["top", "left", "width", "height", "zIndex"];
            r.forEach(function (e) {
                void 0 === i[e] && (_DEBUG_, "height" === e && (["EqxInput", "EqxInputEmail", "EqxInputPhone"].includes(o) && (i.height = 38), "EqxSubmitButton" === o && (i.height = 36), "EqxRadio" !== o && "EqxCheckbox" !== o || _DEBUG_ && console.info(o), _DEBUG_ && console.info("add height", i.height)))
            });
            var a = {
                color: "#676767",
                backgroundColor: "",
                opacity: 1,
                transform: "rotateZ(0deg)",
                textAlign: "left",
                borderWidth: 0,
                borderStyle: "solid",
                borderColor: "rgba(0,0,0,1)",
                borderRadius: 0,
                borderRadiusPerc: 0,
                borderBottomRightRadius: 0,
                borderBottomLeftRadius: 0,
                borderTopRightRadius: 0,
                borderTopLeftRadius: 0,
                paddingBottom: 0,
                paddingTop: 0,
                boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                boxShadowDirection: 0,
                boxShadowSize: 0
            }, s = Object.assign({}, a, i);
            Object.assign(i, s)
        }
        if (g(e), f(i), n) {
            var c = n.properties.longPage || 486;
            i.bottom && !i.top && (i.top = c - i.bottom - i.height, console.log("bottom " + i.bottom + " height " + i.height + " -> top " + i.top), delete i.bottom)
        }
        return i.top || (i.top = 0), i.left || (i.left = 0), e
    }

    function s(e) {
        var t = e.properties;
        "string" == typeof t && (t = {}), t.anim ? (Array.isArray(t.anim) || (t.anim = [t.anim]), t.anim = t.anim.filter(function (e) {
            var t = e || {}, n = t.type, i = t.direction;
            return !(n == -1 || null == n || void 0 == n || !k[n]) && (T[n] && !k[n][i] && (console.error("invalid animation type", e), e.direction = 0), !0)
        })) : t.anim = [], t.anim.forEach(function (e) {
            ["delay", "duration"].forEach(function (t) {
                "string" == typeof e[t] && (e[t] = parseFloat(e[t]))
            })
        })
    }

    function c(e) {
        var t = e.type, n = e.properties, i = n.cropSize, o = n.croptype, r = n.pageLength;
        "EqxBackground" === x[t] && (i && !o && (n.croptype = w["固定背景模式"]), r && (r < 2 && delete n.pageLength, r < 10 && (n.pageLength = 486 * r)))
    }

    function l(e) {
        if ("EqxImage" === x[e.type]) {
            var t = e.properties;
            f(t), f(t.imgStyle || (t.imgStyle = {}))
        }
    }

    function p(e) {
        var t = x[e.type];
        "string" != typeof e.choices || "EqxCheckbox" !== t && "EqxDropDownList" !== t && "EqxRadio" !== t || (e.choices = JSON.parse(e.choices) || {})
    }

    function u(e) {
    }

    function d(e) {
        "EqxDropDownList" == x[e.type] && (e.showText && e.placeholderText && e.choices && (e.choices.options.unshift({
            id: 0,
            label: e.placeholderText
        }), e.choices.options.map(function (t) {
            t.value = t.id, delete t.id, t.selected = !1, t.label == e.showText && (t.selected = !0)
        })), delete e.showText, delete e.placeholderText, e.choices && delete e.choices.seq)
    }

    function m(e, t) {
        var n = t.meta.publishTime, i = x[e.type];
        if ("EqxText" === i || "EqxAwesomeText" === i) {
            e.type = 2, e.properties && e.properties.dataUrl && delete e.properties.dataUrl;
            var o = e.content;
            o && o.length > 0 && (o = o.replace(/(^\s*)|(\s*$)/g, ""), C.isBadStr(o) && (console.error("xss text"), o = C.toGoodStr(o)), e.content = o), e.publishTime = n
        }
    }

    function f(e) {
        "100%" === e.width && (e.width = 320), ["opacity", "width", "height", "top", "bottom", "left", "right", "zIndex", "borderWidth", "borderBottomLeftRadius", "borderBottomRightRadius", "borderTopRightRadius", "borderTopLeftRadius", "borderRadius"].forEach(function (t) {
            var n = e[t];
            n && (e[t] = parseFloat(n))
        })
    }

    function g(e) {
        var t = e.css, n = x[e.type],
            i = ["top", "bottom", "left", "zIndex", "width", "height", "lock", "transform", "opacity", "color", "backgroundColor", "lineHeight", "fontSize", "textAlign", "fontWeight", "writingMode", "letterSpacing", "fontFamily", "paddingBottom", "paddingTop", "letterSpacing", "fontStyle", "textDecoration", "letterSpacing", "fontStyle", "borderWidth", "borderStyle", "borderColor", "borderRadius", "borderRadiusPerc", "borderBottomRightRadius", "borderBottomLeftRadius", "borderTopRightRadius", "borderTopLeftRadius", "boxShadow", "boxShadowDirection", "boxShadowSize"];
        return Object.keys(t).forEach(function (e) {
            var o = i.indexOf(e), r = t[e];
            if (o === -1 && (_DEBUG_, "EqxInput" === n && "text-align" === e && (t.textAlign = t.textAlign || t["text-align"], delete t[e]), "border" === e)) {
                var a = h(r);
                t.borderColor = a.borderColor || t.borderColor, t.borderWidth = a.borderWidth || t.borderWidth, t.borderStyle = a.borderStyle || t.borderStyle, delete t[e], _DEBUG_ && console.info("delete border:", r, "add", t.borderColor, t.borderWidth, t.borderStyle)
            }
        }), e
    }

    function h(e) {
        var t = e.split(" ");
        return {borderWidth: t[0], borderStyle: t[1], borderColor: t[2]}
    }

    function v(e, t) {
        var n = e.properties, i = n.url, o = n.number, r = "", a = "";
        i ? (!Number.isInteger(+i) && i.startsWith("http://") && window.location.href.startsWith("https://") && (i = i.replace("http://", "https://")), a = i, r = Number.isInteger(+i) ? P.page : P.link, delete e.properties.url) : o && (a = o, r = P.phone, delete e.properties.number), a && r && t.properties.triggerGroup.push({
            eventType: E.click,
            sourceType: "e",
            sourceId: e.id,
            targetType: "e",
            targetId: e.id,
            targetState: r,
            targetContent: a
        })
    }

    function y(e, t) {
        if (e.sound && e.sound.src) {
            var n = t.properties.triggerGroup.findIndex(function (t) {
                return t.eventType == E.click && t.sourceId == e.id && t.targetState == P.play
            });
            n == -1 && t.properties.triggerGroup.push({
                eventType: E.click,
                sourceType: "e",
                sourceId: e.id,
                targetType: "e",
                targetId: e.id,
                targetState: P.play
            })
        }
    }

    function b(e) {
        e.properties.zoom = e.properties.zoom || 11
    }

    var x = n(449).COMP_TYPE, w = n(451).BG_CROP_TYPE, S = n(448), k = n(452).ANIMATION_TYPE,
        T = n(452).ANIMATION_TYPE_WITH_DIR, C = n(457), I = n(176).getUrlParam, $ = I("compKey"), E = n(458).RAW_EVENT,
        P = n(458).EQX_EVENT;
    e.exports = {
        perfectComp: i,
        perfectJson: r,
        perfectCss: a,
        perfectAnim: s,
        perfectBg: c,
        perfectChoice: p,
        perfectInput: u,
        perfectText: m,
        perfectTrigger: S,
        perfectLink: v,
        perfectSound: y
    }
}, function (e, t) {
    "use strict";
    var n = {"固定背景模式": 1, "全屏背景模式": 2};
    e.exports = {BG_CROP_TYPE: n}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (e.$boxDiv.css({animation: ""}), e.$contextCopy) {
            var t = e.$contextCopy.data("typed");
            t && t.reset()
        }
    }

    function o(e, t) {
        function n() {
            var n = t.type, d = t.direction, m = t.duration, f = void 0 === m ? .1 : m, g = t.linear, h = t.count,
                v = t.countNum, y = void 0 === v ? 1 : v, b = t.delay, x = void 0 === b ? 0 : b;
            0 === f && (f = .1), null == x && (x = 0);
            var w = g ? "linear" : "ease", S = p[n], k = S[d] || p[n][0], T = h ? "infinite" : y;
            if (o.css({
                "animation-name": "",
                "animation-duration": "",
                "animation-timing-function": "",
                "animation-delay": "",
                "animation-iteration-count": ""
            }), "typer" === k) r.css({opacity: 0}), a().then(function () {
                var n = t.interval, i = e.create$context(), o = {position: "absolute", "pointer-events": "none"};
                e.compJson.css.writingMode && "vertical-rl" === e.compJson.css.writingMode ? o.left = "-30px" : o.top = "0px", i.attr("context-copy", 1).css(o), r.after(i), e.$contextCopy = i;
                var a = function () {
                    e.$contextCopy = null, setTimeout(function () {
                        i.remove(), i = null, e.$contextCopy || r.css({opacity: 1})
                    }, 100)
                };
                i.typed({
                    strings: [u.content],
                    contentType: "html",
                    showCursor: !1,
                    typeSpeed: 1e3 * n || 0,
                    startDelay: 1e3 * x || 0,
                    onFirstTyped: function () {
                        setTimeout(function () {
                            i && i.css({opacity: 1})
                        }, 0)
                    },
                    callback: function () {
                        clearInterval(i.data("typed").timeout), i.removeData("typed"), a()
                    },
                    resetCallback: function () {
                        a()
                    }
                })
            }, function () {
                r.css({opacity: 1})
            }); else if ("particles" === k) {
                var C = function () {
                }, I = function P() {
                    var t = Math.abs(parseInt(o.find("img").css("marginLeft"))),
                        n = Math.abs(parseInt(o.find("img").css("marginTop")));
                    o.css("opacity", "0");
                    var P = new c({
                        type: e.compJson.type,
                        top: t,
                        left: n,
                        $parEle: i,
                        imgUrl: l.FILE + e.compJson.properties.src,
                        startX: e.compJson.css.width,
                        startY: e.compJson.css.height,
                        imgX: 0,
                        imgY: 0,
                        delay: 1e3 * x,
                        duration: 1e3 * f,
                        interval: 0,
                        ease: "linear"
                    }, C);
                    P.animate()
                };
                i.remove("canvas"), "h" == e.compJson.type ? (o.css("opacity", "0"), s().then(function () {
                    I()
                })) : I()
            } else {
                var $ = {
                    "animation-name": k,
                    "animation-duration": f + "s",
                    "animation-timing-function": w,
                    "animation-delay": x + "s",
                    "animation-iteration-count": T,
                    "animation-direction": "normal",
                    "animation-fill-mode": "both"
                }, E = Object.keys($).map(function (e) {
                    return $[e]
                }).join(" ");
                o.css("animation", E), o.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                    o.css({
                        "animation-name": "",
                        "animation-duration": "",
                        "animation-timing-function": "",
                        "animation-delay": "",
                        "animation-iteration-count": ""
                    })
                })
            }
        }

        var i = e.$li, o = e.$boxDiv, r = e.$context, u = e.compJson;
        n()
    }

    function r(e, t) {
        function n() {
            if (h++, h >= g.length) r && r(); else {
                var t = g[h], i = t.type, v = t.direction, y = t.duration, b = void 0 === y ? .1 : y, x = t.linear,
                    w = t.count, S = t.countNum, k = void 0 === S ? 1 : S, T = t.delay, C = void 0 === T ? 0 : T;
                0 === b && (b = .1), null == C && (C = 0);
                var I = x ? "linear" : "ease", $ = p[i];
                if (!$) return n();
                var E = $[v] || p[i][0], P = w ? "infinite" : k;
                if (o && (P = 1), d.css({
                    "animation-name": "",
                    "animation-duration": "",
                    "animation-timing-function": "",
                    "animation-delay": "",
                    "animation-iteration-count": ""
                }), "typer" === E) m.css({opacity: 0}), a().then(function () {
                    var t = g[h].interval, i = e.create$context(), o = {position: "absolute", "pointer-events": "none"};
                    e.compJson.css.writingMode && "vertical-rl" === e.compJson.css.writingMode ? o.left = "-30px" : o.top = "0px", i.attr("context-copy", 1).css(o), m.after(i), e.$contextCopy = i;
                    var r = function () {
                        e.$contextCopy = null, setTimeout(function () {
                            i.remove(), i = null, e.$contextCopy || m.css({opacity: 1}), n()
                        }, 100)
                    };
                    i.typed({
                        strings: [f.content],
                        contentType: "html",
                        showCursor: !1,
                        typeSpeed: 1e3 * t || 0,
                        startDelay: 1e3 * C || 0,
                        onFirstTyped: function () {
                            setTimeout(function () {
                                i && i.css({opacity: 1})
                            }, 0)
                        },
                        callback: function () {
                            clearInterval(i.data("typed").timeout), i.removeData("typed"), r()
                        },
                        resetCallback: function () {
                            r()
                        }
                    })
                }, function () {
                    m.css({opacity: 1})
                }); else if ("particles" === E) {
                    var _ = function () {
                        if ("number" == typeof P) {
                            if (1 == P) return void n();
                            P > 1 && q(), P--
                        } else q()
                    }, q = function j() {
                        var t = Math.abs(parseInt(d.find("img").css("marginLeft"))),
                            n = Math.abs(parseInt(d.find("img").css("marginTop")));
                        d.css("opacity", "0");
                        var j = new c({
                            type: e.compJson.type,
                            top: t,
                            left: n,
                            $parEle: u,
                            imgUrl: l.FILE + e.compJson.properties.src,
                            startX: e.compJson.css.width,
                            startY: e.compJson.css.height,
                            imgX: 0,
                            imgY: 0,
                            delay: 1e3 * C,
                            duration: 1e3 * b,
                            interval: 0,
                            ease: "linear"
                        }, _);
                        j.animate()
                    };
                    u.remove("canvas"), "h" == e.compJson.type ? (d.css("opacity", "0"), s().then(function () {
                        q()
                    })) : q()
                } else {
                    var O = {
                        "animation-name": E,
                        "animation-duration": b + "s",
                        "animation-timing-function": I,
                        "animation-delay": C + "s",
                        "animation-iteration-count": P,
                        "animation-direction": "normal",
                        "animation-fill-mode": "both"
                    }, A = Object.keys(O).map(function (e) {
                        return O[e]
                    }).join(" ");
                    d.css("animation", A), d.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                        h < g.length - 1 && d.css({
                            "animation-name": "",
                            "animation-duration": "",
                            "animation-timing-function": "",
                            "animation-delay": "",
                            "animation-iteration-count": ""
                        }), setTimeout(function () {
                            n()
                        }, 0)
                    })
                }
            }
        }

        var i = t.animIndex, o = t.maxCount, r = t.callback, u = e.$li, d = e.$boxDiv, m = e.$context, f = e.compJson,
            g = f.properties.anim || [];
        g && !Array.isArray(g) && (g = [g]), i && (g = g.slice(i, i + 1));
        var h = -1;
        n()
    }

    var a = n(453).$loadTyped, s = n(453).$canvas, c = n(454).Particles, l = n(114), p = n(455).ANIMATION_TYPE,
        u = n(455).ANIMATION_TYPE_WITH_DIR;
    n(456), e.exports = {
        startAnimation: r,
        stopAnimation: i,
        previewAnimation: o,
        ANIMATION_TYPE: p,
        ANIMATION_TYPE_WITH_DIR: u
    }
}, function (e, t, n) {
    "use strict";

    function i() {
        return r({name: "qiniu", src: x.qiniu})
    }

    function o() {
        return r({name: "plupload", src: x.plupload})
    }

    function r(e) {
        var t = e.name, n = e.src, i = S[t];
        if (i) return Promise.resolve(i);
        var o = w({url: b(n), dataType: "script"}).then(function () {
            for (var e = arguments.length, n = Array(e), i = 0; i < e; i++) n[i] = arguments[i];
            return S[t] = n, n
        });
        return S[t] = o, o
    }

    function a() {
        return r({name: "qrcode", src: x.QRCode})
    }

    function s() {
        return r({name: "sha", src: x.SHA})
    }

    function c() {
        return k ? k : k = new Promise(function (e, t) {
            window.qqMapCallback = function () {
                e()
            }, r({name: "qqmap", src: x.QQMap})["catch"](t)
        })
    }

    function l() {
        return r({name: "chart", src: x.Chart})
    }

    function p() {
        return r({name: "threecanvas", src: x.threecanvas})
    }

    function u() {
        return r({name: "flux", src: x.Flux})
    }

    function d() {
        return r({name: "", src: x.sliders})
    }

    function m() {
        return r({name: "jweixin", src: x.JWeixin})
    }

    function f() {
        return r({name: "typed", src: x.Typed})
    }

    function g() {
        return r({name: "mlink", src: x.MLink})
    }

    function h() {
        return r({name: "parallax", src: x.Parallax})
    }

    function v() {
        return r({name: "canvg", src: x.canvg})
    }

    function y() {
        return r({name: "tbsJS", src: x.tbsJS})
    }

    var b = n(176).addProtocol, x = n(117), w = n(166).$ajax, S = {}, k = null;
    e.exports = {
        $loader: r,
        $loadQRCode: a,
        $loadSHA: s,
        $loadQQMap: c,
        $loadChart: l,
        $loadFlux: u,
        $loadJWeixin: m,
        $loadTyped: f,
        $loadThreeCanvas: p,
        $loadSliders: d,
        $loadParallax: h,
        $canvas: v,
        $loadMLink: g,
        $loadQiniu: i,
        $loadPlupload: o,
        $loadTbsJs: y
    }
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    var o, r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = (o = {
        easeInOutBack: function (e, t, n, i, o) {
            return void 0 == o && (o = 1.70158), (e /= i / 2) < 1 ? n / 2 * (e * e * (((o *= 1.525) + 1) * e - o)) + t : n / 2 * ((e -= 2) * e * (((o *= 1.525) + 1) * e + o) + 2) + t
        }, linear: function (e, t, n, i) {
            return n * e / i + t
        }, easeInOutQuad: function (e, t, n, i) {
            return e /= i / 2, e < 1 ? n / 2 * e * e + t : (e--, -n / 2 * (e * (e - 2) - 1) + t)
        }, easeOutQuad: function (e, t, n, i) {
            return e /= i, -n * e * (e - 2) + t
        }
    }, i(o, "easeOutQuad", function (e, t, n, i) {
        return e /= i, -n * e * (e - 2) + t
    }), i(o, "easeInCubic", function (e, t, n, i) {
        return e /= i, n * e * e * e + t
    }), i(o, "easeOutCubic", function (e, t, n, i) {
        return e /= i, e--, n * (e * e * e + 1) + t
    }), i(o, "easeInOutCubic", function (e, t, n, i) {
        return e /= i / 2, e < 1 ? n / 2 * e * e * e + t : (e -= 2, n / 2 * (e * e * e + 2) + t)
    }), i(o, "easeInQuart", function (e, t, n, i) {
        return e /= i, n * e * e * e * e + t
    }), i(o, "easeOutQuart", function (e, t, n, i) {
        return e /= i, e--, -n * (e * e * e * e - 1) + t
    }), i(o, "easeInOutQuart", function (e, t, n, i) {
        return e /= i / 2, e < 1 ? n / 2 * e * e * e * e + t : (e -= 2, -n / 2 * (e * e * e * e - 2) + t)
    }), i(o, "easeInQuint", function (e, t, n, i) {
        return e /= i, n * e * e * e * e * e + t
    }), i(o, "easeOutQuint", function (e, t, n, i) {
        return e /= i, e--, n * (e * e * e * e * e + 1) + t
    }), i(o, "easeInOutQuint", function (e, t, n, i) {
        return e /= i / 2, e < 1 ? n / 2 * e * e * e * e * e + t : (e -= 2, n / 2 * (e * e * e * e * e + 2) + t)
    }), i(o, "easeInSine", function (e, t, n, i) {
        return -n * Math.cos(e / i * (Math.PI / 2)) + n + t
    }), i(o, "easeOutSine", function (e, t, n, i) {
        return n * Math.sin(e / i * (Math.PI / 2)) + t
    }), i(o, "easeInOutSine", function (e, t, n, i) {
        return -n / 2 * (Math.cos(Math.PI * e / i) - 1) + t
    }), i(o, "easeInExpo", function (e, t, n, i) {
        return n * Math.pow(2, 10 * (e / i - 1)) + t
    }), i(o, "easeOutExpo", function (e, t, n, i) {
        return n * (-Math.pow(2, -10 * e / i) + 1) + t
    }), o), s = function () {
        function e(t, i) {
            n(this, e), this.colNumber = 3, this.$parEle = t.$parEle, this.canvas = {}, this.image = {}, this.requestId = 0, this.startTime = 0, this.array = [], this.startX = t.startX, this.startY = t.startY, this.callBackFn = i, this.param = t, this.init()
        }

        return r(e, [{
            key: "randomX", value: function () {
                return parseInt(Math.random() * this.startX)
            }
        }, {
            key: "randomY", value: function () {
                return parseInt(Math.random() * this.startY)
            }
        }, {
            key: "init", value: function () {
                var e = this;
                if (this.$parEle.find("canvas").remove(), this.$canvas = $("<canvas></canvas>"), this.$parEle.prepend(this.$canvas), this.$canvas.css({
                    position: "absolute",
                    top: 0,
                    left: 0
                }), this.canvas = this.$canvas[0], this.image.isLoaded = !1, this.canvas.width = this.$parEle.width(), this.canvas.height = this.$parEle.height(), this.canvas.width > 300 && this.canvas.height > 300 && (this.colNumber = 4), this.canvas.ctx = this.canvas.getContext("2d"), "h" === this.param.type) return void setTimeout(function () {
                    canvg(e.canvas, e.$parEle.find(".element-box-contents")[0], {
                        ignoreMouse: !0,
                        ignoreAnimation: !0
                    }), e.calCanvas()
                }, 10);
                if (this.canvas && this.canvas.getContext) {
                    var t = new Image;
                    t.onload = function () {
                        var n = e.$parEle.find("img").width(), i = e.$parEle.find("img").height(), o = t.height / i,
                            r = t.width / n;
                        e.canvas.ctx.drawImage(t, e.param.top * r, e.param.left * o, r * e.canvas.width, o * e.canvas.height, 0, 0, e.canvas.width, e.canvas.height), e.calCanvas()
                    }, t.crossOrigin = "anonymous", t.src = this.param.imgUrl
                }
            }
        }, {
            key: "draw", value: function () {
                this.image.isLoaded ? this._draw() : setTimeout(this.draw.bind(this))
            }
        }, {
            key: "animate", value: function () {
                this.image.isLoaded ? this._animate(this.param.delay) : setTimeout(this.animate.bind(this));
            }
        }, {
            key: "_calculate", value: function (e) {
                for (var t = this.image.imgData.data, n = e.cols, i = e.rows, o = Math.round(this.canvas.width / n), r = Math.round(this.canvas.height / i), a = 0, s = {}, c = 0; c < n; c++) for (var l = 0; l < i; l++) a = 4 * (l * r * this.canvas.width + c * o), t[a + 3] > 25 && (s = {
                    x0: this.randomX(),
                    y0: this.randomY(),
                    x1: this.param.imgX + c * o,
                    y1: this.param.imgY + l * r,
                    delay: l / 20,
                    currTime: 0,
                    count: 0,
                    duration: parseInt(e.duration / 16.66) + 1,
                    interval: parseInt(10 * Math.random() * e.interval),
                    ease: e.ease,
                    ratioX: e.ratioX,
                    ratioY: e.ratioY
                }, s.fillStyle = "rgba(" + t[a] + ", " + t[a + 1] + ", " + t[a + 2] + "," + t[a + 3] + ")", this.array.push(s))
            }
        }, {
            key: "_draw", value: function () {
                this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                for (var e = this.array.length, t = null, n = 0; n < e; n++) t = this.array[n], this.canvas.ctx.fillStyle = t.fillStyle, this.canvas.ctx.fillRect(t.x1, t.y1, 1, 1)
            }
        }, {
            key: "_render", value: function () {
                var e = this;
                this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                for (var t, n, i = this.array, o = i.length, r = null, s = 0, c = 0, l = 0, p = 1, u = 1, d = 0; d < o; d++) if (r = i[d], r.count++ > r.delay) {
                    if (this.canvas.ctx.fillStyle = r.fillStyle, s = r.currTime, c = r.duration, l = r.interval, 1 !== r.ratioX ? p = r.ratioX + 2 * Math.random() : 1, 1 !== r.ratioY ? u = r.ratioY + 2 * Math.random() : 1, i[o - 1].duration + i[o - 1].interval < .9 * i[o - 1].currTime) return this.canvas = null, cancelAnimationFrame(this.requestId), this.$parEle.find("canvas").remove(), this.$parEle.find(".element-box").css("opacity", "1"), void setTimeout(function () {
                        e.callBackFn()
                    }, 300);
                    s < c + l ? s >= l && (t = a[r.ease]((s - l) * p, r.x0, (r.x1 - r.x0) * p, c), n = a[r.ease]((s - l) * u, r.y0, (r.y1 - r.y0) * u, c), this.canvas.ctx.fillRect(t, n, 1, 1)) : this.canvas.ctx.fillRect(r.x1, r.y1, 1, 1), r.currTime += Math.random() + .5
                }
                this.requestId = requestAnimationFrame(this._render.bind(this))
            }
        }, {
            key: "_animate", value: function (e) {
                var t = this;
                this.startTime + e < (new Date).getTime() ? this.requestId = requestAnimationFrame(this._render.bind(this)) : setTimeout(function () {
                    t._animate(e)
                })
            }
        }, {
            key: "calCanvas", value: function () {
                var e = this.param;
                this.image.imgData = this.canvas.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height), this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this._calculate({
                    duration: e.duration || 0,
                    delay: e.delay || 0,
                    interval: e.interval || 0,
                    ease: e.ease,
                    ratioX: 1,
                    ratioY: 1,
                    cols: Math.ceil(this.canvas.width / this.colNumber) || 100,
                    rows: Math.ceil(this.canvas.height / this.colNumber) || 100
                }), this.image.isLoaded = !0, this.startTime = (new Date).getTime()
            }
        }]), e
    }();
    e.exports = {Particles: s}
}, function (e, t) {
    "use strict";
    var n = {
        0: ["fadeIn"],
        1: ["fadeInLeft", "fadeInDown", "fadeInRight", "fadeInUp"],
        2: ["bounceInLeft", "bounceInDown", "bounceInRight", "bounceInUp"],
        3: ["bounceIn"],
        4: ["zoomIn"],
        5: ["rubberBand"],
        6: ["wobble"],
        7: ["rotateIn"],
        8: ["flip"],
        9: ["swing"],
        10: ["fadeOut"],
        11: ["flipOutY"],
        12: ["rollInRight", "rollInDown", "rollInLeft", "rollInUp"],
        13: ["lightSpeedInRight", "lightSpeedInDown", "lightSpeedInLeft", "lightSpeedInUp"],
        14: ["bounceOut"],
        15: ["rollOutRight", "rollOutDown", "rollOutLeft", "rollOutUp"],
        16: ["lightSpeedOutRight", "lightSpeedOutDown", "lightSpeedOutLeft", "lightSpeedOutUp"],
        17: ["fadeOutRight", "fadeOutDown", "fadeOutLeft", "fadeOutUp"],
        18: ["zoomOut"],
        19: ["bounceOutRight", "bounceOutDown", "bounceOutLeft", "bounceOutUp"],
        20: ["flipInY"],
        21: ["tada"],
        22: ["jello"],
        23: ["flash"],
        24: ["flipInX"],
        25: ["flipOutX"],
        26: ["twisterInDownRight", "twisterInDownDown", "twisterInDownLeft", "twisterInDownUp"],
        27: ["puffIn"],
        28: ["puffOut"],
        29: ["slideDown"],
        30: ["slideUp"],
        31: ["twisterInUpRight", "twisterInUpDown", "twisterInUpLeft", "twisterInUpUp"],
        32: ["hingeRight", "hingeLeft"],
        33: ["opacityFadeInLeft", "opacityFadeInDown", "opacityFadeInRight", "opacityFadeInUp"],
        particles: ["particles"],
        typer: ["typer"]
    }, i = {
        1: ["fadeInLeft", "fadeInDown", "fadeInRight", "fadeInUp"],
        2: ["bounceInLeft", "bounceInDown", "bounceInRight", "bounceInUp"],
        12: ["rollInRight", "rollInDown", "rollInLeft", "rollInUp"],
        13: ["lightSpeedInRight", "lightSpeedInDown", "lightSpeedInLeft", "lightSpeedInUp"],
        15: ["rollOutRight", "rollOutDown", "rollOutLeft", "rollOutUp"],
        16: ["lightSpeedOutRight", "lightSpeedOutDown", "lightSpeedOutLeft", "lightSpeedOutUp"],
        17: ["fadeOutRight", "fadeOutDown", "fadeOutLeft", "fadeOutUp"],
        19: ["bounceOutRight", "bounceOutDown", "bounceOutLeft", "bounceOutUp"],
        26: ["twisterInDownRight", "twisterInDownDown", "twisterInDownLeft", "twisterInDownUp"],
        31: ["twisterInUpRight", "twisterInUpDown", "twisterInUpLeft", "twisterInUpUp"],
        33: ["opacityFadeInLeft", "opacityFadeInDown", "opacityFadeInRight", "opacityFadeInUp"]
    };
    e.exports = {ANIMATION_TYPE: n, ANIMATION_TYPE_WITH_DIR: i}
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e) {
        return e ? e.replace(/<\s*(img|input)[^>]*\/?>/gi, "").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi, "") : e
    }

    function i(e) {
        return !!e && (e = e.replace(/[↵\n\t\s]/g, ""), /<\s*(img|input)[^>]*\/?>/gi.test(e) || /<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(e))
    }

    e.exports = {toGoodStr: n, isBadStr: i}
}, function (e, t) {
    "use strict";
    var n = {
            click: 1,
            shake: 2,
            taphold: 3,
            slide: 4,
            mediaCanplay: 5,
            mediaPlaying: 6,
            mediaEnded: 7,
            animStart: 8,
            animIteration: 9,
            animEnd: 10
        }, i = {show: 1, hide: 2, random: 3, play: 4, link: 5, page: 6, phone: 7, position: 8, anim: 9},
        o = {show: 1, hide: 2, "default": 0};
    e.exports = {RAW_EVENT: n, EQX_EVENT: i, INIT_EVENT: o}
}, function (e, t, n) {
    "use strict";
    var i = n(449), o = n(445), r = n(458), a = n(114), s = n(451), c = n(444), l = n(460), p = n(116);
    e.exports = {comp: i, eqAd: o, event: r, host: a, page: s, pageMode: c, userRole: l, wx: p}
}, function (e, t, n) {
    "use strict";
    var i = n(446).make,
        o = i({1: "普通账号", 2: "企业账号", 21: "企业子账号", 5: "公共账号", 51: "公共子账号", 3: "高级用户", 4: "秀客", 99: "运营人员"});
    e.exports = {USER_ROLE: o}
}, function (e, t, n) {
    "use strict";
    var i = n(462), o = n(492), r = n(828), a = n(829), s = n(866);
    e.exports = {comp: o, page: r, EditPageEffectMap: a, PageEffectMap: s, scene: {EqxScene: i}}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
            function e(e, t) {
                var n = [], i = !0, o = !1, r = void 0;
                try {
                    for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
                } catch (c) {
                    o = !0, r = c
                } finally {
                    try {
                        !i && s["return"] && s["return"]()
                    } finally {
                        if (o) throw r
                    }
                }
                return n
            }

            return function (t, n) {
                if (Array.isArray(t)) return t;
                if (Symbol.iterator in Object(t)) return e(t, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }(), a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(175).mobilecheck, c = n(175).isApp, l = n(447).perfectPage, p = n(463), u = n(788), d = n(790),
        m = n(808), f = n(813), g = n(814), h = n(816), v = n(817), y = n(818), b = n(820), x = n(443).perfectMeta,
        w = n(453).$loadMLink, S = n(821), k = S.diff, T = function () {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                o(this, e), this.sceneJson = t, this.config = Object.assign({
                    toPageIndex: 0,
                    selector: "#nr",
                    mode: "view",
                    disablePageEffect: !1,
                    disableCompEvent: !1,
                    disableSubmit: !1,
                    disableTrigger: !1,
                    disableArrow: !1,
                    disableCommentManager: !1,
                    showProgressBar: !1,
                    disableProgressBar: !1,
                    disableCompAnim: !1,
                    disableReport: !1,
                    disablePageScroll: !1,
                    disablePv: !1,
                    initManagers: !0,
                    disableQiniuZoom: !1,
                    mobileEdit: !1,
                    EqxGravity: {disableGravityMotion: !1},
                    disableSetUlTopAndLeft: !1
                }, n), this.meta = x(this.sceneJson.meta), this.eqxPageList = [], this.eqxPageList.length = 0, this.currentPage = null, this.soundManager = null, this.statManager = null, this.commentManager = null, this.formManager = null, this.pageScroll = null, this.progressBar = null, this.config.initManagers && this.initManagers(), this.nextRenderPageId = -1, this.renderPageCnt = 0, window.devScene = this
            }

            return a(e, [{
                key: "setNextRenderPageId", value: function (e) {
                    this.nextRenderPageId = e
                }
            }, {
                key: "getNextRenderPage", value: function () {
                    function e() {
                        for (var e = 0; e < i; e++) {
                            var t = o.eqxPageList[e];
                            if (t.isXb() && !t.$section) return t
                        }
                    }

                    var t = this;
                    if (this.nextRenderPageId !== -1) {
                        var n = this.eqxPageList.find(function (e) {
                            return e.pageJson.id === t.nextRenderPageId
                        });
                        if (n && !n.$section) return n
                    }
                    var i = this.eqxPageList.length, o = this;
                    if (this.renderPageCnt > 0 && (n = e())) return n;
                    var r = this.eqxPageList.indexOf(this.currentPage);
                    r === -1 && (r = 0);
                    for (var a = 0; a < i; a++) if (n = this.eqxPageList[(a + r) % i], !n.$section) return n
                }
            }, {
                key: "setPageList", value: function (e) {
                    var t;
                    this.sceneJson.list.length = 0, (t = this.sceneJson.list).push.apply(t, i(e)), this.eqxPageList = [], this.eqxPageList.length = e.length
                }
            }, {
                key: "getMetaWx", value: function () {
                    var e = this.meta.property;
                    return {wxCount: e.wxCount, wxClickFarmerCount: e.wxClickFarmerCount}
                }
            }, {
                key: "calMetaWx", value: function () {
                    return this.eqxPageList.reduce(function (e, t) {
                        return e.wxCount += t.getWxCompCount(), e.wxClickFarmerCount += t.getWxClickFarmerCompCount(), e
                    }, {wxCount: 0, wxClickFarmerCount: 0})
                }
            }, {
                key: "syncMetaWx", value: function () {
                    var e = this.calMetaWx();
                    console.log("wxObj", e), this.setProps({property: e})
                }
            }, {
                key: "toJson", value: function () {
                    var e = JSON.parse(JSON.stringify(this.sceneJson));
                    for (var t in e) e.hasOwnProperty(t) && t.startsWith("$") && delete e[t];
                    return e
                }
            }, {
                key: "renderScene", value: function (e) {
                    this.initContainer(e || this.config.selector), this.renderBgm(), s() && "view" == this.config.mode && !c() && 2 == this.meta.isTemplate && this.tempAppUseBtn(), this.initEqxPages(), this.initProgressBar(), this.initPageScroll(), this.updateProgressBar(), this.meta.ext ? ("string" == typeof this.meta.ext && (this.meta.ext = JSON.parse(this.meta.ext)), this.meta.ext.yqc ? this.renderNeedPages() : this.renderPages()) : this.renderPages();
                    var t = this.inputComps, n = this.newTextComps;
                    t && n && t.length && n.length && n.forEach(function (e) {
                        var n = t.find(function (t) {
                            return t.compJson.id === e.compJson.properties["var"].comp
                        });
                        n && (n.variables = n.variables || [], n.variables.push(e))
                    });
                    var i = this.uploadComps, o = this.imageComps;
                    return i && o && i.length && o.length && o.forEach(function (e) {
                        var t = i.find(function (t) {
                            var n = t.compJson.id, i = e.compJson.properties["var"].comp;
                            return n === i
                        });
                        t && (t.variables = t.variables || [], t.variables.push(e))
                    }), Promise.resolve()
                }
            }, {
                key: "tempAppUseBtn", value: function () {
                    var e = this;
                    if (!this.$tempAppUseBtn && window.scene) {
                        var t = '<a  class="temp-app-use">\n                                        <div class="temp-app-use-btn">\n                                            <span class="eqf-pen-f"></span>\n                                        </div>\n                                        <div class="temp-app-use-tip">使用</div>\n                                    </a>',
                            n = window.scene, i = n.isTemplate, o = n.sourceId, r = n.id, a = {sceneId: r};
                        i && (a.isTemplate = i), o && (a.sourceId = o), w().then(function () {
                            var t = {
                                mlink: "https://ax8bgc.mlinks.cc/AK00",
                                button: e.$ele.find(".temp-app-use")[0],
                                autoLaunchApp: !1,
                                autoRedirectToDownloadUrl: !0,
                                downloadWhenUniversalLinkFailed: !1,
                                inapp: !1,
                                params: a
                            };
                            console.log("mlink", t), new Mlink(t)
                        });
                        var s = $(t);
                        this.$ele.append(s)
                    }
                }
            }, {
                key: "updateMeta", value: function (e) {
                    e = x(e);
                    var t = JSON.parse(JSON.stringify(this.meta));
                    delete t.property.wxAuth, Object.assign(this.meta, e);
                    var n = JSON.parse(JSON.stringify(this.meta));
                    delete n.property.wxAuth;
                    var i = k(t, n);
                    console.log(JSON.stringify(i))
                }
            }, {
                key: "setProps", value: function (e) {
                    var t = JSON.parse(JSON.stringify(this.meta)), n = this.meta;
                    Object.keys(e).filter(function (e) {
                        return "property" !== e
                    }).forEach(function (t) {
                        n[t] = e[t]
                    }), e.property && ("string" == typeof e.property && (e.property = JSON.parse(e.property)), Object.keys(e.property).forEach(function (t) {
                        n.property[t] = e.property[t]
                    }));
                    var i = JSON.parse(JSON.stringify(this.meta)), o = k(t, i);
                    console.log(JSON.stringify(o))
                }
            }, {
                key: "getMeta", value: function (e) {
                    return this.meta[e]
                }
            }, {
                key: "getMetaProperty", value: function (e) {
                    return this.meta.property[e]
                }
            }, {
                key: "initContainer", value: function (e) {
                    $(this.$ele).is(e) || (this.$ele = $(e));
                    var t = this.$ele;
                    "static" === t.css("position") && t.css({position: "relative"}), s() && t.css({
                        width: "100%",
                        height: "100%"
                    }), this.width = t.width(), this.height = t.height()
                }
            }, {
                key: "createBgm", value: function (e) {
                    var t = e || this.meta.bgAudio;
                    if (t) return this.bgm = new m(t, this), this.bgm
                }
            }, {
                key: "renderBgm", value: function () {
                    this.bgm || this.createBgm(), this.bgm && this.$ele.append(this.bgm.$bgmBtn)
                }
            }, {
                key: "updateBgm", value: function (e) {
                    return this.meta.bgAudio = e, e ? void(this.bgm ? this.bgm.updateJson(e) : (this.createBgm(e), this.renderBgm())) : void(this.bgm && (this.bgm.hide(), this.bgm.stopPlay(), this.bgm = null))
                }
            }, {
                key: "renderPages", value: function () {
                    var e = this;
                    if (!this.pageScroll || !this.pageScroll.pageFliping) {
                        var t;
                        if (t = this.getNextRenderPage(), !t) return;
                        this.renderPage(t), this.renderPageCnt++, window._tj && 1 === this.renderPageCnt && (window._tj.firstPageShowTime = window._tj.now()), window._tj && this.renderPageCnt === this.eqxPageList.length && (window._tj.renderSceneTime = window._tj.now(), window.uploadTjStat()), t.pageJson.id === this.nextRenderPageId && (this.pageScroll.goToPageById(this.nextRenderPageId), this.setNextRenderPageId(-1))
                    }
                    this.stopRenderPages(), this.renderPagesTimeoutId = setTimeout(function () {
                        e.renderPages()
                    }, 0)
                }
            }, {
                key: "stopRenderPages", value: function () {
                    this.renderPagesTimeoutId && clearTimeout(this.renderPagesTimeoutId)
                }
            }, {
                key: "renderNeedPages", value: function () {
                    var e = this;
                    if (!this.pageScroll || !this.pageScroll.pageFliping) {
                        var t = this.getNeedRenderPages();
                        if (!t) return;
                        t.forEach(function (t) {
                            t && (e.renderPage(t), e.renderPageCnt++, window._tj && 1 === e.renderPageCnt && (window._tj.firstPageShowTime = window._tj.now()), window._tj && e.renderPageCnt === e.eqxPageList.length && (window._tj.renderSceneTime = window._tj.now(), window.uploadTjStat()), t.pageJson.id === e.nextRenderPageId && (e.pageScroll.goToPageById(e.nextRenderPageId), e.setNextRenderPageId(-1)))
                        })
                    }
                }
            }, {
                key: "getNeedRenderPages", value: function () {
                    function e() {
                        for (var e = 0; e < o; e++) {
                            var t = r.eqxPageList[e];
                            if (t.isXb() && !t.$section) return t
                        }
                    }

                    var t = this, n = [];
                    if (this.nextRenderPageId !== -1) {
                        var i = this.eqxPageList.find(function (e) {
                            return e.pageJson.id === t.nextRenderPageId
                        });
                        i && !i.$section && n.push(i)
                    }
                    var o = this.eqxPageList.length, r = this;
                    this.renderPageCnt < 2 && (i = e(), i && !i.$section && n.push(i));
                    var a = this.eqxPageList.indexOf(this.currentPage);
                    a === -1 && (a = 0), i = this.eqxPageList[a], i && !i.$section && n.push(i), 0 == a ? (i = this.eqxPageList[o - 1], i && !i.$section && n.push(i), i = this.eqxPageList[a + 1], i && !i.$section && n.push(i)) : a == o - 1 ? (i = this.eqxPageList[0], i && !i.$section && n.push(i), i = this.eqxPageList[a - 1], i && !i.$section && n.push(i)) : (i = this.eqxPageList[a - 1], i && !i.$section && n.push(i), i = this.eqxPageList[a + 1], i && !i.$section && n.push(i));
                    var s = this.getPageLinkId(this.eqxPageList[a]);
                    return s.length > 0 && s.forEach(function (e) {
                        i = t.eqxPageList.find(function (t) {
                            return t.pageJson.id === e
                        }), n.push(i)
                    }), n
                }
            }, {
                key: "getPageLinkId", value: function (e) {
                    var t = [], n = e.pageJson.properties.triggerGroup, i = e.pageJson.elements;
                    return n && n.length > 0 && n.forEach(function (e) {
                        6 == e.targetState && t.push(+e.targetContent)
                    }), i.forEach(function (e) {
                        2 == e.type && /href="[0-9]+"/.test(e.content) && t.push(parseInt(/[0-9]+/.exec(/href="[0-9]+"/.exec(e.content)[0])[0])), e.properties && e.properties.url && /^[0-9]+$/.test(e.properties.url) && t.push(parseInt(/^[0-9]+$/.exec(e.properties.url)[0]))
                    }), t
                }
            }, {
                key: "initEqxPages", value: function () {
                    var e = this;
                    this.sceneJson.list.forEach(function (t, n) {
                        return e.initEqxPage(n)
                    })
                }
            }, {
                key: "initEqxPage", value: function (e) {
                    var t = this.sceneJson.list[e];
                    if (t) {
                        l(t, this.sceneJson);
                        var n = p.get(t), i = new n(t, this);
                        return this.eqxPageList[e] = i, i
                    }
                    throw new Error("Invalid Page Index: " + e)
                }
            }, {
                key: "renderPage", value: function (e) {
                    var t = this;
                    if ("number" == typeof e) var n = this.eqxPageList[e]; else n = e, e = this.eqxPageList.indexOf(n);
                    if (n) {
                        var i = n.$section;
                        if (i) return;
                        return i = n.create$section(), console.log("[renderPage]", e + 1), "edit" !== this.config.mode && n.addEventListener(), n.isXb() && i.css({display: "inline-block"}), this.$ele && this.$ele.append(i), this.sceneJson.list.length > 1 && n.renderArrow(), window._tj && (window._tj["page" + e] = window._tj.now()), 0 === e && n.arrow && n.arrow.updateCss({bottom: "30px"}), n.addEffect().then(function () {
                            e === t.config.toPageIndex ? (t.currentPage = n, n.active().then(function (t) {
                                n.deactive().show(), window._tj && (window._tj["page" + e + "Effect"] = window._tj.now(), window._tj.firstPageShowTime = window._tj.now())
                            })) : window._tj && (window._tj["page" + e + "Effect"] = window._tj.now())
                        })
                    }
                    return console.error("no eqxPage at index " + e), Promise.reject(new Error("no eqxPage at index " + e))
                }
            }, {
                key: "changePageMode", value: function (e) {
                    this.eqxPageList.forEach(function (t) {
                        t.arrow ? t.arrow.updatePageMode(e) : t.renderArrow(e)
                    })
                }
            }, {
                key: "initProgressBar", value: function () {
                    this.progressBar = new u(this.sceneJson.list.length), this.$ele.append(this.progressBar.$progress)
                }
            }, {
                key: "updateProgressBar", value: function (e) {
                    if (e || (e = this.currentPage), e) t = e.pageJson.num; else var t = this.eqxPageList[0].pageJson.num;
                    var n = this.sceneJson.list.length;
                    if (this.progressBar.update(t, n), this.config.showProgressBar) this.progressBar.show(); else {
                        var i = this.meta.property.slideNumber && !this.config.disableProgressBar;
                        i ? this.progressBar.show() : this.progressBar.hide()
                    }
                }
            }, {
                key: "initPageScroll", value: function () {
                    this.config.disablePageScroll || (this.pageScroll = new d(this))
                }
            }, {
                key: "initManagers", value: function () {
                    this.initSoundManager(), this.initPageEffectManager(), this.initStatManager(), this.config.disableCommentManager || this.initCommentManager(), this.initEventManager(), this.initFormManager()
                }
            }, {
                key: "initSoundManager", value: function () {
                    this.soundManager = new y
                }
            }, {
                key: "initStatManager", value: function () {
                    return this.statManager = new v(this.sceneJson), this.statManager.iterate(), this.statManager
                }
            }, {
                key: "initCommentManager", value: function () {
                    this.commentManager = new g(this.meta.id)
                }
            }, {
                key: "initEventManager", value: function () {
                    this.eventManager = new f
                }
            }, {
                key: "initFormManager", value: function () {
                    this.formManager = new h
                }
            }, {
                key: "initPageEffectManager", value: function () {
                    this.pageEffectManager = new b
                }
            }, {
                key: "replaceEqxPage", value: function (e, t) {
                    var n = this.eqxPageList[e];
                    n.destroy(), this.sceneJson.list.splice(e, 1, JSON.parse(JSON.stringify(t))), this.updatePageNum(), this.eqxPageList[e] = null;
                    var i = this.initEqxPage(e);
                    return this.currentPage && this.currentPage.pageJson.num === e + 1 && (this.currentPage = i), i
                }
            }, {
                key: "updatePageNum", value: function () {
                    this.sceneJson.list.forEach(function (e, t) {
                        e.num = t + 1
                    })
                }
            }, {
                key: "insertPage", value: function (e, t) {
                    var n = this.sceneJson.list;
                    return n.splice(e + 1, 0, t), this.updatePageNum(), this.eqxPageList.splice(e + 1, 0, null), this.initEqxPage(e + 1)
                }
            }, {
                key: "deletePage", value: function (e) {
                    var t = this.sceneJson.list, n = this.eqxPageList[e];
                    return n && n.destroy(), t.splice(e, 1), this.updatePageNum(), this.eqxPageList.splice(e, 1)
                }
            }, {
                key: "destroy", value: function () {
                    this.stopRenderPages(), this.eqxPageList.forEach(function (e) {
                        return e.destroy()
                    }), this.bgm && (this.bgm.destroy(), this.bgm = null)
                }
            }, {
                key: "sortPage", value: function (e, t) {
                    var n = this.sceneJson.list, i = n.length;
                    if (e === t || e < 0 || e > i - 1 || t < 0 || t > i - 1) return console.error("invalid sortPage arguments");
                    if (e > t) {
                        var o = n.splice(e, 1), a = r(o, 1), s = a[0];
                        n.splice(t, 0, s);
                        var c = this.eqxPageList.splice(e, 1), l = r(c, 1);
                        s = l[0], this.eqxPageList.splice(t, 0, s)
                    } else {
                        var p = n.splice(e, 1), u = r(p, 1);
                        s = u[0], n.splice(t, 0, s);
                        var d = this.eqxPageList.splice(e, 1), m = r(d, 1);
                        s = m[0], this.eqxPageList.splice(t, 0, s)
                    }
                    this.updatePageNum()
                }
            }, {
                key: "getEqxPageByIndex", value: function (e) {
                    var t = this.eqxPageList[e];
                    return t || (t = this.initEqxPage(e)), t
                }
            }, {
                key: "isEqxPage", value: function (e) {
                    return this.eqxPageList.some(function (t) {
                        return t === e
                    })
                }
            }, {
                key: "getEqxPageById", value: function (e) {
                    return this.getEqxPageByKeyValue("id", e)
                }
            }, {
                key: "getEqxPageByKeyValue", value: function (e, t) {
                    var n = this.sceneJson.list.findIndex(function (n) {
                        return n[e] === t
                    });
                    if (n > -1) return this.getEqxPageByIndex(n)
                }
            }]), e
        }();
    e.exports = T
}, function (e, t, n) {
    "use strict";
    var i = n(464), o = n(786), r = n(787);
    e.exports = {
        get: function (e) {
            var t = e.properties, n = t.longPage, a = t.xb;
            return a ? r : n ? o : i
        }
    }
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), a = n(449).COMP_TYPE, s = n(449).FORM_COMPS, c = n(449).WX_COMPS, l = n(449).FIX_INDEX_COMPS,
        p = n(449).WX_CLICK_FARMER_COMPS, u = n(450), d = u.perfectComp, m = n(465).randomId, f = n(469), g = n(471),
        h = n(492), v = n(495), y = n(759), b = n(617), x = n(764), w = n(765), S = n(769), k = n(770), T = n(774),
        C = n(775), I = n(777), E = n(773), P = n(778), _ = n(779), q = console.log.bind(console, "[EqxPage]"),
        O = n(249).toInt, A = n(781), j = n(784), L = n(785), F = function () {
            function e(t, n) {
                o(this, e), this.pageJson = t, this.eqxScene = n, this.eqxItemList = [], this.eqxLayerList = [], this.currentLayer = null, this.displayed = !1, this.hasCoverEffect = !1, this.destroyed = !1;
                var i = this.eqxScene.sceneJson, r = i.meta, a = r.pageMode, s = r.property.forbidHandFlip,
                    c = this.eqxScene, l = c.width, p = c.height;
                this.width = l, this.height = p, this.pageMode = a, this.forbidHandFlip = s, this.bgm = this.eqxScene.bgm, this.eqxStatManager = null, this.pv = 0;
                var u = t.properties;
                this.notImageCut = u.oneShot && u.oneShot.isOpen || u.pip && u.pip.used
            }

            return r(e, [{
                key: "switchCurrentLayer", value: function (e) {
                    null !== e && void 0 !== e && (isNaN(parseFloat(e)) ? e instanceof E && (this.currentLayer = e) : this.currentLayer = this.eqxLayerList[e])
                }
            }, {
                key: "getCurrentLayer", value: function () {
                    return this.currentLayer || this.eqxLayerList[this.eqxLayerList.length - 1] || null
                }
            }, {
                key: "hasEqxItem", value: function (e) {
                    return this.eqxLayerList.some(function (t) {
                        return t.eqxItems.includes(e)
                    })
                }
            }, {
                key: "getTopItems", value: function () {
                    var e = [];
                    return this.eqxLayerList.forEach(function (t) {
                        e.push.apply(e, i(t.eqxItems.filter(function (e) {
                            return !e.group
                        })))
                    }), e
                }
            }, {
                key: "initEqxLayers", value: function () {
                    function e() {
                        d.forEach(function (e) {
                            delete e.tag, delete e.visited
                        })
                    }

                    function t() {
                        for (var e = u.slice(), t = 0; t < g.length; t++) {
                            for (var o = [], r = g[t], a = r.thumbnail, s = r.pipButton, c = r.displayed, p = r.compIds, d = r.screenBg, m = r.flash, f = r.area, v = r.name, y = r.hash, b = r.id, x = void 0 === b ? l._generateLayerId() : b, w = 0; w < e.length;) {
                                var S = e[w];
                                p.indexOf(S.id) > -1 ? o.push.apply(o, i(e.splice(w, 1))) : w++
                            }
                            h.push({
                                thumbnail: a,
                                pipButton: s,
                                displayed: c,
                                compIds: p,
                                flash: m,
                                screenBg: d,
                                items: o,
                                area: f,
                                name: v,
                                hash: y,
                                id: x
                            })
                        }
                        n(e, h), h.length || h.push({
                            items: [],
                            json: {compIds: [], id: l._generateLayerId()}
                        }), h.forEach(function (e, t) {
                            e.zIndex = e.zIndex || t + 1
                        })
                    }

                    function n(e, t) {
                        var n = e.findIndex(function (e) {
                            return "16" === e.type
                        });
                        if (n >= 0) var i = e.splice(n, 1);
                        e.length && t.unshift({items: e}), i && t.unshift({items: i, pipButton: 1})
                    }

                    function o() {
                        for (var e = 0; e < h.length; e++) {
                            var t = h[e];
                            a();
                            for (var n = 0; n < d.length; n++) {
                                var i = d[n];
                                i.tag || i.visited || r(i, t)
                            }
                        }
                    }

                    function r(e, t) {
                        e.visited = !0;
                        for (var n = e.compIds, i = t.items.map(function (e) {
                            return e.id
                        }), o = !0, a = 0; a < n.length; a++) {
                            var c = n[a];
                            if (i.indexOf(c) === -1) {
                                if (!/group/.test(c)) {
                                    o = !1;
                                    break
                                }
                                var l = s(c);
                                if (!l || l.visited || !r(l, t)) {
                                    o = !1;
                                    break
                                }
                            }
                        }
                        return o && (e.tag = !0, t.items.push(e)), o
                    }

                    function a() {
                        for (var e = 0; e < d.length; e++) d[e].visited = !1
                    }

                    function s(e) {
                        return d.find(function (t) {
                            return t.id === e
                        })
                    }

                    var c = this, l = this, p = this.pageJson, u = p.elements, d = p.groups;
                    d || (d = []), e();
                    var m = this.pageJson.extend = this.pageJson.extend || {}, f = m.screens, g = void 0 === f ? [] : f,
                        h = [];
                    return t(), o(), e(), h.map(function (e) {
                        return new E(e, c)
                    })
                }
            }, {
                key: "_generateLayerId", value: function () {
                    return "layer:" + m()
                }
            }, {
                key: "addEmptyEqxLayer", value: function (e) {
                    if (!this.$editDiv) return null;
                    if (this.currentLayer.json.screenBg && e) var t = JSON.parse(JSON.stringify(this.currentLayer.json.screenBg)); else t = null;
                    var n = {compIds: [], items: [], id: this._generateLayerId(), screenBg: t}, i = new E(n, this);
                    return 0 === e ? (this.eqxLayerList.unshift(i), this.$editDiv.prepend(i.render()), this.eqxLayerList.forEach(function (e, t) {
                        return e.updateEqxLayerIndex(t + 1)
                    })) : e === this.eqxLayerList.length ? (this.eqxLayerList.push(i), this.$editDiv.append(i.render()), i.updateEqxLayerIndex(this.eqxLayerList.length)) : e ? (this.eqxLayerList.splice(e, 0, i), this.$editDiv.children().eq(e).before(i.render()), this.eqxLayerList.forEach(function (e, t) {
                        return e.updateEqxLayerIndex(t + 1)
                    })) : (this.eqxLayerList.push(i), this.$editDiv.append(i.render()), i.updateEqxLayerIndex(this.eqxLayerList.length)), i
                }
            }, {
                key: "deleteEqxLayer", value: function (e) {
                    var t = this.eqxLayerList;
                    isNaN(parseInt(e)) && (e = t.findIndex(function (t) {
                        return t === e
                    })), e >= 0 && t.length > 1 && (t.splice(e, 1)[0].destroy(), this.switchCurrentLayer(t[t.length - 1]))
                }
            }, {
                key: "getEaxPageTreeStructureFlatted", value: function () {
                    function e(t) {
                        var n = [];
                        return t.eqxItems.forEach(function (t) {
                            n.push(t), t.isGroupItem() && n.push.apply(n, i(e(t)))
                        }), n
                    }

                    function t(e) {
                        e.forEach(function (e) {
                            return e.isGroupItem() && t(e.eqxItems)
                        }), e.sort(function (e, t) {
                            return t.zIndex - e.zIndex
                        })
                    }

                    function n(e) {
                        return e.eqxLayerList.slice().sort(function (e, t) {
                            return t.zIndex - e.zIndex
                        }).map(function (e) {
                            var n = e.getDirectItems();
                            return t(n), {eqxItems: n}
                        })
                    }

                    var o = [];
                    return n(this).forEach(function (t) {
                        return o.push.apply(o, i(e(t)))
                    }), o
                }
            }, {
                key: "openPipEditor", value: function () {
                    var e = this.pageJson, t = e.properties;
                    t.pip = t.pip || {}, t.pip.used = !0, t.pip.playback = !0, t.pip.mode = 1
                }
            }, {
                key: "initQuickFlash", value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = this.pageJson.properties;
                    e && (t.flash = t.flash || {}, t.flash.used = e), t.flash && t.flash.used && (this.flash = new L(t.flash, this))
                }
            }, {
                key: "openOneShot", value: function () {
                    this.oneShot = new _(this), this.oneShot.open()
                }
            }, {
                key: "toJson", value: function () {
                    if (!this.eqxLayerList.length) return this.pageJson;
                    var e = [], t = [], n = [];
                    this.eqxLayerList.sort(function (e, t) {
                        return e.zIndex - t.zIndex
                    }).forEach(function (o) {
                        var r = o.toJson(), a = r.elems, s = r.groups, c = r.thumbnail, l = r.pipButton, p = r.screenBg,
                            u = r.compIds, d = r.flash, m = r.area, f = r.name, g = r.hash, h = r.id;
                        e.push.apply(e, i(a)), t.push.apply(t, i(s)), n.push({
                            thumbnail: c,
                            pipButton: l,
                            compIds: u,
                            screenBg: p,
                            flash: d,
                            area: m,
                            hash: g,
                            name: f,
                            id: h
                        })
                    }), e.forEach(function (e, t) {
                        var n = e.css;
                        n.zIndex = t + 1
                    }), this.eqxBackground && e.push(this.eqxBackground.compJson), this.eqxGravity && e.push(this.eqxGravity.compJson), this.pageJson.elements = e, this.pageJson.groups = t, this.pageJson.extend = this.pageJson.extend || {}, this.pageJson.extend.screens = n;
                    var o = this.pageJson.properties;
                    return o && (o.groupSettings = this.ftManager.toJson()), this.pageJson
                }
            }, {
                key: "toPageJson", value: function (e) {
                    e = Object.assign({transformText: !0, addForms: !0}, e);
                    var t = JSON.parse(JSON.stringify(this.toJson())), n = t.id, i = t.sceneId, o = t.forms = [],
                        r = t.redPacket = {};
                    if (t.elements.forEach(function (e) {
                        var t = e.type + "";
                        if ("EqxRedPacket" === a[t]) {
                            var c = e.properties;
                            r.title = c.title, r.activity = c.activity, r.amount = c.amount, r.begin = c.begin, r.end = c.end, r.count = c.count, r.chance = c.chance
                        }
                        if ("EqxText" === a[t] && e.content && (e.content = e.content.replace(/(^\s*)|(\s*$)/g, "")), s.includes(t)) {
                            var l = {id: e.id, pageId: n, sceneId: i, type: t, fieldType: t, title: e.title, num: e.num};
                            "z" === t && e.choices && e.choices.options && (l.title = e.choices.options[0].label || e.title), /^[rc]/.test(t) && (e.choices && "string" != typeof e.choices && (e.choices = JSON.stringify(e.choices)), l.choices = e.choices), o.push(l)
                        }
                        if (e.trigger) {
                            var p = e.trigger;
                            p.sends && 0 === p.sends.length && delete p.sends, p.receives && 0 == p.receives.length && delete p.receives, p.sends || p.receives || delete e.trigger
                        }
                        "EqxTelephone" !== a[t] && "EqxLink" !== a[t] && "EqxSubmitButton" !== a[t] || e.properties.title && (e.properties.title = e.properties.title.replace(/ /g, "&nbsp;"))
                    }), t.trigger) {
                        var c = t.trigger;
                        c.sends && 0 === c.sends.length && delete c.sends, c.receives && 0 === c.receives.length && delete c.receives, c.sends || c.receives || delete t.trigger
                    }
                    return t
                }
            }, {
                key: "setProps", value: function (e) {
                    var t = this.pageJson.properties;
                    Object.keys(e).forEach(function (n) {
                        t[n] = e[n]
                    })
                }
            }, {
                key: "isXb", value: function () {
                    return !!this.pageJson.properties.xb
                }
            }, {
                key: "isLongPage", value: function () {
                    return "longPage" in this.pageJson.properties
                }
            }, {
                key: "getPageWidth", value: function () {
                    return 320
                }
            }, {
                key: "getPageHeight", value: function () {
                    var e = this.pageJson.properties;
                    return e.longPage || 486
                }
            }, {
                key: "toString", value: function () {
                    return "page-" + this.pageJson.id
                }
            }, {
                key: "initStatManager", value: function () {
                    return this.statManager = new x(this.pageJson.elements), this.statManager.iterate(), this.statManager
                }
            }, {
                key: "updateItemIndex", value: function (e, t) {
                    t.eqxLayer.updateItemIndex(e, t)
                }
            }, {
                key: "updateItemsIndex", value: function (e, t) {
                    var n = t.sort(function (e, t) {
                        return e.getZIndex() - t.getZIndex()
                    });
                    n.forEach(function (t) {
                        t.eqxLayer.updateItemIndex(e, t)
                    })
                }
            }, {
                key: "show", value: function () {
                    if (this.displayed = !0, this.triggerEventAgent && this.triggerEventAgent.addEventListener(), this.$section.addClass("z-current"), window.scene) {
                        var e = window.scene.property.activityPageId;
                        e && !this.pv && (this.pv += 1)
                    }
                    return this.soundAgent && this.soundAgent.start(), this
                }
            }, {
                key: "hide", value: function () {
                    return this.displayed = !1, this.oneShot && this.oneShot.reset && this.oneShot.reset(), this.triggerEventAgent && this.triggerEventAgent.removeEventListener(), this.eqxCompList.forEach(function (e) {
                        e.$li && e.eleHide()
                    }), this.effect && this.effect.stopEffect && this.effect.stopEffect(), this.$section && this.$section.removeClass("z-current"), this.soundAgent && this.soundAgent.pause(), this
                }
            }, {
                key: "showElements", value: function () {
                    var e = this;
                    this.getEqxComps().forEach(function (t) {
                        var n = t.compJson.css.top;
                        t.compJson.properties.anim && t.compJson.properties.anim[0] && 30 === t.compJson.properties.anim[0].type && (n -= t.compJson.css.height), 2 === t.compJson.properties.initType ? t.eleHide() : t.compJson.properties.anim && t.compJson.properties.anim[0] && (2 === t.compJson.properties.anim[0].type || 19 === t.compJson.properties.anim[0].type) ? t.eleShow() : n && parseFloat(n) <= e.height ? t.eleShow() : n || t.eleShow()
                    }), this.eqxBackground && this.eqxBackground.eleShow()
                }
            }, {
                key: "active", value: function () {
                    function e(e) {
                        e.hasCoverEffect ? (e.bgm && e.bgm.hide(), e.eqxScene.progressBar && e.eqxScene.progressBar.hide()) : e.showElements(), e.effect && e.effect.startEffect && e.effect.startEffect(), e.$section.addClass("z-active"), e.flash && e.flash.play(), e.oneShot && e.oneShot.play()
                    }

                    function t(e) {
                        var t = [], n = e.eqxCompList;
                        return n.forEach(function (e) {
                            e.anim && !Array.isArray(e.anim) && (e.anim = [e.anim]), (e.anim || []).forEach(function (e) {
                                e.sound && e.soundAgent && t.push(e.soundAgent.audio)
                            })
                        }), t
                    }

                    var n = this, i = new Promise(function (i, o) {
                        var r = t(n), a = r.length;
                        r && r.length ? r.forEach(function (t) {
                            4 === t.readyState ? 0 === --a && (e(n), i()) : (t.load(), $(t).on("canplay", function () {
                                0 === --a && (e(n), i())
                            }).on("error", function () {
                                0 === --a && (e(n), i())
                            }))
                        }) : (e(n), i())
                    });
                    return i
                }
            }, {
                key: "deactive", value: function () {
                    if (this.$section) return this.$section.removeClass("z-active"), this
                }
            }, {
                key: "destroy", value: function () {
                    this.hide(), this.eqxLayerList.forEach(function (e) {
                        e.destroy()
                    }), this.$ul && (this.$ul.remove(), this.$ul = null), this.$editDiv && (this.$editDiv.remove(), this.$editDiv = null), this.$pageDiv && (this.$pageDiv.remove(), this.$pageDiv = null), this.$section && (this.$section.remove(), this.$section = null), this.destroyed = !0, this.soundAgent && this.soundAgent.destroy(), this._ftManager = null, this._groupManager = null, this._triggerManager = null
                }
            }, {
                key: "create$section", value: function () {
                    function e() {
                        I.eqxLayerList.some(function (e) {
                            return e.hasGroupsInLayer()
                        }) && I.addGroupManager()
                    }

                    function t() {
                        I.trigger = new C(I, y)
                    }

                    function n() {
                        I.initQuickFlash()
                    }

                    function i() {
                        S.isOpen && (I.oneShot = new _(I))
                    }

                    function o() {
                        var e = g.find(function (e) {
                            return "EqxGravity" === a[e.type]
                        });
                        e && (I.eqxGravity = I.initEqxGravityByJson(e), I.renderGravity(I.eqxGravity))
                    }

                    function r() {
                        (T.used || S.isOpen || "edit" === v) && (I.eqxLayerList = I.initEqxLayers(), I.$editDiv.append(I.eqxLayerList.map(function (e) {
                            return e.render()
                        })), I.switchCurrentLayer(I.eqxLayerList.length - 1))
                    }

                    function s() {
                        x.used && "view" === v && I.$editDiv.append(new P({}, I).render())
                    }

                    function c() {
                        if (!T.used && !S.isOpen && !x.used && "view" === v) {
                            var e = g.slice().map(function (e) {
                                return e.name = I.getCompName(e), e
                            }).filter(function (e) {
                                var t = e.type;
                                return "EqxBackground" !== a[t] && "EqxGravity" !== a[t]
                            }).sort(function (e, t) {
                                var n = e.css.zIndex, i = t.css.zIndex;
                                return n - i
                            }).map(function (e, t) {
                                return e.num = t + 1, e.css.zIndex = t + 1, e
                            }), t = {
                                id: I._generateLayerId(), items: e, compIds: e.map(function (e) {
                                    return e.id
                                }), zIndex: 1
                            };
                            I.eqxLayerList = [new E(t, I)], I.$editDiv.append(I.eqxLayerList.map(function (e) {
                                return e.render()
                            })), I.switchCurrentLayer(I.eqxLayerList.length - 1)
                        }
                    }

                    function l() {
                        if (g.length) {
                            var e = [], t = [];
                            if (g.forEach(function (n) {
                                "EqxBackground" === a[n.type] ? t.push(n) : e.push(n)
                            }), t.length) {
                                var n = I.initEqxBgByJson(t[t.length - 1]);
                                I.renderBg(n)
                            }
                            g.length = 0, g.push.apply(g, e)
                        }
                    }

                    var p = this.pageJson, u = p.num, d = p.id, m = p.properties, g = p.elements, h = this.eqxScene.config,
                        v = h.mode, y = h.disableTrigger, b = m.pip, x = void 0 === b ? {} : b, w = m.oneShot,
                        S = void 0 === w ? {} : w, k = m.flash, T = void 0 === k ? {} : k, I = this;
                    return this.$section = $(f.section()), this.section = this.$section[0], this.$pageDiv = $(f.pageDiv(u)), this.$editDiv = $(f.editDiv(d)), this.$pageDiv.append(this.$editDiv), this.$section.append(this.$pageDiv), l(), s(), r(), c(), o(), i(), n(), t(), e(), this.$section
                }
            }, {
                key: "addEventListener", value: function () {
                    this.addPageSoundAgent()
                }
            }, {
                key: "addPageSoundAgent", value: function () {
                    this.soundAgent = new I(this, this.eqxScene.soundManager)
                }
            }, {
                key: "renderGravity", value: function (e) {
                    e.$gravity ? console.error("gravity already rendered") : this.$editDiv.prepend(e.create$gravity())
                }
            }, {
                key: "addGravityJson", value: function (e) {
                    return this.deleteGravity(), this.addCompJson(e)
                }
            }, {
                key: "deleteGravity", value: function () {
                    var e = this;
                    if (this.eqxGravity) {
                        var t = this.pageJson.elements.findIndex(function (t) {
                            return t.id === e.eqxGravity.compJson.id
                        });
                        t > -1 && this.pageJson.elements.splice(t, 1), this.eqxGravity.delete$gravity(), this.eqxGravity = null
                    }
                }
            }, {
                key: "renderBg", value: function (e) {
                    e.$bg ? console.error("background already rendered") : e.create$bg(this.$editDiv, this.width, this.height)
                }
            }, {
                key: "addBgJson", value: function (e) {
                    return this.deleteBg(), this.addCompJson(e)
                }
            }, {
                key: "deleteBg", value: function () {
                    var e = this;
                    if (this.eqxBackground) {
                        var t = this.pageJson.elements.findIndex(function (t) {
                            return t.id === e.eqxBackground.compJson.id
                        });
                        t > -1 && this.pageJson.elements.splice(t, 1), this.eqxBackground.delete$bg(), this.eqxBackground = null
                    }
                }
            }, {
                key: "reEffectJson", value: function (e) {
                    this.pageJson.properties.effect = e
                }
            }, {
                key: "addTriggerManager", value: function () {
                    return this._triggerManager = new j(this), this._triggerManager
                }
            }, {
                key: "addGroupManager", value: function () {
                    return this._groupManager = new k(this), this._groupManager
                }
            }, {
                key: "addFtManager", value: function () {
                    return this._ftManager = new A(this), this._ftManager
                }
            }, {
                key: "addScreenManager", value: function () {
                    return this.screenManager = new T(this), this.screenManager
                }
            }, {
                key: "addEffect", value: function () {
                    var e = this, t = this.pageJson, n = t.num, i = t.properties.effect, o = this.eqxScene.config;
                    return new Promise(function (t, r) {
                        if (!i || o.disablePageEffect || "gravity" === i.name) t(); else {
                            var a = e, s = function () {
                                if (a.hasCoverEffect = !0, 1 === n) {
                                    var e = a.eqxScene.progressBar;
                                    e.hide(), a.bgm && (a.bgm.hide(), a.bgm.stopPlay())
                                }
                            }, c = function () {
                                a.hasCoverEffect = !1;
                                var e = a.eqxScene.progressBar;
                                e && e.show(), a.bgm && a.bgm.show(), 1 === n && a.bgm && a.bgm.resumePlay(), a.showElements()
                            }, l = i.name, p = e;
                            g.load(l).then(function (e) {
                                p.effect = new e(i, p.$pageDiv, p.width, p.height, s, c), p.eqxScene.pageEffectManager.add(p.effect), p.effect.init(), t()
                            })["catch"](function () {
                                r()
                            })
                        }
                    })
                }
            }, {
                key: "renderArrow", value: function (e) {
                    var t = this.eqxScene.config;
                    e || (e = this.pageMode), this.forbidHandFlip || t.disableArrow || (this.arrow = new y(e), this.$section.append(this.arrow.$arrow))
                }
            }, {
                key: "alignItem", value: function (e, t) {
                    var n = e.getBoundingRect(), i = function (e) {
                        return e.isGroupItem() ? function (t, n) {
                            var i = e.getAllSubEqxComps();
                            i.forEach(function (e) {
                                e.instantMove(t, n, !1)
                            }), e.autoSize()
                        } : function (t, n) {
                            e.instantMove(t, n, !1)
                        }
                    }(e);
                    switch (t) {
                        case"左对齐":
                            var o = -n.left;
                            i(o, 0);
                            break;
                        case"右对齐":
                            var r = 320 - n.left - n.width;
                            i(r, 0);
                            break;
                        case"上对齐":
                            var a = -n.top;
                            i(0, a);
                            break;
                        case"下对齐":
                            var s = this.getPageHeight(), c = s - n.top - n.height;
                            i(0, c);
                            break;
                        case"水平居中对齐":
                            var l = n.left, p = l + n.width / 2, u = parseInt(160 - p);
                            i(u, 0);
                            break;
                        case"垂直居中对齐":
                            var d = this.getPageHeight(), m = n.top, f = m + n.height / 2, g = parseInt(d / 2 - f);
                            i(0, g);
                            break;
                        default:
                            throw new Error("对齐元素位置类型" + t)
                    }
                    q("alignItem", t, n.toString(), "-->", e.getBoundingRect().toString(), e.id)
                }
            }, {
                key: "initEqxBgByJson", value: function (e) {
                    return this.eqxBackground = new b(e, this), this.eqxBackground
                }
            }, {
                key: "initEqxGravityByJson", value: function (e) {
                    return this.eqxGravity = new w(e, this), this.eqxGravity
                }
            }, {
                key: "alignItems", value: function (e, t) {
                    if (0 !== e.length) {
                        if (1 === e.length) return this.alignItem(e[0], t);
                        var n = this.groupManager || this.addGroupManager();
                        e = n.filterNestedItems(e);
                        var i = n.traceTopItemsContain(e), o = i.map(function (e) {
                            return e.getBoundingRect()
                        }).join("\n"), r = i.filter(function (e) {
                            return e.isGroupItem()
                        }), a = e.length;
                        if (!(a < 1)) {
                            for (var s = Number.POSITIVE_INFINITY, c = Number.NEGATIVE_INFINITY, l = Number.POSITIVE_INFINITY, p = Number.NEGATIVE_INFINITY, u = 0; u < a; u++) {
                                var d = e[u], m = d.getBoundingRect(), f = m.center();
                                d.$rect = m, d.$center = f, m.p1.x < s && (s = m.p1.x), m.p1.y < l && (l = m.p1.y), m.p2.x > c && (c = m.p2.x), m.p2.y > p && (p = m.p2.y)
                            }
                            var g = O((s + c) / 2), h = O((l + p) / 2);
                            switch (t) {
                                case"左对齐":
                                    e.forEach(function (e) {
                                        var t = e.$rect, n = s - t.left;
                                        e.instantMove(n, 0, !1)
                                    });
                                    break;
                                case"右对齐":
                                    e.forEach(function (e) {
                                        var t = e.$rect, n = c - t.left - t.width;
                                        e.instantMove(n, 0, !1)
                                    });
                                    break;
                                case"上对齐":
                                    e.forEach(function (e) {
                                        var t = e.$rect, n = l - t.top;
                                        e.instantMove(0, n, !1)
                                    });
                                    break;
                                case"下对齐":
                                    e.forEach(function (e) {
                                        var t = e.$rect, n = p - t.top - t.height;
                                        e.instantMove(0, n, !1)
                                    });
                                    break;
                                case"水平居中对齐":
                                    e.forEach(function (e) {
                                        var t = e.$center, n = g - t.x;
                                        e.instantMove(n, 0, !1)
                                    });
                                    break;
                                case"垂直居中对齐":
                                    e.forEach(function (e) {
                                        var t = e.$center, n = h - t.y;
                                        e.instantMove(0, n, !1)
                                    });
                                    break;
                                case"水平均分":
                                    if (a < 2) return;
                                    var v = e.map(function (e) {
                                        return e
                                    }).sort(function (e, t) {
                                        return e.$center.x - t.$center.x
                                    });
                                    s = v[0].$center.x, c = v[a - 1].$center.x;
                                    var y = (c - s) / (a - 1);
                                    v.forEach(function (e, t) {
                                        var n = s + y * t - e.$center.x;
                                        e.instantMove(n, 0, !1)
                                    });
                                    break;
                                case"竖直均分":
                                    if (a < 2) return;
                                    v = e.map(function (e) {
                                        return e
                                    }).sort(function (e, t) {
                                        return e.$center.y - t.$center.y
                                    }), l = v[0].$center.y, p = v[a - 1].$center.y, y = (p - l) / (a - 1), v.forEach(function (e, t) {
                                        var n = l + y * t - e.$center.y;
                                        e.instantMove(0, n, !1)
                                    });
                                    break;
                                default:
                                    throw new Error("对齐元素位置类型" + t)
                            }
                            r.forEach(function (e) {
                                e.autoSize()
                            });
                            var b = i.map(function (e) {
                                return e.getBoundingRect()
                            }).join("\n");
                            q("alignItems\n", o, "\n-->\n", b)
                        }
                    }
                }
            }, {
                key: "updateEqxComp", value: function (e, t) {
                    t = JSON.parse(JSON.stringify(t)), d(t, this.eqxScene.sceneJson, this.pageJson);
                    var n = this.getEqxCompById(e);
                    if (n) return delete t.id, delete t.num, delete t.pageId, delete t.sceneId, delete t.type, Object.assign(n.compJson, t), n
                }
            }, {
                key: "isFunTemplate", value: function () {
                    var e = this.pageJson.properties, t = e.pip, n = e.oneShot;
                    if (t || n) return this.ftManager.ftRules.length
                }
            }, {
                key: "isSpecialPage", value: function () {
                    var e = this.pageJson.properties, t = e.pip, n = e.oneShot;
                    return t || n
                }
            }, {
                key: "getEqxCompByCoord", value: function (e, t) {
                    for (var n = this.eqxLayerList.length, o = [], r = n - 1; r >= 0; r--) {
                        var a = this.eqxLayerList[r];
                        if (a.allowOperate) {
                            var s = a.eqxItems.filter(function (e) {
                                return !e.isGroupItem()
                            }).sort(function (e, t) {
                                return t.css.zIndex - e.css.zIndex
                            });
                            o.push.apply(o, i(s))
                        }
                    }
                    for (var c = 0; c < o.length; c++) if (o[c].containsPoint(e, t)) return o[c]
                }
            }, {
                key: "getWxCompCount", value: function () {
                    return this.pageJson.elements.reduce(function (e, t) {
                        return c.includes(t.type + "") && (e += 1), e
                    }, 0)
                }
            }, {
                key: "getWxClickFarmerCompCount", value: function () {
                    return this.pageJson.elements.reduce(function (e, t) {
                        var n = t.type + "";
                        return p.includes(n) && t.properties.clickFarmer && (e += 1), e
                    }, 0)
                }
            }, {
                key: "getCompName", value: function (e) {
                    if (e.name) return e.name;
                    var t = S.find(function (t) {
                        return t.types.includes(e.type + "")
                    });
                    if (!t) return null;
                    var n = t.types, i = this.getEqxComps().map(function (e) {
                        return e.compJson
                    }).filter(function (e) {
                        return n.includes(e.type + "")
                    }), o = 0;
                    return i.forEach(function (e) {
                        if (e.name) {
                            var n = new RegExp(t.name + "(\\d+)"), i = parseInt((n.exec(e.name) || [])[1]);
                            i && i > o && (o = i)
                        }
                    }), t.name + (o + 1)
                }
            }, {
                key: "getOperableLayers", value: function () {
                    return this.eqxLayerList.filter(function (e) {
                        return e.allowOperate
                    })
                }
            }, {
                key: "getEqxItems", value: function () {
                    var e;
                    return (e = []).concat.apply(e, i(this.eqxLayerList.map(function (e) {
                        return e.eqxItems
                    })))
                }
            }, {
                key: "getDirectEqxItems", value: function () {
                    var e;
                    return (e = []).concat.apply(e, i(this.eqxLayerList.map(function (e) {
                        return e.getDirectItems()
                    })))
                }
            }, {
                key: "getEqxItem", value: function (e) {
                    return e && this.getEqxItems().find(function (t) {
                        return "" + t.id == "" + e
                    })
                }
            }, {
                key: "getEqxCompById", value: function (e) {
                    return this.getEqxItem(e)
                }
            }, {
                key: "getEqxComps", value: function () {
                    var e = [];
                    return this.eqxLayerList.forEach(function (t) {
                        e.push.apply(e, i(t.getEqxComps()))
                    }), e
                }
            }, {
                key: "getZIndex", value: function (e) {
                    return e.compJson.css.zIndex
                }
            }, {
                key: "initEqxCompById", value: function (e) {
                    var t = this.pageJson.elements.find(function (t) {
                        return t.id == e
                    });
                    return this.initEqxCompByJson(t)
                }
            }, {
                key: "deleteEqxComp", value: function (e) {
                    this.deleteEqxItem(e)
                }
            }, {
                key: "deleteEqxItem", value: function (e) {
                    if (e) {
                        var t = e.eqxLayer;
                        t.deleteEqxItem(e), e.isGroupItem() || this.deleteTrigger(e)
                    }
                }
            }, {
                key: "deleteTrigger", value: function (e) {
                    var t = e.compJson.id, n = this.pageJson.properties;
                    n.triggerGroup && (n.triggerGroup = n.triggerGroup.filter(function (e) {
                        return e.sourceId.toString() != -t.toString() && e.targetId.toString() !== t.toString()
                    }))
                }
            }, {
                key: "renderEqxComp", value: function (e, t) {
                    e && this.getCurrentLayer().renderEqxItem(e, t)
                }
            }, {
                key: "initEqxCompByJson", value: function (e, t) {
                    if (e) {
                        this.getCompJsonById(e.id) || (e = this.addCompJson(e, t));
                        var n = this.getEqxItem(e.id), i = h[e.type];
                        if (n) return console.error("already init", e, n), null;
                        if (!(i && i.prototype instanceof v)) return console.error("In Valid Type: " + e.type + " @Page" + this.pageJson.id, e), null;
                        var o = this.getCurrentLayer(), r = new i(e, o);
                        return o.initEqxItem(r), r
                    }
                }
            }, {
                key: "getCompJsonById", value: function (e) {
                    if (e) {
                        var t = this.getEqxItem(e);
                        return t ? t.compJson : void 0
                    }
                }
            }, {
                key: "addCompJson", value: function (e, t) {
                    var n = JSON.parse(JSON.stringify(e));
                    return this.addPageInfo(n, t), d(n, this.eqxScene.sceneJson, this.pageJson), n
                }
            }, {
                key: "addPageInfo", value: function (e, t) {
                    var n = this.pageJson, o = 0;
                    return l.indexOf("" + e.type) === -1 && (o = Math.max.apply(Math, [0].concat(i(this.getEqxItems().map(function (e) {
                        return e.zIndex
                    })))), e.css.zIndex = e.css.zIndex || o + 1), e.id || (e.id = m()), Object.assign(e, {
                        id: e.id,
                        pageId: n.id,
                        sceneId: n.sceneId,
                        num: o + 1
                    }), e.fromSource && "psd" === e.fromSource ? (delete e.fromSource, e) : (t || (delete e.name, e.name = this.getCompName(e)), e)
                }
            }, {
                key: "getLayer0ItemIds", value: function () {
                    function e(e) {
                        for (var t = 0; t < n.length; t++) for (var i = n[o].compIds, r = 0; r < i; r++) if (i[r] === e) return !1;
                        return !0
                    }

                    for (var t = this.pageJson.elements, n = this.pageJson["extends"].screens, i = [], o = 0; o < t.length; o++) {
                        var r = t[o].id;
                        e(r) && i.push(r)
                    }
                    return i
                }
            }, {
                key: "getEqxLayerById", value: function () {
                }
            }, {
                key: "newEqxLayer", value: function () {
                }
            }, {
                key: "mergeEqxLayers", value: function () {
                }
            }, {
                key: "centerUI", value: function () {
                }
            }, {
                key: "initTrigger", value: function () {
                }
            }, {
                key: "addPageGroup", value: function (e) {
                    this.pageJson.groups = this.pageJson.groups || [], e.type && this.pageJson.groups.push(e)
                }
            }, {
                key: "getPageGroups", value: function () {
                    return this.pageJson.groups || []
                }
            }, {
                key: "getPageGroupSettings", value: function () {
                    var e = this.pageJson.properties;
                    return e.groupSettings = e.groupSettings || [], e.groupSettings
                }
            }, {
                key: "renderEqxCompById", value: function (e) {
                    return this.renderEqxComp(this.getEqxCompById(e))
                }
            }, {
                key: "setIframeUlTopAndLeft", value: function () {
                    var e, t = (this.width - 320) / 2, n = (this.height - 486) / 2;
                    return e = this.width / this.height <= 320 / 486 ? "scale(" + this.width / 320 + ")" : "scale(" + this.height / 486 + ")", this.$ul.css({
                        marginTop: n,
                        marginLeft: t,
                        transform: e
                    }), {marginLeft: t, marginTop: n}
                }
            }, {
                key: "resetZIndex", value: function (e) {
                    for (var t = e.length, n = t - 1; n >= 0; n--) {
                        var i = e[n];
                        i.compJson.css.zIndex = t - n, i.update$li({zIndex: i.compJson.css.zIndex})
                    }
                }
            }, {
                key: "id", get: function () {
                    return this.pageJson.id
                }
            }, {
                key: "triggerManager", get: function () {
                    return this._triggerManager || this.addTriggerManager()
                }
            }, {
                key: "groupManager", get: function () {
                    return this._groupManager || this.addGroupManager()
                }
            }, {
                key: "ftManager", get: function () {
                    return this._ftManager || this.addFtManager()
                }
            }, {
                key: "eqxCompList", get: function () {
                    return this.getEqxComps()
                }
            }]), e
        }();
    e.exports = F
}, function (e, t, n) {
    "use strict";

    function i() {
        return /max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(window.location.host)
    }

    function o() {
        return (/\/(\w+)$/.exec(window.location.pathname) || [])[1]
    }

    function r() {
        function e(e) {
            return w(e), e
        }

        var t = new Promise(function (t, n) {
            var r = window.scene;
            if (r) t(e(r)); else if (window.__isServerRendered && !window.scene && n("场景数据异常"), i()) {
                var a = o();
                window.__isMax = !0, v({
                    type: "GET",
                    url: f.SERVER_MAX + "m/new/check/model/code?objectId=" + a + "&JSESSIONID=ff4ff6599aa04597861955583c300a5d"
                }).then(function (i) {
                    if (i && i.data) {
                        var o = i.data, r = window.scene = o.scene, a = o.pages.map(function (e) {
                            return {elements: e}
                        });
                        window.viewData = {list: a}, t(e(r))
                    } else n("无审核场景数据")
                })["catch"](function () {
                    n("无审核场景数据")
                })
            } else h({type: "GET", url: f.SERVER_1 + "eqs/sc?code=" + p()}).then(function (i) {
                i.obj ? t(e(i.obj)) : n("无场景数据")
            })["catch"](function () {
                n("无场景数据")
            })
        });
        return t.then(function (t) {
            return !t || !t.property.isHidden || y.getUrlParam("qz_gdt") || y.getUrlParam("wx_traceid") || y.getUrlParam("gdt_vid") ? Promise.resolve(t) : h({
                type: "GET",
                url: f.SERVER_1 + "eqs/geterrorpage"
            }).then(function (t) {
                return t.obj ? e(t.obj) : "无场景数据"
            })["catch"](function () {
                return "无场景数据"
            })
        })
    }

    function a(e) {
        if (window.viewData) return Promise.resolve(window.viewData);
        var t = b("userKey"), n = b("compKey"), i = {type: "GET", url: l()}, o = {type: "GET", url: c()};
        e && (i.data = {password: e});
        var r = null, a = Promise.resolve(null);
        return (t || n) && (a = v(o).then(function (e) {
            r = e.map
        })), a.then(function () {
            return v(i)
        }).then(function (e) {
            return r && (e.map = r), e
        })
    }

    function s() {
        var e = b("userKey"), t = b("cache"), n = f.SERVER_1, i = S(window.scene);
        return (i || k()) && (n = f.SERVER_2), (e || t) && (n = f.SERVER_1), n
    }

    function c() {
        var e = window.scene || {}, t = e.id, n = e.code;
        if (!t) throw new Error("Not Valid Scene! No Id!");
        if (!n) throw new Error("Not Valid Scene! No Code!");
        var i = b("userKey"), o = b("compKey"), r = s(), a = r + "eqs/s/scene/component/data?id=" + t + "&code=" + n,
            c = x(a);
        return i && c.searchParams.set("userKey", i), o && c.searchParams.set("compKey", o), a = c.href
    }

    function l() {
        var e = window.scene || {}, t = e.id, n = e.code, i = e.publishTime;
        if (!t) throw new Error("Not Valid Scene! No Id!");
        if (!n) throw new Error("Not Valid Scene! No Code!");
        var o = s(), r = o + "eqs/page/" + t + "?code=" + n, a = x(r);
        return a.searchParams.set("time", i), r = a.href
    }

    function p() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;
        if (window.scene) return window.scene.code;
        e = x(e);
        var t = e.pathname, n = t.lastIndexOf("/");
        if (n > -1) var i = t.substr(n + 1);
        if (i || (i = b("codeTestMobile")), !i) throw new Error("No Valid Scene Code!");
        return i.length > 10 && console.error("URL Code 大于 10 位, 请检查 Code"), i
    }

    function u(e) {
        return v({type: "GET", url: f.SERVER_1 + "eqs/s/recommend/scene/preview?domain=" + e})
    }

    function d() {
        return v({type: "GET", url: f.SERVER_2 + "eqs/banners?pageCode=pc_view_bottom_ad"})
    }

    function m() {
        return Math.ceil(1e10 * Math.random())
    }

    var f = n(114), g = n(166), h = g.ajax, v = g.$ajax, y = n(176), b = y.getUrlParam, x = y.parseUrl,
        w = n(443).perfectMeta, S = n(466).isVipScene, k = n(466).isTgScene;
    e.exports = {$getSceneMetaData: r, $getSceneData: a, $getRecommendScenes: u, $getPCAdvertisement: d, randomId: m}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.code, n = window.location.href, i = window.location.host,
            r = (u.EQX_FAN_DOMAIN, u.EQX_AD_DOMAIN, u.EQX_VIP_DOMAIN);
        u.EQX_COMPANY_DOMAIN;
        try {
            return o(i) ? (console.info("第三方域名"), n) : a(i) ? (console.info("MAX 域名"), n) : s(e) ? (console.info("流量域名"), n) : c(e) ? (console.info("CDN 加速"), f(r + "/s/" + t)) : l(e) ? (console.info("企业账号"), n) : (console.info("普通泛域名"), n)
        } catch (p) {
            return console.error(p), n
        }
    }

    function o() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : location.host;
        return !r(e)
    }

    function r() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : location.host;
        return ["eqshow.cn", "yqxiu.cn", "eqxiu.cc", "eqxiu.com", "eqxiu.cn", "eqh5.cn", "yqh5.cn", "yqh5.com", "eqxiu.tv", "eqxiu.mobi", "divh5.com", "divh5.cn", "divh5.com.cn", "divh5.net", "meih5.com", "meih5.cn", "meih5.net"].some(function (t) {
            return e.endsWith("." + t)
        }) || /localhost/.test(e)
    }

    function a(e) {
        return r(e) && /^max\./.test(e)
    }

    function s(e) {
        var t = e.ext || {};
        return t.yqc && t.yqc.ad
    }

    function c(e) {
        var t = u.EQX_VIP_DOMAIN;
        return 1 == e.staticStatus && location.host.includes(t)
    }

    function l(e) {
        var t = e.userType, n = e.memberType, i = e.expiryTime;
        return (t == m["企业账号"] || t == m["企业子账号"]) && n && i && d(i)
    }

    function p() {
        return location.host.includes(u.EQX_TG)
    }

    var u = n(114), d = n(467).isNotExpired, m = (n(468).hashCode, n(460).USER_ROLE), f = n(176).addProtocol;
    e.exports = {getShareUrl: i, isEqxAdScene: s, isVipScene: c, isEqxHost: r, isThirdPartyHost: o, isTgScene: p}
}, function (module, exports) {
    "use strict";

    function dateFormat(x, y) {
        var z = {M: x.getMonth() + 1, d: x.getDate(), h: x.getHours(), m: x.getMinutes(), s: x.getSeconds()};
        return y = y.replace(/(M+|d+|h+|m+|s+)/g, function (v) {
            return ((v.length > 1 ? "0" : "") + eval("z." + v.slice(-1))).slice(-2)
        }), y.replace(/(y+)/g, function (e) {
            return x.getFullYear().toString().slice(-e.length)
        })
    }

    function isNotExpired(e) {
        return new Date(e).getTime() > Date.now()
    }

    function isExpired(e) {
        return new Date(e).getTime() < Date.now()
    }

    module.exports = {dateFormat: dateFormat, isExpired: isExpired, isNotExpired: isNotExpired}
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = 0;
        if (0 === e.length) return t;
        for (var n = 0; n < e.length; n++) {
            var i = e.charCodeAt(n);
            t = (t << 5) - t + i, t &= t
        }
        return Math.abs(t)
    }

    function i(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10;
        /\$\{([^}]*)}/.test(e) && console.error("DO NOT USE ${}", e);
        for (var i = e; n && /#\{([^}]*)}/.test(i);) i = i.replace(/#\{([^}]*)}/g, function (e, n) {
            var i = t[n];
            return void 0 !== i ? i : e
        }), n--;
        return i
    }

    e.exports = {hashCode: n, parse: i}
}, function (e, t, n) {
    "use strict";

    function i() {
        return '<section class="main-page"></section>'
    }

    function o(e) {
        return '<div class="m-img" id="page' + e + '"></div>'
    }

    function r(e) {
        return '<div class="edit_wrapper" data-scene-id="' + e + '" style="position: relative; z-index: 1"></div>'
    }

    function a(e) {
        return '<ul id="edit_area' + e + '" class="edit_area weebly-content-area weebly-area-active"></ul>'
    }

    n(470), e.exports = {section: i, pageDiv: o, editDiv: r, ul: a}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = {
        load: function (e) {
            return new Promise(function (t, i) {
                switch (e) {
                    case"finger":
                        !function () {
                            return t(n(472))
                        }(n);
                        break;
                    case"money":
                        !function () {
                            return t(n(476))
                        }(n);
                        break;
                    case"scratch":
                        !function () {
                            return t(n(480))
                        }(n);
                        break;
                    case"snowFly":
                        !function () {
                            return t(n(482))
                        }(n);
                        break;
                    case"fallingObject":
                        !function () {
                            return t(n(484))
                        }(n);
                        break;
                    case"fireWorks":
                        !function () {
                            return t(n(485))
                        }(n);
                        break;
                    case"gradient":
                        !function () {
                            return t(n(486))
                        }(n);
                        break;
                    case"glassBreak":
                        !function () {
                            return t(n(488))
                        }(n);
                        break;
                    default:
                        var o = "Invalid Effect name: " + e;
                        console.error(o), i(o)
                }
            })
        }
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = "ontouchstart" in window, c = s ? "touchstart" : "mousedown", l = n(473), p = n(165).qiniuZoom,
        u = n(165).initEffectImgPath;
    n(474);
    var d = function (e) {
        function t(e, n, r, a, s, c) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c))
        }

        return r(t, e), a(t, [{
            key: "getBgImgPath", value: function (e) {
                return p(e)
            }
        }, {
            key: "init", value: function () {
                this.preCb && this.preCb();
                var e = n(475);
                this.effectJson.bgImage.path = u(this.effectJson.bgImage.path), this.effectJson.zwImage.path = u(this.effectJson.zwImage.path), this.$bg = $('<div class="finger_background page_effect lock"></div>').css({
                    backgroundImage: "url(" + this.effectJson.bgImage.path + ")",
                    width: "100%",
                    height: "100%"
                }), this.$div = $('<div class="finger_div"></div>'), this.$fingerPrint = $('<img class="finger_zw" src="' + this.effectJson.zwImage.path + '"/>'), this.$line = $('<img class="finger_line" src = "' + e + '">'), this.$hint = $('<p class="finger_info"></p>'), this.$bg.append([this.$div, this.$fingerPrint, this.$line, this.$hint]).prependTo(this.$pageDiv), this.addEvent()
            }
        }, {
            key: "addEvent", value: function () {
                var e = this;
                this.destory = !1;
                var t = this.afterCb;
                this.$bg.on(c, function (e) {
                    e.stopPropagation()
                }), this.$div.on(c, function () {
                    e.$line.attr("style", "").show(), e.$hint.text("扫描中..."), e.$line.stop(!0, !1).animate({
                        top: "50%",
                        marginTop: "-87px"
                    }, 1e3, function () {
                        e.$div.unbind(), e.$hint.hide().text("扫描成功").fadeIn(300, function () {
                            e.$line.fadeOut(), e.$fingerPrint.fadeOut(), e.$div.fadeOut(), e.$hint.fadeOut(200, function () {
                                e.$bg.addClass("noFinger").fadeOut(500, function () {
                                    t && t(), e.$line.attr("style", ""), e.destory = !0
                                })
                            })
                        })
                    })
                })
            }
        }]), t
    }(l);
    e.exports = d
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function o(e, t, i, r, a, s) {
        n(this, o), this.effectJson = JSON.parse(JSON.stringify(e)), this.$pageDiv = t, this.width = i, this.height = r, this.preCb = a, this.afterCb = s
    };
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    e.exports = n.p + "images/finger_line-599a72.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                var n = [], i = !0, o = !1, r = void 0;
                try {
                    for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
                } catch (c) {
                    o = !0, r = c
                } finally {
                    try {
                        !i && s["return"] && s["return"]()
                    } finally {
                        if (o) throw r
                    }
                }
                return n
            }

            return function (t, n) {
                if (Array.isArray(t)) return t;
                if (Symbol.iterator in Object(t)) return e(t, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }(), s = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), c = n(165).loadImg, l = n(473), p = "ontouchstart" in window, u = p ? "touchstart" : "mousedown",
        d = p ? "touchmove" : "mousemove", m = p ? "touchend" : "mouseup", f = function (e) {
            function t(e, n, r, a, s, c) {
                i(this, t);
                var l = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c));
                return l.defaultCountDownSeconds = e.seconds || 9, l
            }

            return r(t, e), s(t, [{
                key: "init", value: function () {
                    var e = this;
                    this.preCb && this.preCb(), this.createCanvas(), this.$pageDiv.prepend(this.canvas), this.ctx = this.canvas.getContext("2d");
                    var t = [n(477), n(478), n(479)].map(function (e) {
                        return c(e)
                    });
                    Promise.all(t).then(function (t) {
                        var n = a(t, 3), i = n[0], o = n[1], r = n[2];
                        e.w1 = o.width || 300, e.moreMoney = o, e.moneyBg = i, e.flyMoney = r, e.ctx.drawImage(i, 0, 0, e.width, e.height), e.ctx.drawImage(o, e.width / 2 - e.w1 / 2, 250), e.reset()
                    }).then(function () {
                        return e.addEvent()
                    })
                }
            }, {
                key: "addEvent", value: function () {
                    var e, t, n, i, o, r = this, a = this.afterCb, s = this, c = !1;
                    this.dy = 0, this.canvas.addEventListener(u, function (i) {
                        i.stopPropagation(), r.isFirstTime++, 1 == r.isFirstTime && r.countDown(a), e && (clearInterval(e), r.loc.y - r.dy < -320 && (r.dy = 0)), c = !0;
                        var o = p ? i.targetTouches[0].pageX : i.pageX, s = p ? i.targetTouches[0].pageY : i.pageY;
                        r.loc = r.windowToCanvas(r.canvas, o, s), t = r.loc.x, n = r.loc.y
                    }), this.canvas.addEventListener(d, function (a) {
                        a.stopPropagation();
                        var l = p ? a.targetTouches[0].pageX : a.pageX, u = p ? a.targetTouches[0].pageY : a.pageY;
                        r.loc = r.windowToCanvas(r.canvas, l, u), i = r.loc.x - t, o = r.loc.y - n, c && (r.ctx.drawImage(r.flyMoney, r.width / 2 - r.w1 / 2, r.loc.y), o < -20 ? (e = setInterval(s.animation.bind(r), 40), r.moneyCount += 100, c = !1) : (r.ctx.clearRect(0, 0, r.width, r.height), r.ctx.drawImage(r.moneyBg, 0, 0, r.width, r.height), r.ctx.drawImage(r.moreMoney, r.width / 2 - r.w1 / 2, 250), r.flyMoney.onload = function () {
                            s.ctx.drawImage(this, s.width / 2 - s.w1 / 2, s.loc.y), s.drawClock(s.countDownSeconds), s.drawMoneyCount(s.moneyCount)
                        }))
                    }), this.canvas.addEventListener(m, function () {
                        t = 0, n = 0, c && (c = !1, e && (clearInterval(e), r.dy = 0), o < -20 || (r.ctx.clearRect(0, 0, r.canvas.width, r.canvas.height), r.ctx.drawImage(r.moneyBg, 0, 0, r.canvas.width, r.canvas.height), r.ctx.drawImage(r.moreMoney, r.canvas.width / 2 - r.w1 / 2, 250), r.drawClock(r.countDownSeconds), r.drawMoneyCount(r.moneyCount)))
                    })
                }
            }, {
                key: "createCanvas", value: function () {
                    this.canvas = document.createElement("canvas"), this.canvas.width = this.width, this.canvas.height = this.height, this.canvas.classList.add("eqx-money-effect", "page_effect")
                }
            }, {
                key: "reset", value: function () {
                    this.countDownSeconds = this.defaultCountDownSeconds, this.moneyCount = 0, this.isFirstTime = 0, this.drawClock("开始"), this.drawMoneyCount(0), this.drawTip(), this.customTip(this.effectJson.tip)
                }
            }, {
                key: "drawClock", value: function (e) {
                    var t = this.ctx.createLinearGradient(this.canvas.width / 2 - 90, 50, this.canvas.width / 2 - 90, 120);
                    t.addColorStop(0, "#F3AE28"), t.addColorStop(.5, "#FDE528"), t.addColorStop(1, "#F3AE28"), this.ctx.fillStyle = t, this.ctx.fillRect(this.width / 2 - 80, 90, 160, 40), this.ctx.stroke(), this.ctx.font = "30px Arial", this.ctx.textAlign = "center", this.ctx.fillStyle = "#ff0000", isNaN(e) ? this.ctx.fillText(e, this.width / 2, 120) : this.ctx.fillText(e + "秒", this.width / 2, 120)
                }
            }, {
                key: "drawMoneyCount", value: function (e) {
                    this.ctx.fillStyle = "#FFF", this.roundRect(this.canvas.width / 2 - 120, 160, 240, 60, 10), this.ctx.stroke(), this.ctx.font = "30px Arial", this.ctx.textAlign = "center", this.ctx.fillStyle = "#FDE528", this.ctx.fillText("¥ " + e, this.width / 2, 205)
                }
            }, {
                key: "roundRect", value: function (e, t, n, i, o) {
                    n < 2 * o && (o = n / 2), i < 2 * o && (o = i / 2), this.ctx.beginPath(), this.ctx.moveTo(e + o, t), this.ctx.strokeStyle = "#FDE528", this.ctx.arcTo(e + n, t, e + n, t + i, o), this.ctx.arcTo(e + n, t + i, e, t + i, o), this.ctx.arcTo(e, t + i, e, t, o), this.ctx.arcTo(e, t, e + n, t, o), this.ctx.closePath(), this.ctx.fillStyle = "#FDE528"
                }
            }, {
                key: "drawTip", value: function () {
                    this.ctx.fillStyle = "rgba(0, 0, 0, 0.8)", this.ctx.fillRect(this.canvas.width / 2 - this.w1 / 2 + 5, this.canvas.height - 85, this.w1 - 10, 80), this.ctx.stroke(), this.ctx.font = "16px Arial", this.ctx.textAlign = "center", this.ctx.fillStyle = "#FDE528", this.ctx.fillText("点击屏幕，开始数钱", this.canvas.width / 2, this.canvas.height - 35)
                }
            }, {
                key: "customTip", value: function (e) {
                    this.ctx.font = "20px Arial", this.ctx.textAlign = "center", this.ctx.fillStyle = "#FDE528", this.ctx.fillText(e, this.canvas.width / 2, 50)
                }
            }, {
                key: "countDown", value: function (e) {
                    var t = this, n = setInterval(function () {
                        t.countDownSeconds--, t.drawClock(t.countDownSeconds), t.countDownSeconds <= 0 && (clearInterval(n), $(t.canvas).unbind(u), t.popMenu(e))
                    }, 1e3)
                }
            }, {
                key: "popMenu", value: function (e) {
                    var t = this, n = $('<div class="money_mask"></div>').appendTo(this.$pageDiv),
                        i = $('<div class="money_modal"></div>').appendTo(this.$pageDiv),
                        o = ($('<div class="money_img"></div>').appendTo(i), $('<div class="money_text">恭喜你！<br>2016年每天赚' + this.moneyCount + "元！</div>").appendTo(i), $('<a class="button tryOnce">再来一次</a>').appendTo(i)),
                        r = $('<a class="button enterScene">进入场景</a>').appendTo(i), a = "标准屌丝";
                    this.moneyCount >= 5500 && this.moneyCount <= 12e3 ? a = "初级土豪" : this.moneyCount > 12e3 && (a = "高级土豪"), n.on(u, function (e) {
                        e.stopPropagation()
                    }), i.on(u, function (e) {
                        e.stopPropagation()
                    }), $('<div class="level_text">' + a + "</div>").appendTo(i), $('<div class="tip-text">仅供娱乐</div>').appendTo(i), o.on("click", function () {
                        n.remove(), i.remove(), t.reset()
                    }), r.on("click", function () {
                        n.remove(), i.remove(), $(t.canvas).css("display", "none"), e && e()
                    })
                }
            }, {
                key: "windowToCanvas", value: function (e, t, n) {
                    var i = e.getBoundingClientRect();
                    return {x: t - i.left, y: n - i.top}
                }
            }, {
                key: "animation", value: function () {
                    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.ctx.drawImage(this.moneyBg, 0, 0, this.canvas.width, this.canvas.height), this.ctx.drawImage(this.moreMoney, this.canvas.width / 2 - this.w1 / 2, 250), this.ctx.drawImage(this.flyMoney, this.canvas.width / 2 - this.w1 / 2, this.loc.y - this.dy), this.drawClock(this.countDownSeconds), this.drawMoneyCount(this.moneyCount), this.dy += 150
                }
            }]), t
        }(l);
    e.exports = f
}, function (e, t, n) {
    e.exports = n.p + "images/moneybg-f22963.png"
}, function (e, t, n) {
    e.exports = n.p + "images/moremoney-49fcb1.png"
}, function (e, t, n) {
    e.exports = n.p + "images/flymoney-8948f4.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(473), c = n(165).loadImg, l = n(165).qiniuZoom, p = n(165).initEffectImgPath,
        u = "ontouchstart" in window, d = u ? "touchstart" : "mousedown", m = u ? "touchmove" : "mousemove",
        f = u ? "touchend" : "mouseup";
    n(481);
    var g = function (e) {
        function t(e, n, r, a, s, c) {
            i(this, t);
            var l = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c));
            return l.$tip = null, l.canvas = null, l.ctx = null, l
        }

        return r(t, e), a(t, [{
            key: "drawTip", value: function () {
                var e = this.effectJson.tip;
                this.effectJson.tip && (this.$tip ? this.$tip.html(e) : (this.$tip = this.create$tip(e), this.$pageDiv.prepend(this.$tip)))
            }
        }, {
            key: "removeTip", value: function () {
                this.$tip && (this.$tip.remove(), this.$tip = null)
            }
        }, {
            key: "drawCanvas", value: function () {
                var e = this, t = this.effectJson, n = t.image.path, i = t.opacity;
                return n = l(n), n = p(n), c(n).then(function (t) {
                    e.ctx.globalAlpha = 1 - Number.parseFloat(i).toFixed(2), e.ctx.globalCompositeOperation = "source-over", e.ctx.drawImage(t, 0, 0, e.width, e.height), e.ctx.globalCompositeOperation = "destination-out"
                })
            }
        }, {
            key: "init", value: function () {
                this.$pageDiv.addClass("pageEffect-scratch"), this.preCb && this.preCb(), this.initCanvas()
            }
        }, {
            key: "initCanvas", value: function () {
                var e = this;
                return this.canvas = this.createCanvas(), this.ctx = this.canvas.getContext("2d"), this.$pageDiv.prepend(this.canvas), this.drawCanvas().then(function () {
                    return e.addEvent()
                }).then(function () {
                    e.drawTip()
                })
            }
        }, {
            key: "addEvent", value: function () {
                function e(e) {
                    s++, t(), e.preventDefault(), e.stopPropagation(), r = u ? e.targetTouches[0].pageX : e.pageX - $(c.canvas).offset().left, a = u ? e.targetTouches[0].pageY : e.pageY - $(c.canvas).offset().top, c.ctx.moveTo(i, o), c.ctx.lineTo(r, a), c.ctx.stroke(), i = r, o = a
                }

                function t() {
                    setTimeout(function () {
                        s >= 300 * c.percentage && !l && (l = !0, $(c.canvas).fadeOut(500, function () {
                            setTimeout(function () {
                                $(c.canvas).off(), $(c.canvas).remove(), c.canvas = null
                            }, 500), n && n()
                        }))
                    }, 200)
                }

                var n = this.afterCb;
                this.ctx.lineCap = "round", this.ctx.lineJoin = "round", this.ctx.lineWidth = 40, this.percentage = this.effectJson.percentage.value || this.effectJson.percentage;
                var i, o, r, a, s = 0, c = this, l = !1;
                this.canvas.addEventListener(d, function (t) {
                    t.preventDefault(), t.stopPropagation(), c.removeTip(), i = u ? t.targetTouches[0].pageX : t.pageX - $(c.canvas).offset().left, o = u ? t.targetTouches[0].pageY : t.pageY - $(c.canvas).offset().top, c.canvas.addEventListener(m, e), c.canvas.addEventListener(f, function () {
                        c.canvas.removeEventListener(m, e)
                    })
                })
            }
        }, {
            key: "createCanvas", value: function () {
                var e = document.createElement("canvas");
                return e.width = this.width, e.height = this.height, e.classList.add("cas", "scratch-cas"), e
            }
        }, {
            key: "create$tip", value: function (e) {
                return $('<div class="tip">' + e + "</div>")
            }
        }]), t
    }(s);
    e.exports = g
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(165).loadImg, c = n(473), l = n(453).$loadThreeCanvas, p = function (e) {
        function t(e, n, r, a) {
            i(this, t);
            var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a));
            return s.particles = [], s
        }

        return r(t, e), a(t, [{
            key: "init", value: function () {
                var e = this;
                return this.inited = !1, l().then(function () {
                    return e.createCanvas()
                }).then(function () {
                    return e.createImgs()
                }).then(function () {
                    e.$pageDiv.append(e.canvas), e.inited = !0
                })
            }
        }, {
            key: "startEffect", value: function () {
                this.inited && this.startInterval(), this.requestID = requestAnimationFrame(this.startEffect.bind(this))
            }
        }, {
            key: "stopEffect", value: function () {
                this.requestID && (cancelAnimationFrame(this.requestID), this.requestID = null)
            }
        }, {
            key: "destroyEffect", value: function () {
                this.stopEffect(), $(this.canvas).remove()
            }
        }, {
            key: "createCanvas", value: function () {
                this.camera = new THREE.PerspectiveCamera(75, this.width / this.height, 1, 1e4), this.camera.position.z = 1e3, this.scene = new THREE.Scene, this.scene.add(this.camera), this.renderer = new THREE.CanvasRenderer, this.renderer.setSize(this.width, this.height), this.canvas = this.renderer.domElement, $(this.canvas).css({
                    position: "absolute",
                    pointerEvents: "none",
                    top: 0,
                    zIndex: 2,
                    width: "100%",
                    height: "100%"
                })
            }
        }, {
            key: "createImgs", value: function () {
                var e = this;
                return s(n(483)).then(function (t) {
                    for (var n = new THREE.ParticleBasicMaterial({map: new THREE.Texture(t)}), i = 0; i < 500; i++) {
                        var o = new Particle3D(n), r = o.position;
                        r.x = 2e3 * Math.random() - 1e3, r.y = 2e3 * Math.random() - 1e3, r.z = 2e3 * Math.random() - 1e3, o.scale.x = o.scale.y = 1, e.scene.add(o), e.particles.push(o)
                    }
                })
            }
        }, {
            key: "startInterval", value: function () {
                this.particles.forEach(function (e) {
                    var t = e.position;
                    e.updatePhysics(), t.y < -1e3 && (t.y += 2e3), t.x > 1e3 ? t.x -= 2e3 : t.x < -1e3 && (t.x += 2e3), t.z > 1e3 ? t.z -= 2e3 : t.z < -1e3 && (t.z += 2e3)
                });
                var e = this.camera.position;
                e.x += .05 * -e.x, e.y += .05 * -e.y, this.camera.lookAt(this.scene.position), this.renderer.render(this.scene, this.camera)
            }
        }]), t
    }(c);
    e.exports = p
}, function (e, t, n) {
    e.exports = n.p + "images/particleSmoke-2b07d9.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(165).loadImg, c = n(473), l = n(165).initEffectImgPath, p = function (e) {
        function t(e, n, r, a) {
            i(this, t);
            var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a));
            return s.objs = [], s.DIAMETER = 60, s.MAX_NUM = 20, s
        }

        return r(t, e), a(t, [{
            key: "init", value: function () {
                var e = this;
                return this.createCanvas(), this.$pageDiv.append(this.canvas), this.ctx = this.canvas.getContext("2d"), this.effectJson.src.path = l(this.effectJson.src.path) + "?imageMogr2/auto-orient/thumbnail/60>", s(this.effectJson.src.path).then(function (t) {
                    e.ctx.beginPath(), e.ctx.fillStyle = e.ctx.createPattern(t, "no-repeat"), e.ctx.closePath()
                })
            }
        }, {
            key: "startEffect", value: function () {
                this.requestID = requestAnimationFrame(this.startEffect.bind(this)), this.renderCxt(), this.update()
            }
        }, {
            key: "stopEffect", value: function () {
                this.requestID && (cancelAnimationFrame(this.requestID), this.requestID = null)
            }
        }, {
            key: "destroyEffect", value: function () {
                this.stopEffect(), $(this.canvas).remove()
            }
        }, {
            key: "createCanvas", value: function () {
                this.canvas = document.createElement("canvas"), this.canvas.width = this.width, this.canvas.height = this.height, this.canvas.style.position = "absolute", this.canvas.style.top = "0", this.canvas.style["z-index"] = 2, this.canvas.style["pointer-events"] = "none"
            }
        }, {
            key: "renderCxt", value: function () {
                var e = this;
                this.ctx.clearRect(0, 0, this.width, this.height), this.objs.forEach(function (t) {
                    e.ctx.save(), e.ctx.translate(t.x, t.y), e.ctx.scale(t.scale, t.scale), e.ctx.rotate(t.rotate), e.ctx.fillRect(0, 0, e.DIAMETER, e.DIAMETER), e.ctx.restore()
                })
            }
        }, {
            key: "update", value: function () {
                Math.random() < .02 * this.effectJson.density && this.addObj(), this.updateObjs()
            }
        }, {
            key: "updateObjs", value: function () {
                var e = this;
                this.objs.forEach(function (e) {
                    e.x += e.vx, e.y += e.vy, e.vy += e.g
                });
                var t = 0;
                for (this.objs.forEach(function (n) {
                    n.y < e.height + e.DIAMETER / 2 && n.x > -e.DIAMETER && n.x < e.width && (e.objs[t++] = n)
                }); this.objs.length > t;) this.objs.pop();
                this.objs.length > this.MAX_NUM && (this.objs.length = this.MAX_NUM)
            }
        }, {
            key: "addObj", value: function () {
                var e = .5 * Math.random() + .3, t = {
                    x: Math.ceil(Math.random() * this.width),
                    y: -this.DIAMETER,
                    g: .02 * e * this.effectJson.src.vy,
                    vx: .05 * Math.pow(-1, Math.ceil(1e3 * Math.random())),
                    vy: .01 * e * this.effectJson.src.vy,
                    color: "yellow",
                    scale: e,
                    rotate: Math.pow(-1, Math.ceil(1e3 * Math.random())) * Math.random() * (this.effectJson.src.rotate || 0) * Math.PI / 180
                };
                this.objs.push(t)
            }
        }]), t
    }(c);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e, t) {
        return Math.random() * (t - e) + e
    }

    function s(e, t, n, i) {
        var o = e - n, r = t - i;
        return Math.sqrt(Math.pow(o, 2) + Math.pow(r, 2))
    }

    var c = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), l = n(473), p = function (e) {
        function t(e, n, r, a) {
            i(this, t);
            var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a));
            return s.fireWorks = [], s.particles = [], s.hue = 200, s.tTot = 20, s.tick = 0, s
        }

        return r(t, e), c(t, [{
            key: "init", value: function () {
                return this.createCanvas(), this.$pageDiv.append(this.canvas), this.ctx = this.canvas.getContext("2d"), Promise.resolve(!0)
            }
        }, {
            key: "createCanvas", value: function () {
                var e = this;
                this.canvas = document.createElement("canvas"), this.canvas.width = e.width, this.canvas.height = e.height, $(this.canvas).css({
                    position: "absolute",
                    zIndex: 2,
                    top: 0,
                    "pointer-events": "none"
                })
            }
        }, {
            key: "startEffect", value: function () {
                this.loop(), this.requestID = requestAnimationFrame(this.startEffect.bind(this))
            }
        }, {
            key: "stopEffect", value: function () {
                this.requestID && (cancelAnimationFrame(this.requestID), this.requestID = null)
            }
        }, {
            key: "destroyEffect", value: function () {
                this.stopEffect(), $(this.canvas).remove()
            }
        }, {
            key: "loop", value: function () {
                this.hue = a(0, 1e3), this.ctx.globalCompositeOperation = "destination-out", this.ctx.fillStyle = "rgba(0, 0, 0, 0.5)", this.ctx.fillRect(0, 0, this.width, this.height), this.ctx.globalCompositeOperation = "lighter";
                for (var e, t = this.fireWorks.length; t--;) if (e = this.fireWorks[t], e.draw(this.ctx), e.update(), e.distanceTraveled >= e.distanceToTarget) {
                    for (var n = 100; n--;) this.particles.push(new d(e.tx, e.ty, this.hue));
                    this.fireWorks.splice(t, 1)
                }
                for (var i, o = this.particles.length; o--;) i = this.particles[o], i.draw(this.ctx), i.update(), i.alpha <= i.decay && this.particles.splice(o, 1);
                this.tick >= this.tTot ? (this.fireWorks.push(new u(this.width / 2, this.height, a(0, this.width), a(0, this.height / 2), this.hue)), this.tick = 0) : this.tick++
            }
        }]), t
    }(l);
    e.exports = p;
    var u = function () {
        function e(t, n, o, r, c) {
            for (i(this, e), this.x = t, this.y = n, this.sx = t, this.sy = n, this.tx = o, this.ty = r, this.hue = c, this.distanceToTarget = s(t, n, o, r), this.distanceTraveled = 0, this.coordinates = [], this.coordinateCount = 3; this.coordinateCount--;) this.coordinates.push([this.x, this.y]);
            this.angle = Math.atan2(r - n, o - t), this.speed = 10, this.acceleration = 1.05, this.brightness = a(50, 120)
        }

        return c(e, [{
            key: "update", value: function () {
                this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;
                var e = Math.cos(this.angle) * this.speed, t = Math.sin(this.angle) * this.speed;
                this.distanceTraveled = s(this.sx, this.sy, this.x + e, this.y + t), this.distanceTraveled < this.distanceToTarget && (this.x += e, this.y += t)
            }
        }, {
            key: "draw", value: function (e) {
                e.beginPath(), e.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]), e.lineTo(this.x, this.y), e.strokeStyle = "hsl(" + this.hue + ", 100%, " + this.brightness + "%)", e.stroke(), e.beginPath(), e.arc(this.tx, this.ty, 0, 0, 2 * Math.PI), e.stroke()
            }
        }]), e
    }(), d = function () {
        function e(t, n, o) {
            for (i(this, e), this.x = t, this.y = n, this.coordinates = [], this.coordinateCount = 5; this.coordinateCount--;) this.coordinates.push([this.x, this.y]);
            this.angle = a(0, 2 * Math.PI), this.speed = a(1, 10), this.friction = .95, this.gravity = 1, this.hue = a(o - 100, o + 100), this.brightness = a(20, 80), this.alpha = 1, this.decay = a(.01, .015)
        }

        return c(e, [{
            key: "update", value: function () {
                this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay
            }
        }, {
            key: "draw", value: function (e) {
                e.beginPath(), e.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]), e.lineTo(this.x, this.y), e.strokeStyle = "hsla(" + this.hue + ", 100%, " + this.brightness + "%, " + this.alpha + ")", e.stroke()
            }
        }]), e
    }()
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(487);
    var c = n(208).getBrowserPrefix, l = "ontouchstart" in window, p = l ? "touchstart" : "mousedown", u = n(473),
        d = {0: "gradientFadeOutLeft", 1: "gradientFadeOutRight", 2: "gradientFadeOutTop", 3: "gradientFadeOutBottom"},
        m = {left: 0, right: 1, top: 2, bottom: 3}, f = function (e) {
            function t(e, n, i, a, s, c) {
                o(this, t);
                var l = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, i, a, s, c));
                return l.$tip = null, l.$div = null, l
            }

            return a(t, e), s(t, [{
                key: "init", value: function () {
                    this.preCb && this.preCb(), this._startEffect()
                }
            }, {
                key: "openStyle", value: function () {
                    this.$div.css(t.getBackground(this.getType(), this.effectJson.backgroundColor)), 1 == this.effectJson.openStyle.type ? this.clickAnimation() : (this.doEffect(), this.removeTip())
                }
            }, {
                key: "_startEffect", value: function () {
                    this.stopEffect(), this.$div = $('<div class="gradient-cover"></div>'), this.$div.prependTo(this.$pageDiv), this.openStyle()
                }
            }, {
                key: "stopEffect", value: function () {
                    this.$div && (this.$div.unbind(p), this.$div.remove(), this.$div = null, this.afterCb && this.afterCb())
                }
            }, {
                key: "getType", value: function () {
                    var e = this.effectJson.direction.type;
                    return [m.left, m.right, m.top, m.bottom].indexOf(e) == -1 ? 0 : e
                }
            }, {
                key: "doEffect", value: function () {
                    this.$div.css({
                        "animation-name": d[this.getType()],
                        "animation-duration": this.effectJson.duration + "s",
                        "animation-timing-function": "linear"
                    }), this.addAnimationEvent()
                }
            }, {
                key: "drawTip", value: function () {
                    var e = this.effectJson.openStyle.tip;
                    this.$tip ? this.$tip.find("p").html(e) : (this.$tip = this.create$Tip(e), this.$pageDiv.append(this.$tip))
                }
            }, {
                key: "create$Tip", value: function (e) {
                    return $("<div class=\"gradient-tip\"><img src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid' width='30' height='36' viewBox='0 0 30 36'%3E%3Cdefs%3E%3Cstyle%3E .cls-1 %7B fill: %23fff; fill-rule: evenodd; %7D %3C/style%3E%3C/defs%3E%3Cpath d='M26.685,13.823 L26.594,13.823 C25.923,13.823 25.372,14.017 24.841,14.347 C24.376,12.986 23.195,12.006 21.673,12.006 C21.001,12.006 20.359,12.199 19.829,12.529 C19.364,11.168 18.182,10.188 16.659,10.188 C16.066,10.188 15.514,10.338 15.026,10.600 L15.026,7.097 C15.026,5.189 13.589,3.644 11.677,3.644 C9.764,3.644 8.213,5.191 8.213,7.097 L8.213,20.505 L6.111,18.401 C4.759,17.052 2.365,17.244 1.213,18.401 C0.061,19.558 -0.694,21.885 0.955,23.543 L10.627,33.194 C10.826,33.393 11.046,33.559 11.277,33.700 C13.040,35.145 15.062,36.000 19.334,36.000 C29.096,36.000 30.000,30.710 30.000,24.185 L30.000,17.278 C29.999,15.370 28.599,13.823 26.685,13.823 L26.685,13.823 M28.175,24.184 C28.175,29.705 28.149,34.181 19.333,34.181 C15.599,34.181 13.356,33.345 11.657,31.650 L2.501,22.514 C1.691,21.700 1.895,20.660 2.557,19.993 C3.220,19.327 4.437,19.304 5.078,19.943 C5.078,19.943 6.685,21.546 8.069,22.929 C9.116,23.975 10.037,24.893 10.037,24.893 L10.037,7.461 C10.037,6.558 10.771,5.825 11.678,5.825 C12.585,5.825 13.204,6.558 13.204,7.461 L13.204,18.550 L13.222,18.550 C13.210,18.608 13.204,18.669 13.204,18.731 C13.204,19.233 13.612,19.641 14.115,19.641 C14.619,19.641 15.027,19.235 15.027,18.731 C15.027,18.669 15.021,18.609 15.009,18.550 L15.027,18.550 L15.027,14.005 C15.027,13.102 15.682,12.369 16.589,12.369 C16.589,12.369 18.194,12.347 18.194,14.005 L18.194,20.003 L18.212,20.003 C18.200,20.061 18.194,20.123 18.194,20.185 C18.194,20.687 18.602,21.095 19.106,21.095 C19.609,21.095 20.018,20.688 20.018,20.185 C20.018,20.123 20.011,20.063 20.000,20.003 L20.018,20.003 L20.018,15.823 C20.018,14.920 20.662,14.187 21.569,14.187 C21.569,14.187 23.208,14.290 23.208,15.823 L23.208,21.095 L23.226,21.095 C23.214,21.153 23.208,21.215 23.208,21.276 C23.208,21.778 23.616,22.186 24.119,22.186 C24.623,22.186 25.008,21.780 25.008,21.276 C25.008,21.215 25.002,21.154 24.992,21.095 L25.008,21.095 L25.008,17.496 C25.008,16.593 25.684,15.860 26.590,15.860 C26.590,15.860 28.179,15.795 28.179,17.496 L28.179,24.184 L28.175,24.184 M6.861,12.247 L6.861,9.194 C6.572,8.542 6.407,7.821 6.407,7.062 C6.407,4.168 8.743,1.821 11.625,1.821 C14.507,1.821 16.843,4.168 16.843,7.062 C16.843,7.457 16.797,7.842 16.713,8.212 C17.370,8.238 17.962,8.511 18.393,8.951 C18.560,8.350 18.659,7.719 18.659,7.064 C18.659,3.163 15.510,-0.000 11.627,-0.000 C7.743,-0.000 4.594,3.163 4.594,7.064 C4.593,9.115 5.469,10.957 6.861,12.247 L6.861,12.247 M6.861,12.247 L6.861,12.247 Z' class='cls-1'/%3E%3C/svg%3E\"><p>" + e + "</p></div>")
                }
            }, {
                key: "removeTip", value: function () {
                    this.$tip && (this.$tip.remove(), this.$tip = null)
                }
            }, {
                key: "clickAnimation", value: function () {
                    this.drawTip(), this.addEvent(), this.removeAnimation()
                }
            }, {
                key: "removeAnimation", value: function () {
                    this.$div.css({animation: ""})
                }
            }, {
                key: "addAnimationEvent", value: function () {
                    var e = this;
                    this.$div.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                        e.stopEffect()
                    })
                }
            }, {
                key: "addEvent", value: function () {
                    var e = this;
                    this.$div.on(p, function () {
                        e.removeTip(), e.doEffect()
                    })
                }
            }], [{
                key: "getBackground", value: function (e, t) {
                    var n, o,
                        r = (n = {}, i(n, m.left, "left"), i(n, m.right, "right"), i(n, m.top, "top"), i(n, m.bottom, "bottom"), n)[e],
                        a = c() + "linear-gradient(" + r + ",transparent, " + t + ", " + t + ")",
                        s = (o = {}, i(o, m.left, {
                            background: a,
                            transform: "scaleX(2)",
                            "transform-origin": "100% 0"
                        }), i(o, m.right, {
                            background: a,
                            transform: "scaleX(2)",
                            "transform-origin": "0 100%"
                        }), i(o, m.top, {
                            background: a,
                            transform: "scaleY(2)",
                            "transform-origin": "0 100%"
                        }), i(o, m.bottom, {background: a, transform: "scaleY(2)", "transform-origin": "100% 0"}), o);
                    return s[e]
                }
            }]), t
        }(u);
    f.DIR_TYPE = m, e.exports = f
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(489);
    var s = n(473), c = n(490), l = "ontouchstart" in window, p = l ? "touchstart" : "mousedown", u = function (e) {
        function t(e, n, r, a, s, c) {
            i(this, t);
            var l = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c));
            return l.$tip = null, l.$audio = null, l.$div = null, l
        }

        return r(t, e), a(t, [{
            key: "init", value: function () {
                this.preCb && this.preCb(), this._startEffect()
            }
        }, {
            key: "_startEffect", value: function () {
                this.delete$div(), this.$div = $('<div class="glassEffect-cover" style="background-color:' + this.effectJson.backgroundColor + '"></div>'), this.$audio = $("<audio></audio>"), this.$audio[0].src = n(491), this.$div.prependTo(this.$pageDiv), this.$div.append(this.$audio);
                var e = $('<canvas class="draw-refract glassCanvas" width="' + this.width + '" height="' + this.height + '"></canvas>'),
                    t = $('<canvas class="draw-reflect glassCanvas" width="' + this.width + '" height="' + this.height + '"></canvas>'),
                    i = $('<canvas class="draw-fractures glassCanvas" width="' + this.width + '" height="' + this.height + '"></canvas>'),
                    o = $('<canvas class="draw-mainline glassCanvas" width="' + this.width + '" height="' + this.height + '"></canvas>'),
                    r = $('<canvas class="draw-noise glassCanvas" width="' + this.width + '" height="' + this.height + '"></canvas>');
                this.$div.append(e), this.$div.append(t), this.$div.append(i), this.$div.append(o), this.$div.append(r), this.add$tip();
                var a = [e, t, i, o, r];
                this.addEvent(a)
            }
        }, {
            key: "addEvent", value: function (e) {
                var t = this, n = 1;
                this.$div.on(p, function (i) {
                    n < t.effectJson.time ? (t.$tip.remove(), t.$audio[0].play(), c(t.$div, e, t.height, t.width, i), n++) : (t.$audio[0].play(), c(t.$div, e, t.height, t.width, i), t.$div && t.$div.unbind(p), setTimeout(function () {
                        t.delete$div(), n = 1
                    }, 500))
                })
            }
        }, {
            key: "add$tip", value: function () {
                this.$tip = $("<div class=\"glass-tip\"><img src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid' width='41.288' height='31.998' viewBox='0 0 40 31'%3E%3Cdefs%3E%3Cstyle%3E .cls-1 %7B fill: %23fff; fill-rule: evenodd; %7D %3C/style%3E%3C/defs%3E%3Cpath d='M38.566,27.470 L36.426,29.569 C36.426,29.569 34.906,30.934 33.573,30.968 C32.086,31.006 30.685,29.574 30.720,29.569 L20.228,19.282 L21.654,17.883 L32.147,28.170 C32.741,28.698 34.347,28.796 35.000,28.170 L37.139,26.071 C37.961,25.308 37.875,24.015 37.139,23.273 L26.647,12.986 L28.073,11.587 L38.566,21.874 C38.566,21.874 39.989,23.523 39.992,24.672 C39.996,26.153 38.566,27.470 38.566,27.470 ZM17.396,18.904 C15.966,20.303 14.559,20.346 13.117,18.906 L8.122,14.011 C6.797,12.640 6.680,11.253 8.121,9.814 L15.963,2.116 C17.757,0.426 18.969,-0.188 20.140,0.880 C21.274,1.992 22.265,1.691 22.265,1.691 C23.407,1.393 29.229,0.011 29.229,0.011 C31.599,0.053 33.492,2.234 31.655,4.908 L17.396,18.904 ZM28.850,2.192 C28.850,2.192 22.130,4.181 22.094,4.203 C21.006,4.864 20.125,3.790 20.125,3.790 C20.125,3.790 18.532,2.577 17.390,3.515 L9.548,11.213 C8.940,11.904 9.580,12.613 9.548,12.612 L14.543,17.506 C14.559,17.565 15.279,18.221 15.969,17.506 L30.228,3.510 C30.196,1.748 28.850,2.192 28.850,2.192 ZM-0.014,21.278 L1.580,15.892 L8.498,29.789 L-0.014,21.278 ZM19.414,30.998 L10.218,30.179 L22.129,26.681 L19.414,30.998 Z' class='cls-1'/%3E%3C/svg%3E%0A\"><p>" + this.effectJson.tip + "</p></div>"), this.$tip.prependTo(this.$div)
            }
        }, {
            key: "delete$div", value: function () {
                this.$div && (this.$div.remove(), this.$div = null, this.afterCb && this.afterCb())
            }
        }]), t
    }(s);
    e.exports = u
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        return {x: e.x + t * Math.cos(n * u) - t * Math.sin(n * u), y: e.y + t * Math.sin(n * u) + t * Math.cos(n * u)}
    }

    function i(e, t, n) {
        var i = {}, o = null;
        return n = 5 * n, i.dx = t.x - e.x, i.dy = t.y - e.y, i.dl = Math.sqrt(i.dx * i.dx + i.dy * i.dy), i.sx = i.dx / i.dl, i.sy = i.dy / i.dl, i.tx = i.dy / i.dl, i.ty = -i.dx / i.dl, i.mpp = .5 * Math.random() + .3, i.mpl1 = i.dl * i.mpp, i.mpl2 = i.dl - i.mpl1, o = Math.log(i.dl * Math.E), i.cma = Math.random() * o * n - o * n / 2, i.cpt = {
            x: e.x + i.sx * i.mpl1 + i.tx * i.cma,
            y: e.y + i.sy * i.mpl1 + i.ty * i.cma
        }, i.bbx1 = Math.min(e.x, t.x, i.cpt.x), i.bby1 = Math.min(e.y, t.y, i.cpt.y), i.bbx2 = Math.max(e.x, t.x, i.cpt.x), i.bby2 = Math.max(e.y, t.y, i.cpt.y), i.bbwidth = i.bbx2 - i.bbx1, i.bbheight = i.bby2 - i.bby1, i
    }

    function o(e) {
        for (var t = 0, o = 0, r = e.width, a = e.height, s = [[]], c = [], l = 1, p = 0, u = 15, d = e.center, m = null, f = null, g = 10, h = 360 / (g + 1), v = null; s[0].length < g;) v = h * s[0].length + 10, f = n(d, 5, v), s[0].push({
            angle: v,
            point: f
        });
        for (; u < 500;) {
            for (s[l] = [], v = 0; v < g; v++) m = s[l - 1][v], s[l][v] = null, m && (m.point.x > t && m.point.x < r && m.point.y > o && m.point.y < a ? (h = m.angle + 10 * Math.random() / g - 5 / g, h > 350 && (h = 350), m = m.point, f = n(d, u + Math.random() * u / l - u / (2 * l), h), s[l][v] = {
                angle: h,
                point: {x: f.x, y: f.y}
            }) : 0 == p && (p = l));
            l++, u *= 1.5 * Math.random() + 1
        }
        0 == p && (p = l);
        for (var y = 1, b = 0; y < l; y++) for (b = 0; b < g; b++) m = s[y - 1][b], f = s[y][b], m && f && (c.push({
            p1: {
                x: m.point.x,
                y: m.point.y
            }, p2: {x: f.point.x, y: f.point.y}, desc: i(m.point, f.point, .3), level: y
        }), Math.random() < .6 && (m = s[y][(b + 1) % g], m && c.push({
            p1: {x: f.point.x, y: f.point.y},
            p2: {x: m.point.x, y: m.point.y},
            desc: i(f.point, m.point, .3),
            level: y
        })), y < l - 1 && Math.random() < .3 && (m = s[y + 1][(b + 1) % g], m && c.push({
            p1: {
                x: f.point.x,
                y: f.point.y
            }, p2: {x: m.point.x, y: m.point.y}, desc: i(f.point, m.point, .3), level: y
        })));
        return c
    }

    function r(e, t, n, i, o, r) {
        var a = e.getContext("2d"), s = o.tx, c = o.ty, l = o.dl / 3, p = null;
        a.globalAlpha = .3;
        try {
            p = a.createLinearGradient(n.x + l * s, n.y + l * c, n.x - l * s, n.y - l * c)
        } catch (u) {
        }
        p.addColorStop(0, "rgba(255,255,255,0)"), p.addColorStop(.5, "rgba(255,255,255,0.5)"), p.addColorStop(1, "rgba(255,255,255,0)"), a.fillStyle = p, a.beginPath(), a.moveTo(n.x + l * s, n.y + l * c), a.lineTo(i.x + l * s, i.y + l * c), a.lineTo(i.x - l * s, i.y - l * c), a.lineTo(n.x - l * s, n.y - l * c), a.closePath(), a.fill()
    }

    function a(e, t, n, i, o) {
        var r = e.getContext("2d"), a = o.tx, s = o.ty, c = o.sx, l = o.sy, p = 33, u = o.dl, d = u / 2, m = o.mpp,
            f = o.cma, g = o.mpl1, h = o.mpl2, v = null, y = null, b = null, x = null, w = null, S = null, k = null;
        for (r.globalAlpha = .4, r.lineWidth = 1, v = 0; v < u; v++) b = v < m * u ? f * (1 - Math.pow((g - v) / g, 2)) : f * (1 - Math.pow((h - (u - v)) / h, 2)), b /= 2, y = Math.pow((v > d ? u - v : v) / d, 2), x = 1 * Math.random() + 1, w = p - Math.random() * y * p + 1, S = p - Math.random() * y * p + 1, k = 20 * Math.random() - 10, Math.random() > y - p / d && (r.fillStyle = "rgba(255,255,255," + Math.round(8 * Math.random() + 4) / 12 + ")", r.beginPath(), r.moveTo(n.x + v * c + b * a, n.y + v * l + b * s), r.lineTo(n.x + (k + v + x / 2) * c + w * a + b * a, n.y + (-k + v + x / 2) * l + w * s + b * s), r.lineTo(n.x + (v + x) * c + b * a, n.y + (v + x) * l + b * s), r.lineTo(n.x + (-k + v + x / 2) * c - S * a + b * a, n.y + (k + v + x / 2) * l - S * s + b * s), r.closePath(), r.fill()), v += d * (y / 2 + .5)
    }

    function s(e, t, n, i, o) {
        var r = e.getContext("2d"), a = o.tx, s = o.ty, c = o.cpt, l = .03, p = .14, u = .2,
            d = Math.random() * (2 * l) - 2 * l / 2, m = 1,
            f = Math.round((m > .5 ? m : 1 - m) * (1 - u * Math.random()) * 255);
        for (r.globalAlpha = 65, r.lineWidth = 1; p > 0;) r.strokeStyle = "rgba(" + f + "," + f + "," + f + "," + Math.round(8 * Math.random() + 4) / 12 + ")", r.beginPath(), r.moveTo(n.x + (p + d) * a, n.y + (p - d) * s), r.quadraticCurveTo(c.x, c.y, i.x + (p - d) * a, i.y + (p + d) * s), r.stroke(), p--
    }

    function c(e, t, n, i, o) {
        var r = e.getContext("2d"), a = o.tx, s = o.ty, c = o.sx, l = o.sy, p = .4, u = o.dl, d = o.mpp, m = o.cma,
            f = o.mpl1, g = o.mpl2, h = u / 3, v = Math.ceil(h * (1 - (p + .5) / 1.5) + 1), y = null, b = null,
            x = null, w = null, S = null, k = null;
        for (r.globalAlpha = 1, r.lineWidth = 1, x = 0; x < u; x++) {
            for (y = x < d * u ? m * (1 - Math.pow((f - x) / f, 2)) : m * (1 - Math.pow((g - (u - x)) / g, 2)), y /= 2, b = -h; b < h; b++) {
                if (Math.random() > Math.abs(b) / h) for (S = Math.floor(4 * Math.random() + .5), k = 2 * Math.random() - 1; S >= 0;) r.strokeStyle = "rgba(255,255,255," + Math.round(10 * Math.random() + 2) / 30 + ")", w = Math.floor(5 * Math.random() + .5), r.beginPath(), r.moveTo(n.x + (x - w) * c + (k + b) * a + y * a, n.y + (x - w) * l + (-k + b) * s + y * s), r.lineTo(n.x + (x + w) * c + (-k + b) * a + y * a, n.y + (x + w) * l + (k + b) * s + y * s), r.stroke(), S--, w++;
                b += Math.random() * v * 2
            }
            x += Math.random() * v * 4
        }
    }

    function l(e, t, n) {
        for (var i = null, o = n.length, l = 0; l < o; l++) i = n[l], r(e[1][0], t, i.p1, i.p2, i.desc), a(e[2][0], t, i.p1, i.p2, i.desc), s(e[3][0], t, i.p1, i.p2, i.desc), c(e[4][0], t, i.p1, i.p2, i.desc)
    }

    function p(e, t, n, i, r) {
        var a = {}, s = e.offset(), c = null, p = null;
        "touchstart" === r.type ? (c = r.originalEvent.targetTouches[0].pageX, p = r.originalEvent.targetTouches[0].pageY) : (c = r.pageX, p = r.pageY);
        var u = {x: c - s.left - 5, y: p - s.top - 5};
        a.height = n, a.width = i, a.center = u, a.debug = !0;
        var d = o(a);
        l(t, null, d)
    }

    var u = Math.PI / 180;
    e.exports = p
}, function (e, t, n) {
    e.exports = n.p + "images/glassBreakSound-25f5cf.mp3"
}, function (e, t, n) {
    "use strict";
    var i = n(493), o = n(527), r = n(543), a = n(547), s = n(550), c = n(552), l = n(557), p = n(563), u = n(565),
        d = n(573), m = n(576), f = n(580), g = n(588), h = n(603), v = n(609), y = n(613), b = n(614), x = n(617),
        w = n(621), S = n(625), k = n(629), T = n(657), C = n(660), I = n(661), $ = n(667), E = n(669), P = n(670),
        _ = n(672), q = n(676), O = n(679), A = n(680), j = n(681), L = n(685), F = n(686), M = n(690), J = n(693),
        R = n(696), D = n(699), B = n(703), N = n(705), z = n(706), H = n(708), U = n(710), G = n(716), V = n(719),
        W = n(722), X = n(726), Y = n(729), Q = n(732).EqxTurntable, K = n(750).EqxSmashEgg;
    e.exports = {
        EqxPipButton: Y,
        16: Y,
        EqxPhotoWall: k,
        13: k,
        EqxReward: w,
        11: w,
        EqxRandomContent: P,
        10: P,
        EqxRedPacket: S,
        9: S,
        EqxNewText: $,
        7: $,
        EqxHotNewText: E,
        1: E,
        EqxText: T,
        2: T,
        x: T,
        EqxDeepShare: C,
        298: C,
        EqxReport: I,
        299: I,
        EqxBackground: x,
        3: x,
        EqxImage: o,
        4: o,
        EqxTelephone: u,
        8: u,
        EqxComment: g,
        b: g,
        EqxShape: c,
        h: c,
        EqxCount: h,
        i: h,
        EqxLink: r,
        l: r,
        EqxChart: i,
        t: i,
        EqxVideo: l,
        v: l,
        EqxInteractiveVideo: p,
        o: p,
        EqxImageSlider: s,
        p: s,
        EqxMap: a,
        m: a,
        EqxRandom: f,
        n: f,
        EqxSound: d,
        s: d,
        EqxPv: m,
        d: m,
        EqxAdvertise: b,
        g: b,
        EqxDownTime: v,
        e: v,
        EqxUpTime: y,
        f: y,
        EqxUploadImages: J,
        upload: J,
        EqxScore: j,
        a: j,
        EqxCheckbox: L,
        c: L,
        EqxRadio: F,
        r: F,
        EqxDropDownList: _,
        z: _,
        EqxInput: q,
        5: q,
        501: q,
        EqxInputPhone: A,
        502: A,
        EqxInputEmail: O,
        503: O,
        504: q,
        EqxSubmitButton: M,
        6: M,
        601: M,
        12: R,
        EqxWxNickName: N,
        201: N,
        EqxWxProfile: z,
        401: z,
        EqxWxUploadImage: H,
        403: H,
        EqxWxSoundPlay: D,
        w01: D,
        EqxWxSoundRecord: B,
        w02: B,
        EqxTextVote: U,
        k: U,
        EqxImgVote: G,
        j: G,
        EqxDrawingBoard: V,
        u: V,
        14: X,
        17: W,
        EqxTurntable: Q,
        18: Q,
        EqxSmashEgg: K,
        19: K
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function m(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : m(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(494);
    var c = n(453).$loadChart, l = n(495), p = n(457).toGoodStr, u = n(457).isBadStr, d = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    advanceStyle: {
                        border: !1,
                        shadow: !1,
                        paddingTop: !1,
                        borderWidth: !1,
                        borderRadius: !1,
                        borderStyle: !1,
                        borderColor: !1,
                        boxShadowSize: !1,
                        boxShadowBlur: !1,
                        boxShadowColor: !1,
                        boxShadowDirection: !1
                    }
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r.pieOptions = {
                segmentShowStroke: !1,
                showTooltips: !1,
                scaleFontColor: "#000",
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',
                animation: !1,
                onAnimationComplete: function () {
                    var e = this.chart.ctx, t = this.segments;
                    e.textAlign = "start", e.textBaseline = "middle";
                    for (var n = 0, i = 0; i < t.length; i++) n += parseFloat(t[i].value);
                    e.fillText(n, e.width / 2 - 20, e.height / 2, 100);
                    for (var i = 0; i < t.length; i++) {
                        var o = t[i].startAngle + (t[i].endAngle - t[i].startAngle) / 2,
                            r = (t[i].outerRadius - t[i].innerRadius) / 1.5 + t[i].innerRadius,
                            a = t[i].x + Math.cos(o) * r, s = t[i].y + Math.sin(o) * r;
                        e.textAlign = "center", e.textBaseline = "middle", e.fillStyle = this.options.scaleFontColor, e.font = "normal 12px Helvetica", e.fillText(t[i].value, a, s)
                    }
                }
            }, r.barOptions = {
                showTooltips: !1,
                scaleShowLabels: !0,
                scaleShowGridLines: !1,
                scaleBeginAtZero: !0,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',
                animation: !1,
                onAnimationComplete: function () {
                    var e = this.chart.ctx;
                    e.fillStyle = this.options.scaleFontColor, e.font = "normal 12px Helvetica", e.textAlign = "center", e.textBaseline = "bottom", this.datasets.forEach(function (t) {
                        t.bars.forEach(function (t) {
                            e.fillText(t.value, t.x, t.y)
                        })
                    })
                }
            }, r.lineOptions = {
                showTooltips: !1,
                scaleShowLabels: !0,
                scaleShowGridLines: !1,
                scaleBeginAtZero: !0,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',
                animation: !1,
                onAnimationComplete: function () {
                    var e = this.chart.ctx;
                    e.font = this.scale.font, e.fillStyle = this.options.scaleFontColor, e.textAlign = "center", e.textBaseline = "bottom", this.datasets.forEach(function (t) {
                        t.points.forEach(function (n, i) {
                            0 === i ? e.fillText(n.value, n.x + 10, n.y - 5) : i === t.points.length - 1 ? e.fillText(n.value, n.x - 10, n.y - 5) : e.fillText(n.value, n.x, n.y - 5)
                        })
                    })
                }
            }, r
        }

        return r(t, e), a(t, [{
            key: "create$context", value: function () {
                var e = this.compJson, t = $('<div class="create-chart" id="chart-' + e.id + '"></div>');
                this.perfectJson(e);
                var n = document.createElement("h5");
                n.setAttribute("class", "chart-title"), t.append(n);
                var i = this.canvas = document.createElement("canvas");
                i.id = e.id, i.setAttribute("ctype", e.type), t.append(i);
                var o = document.createElement("div");
                o.id = "legend-" + e.id, t.append(o);
                var r = this;
                return this.initedChart = new Promise(function (t) {
                    c().then(function () {
                        r.initChart(o, i, n, e), t()
                    })["catch"](function (e) {
                        return console.error(e)
                    })
                }), t
            }
        }, {
            key: "perfectJson", value: function (e) {
                function t(e) {
                    n(e), i(e), o(e)
                }

                function n(e) {
                    e && e.chartTitle && (e.chartTitle = p(e.chartTitle))
                }

                function i(e) {
                    e && e.segments && e.segments.length && e.segments.forEach(function (e) {
                        u(e.label) && (e.label = p(e.label))
                    })
                }

                function o(e) {
                    e && e.lengends && e.lengends.length && e.lengends.forEach(function (t, n) {
                        u(t) && (e.lengends[n] = p(t))
                    })
                }

                var r = e.properties;
                n(r), t(r.pieChart), t(r.barChart), t(r.lineChart)
            }
        }, {
            key: "initChart", value: function (e, t, n, i) {
                var o, r = i.properties.chartType, a = t.getContext("2d"), s = parseFloat(i.css.width),
                    c = parseFloat(i.css.height);
                $(t).css("width", s + "px"), $(t).css("height", c / 2 + "px"), t.width = parseInt(window.getComputedStyle(t).width), t.height = parseInt(window.getComputedStyle(t).height), "pie" === r ? o = this.pieChart = this.createPieChart(a) : "bar" === r ? o = this.barChart = this.createBarChart(a) : "line" !== r && "curve" !== r || (o = this.lineChart = this.createLineChart(a, r)), i.properties.chartTitle && (n.innerHTML = i.properties.chartTitle), "pie" === r && i.properties.pieChart && (o = this.pieChart = this.setPieChartView(i, a, o), $(t).data("pieChart", o)), "bar" === r && i.properties.barChart && (o = this.barChart = this.setBarChartView(i, a, o), $(t).data("barChart", o)), "line" !== r && "curve" !== r || !i.properties.lineChart || (o = this.lineChart = this.setLineChartView(i, a, o),
                    $(t).data("lineChart", o)), e.innerHTML = o.generateLegend();
                var l = i.properties.legPosition;
                "position-align" === l ? $(e).addClass("position-align") : "position-right" === l ? $(e).addClass("position-right") : "position-none" === l && $(e).addClass("position-none")
            }
        }, {
            key: "getChartValue", value: function (e) {
                for (var t, n = [], i = [], o = [], r = [], a = "", s = "", c = "", l = "", p = 0; p < e.segments.length; p++) t = e.segments[p], a = isNaN(t.value) || t.value < 0 ? "" : t.value, s = isNaN(t.value1) || t.value1 < 0 ? "" : t.value1, c = isNaN(t.value2) || t.value2 < 0 ? "" : t.value2, l = isNaN(t.value3) || t.value3 < 0 ? "" : t.value3, (t.label || a || s || c || l) && (r.push(t.label), s = a || s, n.push(s), i.push(c), o.push(l));
                return {data1: n, data2: i, data3: o, xLabels: r}
            }
        }, {
            key: "setLineChartView", value: function (e, t, n) {
                var i = e.properties.lineChart, o = this.getChartValue(i), r = [], a = [];
                n.datasets.forEach(function (e) {
                    r.push(e.strokeColor), a.push(e.fillColor)
                });
                var s = {
                    labels: o.xLabels,
                    datasets: [{
                        label: i.lengends[0],
                        fillColor: a[0],
                        strokeColor: r[0],
                        pointColor: r[0],
                        pointStrokeColor: "#fff",
                        data: o.data1
                    }, {
                        label: i.lengends[1],
                        fillColor: a[1],
                        strokeColor: r[1],
                        pointColor: r[1],
                        pointStrokeColor: "#fff",
                        data: o.data2
                    }, {
                        label: i.lengends[2],
                        fillColor: a[2],
                        strokeColor: r[2],
                        pointColor: r[2],
                        pointStrokeColor: "#fff",
                        data: o.data3
                    }]
                }, c = n.options;
                return i.options && i.options.scaleFontColor && (c.scaleFontColor = i.options.scaleFontColor), n.destroy(), n = new Chart(t).Line(s, c), n.datasets.forEach(function (e) {
                    var t = !0;
                    e.points.forEach(function (e) {
                        e.value && (t = !1)
                    }), t ? e.points.length = 0 : e.points.forEach(function (e) {
                        e.value || (e.value = 0)
                    })
                }), n.update(), n
            }
        }, {
            key: "setBarChartView", value: function (e, t, n) {
                var i = n.options, o = e.properties.barChart, r = this.getChartValue(o), a = {
                    labels: r.xLabels,
                    datasets: [{
                        fillColor: o.fillColors[0],
                        strokeColor: "rgba(0,0,0,0)",
                        data: r.data1,
                        label: o.lengends[0]
                    }, {
                        fillColor: o.fillColors[1],
                        strokeColor: "rgba(0,0,0,0)",
                        data: r.data2,
                        label: o.lengends[1]
                    }, {fillColor: o.fillColors[2], strokeColor: "rgba(0,0,0,0)", data: r.data3, label: o.lengends[2]}]
                };
                return o.options && o.options.scaleFontColor && (i.scaleFontColor = o.options.scaleFontColor), n.destroy(), new Chart(t).Bar(a, i)
            }
        }, {
            key: "setPieChartView", value: function (e, t, n) {
                var i = n.options, o = "#000", r = e.properties.pieChart;
                r.options && r.options.scaleFontColor && (o = r.options.scaleFontColor), i.scaleFontColor = o;
                var a = this.getChartValue(r), s = a.data1.map(function (e, t) {
                    return {value: e, color: r.fillColors[t], label: a.xLabels[t]}
                });
                return n.destroy(), new Chart(t).Pie(s, i)
            }
        }, {
            key: "getPixelRatio", value: function (e) {
                var t = e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
                return (window.devicePixelRatio || 1) / t
            }
        }, {
            key: "createPieChart", value: function (e) {
                var t = [{value: 300, color: "#57c7d4", label: "1月"}, {
                    value: 150,
                    color: "#3aa99e",
                    label: "2月"
                }, {value: 100, color: "#f2a654", label: "3月"}, {
                    value: 140,
                    color: "#f96868",
                    label: "4月"
                }, {value: 120, color: "#926dde", label: "5月"}], n = new Chart(e).Pie(t, this.pieOptions);
                return n
            }
        }, {
            key: "createBarChart", value: function (e) {
                var t = {
                    labels: ["1月", "2月", "3月", "4月", "5月"],
                    datasets: [{
                        fillColor: "#62a8ea",
                        strokeColor: "rgba(0,0,0,0)",
                        data: [60, 70, 80, 56, 40],
                        label: "图例1"
                    }, {
                        fillColor: "#926dde",
                        strokeColor: "rgba(0,0,0,0)",
                        data: [80, 56, 40, 93, 112],
                        label: "图例2"
                    }, {
                        fillColor: "#f2a654",
                        strokeColor: "rgba(0,0,0,0)",
                        data: [160, 86, 140, 123, 23],
                        label: "图例3"
                    }]
                }, n = new Chart(e).Bar(t, this.barOptions);
                return n
            }
        }, {
            key: "createLineChart", value: function (e, t) {
                var n = ["rgba(146,109,222,1)", "rgba(87,199,212,1)", "rgba(242,166,84,1)"], i = n.map(function (e) {
                    return e.replace(/[^,]+(?=\))/, "0")
                });
                this.lineOptions.bezierCurve = !1, "curve" === t && (i = i.map(function (e) {
                    return e.replace(/[^,]+(?=\))/, "0.2")
                }), this.lineOptions.bezierCurve = !0);
                var o = {
                    labels: ["1月", "2月", "3月", "4月", "5月"],
                    datasets: [{
                        label: "图例1",
                        fillColor: i[0],
                        strokeColor: n[0],
                        pointColor: n[0],
                        pointStrokeColor: "#fff",
                        data: [28, 24, 40, 19, 27]
                    }, {
                        label: "图例2",
                        fillColor: i[1],
                        strokeColor: n[1],
                        pointColor: n[1],
                        pointStrokeColor: "#fff",
                        data: [123, 132, 146, 118, 189]
                    }, {
                        label: "图例3",
                        fillColor: i[2],
                        strokeColor: n[2],
                        pointColor: n[2],
                        pointStrokeColor: "#fff",
                        data: [201, 232, 256, 215, 278]
                    }]
                }, r = new Chart(e).Line(o, this.lineOptions);
                return r
            }
        }, {
            key: "updateSize", value: function (e, n) {
                var i = parseFloat(n.width), o = parseFloat(n.height), r = this.canvas, a = r.getContext("2d"),
                    c = this.compJson, l = c.properties.chartType, p = null;
                $(r).css("width", i + "px"), $(r).css("height", o / 2 + "px"), r.width = parseInt(window.getComputedStyle(r).width), r.height = parseInt(window.getComputedStyle(r).height), "pie" === l ? p = this.pieChart = this.createPieChart(a) : "bar" === l ? p = this.barChart = this.createBarChart(a) : "line" !== l && "curve" !== l || (p = this.lineChart = this.createLineChart(a, l)), "pie" === l && c.properties.pieChart && (p = this.pieChart = this.setPieChartView(c, a, p), $(r).data("pieChart", p)), "bar" === l && c.properties.barChart && (p = this.barChart = this.setBarChartView(c, a, p), $(r).data("barChart", p)), "line" !== l && "curve" !== l || !c.properties.lineChart || (p = this.lineChart = this.setLineChartView(c, a, p), $(r).data("lineChart", p)), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
            }
        }]), t
    }(l);
    e.exports = d
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function k(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : k(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(496);
    var l = n(114), p = n(497), u = n(452), d = n(468).parse, m = n(165).qiniuZoom, f = n(498), g = n(499), h = n(517),
        v = n(518), y = n(519), b = n(450), x = b.perfectComp, w = n(525), S = function (e) {
            function t(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                o(this, t);
                var i = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return i.$ability = {
                    style: {
                        self: !0,
                        compFont: {
                            self: !1,
                            fontFamily: !1,
                            fontSize: !1,
                            fontColor: !1,
                            baseStyle: !1,
                            lineHeight: !1,
                            letterSpacing: !1
                        },
                        compStyle: {self: !0},
                        commonStyle: {
                            self: !0,
                            title: !0,
                            display: !1,
                            status: !1,
                            size: !0,
                            position: !0,
                            rotate: !0,
                            opacity: !0,
                            align: !0,
                            zIndex: !0
                        },
                        advanceStyle: {
                            self: !0,
                            border: !0,
                            shadow: !0,
                            sizePos: !0,
                            paddingTop: !0,
                            borderWidth: !0,
                            borderRadius: !0,
                            borderStyle: !0,
                            borderColor: !0,
                            boxShadowSize: !0,
                            boxShadowBlur: !0,
                            boxShadowColor: !0,
                            boxShadowDirection: !0,
                            lock: !0,
                            variable: !1
                        }
                    },
                    anim: !0,
                    trigger: {
                        self: !0,
                        click: !0,
                        shake: !0,
                        taphold: !0,
                        slide: !0,
                        mediaCanplay: !0,
                        mediaEnded: !0,
                        mediaPlaying: !0,
                        animStart: !0,
                        animIteration: !0,
                        animEnd: !0
                    },
                    sound: !0,
                    link: !0,
                    flexLine: "n,ne,e,se,s,sw,w,nw,r"
                }, i.compJson = e, i.id = i.compJson.id, i.type = i.compJson.type, i.displayed = !1, "string" == typeof i.compJson.properties && (i.compJson.properties = {}), i.compJson.properties.initType = i.compJson.properties.initType || 0, i.anim = i.compJson.properties.anim || [], i.eqxLayer = n, i.eqxPage = i.eqxLayer.eqxPage, i.eqxScene = i.eqxPage.eqxScene, i.parent = i.eqxPage, i
            }

            return a(t, e), s(t, [{
                key: "getZIndex", value: function () {
                    return this.css.zIndex
                }
            }, {
                key: "setZIndex", value: function (e) {
                    this.css.zIndex = e
                }
            }, {
                key: "isGroupItem", value: function () {
                    return !1
                }
            }, {
                key: "getFtEditableProps", value: function () {
                    var e = this.FtEditableProps,
                        n = c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this);
                    return n.concat([e.color.backgroundColor, e.color.borderColor, e.color.boxShadowColor])
                }
            }, {
                key: "isPropCanEdit", value: function (e) {
                    var t = this.FtEditableProps, n = this.compJson.css;
                    switch (e) {
                        case t.color.backgroundColor:
                            return n.backgroundColor;
                        case t.color.borderColor:
                            return n.borderWidth;
                        case t.color.boxShadowColor:
                            return n.boxShadowSize;
                        case t.link.url:
                            return this.hasTrigger("link");
                        case t.internalLink.internalLink:
                            return this.hasTrigger("page");
                        case t.sound.soundSrc:
                            return this.hasTrigger("sound");
                        case t.telephone.number:
                            return this.hasTrigger("tel")
                    }
                    return !0
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var t = this.FtEditableProps, n = this.compJson.css;
                    switch (e) {
                        case t.content.content:
                            return this.compJson.content;
                        case t.color.color:
                            return n.color;
                        case t.color.backgroundColor:
                            return n.backgroundColor;
                        case t.color.borderColor:
                            return n.borderColor;
                        case t.color.boxShadowColor:
                            return w.parseBoxShadow(n.boxShadow).color;
                        case t.link.url:
                            var i = this.hasTrigger("link");
                            return i ? this.getRawLinkUrl() : "http://";
                        case t.internalLink.internalLink:
                            return i = this.hasTrigger("page"), i ? i.targetContent : this.eqxPage.pageJson.id;
                        case t.sound.soundSrc:
                            return this.compJson.sound;
                        case t.telephone.number:
                            return i = this.hasTrigger("tel"), i ? i.targetContent : 0
                    }
                }
            }, {
                key: "hasTrigger", value: function (e) {
                    var t = this.triggerManager;
                    switch (e) {
                        case"link":
                            return t.findEqxItemTriggerItem(this, "click", "link");
                        case"internalLink":
                        case"page":
                            return t.findEqxItemTriggerItem(this, "click", "page");
                        case"sound":
                        case"video":
                            return t.findEqxItemTriggerItem(this, "click", "play");
                        case"tel":
                            return t.findEqxItemTriggerItem(this, "click", "phone")
                    }
                }
            }, {
                key: "updateJson", value: function (e) {
                    return e = JSON.parse(JSON.stringify(e)), x(e, this.eqxScene.sceneJson, this.eqxPage.pageJson), delete e.id, delete e.num, delete e.pageId, delete e.sceneId, delete e.type, Object.assign(this.compJson, e), this
                }
            }, {
                key: "getAbsolutePos", value: function () {
                    var e = this.css, t = e.width, n = e.height, i = e.top, o = e.left, r = e.transform;
                    return {
                        width: parseFloat(t),
                        height: parseFloat(n),
                        top: parseFloat(i),
                        left: parseFloat(o),
                        transform: r
                    }
                }
            }, {
                key: "isFunTemplate", value: function () {
                    var e = this.findTopGroup();
                    return e !== this && e.isFunTemplate()
                }
            }, {
                key: "toJson", value: function () {
                    return JSON.parse(JSON.stringify(this.compJson))
                }
            }, {
                key: "isEditLock", value: function () {
                    return this.getProp("editLock")
                }
            }, {
                key: "updateDisplayStatus", value: function () {
                }
            }, {
                key: "getImgSrc", value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = this.eqxScene.config.disableQiniuZoom, i = t.width, o = t.height;
                    return n ? m(e) : m(e, i, o)
                }
            }, {
                key: "getName", value: function () {
                    return this.compJson.name || "组件"
                }
            }, {
                key: "getCss", value: function (e) {
                    var t = this.compJson.css;
                    return e ? t[e] : t
                }
            }, {
                key: "toString", value: function () {
                    var e = this.compJson, t = e.pageId, n = e.id, i = e.num;
                    return "page-" + t + "-comp-" + n + "-num-" + i
                }
            }, {
                key: "getProp", value: function (e) {
                    return this.compJson.properties[e]
                }
            }, {
                key: "setProps", value: function (e) {
                    var t = this, n = this.compJson.properties;
                    Object.keys(e).forEach(function (i) {
                        var o = e[i];
                        "sound" === i ? t.compJson.sound = o : null === o || void 0 === o || "" === o ? delete n[i] : n[i] = o
                    })
                }
            }, {
                key: "setProp", value: function (e, t) {
                    this.setProps(i({}, e, t))
                }
            }, {
                key: "update$li", value: function (e) {
                    e && (this.updateCss(e), this.$li && this.$li.css(e))
                }
            }, {
                key: "update$boxDiv", value: function (e) {
                    var t = this;
                    this.updateCss(e), this.$boxDiv.css(e), Object.keys(e).forEach(function (n) {
                        "fontSize" === n && t.$boxDiv.css({"font-size": e[n] + "px"}).find("#" + t.compJson.id).css({"font-size": e[n] + "px"})
                    })
                }
            }, {
                key: "onResize", value: function (e, t, n) {
                }
            }, {
                key: "rotate", value: function (e) {
                    this.onRotate("rotateZ(" + e + "deg)")
                }
            }, {
                key: "getTransform", value: function () {
                    return this.compJson.css.transform || "rotateZ(0)"
                }
            }, {
                key: "updateTransform", value: function (e) {
                    this.compJson.css.transform = e, this.$item.css({transform: e})
                }
            }, {
                key: "updateCss", value: function (e) {
                    if (e) {
                        var t = this.compJson.css;
                        Object.keys(e).forEach(function (n) {
                            t[n] = e[n]
                        })
                    }
                }
            }, {
                key: "updateProp", value: function (e, t) {
                    var n = this.compJson.properties;
                    n[e] = t
                }
            }, {
                key: "updateTranslated3dZ", value: function (e) {
                    this.$li && this.$li.css(e)
                }
            }, {
                key: "updatePos2", value: function (e, t) {
                    throw new Error("updatePos2 deprecated")
                }
            }, {
                key: "updateSize", value: function (e, t) {
                    this.updateCss(t), this.autoSize()
                }
            }, {
                key: "resetStyle", value: function () {
                    var e = {opacity: 1, transform: "rotateZ(0deg)"};
                    this.update$li(e);
                    var t = {
                        fontSize: "24px",
                        color: "#676767",
                        backgroundColor: "",
                        fontWeight: "normal",
                        fontStyle: "normal",
                        textAlign: "left",
                        textDecoration: "none",
                        letterSpacing: 0,
                        borderWidth: 0,
                        borderStyle: "solid",
                        borderColor: "rgba(0,0,0,1)",
                        borderRadius: 0,
                        borderRadiusPerc: 0,
                        borderBottomRightRadius: 0,
                        borderBottomLeftRadius: 0,
                        borderTopRightRadius: 0,
                        borderTopLeftRadius: 0,
                        paddingBottom: 0,
                        paddingTop: 0,
                        boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                        boxShadowDirection: 0,
                        boxShadowSize: 0,
                        transform: "none",
                        opacity: 1
                    };
                    this.update$boxDiv(t)
                }
            }, {
                key: "render", value: function () {
                    if (this.rendered) return this.$li;
                    this.$li && (this.$li.remove(), this.$li = null);
                    var e = this.$li = this.create$li(), t = this.eqxScene.config, n = t.disableCompEvent,
                        i = t.disableTrigger;
                    return n || this.addEventListeners(), i || this.addSoundEvent(), this.rendered = !0, e
                }
            }, {
                key: "create$li", value: function () {
                    function e() {
                        var e = l.GSensor, t = void 0 === e ? {} : e;
                        if (t && t.isUsed && "edit" !== y.mode) {
                            var i = "positive" === t.direction ? t.distance : -t.distance;
                            w.addClass("layer"), w.attr("data-depth", i), console.log("初始化组件重力感应", n)
                        }
                    }

                    function t(e, t) {
                        if (t && t.length) return "";
                        var n = "", i = /rotateZ\((-?\d*\.?\d*)(deg|)\)/.exec(t), o = /translate3d\((.*?)\)/.exec(t);
                        i && i.length && (n += i[0] + " ");
                        var r = e.eqxPage.pageJson, a = r.properties.oneShot, s = void 0 === a ? {} : a,
                            c = e.eqxScene.config, l = e.compJson.properties.translate3dZ;
                        if (s.isOpen && "view" === c.mode) if (o && o.length) var p = /translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),/,
                            u = l ? p.exec(o[0])[0] + l + "px)" : o[0]; else u = "translate3d(0px, 0px, " + -(l || 0) + "px)";
                        return n += u || ""
                    }

                    var n = this, i = n.eqxScene, o = n.compJson, r = o.id, a = o.num, s = o.type, c = o.css,
                        l = o.properties, u = o.sound, m = c.zIndex, f = c.transform, g = c.display, h = c.opacity,
                        v = "string" != typeof f ? "" : f, y = i.config, b = t(n, v), x = n.getAbsolutePos(),
                        w = n.$li = $(d(p, {id: r, num: a, type: s})), S = n.$boxDiv = w.find(".element-box"),
                        k = n.$boxContentDiv = S.find(".element-box-contents"), T = {};
                    l.lock && w.addClass("alock"), w.css({
                        zIndex: m,
                        transform: b,
                        display: g,
                        opacity: h
                    }).attr("abs-pos", "l-" + x.left + "-t-" + x.top + "-w-" + x.width + "-h-" + x.height).attr("eqx-id", r), n._updateSize(), n.addClassToLi(w), S.css(Object.assign({}, c, {
                        width: "100%",
                        height: "100%",
                        transform: "none",
                        fontFamily: "",
                        opacity: "",
                        marginTop: "0px",
                        marginBottom: "0px"
                    }));
                    var C = v.indexOf("rotateX(180deg)") > -1, I = v.indexOf("rotateY(180deg)") > -1;
                    if (c.turnOver || (C && (c.turnOver = "rotateX(180deg)"), I && (c.turnOver = (c.turnOver || "") + " rotateY(180deg)")), T.transform = c.turnOver, k.css(T), u && u.id && "edit" === y.mode && n.addSoundIcon(), this.$contentsDiv = k, this.$context = this.create$context(), k.append(this.$context), ["501", "502", "503", "504"].indexOf(s.toString()) !== -1) i.inputComps = i.inputComps || [], i.inputComps.push(n); else if ("7" === s.toString()) {
                        var E = l["var"];
                        i.newTextComps = i.newTextComps || [], E && E.isUsed && i.newTextComps.push(n)
                    } else if ("upload" === s) i.uploadComps = i.uploadComps || [], i.uploadComps.push(n); else if ("4" === s.toString()) {
                        var P = l["var"];
                        i.imageComps = i.imageComps || [], P && P.isUsed && i.imageComps.push(n)
                    }
                    return e(), w
                }
            }, {
                key: "removeSoundIcon", value: function () {
                    this.$soundIcon && (this.$soundIcon.remove(), this.$soundIcon = null)
                }
            }, {
                key: "addSoundIcon", value: function () {
                    this.removeSoundIcon(), this.$soundIcon = $('<div class="comp-icon eqf-bell-f"></div>'), this.$boxDiv.after(this.$soundIcon)
                }
            }, {
                key: "destroy", value: function () {
                    this.eleHide(), this.$li.remove(), this.$li = null
                }
            }, {
                key: "create$context", value: function () {
                    return $()
                }
            }, {
                key: "addClassToLi", value: function (e) {
                }
            }, {
                key: "addEventListeners", value: function () {
                    this.bindAfterRenderEvent(this.$li, this.compJson), this.addAnimSoundEvent(), this.addInteractiveVideoEvent()
                }
            }, {
                key: "eleHide", value: function () {
                    this.$li && !this.canAddHideIcon() && this.$li.css({display: "none"}), this.$li && this.canAddHideIcon() && this.addHideIcon(), this.soundAgent && this.soundAgent.update(new f("hide")), this.anim && this.anim.length && this.anim.forEach(function (e) {
                        e.sound && e.soundAgent && e.soundAgent.update(new f("stop"))
                    }), this.stopAnimation(), this.flux && this.flux.playing && this.flux.stop()
                }
            }, {
                key: "canAddHideIcon", value: function () {
                    return "edit" === this.eqxScene.config.mode && this.eqxPage.trigger.compHasTrigger(this.eqxPage.pageJson.properties.triggerGroup, this.compJson.id)
                }
            }, {
                key: "addHideIcon", value: function () {
                    this.$hideIcon = $('<div class="comp-icon" style="z-index: 999;"><em style="font-size: 14px" class="eqf-hidden-f"></em></div>'), this.$li.append(this.$hideIcon)
                }
            }, {
                key: "removeHideIcon", value: function () {
                    this.$hideIcon && (this.$hideIcon.remove(), delete this.$hideIcon)
                }
            }, {
                key: "stopAnimation", value: function () {
                    u.stopAnimation(this)
                }
            }, {
                key: "startAnimation", value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.index,
                        n = e.maxCount;
                    if (e.reset) var i = this, o = function () {
                        i.stopAnimation()
                    };
                    u.startAnimation(this, {animIndex: t, maxCount: n, callback: o})
                }
            }, {
                key: "previewAnimation", value: function (e) {
                    e && u.previewAnimation(this, e)
                }
            }, {
                key: "eleShow", value: function () {
                    if (this.eqxScene.config.disableCompAnim) {
                        var e = this.compJson.properties.anim || [];
                        e[0] && "typer" === e[0].type && this.$context.css({opacity: 1})
                    } else this.startAnimation();
                    this.$li && this.$li.css({display: "block"}), this.$li && this.canAddHideIcon() && this.removeHideIcon(), this.flux && this.compJson.properties.autoPlay && (this.flux.stop(), this.flux.start())
                }
            }, {
                key: "addInteractiveVideoEvent", value: function () {
                    "o" === this.compJson.type && this.compJson.src && (this.interactiveVideoAgent = new v(this, this.eqxScene.soundManager))
                }
            }, {
                key: "getLinkUrl", value: function (e) {
                    return /eqs\/link\?id=\d+&url=/.test(e) ? e : (/^http:|^https:|^ftp:/.test(e) || (e = "http://" + e), l.SERVER_1 + "eqs/link?id=" + this.eqxScene.meta.id + "&url=" + encodeURIComponent(e))
                }
            }, {
                key: "getRawLinkUrl", value: function () {
                    var e = this.hasTrigger("link");
                    if (e) {
                        var t = e.targetContent, n = /eqs\/link\?id=\d+&url=/.exec(t);
                        if (n) {
                            var i = t.substr(n[0].length + n.index);
                            return decodeURIComponent(i)
                        }
                    }
                }
            }, {
                key: "addSoundEvent", value: function () {
                    this.compJson.sound && (this.soundAgent = new g(this, this.eqxScene.soundManager))
                }
            }, {
                key: "addAnimSoundEvent", value: function () {
                    var e = this, t = this.anim;
                    t && t.length && t.forEach(function (t) {
                        t.sound && (t.soundAgent = new h(e, t, e.eqxScene.soundManager))
                    })
                }
            }, {
                key: "autoAdjustSize", value: function () {
                    return {}
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                }
            }, {
                key: "$item", get: function () {
                    return this.$li
                }
            }, {
                key: "css", get: function () {
                    return this.compJson.css
                }
            }, {
                key: "zIndex", get: function () {
                    return this.css.zIndex
                }, set: function (e) {
                    return this.css.zIndex = e, e
                }
            }, {
                key: "isEditLocked", get: function () {
                    var e = this.compJson || {}, t = e.properties;
                    return t.editLock
                }, set: function (e) {
                    var t = this.compJson || {}, n = t.properties;
                    n.editLock = e
                }
            }, {
                key: "initType", get: function () {
                    var e = this.compJson || {}, t = e.properties;
                    return t.initType
                }, set: function (e) {
                    var t = this.compJson || {}, n = t.properties;
                    n.initType = e
                }
            }]), t
        }(y);
    e.exports = S
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li id="inside_#{id}" num="#{num}" ctype="#{type}" class="item item-comp" style="position: absolute"><div class="element-box" style="width: 100%; height: 100%"><div class="element-box-contents" style="width: 100%; height: 100%"></div></div></li>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function o(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        n(this, o), this.type = e, this.data = t
    };
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(176).resolveUrl, c = n(114), l = n(500), p = n(175).mobilecheck, u = n(175).isWeixin,
        d = n(501).getWxJSSDK, m = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.manager = n, r.soundJson = r.master.compJson.sound, r.type = 1, r.init(), r.register(), u() && (r.wxJssdk = d()), r
            }

            return r(t, e), a(t, [{
                key: "init", value: function () {
                    this.audio = new window.Audio, this.audio.src = s(c.FILE, this.soundJson.src)
                }
            }, {
                key: "update", value: function (e) {
                    switch (e.type) {
                        case"stop":
                        case"hide":
                            this.stopPlay();
                            break;
                        case"down":
                            this.audio.volume = .1;
                            break;
                        case"restore":
                            this.audio.volume = 1;
                            break;
                        case"reset":
                            this.audio.currentTime = 0
                    }
                }
            }, {
                key: "addEventListeners", value: function () {
                    var e = this, t = p() ? "touchend" : "click";
                    this.master.$li.on(t, function () {
                        return e.audio.paused ? e.startPlay() : e.stopPlay()
                    }), $(this.audio).on("ended", function () {
                        return e.manager.onEnd(e)
                    })
                }
            }, {
                key: "startPlay", value: function () {
                    if (this.audio.paused) {
                        var e = this;
                        u() ? this.wxJssdk.then(function () {
                            wx.checkJsApi({
                                jsApiList: ["checkJsApi"], success: function () {
                                    e.audio.play()
                                }
                            })
                        }) : this.audio.play(), this.manager.onPlay(this)
                    }
                }
            }, {
                key: "stopPlay", value: function () {
                    this.audio.paused || (this.audio.pause(), this.manager.onEnd(this))
                }
            }]), t
        }(l);
    e.exports = m
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e(t, i) {
            n(this, e), this.master = t, this.manager = i
        }

        return i(e, [{
            key: "register", value: function () {
                this.manager.add(this)
            }
        }, {
            key: "deregister", value: function () {
                this.manager.remove(this)
            }
        }, {
            key: "update", value: function (e) {
            }
        }]), e
    }();
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (v = "", y = e.obj.name, b = T.FILE + e.obj.cover, F = e.obj.description || "我用易企秀做了一个超酷炫的H5，快来看看吧。", S = e.obj.property, x = e.obj.dsAppId || "", w = t, S.shareDes && "string" == typeof S.shareDes) {
            var n = S.shareDes;
            S.shareDes = {description: {type: "position", description: n}}
        }
        if (!S.shareDes) return l();
        S.shareDes.avatar && (b = M.headimgurl);
        var i = e.obj.id;
        o(S.shareDes, i).then(function () {
            return l()
        })["catch"](function (e) {
            return console.error(e)
        })
    }

    function o(e, t) {
        var n = function () {
            return Promise.resolve(null)
        }, i = function () {
            return Promise.resolve(null)
        };
        return e.title && e.title.type && (n = function () {
            return a(e.title, t).then(function (e) {
                y = e
            })
        }), e.description && e.description.type && (i = function () {
            return a(e.description, t).then(function (e) {
                F = e
            })
        }), n().then(function () {
            i()
        })
    }

    function r(e) {
        return void 0 !== k ? Promise.resolve(k) : _(e).then(function (e) {
            return k = e || ""
        })["catch"](function () {
            return k = ""
        })
    }

    function a(e, t) {
        var n = "";
        return new Promise(function (i, o) {
            switch (e.type) {
                case"myself":
                    n += "我是" + M.nickname + "," + e.description, i(n);
                    break;
                case"position":
                    r(t).then(function (t) {
                        n += "我是第" + t + "位" + e.description, i(n)
                    });
                    break;
                case"selfAndPosition":
                    r(t).then(function (t) {
                        n += "我是" + M.nickname + ", 我是第" + t + "位 " + e.description, i(n)
                    })
            }
        })
    }

    function s() {
        v = Date.now() + "" + Math.floor(1e5 * Math.random()), w = $("userKey", v, w), l()
    }

    function c(e, t) {
        w = e, w = $("compKey", t, w), l()
    }

    function l() {
        function e() {
            var e = j();
            e && e.shareCover ? O() : window.scene && window.scene.ext && window.scene.ext.yqc && window.scene.ext.yqc.ad && L(window.scene.id)
        }

        g().then(function () {
            var t = E("toPage", w), n = x ? DS.linkChange(t) : t;
            window._tracker_api_ && (n = window._tracker_api_.getShareUrl(n)), wx.onMenuShareTimeline({
                title: y,
                link: n,
                desc: F,
                imgUrl: b,
                success: function () {
                    x && DS.sendRepost("appMessage"), window._tracker_api_.share("timeline"), p(), e()
                },
                cancel: function () {
                }
            }), wx.onMenuShareAppMessage({
                title: y, desc: F, link: n, imgUrl: b, success: function () {
                    x && DS.sendRepost("appMessage"), window._tracker_api_.share("message"), p(t), e()
                }, cancel: function () {
                }
            }), wx.onMenuShareQQ({
                title: y, desc: F, link: n, imgUrl: b, success: function () {
                    window._tracker_api_.share("qq"), e()
                }, cancel: function () {
                }
            }), wx.onMenuShareWeibo({
                title: y, desc: F, link: n, imgUrl: b, success: function () {
                    window._tracker_api_.share("weibo"), e()
                }, cancel: function () {
                }
            }), wx.onMenuShareQZone({
                title: y, desc: F, link: n, imgUrl: b, success: function () {
                    window._tracker_api_.share("qzone")
                }, cancel: function () {
                }
            })
        })
    }

    function p(e) {
        if (v) {
            var t = {userKey: v};
            M && M.headimgurl && (J.shareUserHeader = M.headimgurl), M && M.nickname && (J.shareUserName = M.nickname), t.data = JSON.stringify(J), P(t)["catch"](function (e) {
                q(JSON.stringify(e))
            })
        }
    }

    function u(e) {
        Object.assign(M, e)
    }

    function d() {
        return M
    }

    function m(e) {
        J = e
    }

    function f(e, t) {
        J[e] = t
    }

    function g() {
        return A.initWx()
    }

    function h(e, t) {
        var n = window.location.href.split("?")[0], i = I("userKey", window.location.href),
            o = I("toPage", window.location.href), r = I("compKey", window.location.href), a = e || C;
        i && (n = $("userKey", i, n)), o && (n = $("toPage", o, n)), r && (n = $("compKey", r, n));
        var s = T.SERVER_1 + "eqs/wx/user/info";
        e && (s = $("userId", t, s)), window.location.href = "https://open.weixin.qq.com/connect/oauth2/authorize?appid=" + a + "&redirect_uri=" + encodeURIComponent(s) + "&response_type=code&scope=snsapi_userinfo&state=" + encodeURIComponent(n) + "#wechat_redirect"
    }

    var v, y, b, x, w, S, k, T = n(114), C = n(116).APP_ID, I = n(176).getUrlParam, $ = n(176).addUrlParam,
        E = n(176).removeUrlParam, P = n(502).$postWxComp, _ = n(503).$getPvCount, q = n(504).popUpModal,
        O = n(504).popShareModal, A = n(513), j = n(506).getSharePopConfig, L = n(515).popAdShareModal, F = "", M = {},
        J = {};
    e.exports = {
        initWeChat: i,
        shareWidthSDK: l,
        setWeChatUser: u,
        getWeChatUser: d,
        setWxCompData: m,
        saveWxCompData: f,
        generateUserKey: s,
        getWxJSSDK: g,
        hrefToWxAuth: h,
        addCompKey: c
    }
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return s({type: "POST", url: c.SERVER_1 + "eqs/wx/component", data: e})
    }

    function o(e) {
        var t = {};
        return /eqxiu\.cn/.test(l(window.location.href)) && (t.userId = e), s({
            type: "GET",
            url: c.SERVER_1 + "eqs/wx/user/cache",
            data: t
        })
    }

    function r() {
        var e = l(window.location.href), t = "eqs/wx/ticket?time=" + Date.now(),
            n = [/eqxiu\.com/, /eqh5\.cn/, /eqxiu\.cc/, /eqshow\.cn/, /yqxiu\.cn/];
        return n.some(function (t) {
            return t.test(e)
        }) || (t += /eqxiu\.cn/.test(e) ? "&domain=eqxiu.cn" : "&domain=" + e), console.log("getWxTicket", t), s({
            type: "GET",
            url: c.SERVER_1 + t
        })
    }

    function a(e) {
        return s({type: "GET", url: c.SERVER_1 + "eqs/wx/get-wechat-appid", data: {userId: e}}).then(function (e) {
            return e.obj
        })
    }

    var s = n(166).ajax, c = n(114), l = n(176).getUrlHost;
    e.exports = {$postWxComp: i, $getUserWxInfo: o, $getWxTicket: r, $getWxAppId: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return r({type: "GET", url: a.SERVER_1 + "eqs/scene/pv?sceneId=" + e})
    }

    function o(e) {
        var t = e.id, n = e.param, i = e.ad, o = a.SERVER_1 + "eqs/pv/" + t;
        return n && (o += "?1=1", o += /\?.*/.test(n) ? "&" + n.substring(1) : /&.*/.test(n) ? n : "&" + n), o += (/\?/.test(o) ? "&" : "?") + "ad=" + i, r({
            type: "GET",
            url: o
        })
    }

    var r = n(166).ajax, a = n(114);
    e.exports = {$getPvCount: i, $postPVCount: o}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = $('<div class="pop-up-box">\n                        <div class="pop-up-form">\n                            <div class="pop-up-content">\n                                <span class="pop-up-msg">' + e + '</span>\n                            </div>\n                            <div class="pop-up-btn"><a class="pop-up-btn-close">关闭</a></div>\n                        </div>\n                    </div>');
        $(".main-page.z-current").not(".editor-section").prepend(t);
        var n = $(".pop-up-btn");
        n.on("click", function () {
            t.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return t.remove()
                }
            })
        })
    }

    function o() {
        var e = r(), t = s(e.coverLink), n = a.FILE + e.shareCover,
            i = $('<div class="pop-up-box">\n                        <div class="pop-share-form">\n                            <div class="pop-share-content">\n                                <a href="' + t + '">\n                                 <img style="width:250px;height:360px;" src="' + n + '">\n                                </a>\n                            </div>\n                            <div class="pop-share-btn"><span class="eqf-no-l"></span></div>\n                        </div>\n                    </div>');
        $(".main-page.z-current").not(".editor-section").prepend(i);
        var o = $(".pop-share-btn");
        o.on("click", function () {
            i.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return i.remove()
                }
            })
        })
    }

    n(505);
    var r = n(506).getSharePopConfig, a = n(114), s = n(176).addProtocol;
    e.exports = {popUpModal: i, popShareModal: o}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = void 0, n = e.isTemplate, i = e.bizType;
        n && 3 !== n && 4 !== n ? 1 === n ? t = 12 : 2 === n && (t = 22) : t = i ? 40 == i ? 31 : 21 : 11;
        var a = window.location.host, s = r(a), c = "b";
        return c = d() ? "b" : m() ? "c" : "a", new Promise(function (e) {
            u(t, s, c).then(function (t) {
                var i = t.map.logo;
                h = t.map.tail, t.map.share && (y = {
                    link: t.map.share.backLink,
                    domains: t.map.share.domains
                }, f() || !window.scene || 0 === window.scene.property.eqAdType || window.scene.property.loadingLogo || 1 === n || 2 === n || window.location.href.indexOf("scene.eqxiu.com") !== -1 || (v = {
                    shareCover: t.map.share.shareCover,
                    coverLink: t.map.share.coverLink
                })), window.scene && window.scene.ext && window.scene.ext.yqc && window.scene.ext.yqc.ad ? l() : y && y.domains && y.domains.indexOf(s) > -1 && y.link && !f() && window.scene && 0 !== window.scene.property.eqAdType && !window.scene.property.loadingLogo && 1 !== n && 2 !== n && window.location.href.indexOf("scene.eqxiu.com") === -1, i && o(i), e()
            })["catch"](function (t) {
                console.log(t), e()
            })
        })
    }

    function o() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = $(".loading");
        if (e.backgroundSrc && t.css({
            backgroundImage: "url('" + (p.FILE + e.backgroundSrc) + "')",
            backgroundColor: "none",
            backgroundRepeat: "no-repeat",
            backgroundSize: "cover",
            backgroundPosition: "center"
        }), e.logoSrc) {
            var n = t.find(".loadbg");
            n.css({
                backgroundImage: "url('" + (p.FILE + e.logoSrc) + "')",
                backgroundRepeat: "no-repeat",
                backgroundSize: "contain",
                backgroundPosition: "center",
                width: "70px",
                height: "70px"
            }), e.logoLink && n.click(function () {
                window.location.href = e.logoLink
            })
        }
        if (e.brandSrc) {
            var i = $('<div class="loading-brand"></div>').appendTo(t);
            i.css({
                backgroundImage: "url('" + (p.FILE + e.brandSrc) + "')",
                backgroundRepeat: "no-repeat",
                backgroundSize: "cover",
                backgroundPosition: "center",
                width: "100%",
                height: "40px",
                position: "absolute",
                left: "0",
                bottom: "0",
                zIndex: "9999"
            }), e.brandLink && i.click(function () {
                window.location.href = e.logoLink
            })
        }
    }

    function r() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.host, t = void 0;
        return t = window.scene && window.scene.ext && window.scene.ext.yqc && window.scene.ext.yqc.ad ? 1 : e.indexOf(p.EQX_TG) !== -1 ? 2 : e.indexOf(p.EQX_VIP_DOMAIN) !== -1 ? 4 : e.indexOf(p.EQX_APP_DOMAIN) !== -1 ? 5 : e.indexOf(p.EQX_COMPANY_DOMAIN) !== -1 ? 3 : e.indexOf(p.EQX_NO_BUSINESS_DOMAIN) !== -1 ? 7 : e.indexOf(p.EQX_BATCH_SCENES_DOMAIN) !== -1 ? 8 : 6
    }

    function a() {
        return new Promise(function (e) {
            return e(h)
        })
    }

    function s() {
        return v
    }

    function c() {
        return y
    }

    function l() {
        var e = window.location.href, t = window.scene.id, n = /singlemessage|groupmessage|timeline/;
        n.test(e) && g(t)
    }

    var p = n(114), u = n(507).$getLoadPageConfig, d = n(175).isWeixin, m = n(175).mobilecheck,
        f = (n(176).getPathName, n(175).isApp), g = n(508).setAd, h = null, v = null, y = null;
    e.exports = {customLoadPage: i, getLastPageConfig: a, getSharePopConfig: s, getButtonConfig: c, getDomainType: r}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return n = n || "b", window._configure && window._configure[n] ? Promise.resolve({map: window._configure[n]}) : a({
            type: "GET",
            url: s.SERVER_1 + "eqs/scene/skin/get/page",
            data: {type: e, domain: t, platform: n}
        })
    }

    function o(e) {
        return a({type: "GET", url: s.SERVER_2 + "eqs/trailer/" + e})
    }

    function r(e) {
        return e ? o(e).then(function (e) {
            return e.obj ? (e.obj.isActivity = !0, e.obj) : Promise.reject("活动尾页数据错误")
        }) : Promise.reject("没有活动尾页 ID")
    }

    var a = n(166).$ajax, s = n(114);
    e.exports = {$getPageInfo: o, $getActivityPage: r, $getLoadPageConfig: i}
}, function (e, t, n) {
    "use strict";

    function i() {
        $(".ad-modal-wx").css({top: "0px"}), $(".ad-modal-wx-box").addClass("ad-wx-slideInDown")
    }

    function o(e) {
        a(e).then(function (e) {
            if (e.success) {
                var t = e.list[0].scenePageDTO, n = e.list[0].adCode;
                if (t) {
                    var i = t.elements.find(function (e) {
                            return "g" === e.type
                        }), o = i.css.height, r = i.css.width,
                        a = $('<div class="ad-modal-wx">\n                          <div class="ad-modal-wx-box">\n                          <div class="dog-gif "></div>\n                          <div class="ad-modal-content"></div>\n                          <div class="ad-close-btn"></div>\n                          </div>\n                      </div>');
                    $(".p-index.main").not(".editor-section").prepend(a), $(".ad-modal-content").css({
                        width: r,
                        height: o,
                        "margin-left": -r / 2
                    }), n.indexOf("gdt-native-template") > -1 && $(".ad-modal-content").append('<div id="gdt-native-template"></div>'), $(".ad-modal-content").append(n);
                    var s = $(".ad-close-btn");
                    s.on("click", function () {
                        a.animate({opacity: 0}, {
                            duration: 300, complete: function (e) {
                                return a.remove()
                            }
                        })
                    })
                }
            }
        })
    }

    function r(e) {
        function t() {
            var e = {title: "title", url: "#"};
            window.history.pushState(e, "title", "#")
        }

        var n = 112643717;
        a(e).then(function (e) {
            if (e.success) {
                var t = e.list[0].adPositionId;
                n = p[t] || 112643717, o(n)
            }
        }), t();
        var r = !1;
        window.addEventListener("message", function (e) {
            e.data.msg && "adIsShowed" === e.data.msg && (r = !0)
        }), window.addEventListener("popstate", function () {
            return r ? void window.history.back() : void i()
        }, !1)
    }

    function a(e) {
        var t = c.SERVER_1 + "adview/scenePage/find?sceneId=" + e,
            n = t.replace(/http:\/\//g, window.location.protocol + "//");
        return l({type: "GET", url: n})
    }

    function s(e, t, n, i) {
        var o = c.TRACK + "p.gif?", r = encodeURIComponent, a = document,
            s = {order_no: e, task_id: t, scene_id: n, exposure_type: i};
        o += "data=" + r(JSON.stringify(s));
        var l = a.createElement("img");
        $(l).attr({src: o, width: 0, height: 0}), a.body.appendChild(l)
    }

    n(509);
    var c = n(114), l = n(166).$ajax, p = n(512).AD_POSITION_ID;
    e.exports = {adModal: i, setAd: r, viewData: s, getSceneAdTpl: a}
}, function (e, t) {
}, , , function (e, t) {
    "use strict";
    var n = {1: 116954426, 2: 116954202, 3: 116954311, 1060: 116954514, 1107: 116954060, 1129: 116953857};
    e.exports = {AD_POSITION_ID: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        window.location.href = "https://open.weixin.qq.com/connect/oauth2/authorize?appid=" + e + "&redirect_uri=" + encodeURIComponent(t + "eqs/rel-account/wechat-mp?appId=" + e) + "&response_type=code&scope=snsapi_userinfo&state=" + encodeURIComponent(n) + "#wechat_redirect"
    }

    function o(e) {
        var t = ["yqh5.cn", "yqh5.com", "eqh5.cn", "scene.eqxiu.tv", "scene.eqxiu.mobi", "divh5.com", "divh5.cn", "divh5.com.cn", "divh5.net", "meih5.com", "meih5.cn", "meih5.net"],
            n = null;
        return t.forEach(function (t) {
            e.indexOf(t) > -1 && (n = t)
        }), n
    }

    function r(e) {
        if (document.title = e, /ip(hone|od|ad)/i.test(navigator.userAgent)) {
            var t = document.createElement("iframe");
            t.src = "http://lib.eqh5.com/favicon.ico", t.style.display = "none", t.onload = function () {
                setTimeout(function () {
                    t.remove()
                }, 9)
            }, document.body.appendChild(t)
        }
    }

    function a() {
        function e() {
            WeixinJSBridge.invoke("setFontSizeCallback", {fontSize: 0}), WeixinJSBridge.on("menu:setfont", function () {
                WeixinJSBridge.invoke("setFontSizeCallback", {fontSize: 0})
            })
        }

        S() && k() && ("object" == ("undefined" == typeof WeixinJSBridge ? "undefined" : f(WeixinJSBridge)) && "function" == typeof WeixinJSBridge.invoke ? e() : document.addEventListener ? document.addEventListener("WeixinJSBridgeReady", e, !1) : document.attachEvent && (document.attachEvent("WeixinJSBridgeReady", e), document.attachEvent("onWeixinJSBridgeReady", e)))
    }

    function s() {
        var e = x(window.location.href), t = "eqs/wx/ticket?time=" + Date.now(), n = o(e);
        return q.some(function (t) {
            return t.test(e)
        }) || (/eqxiu\.cn/.test(e) ? (t += "&domain=eqxiu.cn", t += "&userId=" + window.scene.userId) : t += n ? "&domain=" + n : "&domain=" + e), g({
            type: "GET",
            url: h.SERVER_1 + t
        })
    }

    function c() {
        var e = "api/wx/get-jsticket?time=" + Date.now() + "&appId=" + P.APP_ID_WAP;
        return console.log("getWxTicket2", e), g({type: "GET", url: h.WAP_SERVER + e}).then(function (e) {
            return e && e.obj ? {
                obj: {
                    appId: P.APP_ID_WAP,
                    ticket: e.obj
                }
            } : Promise.reject("无微信 ticket: " + P.APP_ID_WAP)
        })
    }

    function l(e) {
        return new Promise(function (t, n) {
            wx.chooseWXPay({
                timestamp: e.timeStamp,
                nonceStr: e.nonceStr,
                "package": e.packageName,
                signType: e.signType,
                paySign: e.paySign,
                success: function (e) {
                    t(e)
                },
                cancel: function (e) {
                    n(e)
                }
            })
        })
    }

    function p(e) {
        return new Promise(function (t, n) {
            console.log("微信jssdk init"), u().then(function () {
                console.log("微信jssdk chooseWXPay");
                var i = e["package"];
                i.startsWith("prepay_id=") || (i = "prepay_id=" + i), wx.chooseWXPay({
                    timestamp: e.timeStamp,
                    nonceStr: e.nonceStr,
                    "package": i,
                    signType: e.signType,
                    paySign: e.paySign,
                    success: function (e) {
                        t()
                    },
                    cancel: function () {
                        n("充值失败")
                    }
                })
            })
        })
    }

    function u() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = 2 === e.ticket ? c : s;
        return O ? O : O = Promise.all([y(), t(), b()]).then(function (e) {
            var t = e[1].obj, n = t.appId, i = t.ticket;
            return new Promise(function (e, t) {
                if (n && i && i !== -1) {
                    var o = location.href.split("#")[0],
                        r = (Date.now(), "jsapi_ticket=" + i + "&noncestr=" + $ + "&timestamp=" + E + "&url=" + o),
                        a = new jsSHA("SHA-1", "TEXT");
                    a.update(r);
                    var s = a.getHash("HEX");
                    console.log("wx config appId " + n + ", sign " + r + ", hash " + s), console.log(E), console.log($), wx.config({
                        debug: !1,
                        appId: n,
                        timestamp: E,
                        nonceStr: $,
                        signature: s,
                        jsApiList: ["chooseWXPay", "checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "chooseImage", "previewImage", "getLocalImgData", "uploadImage", "downloadImage", "startRecord", "addCard", "stopRecord", "onVoiceRecordEnd", "playVoice", "pauseVoice", "stopVoice", "onVoicePlayEnd", "uploadVoice", "downloadVoice"]
                    }), wx.ready(function () {
                        e()
                    })
                } else t()
            })
        })
    }

    function d() {
        return O ? O : O = Promise.all([y(), c(), b()]).then(function (e) {
            var t = e[1].obj, n = t.appId, i = t.ticket;
            return new Promise(function (e, t) {
                if (n && i && i !== -1) {
                    var o = location.href.split("#")[0], r = "eqxiuview", a = Date.now(),
                        s = "jsapi_ticket=" + i + "&noncestr=" + r + "&timestamp=" + a + "&url=" + o,
                        c = new jsSHA("SHA-1", "TEXT");
                    c.update(s);
                    var l = c.getHash("HEX");
                    console.log("wx config appId " + n + ", sign " + s + ", hash " + l), wx.config({
                        debug: !1,
                        appId: n,
                        timestamp: a,
                        nonceStr: r,
                        signature: l,
                        jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "chooseImage", "previewImage", "getLocalImgData", "uploadImage", "downloadImage", "startRecord", "stopRecord", "onVoiceRecordEnd", "playVoice", "pauseVoice", "stopVoice", "onVoicePlayEnd", "uploadVoice", "downloadVoice"]
                    }), wx.ready(function () {
                        e()
                    })
                } else t()
            })
        })
    }

    function m(e) {
        var t = e.title, n = e.desc, i = e.link, o = e.imgUrl, r = e.success, a = e.cancel, s = e.opts;
        return u(s).then(function () {
            wx.onMenuShareTimeline({
                title: t, link: i, imgUrl: o, success: function () {
                    C(r) && r()
                }, cancel: function () {
                    C(a) && a()
                }
            }), wx.onMenuShareAppMessage({
                title: t, desc: n, link: i, imgUrl: o, success: function () {
                    C(r) && r()
                }, cancel: function () {
                    C(a) && a()
                }
            }), wx.onMenuShareQQ({
                title: t, desc: n, link: i, imgUrl: o, success: function () {
                    C(r) && r()
                }, cancel: function () {
                    C(a) && a()
                }
            }), wx.onMenuShareWeibo({
                title: t, desc: n, link: i, imgUrl: o, success: function () {
                    C(r) && r()
                }, cancel: function () {
                    C(a) && a()
                }
            }), wx.onMenuShareQZone({
                title: t, desc: n, link: i, imgUrl: o, success: function () {
                    C(r) && r()
                }, cancel: function () {
                    C(a) && a()
                }
            })
        })
    }

    var f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }, g = n(166).ajax, h = n(114), v = n(453), y = v.$loadJWeixin, b = v.$loadSHA, x = n(176).getUrlHost, w = n(175),
        S = w.isWeixin, k = w.isAndroid, T = n(514), C = T.isFunction, I = n(116), $ = I.wxNonceStr, E = I.wxTimestamp,
        P = n(116), _ = n(116), q = (_.APP_ID, [/eqxiu\.com/, /eqxiu\.cc/, /eqshow\.cn/, /yqxiu\.cn/]), O = null;
    e.exports = {
        register: i,
        disableWxFontSize: a,
        setDocumentTitle: r,
        initWx: u,
        initWx2: d,
        setWxShareInfo: m,
        wxPay: l,
        wxPay2: p
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        return e && "function" == typeof e
    }

    function i() {
    }

    function o(e, t, n) {
        var i, o = null;
        return function () {
            var r = this, a = arguments, s = +new Date;
            clearTimeout(o), i || (i = s), s - i >= n ? (e.apply(r, a), i = s) : o = setTimeout(function () {
                e.apply(r, a)
            }, t)
        }
    }

    e.exports = {isFunction: n, noop: i, throttle: o}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        r(e).then(function (e) {
            if (e.success) {
                var t = e.list[0];
                a(118427790).then(function (e) {
                    if (e.success) {
                        var n = e.list[0].adCode;
                        o(t, n)
                    }
                })
            }
        })
    }

    function o(e, t) {
        var n = $('<div class="ad-share-modal">\n        <div class="ad-share-box ad-share-slideInDown">\n            <div class="ad-share-content">\n                <div class="ad-share-recommend">\n                    <a style="display: block;overflow: hidden;color: #000;" id="recommendSceneUrl" target="_blank">\n                        <img src="" width="100" height="100" class="recommend-cover" id="recommendSceneCover">\n                        <span class="recommend-title" id="recommendTitle"></span>\n                    </a>\n                </div>\n                <div class="ad-share-container" id="ad-share-container">\n                    <div id="share_modal_ad" style="width: 100%;height: 100%;">\n                    </div>\n                </div>\n                <div class="ad-share-more">\n                    <a class="share-more-btn" href="http://m.eqxiu.com/s/hV5SUm4u" target="_blank">查看更多</a>\n                </div>\n            </div>\n            <div class="ad-share-close-btn"></div>\n        </div>\n    </div>');
        $(".main-page.z-current").not(".editor-section").prepend(n), $("#recommendSceneCover")[0].src = l.FILE + e.cover, $("#recommendSceneUrl")[0].href = l.VIEW_HOST + "s/" + e.code, $("#recommendTitle").text(e.name), $("#ad-share-container").append(t);
        var i = $(".ad-share-close-btn");
        i.on("click", function () {
            n.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return n.remove()
                }
            })
        })
    }

    function r(e) {
        var t = l.SERVER_1 + "adview/scene/recommend?sceneId=" + e,
            n = t.replace(/http:\/\//g, window.location.protocol + "//");
        return c({type: "GET", url: n})
    }

    function a(e) {
        var t = l.SERVER_1 + "adview/scenePage/find?sceneId=" + e,
            n = t.replace(/http:\/\//g, window.location.protocol + "//");
        return c({type: "GET", url: n})
    }

    function s(e) {
        p(e).then(function (t) {
            if (t.success) {
                var n = t.list[0].adPositionId;
                1 === n && i(e)
            }
        })
    }

    n(516);
    var c = n(166).$ajax, l = n(114), p = n(508).getSceneAdTpl;
    e.exports = {adSharePop: i, popAdShareModal: s}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(500), c = n(176).resolveUrl, l = n(114), p = function (e) {
        function t(e, n, r) {
            i(this, t);
            var a = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, r));
            return a.manager = r, a.soundJson = n.sound, a.type = 2, a.init(), a.addEventListeners(), a.register(), a
        }

        return r(t, e), a(t, [{
            key: "init", value: function () {
                this.audio = new Audio, this.audio.src = c(l.FILE, this.soundJson.path), this.audio.loop = !0
            }
        }, {
            key: "startPlay", value: function () {
                this.audio.paused && (this.audio.play(), this.manager.onPlay(this))
            }
        }, {
            key: "stopPlay", value: function () {
                this.audio.paused || (this.audio.pause(), this.audio.currentTime = 0, this.manager.onEnd(this))
            }
        }, {
            key: "addEventListeners", value: function () {
                var e = this;
                $(e.audio).on("AnimSound.start", function (t, n) {
                    e.startPlay()
                }).on("AnimSound.end", function (t, n) {
                    e.stopPlay()
                })
            }
        }, {
            key: "update", value: function (e) {
                switch (e.type) {
                    case"stop":
                        this.stopPlay();
                        break;
                    case"play":
                        this.startPlay();
                        break;
                    case"down":
                        this.audio.volume = .1;
                        break;
                    case"restore":
                        this.audio.volume = 1
                }
            }
        }]), t
    }(s);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(500), c = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return r.manager = n, r.compJson = r.master.compJson, r.type = 5, r.addEventListeners(), r.register(), r
        }

        return r(t, e), a(t, [{
            key: "addEventListeners", value: function () {
                var e = this;
                this.master.$context.on("ended", function () {
                    e.end()
                })
            }
        }, {
            key: "play", value: function () {
                this.master.$context[0].play(), this.manager.onPlay(this)
            }
        }, {
            key: "end", value: function () {
                this.master.$context[0].pause(), this.manager.onEnd(this)
            }
        }]), t
    }(s);
    e.exports = c
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(520), a = n(521), s = n(522), c = n(523), l = c.FtEditableProps, p = n(524), u = function () {
        function e() {
            i(this, e), this.eqxLayer = null, this.parent = null, this.group = null, this.eventMap = {}, this.FtEditableProps = l
        }

        return o(e, [{
            key: "isOrphan", value: function () {
                return !this.eqxLayer || !this.eqxLayer.eqxItems.includes(this)
            }
        }, {
            key: "destroy", value: function () {
                this.eqxLayer = null, this.parent = null, this.group = null
            }
        }, {
            key: "isDirectItem", value: function () {
                return this.eqxLayer.getDirectItems().includes(this)
            }
        }, {
            key: "isEqxLayer", value: function () {
                return !1
            }
        }, {
            key: "updateTop", value: function (e) {
                this.updateCss({top: this.css.top + e}), this.autoSize()
            }
        }, {
            key: "getFtEditableProps", value: function () {
                return []
            }
        }, {
            key: "getFtValue", value: function (e) {
                return 0
            }
        }, {
            key: "filterEditableProps", value: function (e) {
                var t = this;
                return (e || this.getFtEditableProps()).filter(function (e) {
                    return t.isPropCanEdit(e)
                })
            }
        }, {
            key: "isPropCanEdit", value: function () {
                return !1
            }
        }, {
            key: "toJson", value: function () {
            }
        }, {
            key: "isFunTemplate", value: function () {
                return !1
            }
        }, {
            key: "hasFtRules", value: function () {
                var e = this.eqxPage.ftManager.getEqxItemRelativeFtRules(this);
                return e.length > 0
            }
        }, {
            key: "updateSize", value: function () {
            }
        }, {
            key: "getRotate", value: function () {
                var e = this.getTransform(), t = r.parseTransform(e);
                return t.rotate
            }
        }, {
            key: "getTransform", value: function () {
            }
        }, {
            key: "updateTransform", value: function (e) {
            }
        }, {
            key: "autoZIndex", value: function () {
                return this.$item && this.$item.css({zIndex: this.getZIndex()}), this
            }
        }, {
            key: "getZIndex", value: function () {
            }
        }, {
            key: "onResizeStart", value: function () {
                return this.oldAbsolutePosition = this.getAbsolutePos(), this.oldAbsolutePosition
            }
        }, {
            key: "onResize", value: function () {
            }
        }, {
            key: "onResizeEnd", value: function () {
                this.oldAbsolutePosition = null
            }
        }, {
            key: "onRotateStart", value: function () {
                return this.oldTransform = this.getTransform(), this.oldTransform
            }
        }, {
            key: "onRotate", value: function (e, t) {
                isNaN(e) || (e = "rotateZ(" + e + "deg)"), this.oldTransform || this.onRotateStart(), this.updateTransform(e), this.autoSize(t)
            }
        }, {
            key: "onRotateEnd", value: function () {
                this.oldTransform = null
            }
        }, {
            key: "updateLeftTop", value: function (e, t) {
                var n = this.oldPos, i = n.left, o = n.top;
                this.updateCss({left: i + e, top: o + t})
            }
        }, {
            key: "onMoveBefore", value: function () {
                this.oldPos = JSON.parse(JSON.stringify(this.getAbsolutePos()))
            }
        }, {
            key: "canMove", value: function () {
                return !this.isEditLocked
            }
        }, {
            key: "onMove", value: function (e, t) {
                !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                this.canMove() && (this.oldPos || this.onMoveBefore(), this.updateLeftTop(e, t), this.autoSize())
            }
        }, {
            key: "onMoveEnd", value: function () {
                this.oldPos = null
            }
        }, {
            key: "moveToX", value: function (e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                this.moveTo(e, void 0, t)
            }
        }, {
            key: "moveToY", value: function (e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                this.moveTo(void 0, e, t)
            }
        }, {
            key: "moveTo", value: function (e, t) {
                var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], i = {};
                void 0 !== e && (i.left = e), void 0 !== t && (i.top = t), this.updateCss(i), n && this.autoSize()
            }
        }, {
            key: "instantMove", value: function (e, t) {
                var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                this.onMoveBefore(), this.onMove(e, t, n), this.onMoveEnd()
            }
        }, {
            key: "instantRotate", value: function (e) {
                this.onResizeStart(), this.onRotate(e), this.onRotateEnd()
            }
        }, {
            key: "update$item", value: function (e) {
                this.updateCss(e), this._updateSize()
            }
        }, {
            key: "updateCss", value: function () {
            }
        }, {
            key: "isSubItemOf", value: function () {
                for (var e = this, t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                return n.some(function (t) {
                    for (var n = e; n.group;) {
                        if (n.group === t) return !0;
                        n = n.group
                    }
                    return !1
                })
            }
        }, {
            key: "findTopGroup", value: function () {
                for (var e = this; e.group;) e = e.group;
                return e
            }
        }, {
            key: "autoSizeTopDown", value: function () {
                this._updateSize(), this.fire("autoSizeTopDown.after")
            }
        }, {
            key: "_updateSize", value: function () {
                return this.$item ? (this.$item.css(this.getRelativePos()), this) : null
            }
        }, {
            key: "getRelativePos", value: function () {
                var e = this.getAbsolutePos(), t = e.width, n = e.height, i = e.top, o = e.left, s = e.transform,
                    c = this.group;
                if (c) {
                    var l = c.getAbsolutePos(), p = l.left, u = l.top, d = l.width, m = l.height, f = l.transform,
                        g = r.parseTransform(f).rotate, h = r.parseTransform(s).rotate;
                    if (g) {
                        var v = new a(p, u, d, m), y = v.center(), b = new a(o, i, t, n), x = b.center(),
                            w = x.pointRotate2Point(y, -g), S = w.x - x.x, k = w.y - x.y;
                        b.move(S, k), o = b.p1.x, i = b.p1.y
                    }
                    o -= p, i -= u, s = "rotate(" + (h - g) + "deg)"
                }
                return {width: t, height: n, top: i, left: o, transform: s}
            }
        }, {
            key: "updateMarker", value: function () {
                if (!this.$marker) {
                    var e = -25, t = -20, n = "yellow";
                    this.isGroupItem() && (e = -40, t = -30), this.$marker = $('<div class="item-marker"></div>').css({
                        width: 70,
                        fontSize: 11,
                        position: "absolute",
                        top: t,
                        left: e,
                        background: n
                    }), this.$item.append(this.$marker)
                }
                var i = this.getAbsolutePos(), o = (/\d+/.exec(this.getTransform()) || [])[0] || 0;
                this.$marker.html("(" + parseInt(i.left) + "," + parseInt(i.top) + ") " + o + "°<br>w" + parseInt(i.width) + " h" + parseInt(i.height))
            }
        }, {
            key: "getBoundingRect", value: function () {
                var e = this.getAbsolutePos(), t = e.width, n = e.height, i = e.top, o = e.left, s = e.transform,
                    c = r.parseTransform(s).rotate;
                return new a(o, i, t, n).rotate(c).getBoundingRect()
            }
        }, {
            key: "autoSize", value: function (e) {
                this.findTopGroup().autoSizeTopDown(e)
            }
        }, {
            key: "on", value: function (e, t) {
                return this.eventMap[e] ? this.eventMap[e].push(t) : this.eventMap[e] = [t], this
            }
        }, {
            key: "off", value: function (e) {
                if ("string" == typeof e) this.eventMap[e].length = []; else for (var t = Object.values(this.eventMap), n = 0; n < t.length; n++) {
                    var i = t[n], o = i.indexOf(e);
                    o > -1 && i.splice(o, 1)
                }
                return this
            }
        }, {
            key: "fire", value: function (e) {
                for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                (this.eventMap[e] || []).forEach(function (e) {
                    return e.apply(void 0, n)
                })
            }
        }, {
            key: "isSiblingOf", value: function (e) {
                return this.parent && e.parent && this.parent === e.parent
            }
        }, {
            key: "sameLayer", value: function (e) {
                return this.eqxLayer === e.eqxLayer
            }
        }, {
            key: "containsPoint", value: function (e, t) {
                var n = this.getAbsolutePos(), i = n.width, o = n.height, c = n.top, l = n.left, p = n.transform,
                    u = r.parseTransform(p).rotate, d = new s(l, c), m = new s(l + i, c + o), f = new a(d, m).rotate(u);
                return f.containsPoint(new s(e, t))
            }
        }, {
            key: "centerInRect", value: function (e) {
                var t = this.getAbsolutePos(), n = t.left + t.width / 2, i = t.top + t.height / 2, o = e.p1;
                return n > o.x && n < o.x + e.width && i > o.y && i < o.y + e.height
            }
        }, {
            key: "getAbsolutePos", value: function () {
            }
        }, {
            key: "isGroupItem", value: function () {
            }
        }, {
            key: "ft", get: function () {
                return this._ft || (this._ft = new p(this)), this._ft
            }
        }, {
            key: "triggerManager", get: function () {
                return this.eqxLayer.eqxPage.triggerManager
            }
        }, {
            key: "ftManager", get: function () {
                return this.eqxLayer.eqxPage.ftManager
            }
        }, {
            key: "isEditLocked", get: function () {
            }, set: function (e) {
            }
        }], [{
            key: "findTopItems", value: function (e) {
                var t = [];
                return e.forEach(function (e) {
                    var n = e.findTopGroup();
                    t.includes(n) || t.push(n)
                }), t
            }
        }, {
            key: "calItemsBoundingRect", value: function (e) {
                for (var t = e[0], n = t.getBoundingRect(), i = n.width, o = n.height, r = n.left, a = n.top, s = 1; s < e.length; s++) {
                    t = e[s];
                    var c = t.getBoundingRect();
                    c.left < r && (i += r - c.left, r = c.left), c.top < a && (o += a - c.top, a = c.top), i = Math.max(c.left + c.width - r, i), o = Math.max(c.height + c.top - a, o)
                }
                return {width: i, height: o, left: r, top: a}
            }
        }]), e
    }();
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return r(e, y)
    }

    function o(e) {
        return r(e, parseFloat)
    }

    function r() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = arguments[1];
        e += "";
        var n = {rotate: 0, rotateY: 0, rotateX: 0, scale: {x: 1, y: 1}, translate3d: {x: 0, y: 0, z: 0}};
        return e = e.replace(m, function (e, i) {
            n.rotate = t(i)
        }), e = e.replace(g, function (e, i) {
            n.rotateY = t(i)
        }), e = e.replace(f, function (e, i) {
            n.rotateX = t(i)
        }), e = e.replace(h, function (e, i, o) {
            n.scale = {x: t(i), y: t(o)}
        }), e.replace(v, function (e, i, o, r) {
            n.translate3d = {x: t(i), y: t(o), z: t(r)}
        }), n
    }

    function a(e) {
        return void 0 !== e.rotate ? "rotateZ(" + e.rotate + "deg)" : ""
    }

    function s(e) {
        if (e) {
            var t = e.x, n = void 0 === t ? 1 : t, i = e.y, o = void 0 === i ? 1 : i;
            return "scale(" + n + ", " + o + ")"
        }
        return ""
    }

    function c(e) {
        if (e) {
            var t = e.x, n = void 0 === t ? 0 : t, i = e.y, o = void 0 === i ? 0 : i, r = e.z, a = void 0 === r ? 0 : r;
            return "translate3d(" + n + "px, " + o + "px, " + a + "px)"
        }
        return ""
    }

    function l(e) {
        if (e) {
            var t = e.match(/translate3d\((.*?)\)/), n = t && t[1].split(","), i = t && parseInt(n[2]);
            return i
        }
        return ""
    }

    function p(e) {
        var t = [], n = e.translate3d;
        return !n || 0 === n.x && 0 === n.y && 0 === n.z || t.push(c(e.translate3d)), null !== e.rotate && void 0 !== e.rotate && t.push(a(e)), n = e.scale, !n || 1 === n.x && 1 === n.y || t.push(s(e.scale)), u(t.join(" "))
    }

    function u(e) {
        return e.trim().replace(/\s{2,}/, " ")
    }

    function d(e, t) {
        var n = i(e), o = Object.assign({}, n, t);
        return p(o)
    }

    var m = /rotateZ\((-?\d*\.?\d*)(deg|)\)/, f = /rotateX\((-?\d*\.?\d*)(deg|)\)/,
        g = /rotateY\((-?\d*\.?\d*)(deg|)\)/, h = /scale\((-?\d+(?:\.\d+)?),\s?(\d+(?:\.\d+)?)\)/,
        v = /translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/, y = n(249).toInt;
    e.exports = {
        scaleReg: h,
        translate3dReg: v,
        parseTransform: i,
        getRotateStr: a,
        getScaleStr: s,
        getTranslate3dStr: c,
        getTransformStr: p,
        trimTransformStr: u,
        updateTransformStr: d,
        parseTransformInFloat: o,
        getTranslateZStr: l
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(522), s = function () {
        function e() {
            i(this, e);
            var t = null, n = null;
            switch (arguments.length) {
                case 1:
                    var r = arguments[0];
                    "object" === ("undefined" == typeof r ? "undefined" : o(r)) && (r.p1 && r.p2 ? (t = new a(r.p1), n = new a(r.p2)) : void 0 !== r.left && null !== r.left && (t = new a(r.left, r.top), n = new a(r.left + r.width, r.top + r.height)));
                    break;
                case 2:
                    t = new a(arguments[0]), n = new a(arguments[1]);
                    break;
                case 3:
                    arguments[1] instanceof a ? (t = new a(arguments[0]), n = new a(arguments[1]), this.angle = arguments[2]) : isNaN(arguments[1]) || (t = new a(arguments[0]), n = new a(t.x + arguments[1], t.y + arguments[2]));
                    break;
                case 4:
                    t = new a(arguments[0], arguments[1]), n = new a(t.x + arguments[2], t.y + arguments[3]);
                    break;
                default:
                    throw new Error("Invalid arguments for Rect")
            }
            if (this.angle) {
                this.p1 = t, this.p2 = n;
                var s = this.p1.transform2RotateCoord(this.angle), c = this.p2.transform2RotateCoord(this.angle);
                this.nw = this.p1, this.ne = new a(c.x, s.y).transform2RotateCoord(-this.angle), this.se = this.p2, this.sw = new a(s.x, c.y).transform2RotateCoord(-this.angle), this.width = this.nw.distance2Point(this.ne), this.height = this.nw.distance2Point(this.sw)
            } else {
                var l = t.x, p = n.x, u = t.y, d = n.y;
                (l > p || u > d) && (l > p && (l = [p, p = l][0]), u > d && (u = [d, d = u][0]), t = new a(l, u), n = new a(p, d)), this.p1 = t, this.p2 = n, this.width = n.x - t.x, this.height = n.y - t.y, this.nw = this.p1, this.ne = new a(this.p2.x, this.p1.y), this.se = this.p2, this.sw = new a(this.p1.x, this.p2.y)
            }
        }

        return r(e, [{
            key: "contains", value: function (t) {
                return t instanceof a ? this.containsPoint(t) : t instanceof e && this.containsRect(t)
            }
        }, {
            key: "getBoundingRect", value: function () {
                var t = Number.MIN_SAFE_INTEGER, n = Number.MAX_SAFE_INTEGER, i = Number.MIN_SAFE_INTEGER,
                    o = Number.MAX_SAFE_INTEGER;
                [this.nw, this.ne, this.sw, this.se].forEach(function (e) {
                    e.x > t && (t = e.x), e.x < n && (n = e.x), e.y > i && (i = e.y), e.y < o && (o = e.y)
                });
                var r = new a(n, o), s = new a(t, i);
                return new e(r, s)
            }
        }, {
            key: "toString", value: function () {
                var e = this.left, t = this.top, n = this.width, i = this.height, o = this.angle,
                    r = void 0 === o ? 0 : o;
                return JSON.stringify({l: parseInt(e), t: parseInt(t), w: parseInt(n), h: parseInt(i), r: parseInt(r)})
            }
        }, {
            key: "containsPoint", value: function (e) {
                var t = new a(e).transform2RotateCoord(this.angle), n = this.p1.transform2RotateCoord(this.angle),
                    i = this.p2.transform2RotateCoord(this.angle);
                return t.x >= n.x && t.x <= i.x && t.y >= n.y && t.y <= i.y
            }
        }, {
            key: "containsRect", value: function (e) {
                return e && this.containsPoint(e.nw) && this.containsPoint(e.ne) && this.containsPoint(e.sw) && this.containsPoint(e.se)
            }
        }, {
            key: "move", value: function (e, t) {
                this.p1.x += e, this.p2.x += e, this.p1.y += t, this.p2.y += t, this.nw = this.p1, this.ne = new a(this.p2.x, this.p1.y), this.se = this.p2, this.sw = new a(this.p1.x, this.p2.y)
            }
        }, {
            key: "moveX", value: function (e) {
                this.move(e, 0)
            }
        }, {
            key: "moveY", value: function (e) {
                this.move(0, e)
            }
        }, {
            key: "center", value: function () {
                var e = (this.p1.x + this.p2.x) / 2, t = (this.p1.y + this.p2.y) / 2;
                return new a(e, t)
            }
        }, {
            key: "rotate", value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = this.p1.pointRotate2Point(this.center(), t), i = this.p2.pointRotate2Point(this.center(), t);
                return new e(n, i, (t + (this.angle || 0) + 360) % 360)
            }
        }, {
            key: "left", get: function () {
                return this.p1.x
            }
        }, {
            key: "top", get: function () {
                return this.p1.y
            }
        }, {
            key: "right", get: function () {
                return this.p2.x
            }
        }, {
            key: "bottom", get: function () {
                return this.p2.y
            }
        }], [{
            key: "getContainingRect", value: function (t, n) {
                for (var i = Number.MAX_SAFE_INTEGER, o = Number.MAX_SAFE_INTEGER, r = Number.MIN_SAFE_INTEGER, s = Number.MIN_SAFE_INTEGER, c = [], l = 0; l < t.length; l++) t[l] instanceof e ? (c.push(t[l].p1.transform2RotateCoord(n)), c.push(t[l].p2.transform2RotateCoord(n))) : t[l] instanceof a && c.push(t[l].transform2RotateCoord(n));
                for (var p = 0; p < c.length; p++) c[p].x < i && (i = c[p].x), c[p].x > r && (r = c[p].x), c[p].y < o && (o = c[p].y), c[p].y > s && (s = c[p].y);
                return new e(new a(i, o).transform2RotateCoord(-n), new a(r, s).transform2RotateCoord(-n))
            }
        }, {
            key: "getBoundingRect", value: function (t, n) {
                var i = Number.MIN_SAFE_INTEGER, o = Number.MAX_SAFE_INTEGER, r = Number.MIN_SAFE_INTEGER,
                    s = Number.MAX_SAFE_INTEGER;
                [t.nw, t.ne, t.sw, t.se].map(function (e) {
                    return e.transform2RotateCoord(n)
                }).forEach(function (e) {
                    e.x > i && (i = e.x), e.x < o && (o = e.x), e.y > r && (r = e.y), e.y < s && (s = e.y)
                });
                var c = new a(o, s).transform2RotateCoord(-n), l = new a(i, r).transform2RotateCoord(-n);
                return new e(c, l, n)
            }
        }]), e
    }();
    window.Rect = s, e.exports = s
}, function (e, t, n) {
    "use strict";

    function i() {
        if (1 === arguments.length) this.x = arguments[0].x || 0, this.y = arguments[0].y || 0; else {
            if (2 !== arguments.length) throw new Error("Invalid arguments for Point");
            this.x = parseFloat(arguments[0]) || 0, this.y = parseFloat(arguments[1]) || 0
        }
    }

    var o = n(521);
    i.prototype.toString = function () {
        return "(" + this.x + ", " + this.y + ")"
    }, i.prototype.moveX = function (e) {
        return this.move(e, 0)
    }, i.prototype.moveY = function (e) {
        return this.move(0, e)
    }, i.prototype.move = function (e, t) {
        return this.x += e, this.y += t, this
    }, i.prototype.update = function (e, t) {
        this.x = e, this.y = t
    }, i.prototype.equals = function (e) {
        return this.x === e.x && this.y === e.y
    }, i.prototype.between = function (e, t) {
        return new o(e, t).contains(this)
    }, i.prototype.offset = function (e) {
        return {x: e.x - this.x, y: e.y - this.y}
    }, i.prototype.distance2Point = function (e) {
        return Math.sqrt(Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2))
    }, i.prototype.angle2Point = function (e, t) {
        var n = this.offset(e), i = this.distance2Point(e), o = Math.acos(Math.abs(n.x) / i), r = 180 * o / Math.PI;
        if (!i) return 0;
        if (0 === n.x && n.y > 0) var a = 90; else n.x > 0 && 0 === n.y ? a = 0 : 0 === n.x && n.y < 0 ? a = 270 : n.x < 0 && 0 === n.y ? a = 180 : n.x < 0 && n.y < 0 ? a = 180 + r : n.x < 0 && n.y > 0 ? a = 180 - r : n.x > 0 && n.y > 0 ? a = r : n.x > 0 && n.y < 0 && (a = 360 - r);
        return (a - (t || 0) + 360) % 360
    }, i.prototype.pointRotate2Point = function (e, t) {
        var n = e.angle2Point(this), o = (n + t + 360) % 360, r = this.distance2Point(e), a = o * Math.PI / 180;
        return new i(e.x + r * Math.cos(a), e.y + r * Math.sin(a))
    }, i.prototype.transform2RotateCoord = function (e) {
        if (!e) return this;
        var t = new i(0, 0), n = t.angle2Point(this), o = (n - e + 360) % 360, r = this.distance2Point(t),
            a = o * Math.PI / 180;
        return new i({x: r * Math.cos(a), y: r * Math.sin(a)})
    }, window.Point = i, e.exports = i
}, function (e, t) {
    "use strict";

    function n(e) {
        return 0 === e.indexOf(c.color.fill) ? s[c.color.fill] + (+e.split("-")[1] + 1) : s[e]
    }

    var i = {
        content: {name: "文本内容", props: {content: {name: "文本内容"}}},
        image: {name: "图片内容", props: {imageSrc: {name: "图片内容"}}},
        color: {
            name: "颜色",
            props: {
                backgroundColor: {name: "背景颜色"},
                borderColor: {name: "边框颜色"},
                boxShadowColor: {name: "阴影颜色"},
                color: {name: "文本颜色"},
                counterColor: {name: "计数器颜色"},
                fill: {name: "形状颜色"}
            }
        },
        link: {name: "链接内容", props: {url: {name: "链接内容"}}},
        telephone: {name: "电话内容", props: {number: {name: "电话内容"}}},
        sound: {name: "音效内容", props: {soundSrc: {name: "音效内容"}}},
        time: {name: "计时时间", props: {time: {name: "计时时间"}}},
        internalLink: {name: "跳转页面", props: {internalLink: {name: "跳转页面"}}},
        input: {name: "输入框类型", props: {input: {name: "输入框类型"}}},
        video: {name: "视频内容", props: {video: {name: "视频内容"}}},
        tRandom: {name: "随机文本内容", props: {tRandom: {name: "随机文本内容"}}},
        iRandom: {name: "随机图片内容", props: {iRandom: {name: "随机图片内容"}}},
        code: {name: "代码内容", props: {code: {name: "代码内容"}}},
        addGroup: {name: "添加组合", props: {addGroup: {name: "添加组合"}}},
        moveGroup: {name: "移动组合", props: {moveGroup: {name: "移动组合"}}},
        deleteGroup: {name: "删除组合", props: {deleteGroup: {name: "删除组合"}}},
        editGroup: {name: "编辑组合", props: {editGroup: {name: "编辑组合"}}}
    }, o = {}, r = {}, a = {}, s = {}, c = a;
    Object.keys(i).forEach(function (e) {
        o[e] = e, r[e] = i[e].name;
        var t = i[e].props;
        a[e] = {}, Object.keys(t).forEach(function (n) {
            a[e][n] = e + "." + n, s[e + "." + n] = t[n].name
        })
    }), e.exports = window.ftRuleType = {
        FtRuleType: o,
        FtEditableProps: a,
        FtEditablePropName: s,
        getEditPropName: n,
        FtRuleName: r
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            var n = [], i = !0, o = !1, r = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
            } catch (c) {
                o = !0, r = c
            } finally {
                try {
                    !i && s["return"] && s["return"]()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }

        return function (t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }(), r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(523), s = a.getEditPropName, c = function () {
        function e(t) {
            i(this, e), this.eqxItem = t, this.ftManager = t.eqxPage.ftManager;
            var n = t.getFtEditableProps();
            this.props = n.map(function (e) {
                return {key: e, name: s(e), ftTerm: null, select: !1, show: !1}
            }), this.updatePropsState()
        }

        return r(e, [{
            key: "isPropSelect", value: function (e) {
                var t = this.props.find(function (t) {
                    return t.key === e
                });
                return t && t.show && t.select
            }
        }, {
            key: "updatePropsState", value: function () {
                var e = this, t = this.ftManager, n = this.eqxItem;
                this.props.forEach(function (i) {
                    var o = t.findFtTerm(n, i.key);
                    i.ftTerm = o, i.select = !!o, o && (o.ftProp = i), i.show = e.eqxItem.isPropCanEdit(i.key)
                }), this.updateSelectAll()
            }
        }, {
            key: "updateSelectAll", value: function () {
                var e = this.props.filter(function (e) {
                    return e.show
                });
                this.selectAll = e.length && e.every(function (e) {
                    return e.select
                })
            }
        }, {
            key: "toggleAllProps", value: function () {
                var e = this, t = this;
                t.selectAll ? t.props.forEach(function (t) {
                    t.show && !t.select && e.selectProp(t)
                }) : t.props.forEach(function (t) {
                    t.show && t.select && e.unSelectProp(t)
                })
            }
        }, {
            key: "selectProp", value: function (e) {
                var t = this.ftManager, n = e.key.split("."), i = o(n, 2), r = i[0], a = i[1],
                    s = this.eqxItem.getFtValue(e.key);
                t.addFtRule({
                    type: r,
                    value: s,
                    comps: [{id: this.eqxItem.id, properties: [a]}]
                }), this.updatePropsState()
            }
        }, {
            key: "unSelectProp", value: function (e) {
                var t = e.ftTerm;
                t ? (t.deleteSelf(!0), this.updatePropsState()) : console.error("toggle no ftTerm")
            }
        }, {
            key: "toggleProp", value: function (e) {
                e.select ? this.selectProp(e) : this.unSelectProp(e)
            }
        }]), e
    }();
    e.exports = c
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "0px 0px 0px rgba(0,0,0,0.5)",
            t = arguments[1], n = arguments[2], i = "";
        e = e.replace(c, function (e) {
            return i = e, ""
        });
        var o = e.trim().split(" "), s = parseFloat(o[0]), p = parseFloat(o[1]), u = a(Math.atan(p / s)) || 0;
        return s < 0 && (u += 180), s > 0 && p < 0 && (u = 360 + u), u = (u + 270) % 360, n && (u = n), l.direction = r(u), l.size = r(t || Math.hypot(s, p)), l.blur = r(o[2]), l.color = i, l
    }

    function o(e) {
        var t = (e.direction + 90) % 360, n = r(e.size * Math.cos(s(t))), i = r(e.size * Math.sin(s(t)));
        return n + "px " + i + "px " + e.blur + "px " + e.color
    }

    var r = n(249).toInt, a = n(526).arc2deg, s = n(526).deg2arc, c = /rgba\([^)]*\)/,
        l = {direction: "", size: "", blur: "", color: ""};
    e.exports = {parseBoxShadow: i, getBoxShadowStr: o}
}, function (e, t) {
    "use strict";

    function n(e) {
        return e / 180 * Math.PI
    }

    function i(e) {
        return 180 * e / Math.PI
    }

    e.exports = {deg2arc: n, arc2deg: i}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = function x(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : x(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, c = n(528), l = n(495), p = n(208).isSupportStyle, u = n(531), d = n(520), m = n(165), f = m.initEffectImgPath,
        g = m.loadImg, h = n(114), v = n(542).stackBlurImage, y = n(208).getEvent, b = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        commonStyle: {tip: !0},
                        advanceStyle: {variable: !0, variableImg: !0, gSensor: !0, scratch: !0, replace: !0}
                    }
                }), r
            }

            return r(t, e), a(t, [{
                key: "getFtEditableProps", value: function () {
                    var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                        n = this.FtEditableProps;
                    return e.concat([n.image.imageSrc, n.link.url, n.internalLink.internalLink, n.telephone.number, n.sound.soundSrc])
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var n = this.FtEditableProps;
                    return e === n.image.imageSrc ? this.getProp("src") : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
                }
            }, {
                key: "getImgSrc", value: function (e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return this.eqxScene.config.mobileEdit && (n.width && (n.width *= 2), n.height && (n.height *= 2)), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getImgSrc", this).call(this, e, n)
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    if (this.$width && this.$height) {
                        var i = this.$width / this.$height;
                        this.updateImageSize(i, e, n)
                    }
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "updateTurnOver", value: function (e) {
                    this.$boxContentDiv.css("transform", e)
                }
            }, {
                key: "pinchEnd", value: function () {
                    var e = this.compJson, t = e.properties, n = e.css, i = t.imgStyle, o = this.$context[0],
                        r = d.parseTransformInFloat(o.style.transform), a = r.scale.x, s = r.scale.y, c = i.width,
                        l = i.height, p = i.marginTop, u = i.marginLeft, m = c * a, f = l * s,
                        g = Math.max(n.height / f, n.width / m, 1);
                    f *= g, m *= g;
                    var h = u - (m - c) / 2, v = p - (f - l) / 2,
                        y = this.validateImgStyle({width: m, height: f, marginTop: v, marginLeft: h}, n);
                    this.$context.css("transform", "").css(y), t.imgStyle = y
                }
            }, {
                key: "validateImgStyle", value: function (e, t) {
                    var n = e.width, i = e.height, o = e.marginTop, r = e.marginLeft;
                    return o < 0 ? o + i < t.height && (o = t.height - i) : o = 0, r < 0 ? r + n < t.width && (r = t.width - n) : r = 0, {
                        width: n,
                        height: i,
                        marginTop: o,
                        marginLeft: r
                    }
                }
            }, {
                key: "moveEnd", value: function () {
                    var e = this.compJson, t = e.properties, n = e.css, i = t.imgStyle,
                        o = parseInt(this.$context.css("marginLeft")), r = parseInt(this.$context.css("marginTop")),
                        a = this.validateImgStyle({width: i.width, height: i.height, marginLeft: o, marginTop: r}, n);
                    this.$context.css(a), t.imgStyle = a
                }
            }, {
                key: "updateImageSize", value: function (e, t, n) {
                    e || (this.$width && this.$height ? e = this.$width / this.$height : console.error("no imageRatio!")), t || (t = this.compJson.css), n || (n = this.compJson.css), void 0 === n.height && (n.height = t.height), void 0 === n.width && (n.width = t.width), void 0 === n.borderWidth && (n.borderWidth = parseInt(t.borderWidth || this.compJson.css.borderWidth || 0));
                    var i = this.compJson, o = i.properties,
                        r = (n.width - 2 * n.borderWidth) / (n.height - 2 * n.borderWidth), a = o.imgStyle;
                    if (r > e) {
                        var s = n.width - 2 * n.borderWidth, c = s / e, l = -(c + 2 * n.borderWidth - n.height) / 2, p = 0;
                        a = {width: s, height: c, marginTop: l, marginLeft: p}
                    } else {
                        var u = n.height - 2 * n.borderWidth, d = e * u, m = -(d + 2 * n.borderWidth - n.width) / 2, f = 0;
                        a = {width: d, height: u, marginLeft: m, marginTop: f}
                    }
                    this.$context.css(a), this.canvas && $(this.canvas).css(a), o.imgStyle = a
                }
            }, {
                key: "_getContextImgSrc", value: function () {
                    var e = this.compJson, t = e.properties;
                    t = void 0 === t ? {} : t;
                    var n = t.src, i = t.imgStyle;
                    return n = f(n), i && !this.eqxPage.notImageCut && (n = this.getImgSrc(n, {
                        width: i.width,
                        height: i.height
                    })), n
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.scratch, r = i.imgStyle,
                        a = i.maskSrc, s = i.filter;
                    s = void 0 === s ? {} : s;
                    var l = s.type;
                    e.properties.isReplace = e.properties.isReplace || !1;
                    var u = this._getContextImgSrc();
                    if (Number.isInteger(l) && l > 0) var d = $(c.filterImg({
                        id: t,
                        type: n,
                        src: u,
                        filterType: l
                    })); else d = $(c.img({id: t, type: n, src: u}));
                    return p("WebkitMaskBoxImage") && a && this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image": "url(" + a + ")"}), r && d.css(r), o && this.addScratch(), d
                }
            }, {
                key: "eleShow", value: function () {
                    var e = this, n = this.compJson.properties.src;
                    n && /.gif/.test(n) && setTimeout(function () {
                        var t = e.$context.prop("src");
                        e.$context.show().each(function () {
                            void this.offsetHeight
                        }).prop("src", t)
                    }, 1), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this)
                }
            }, {
                key: "updateImgSrc", value: function () {
                    this.$context = this.create$context(), this.$contentsDiv.empty(), this.$contentsDiv.append(this.$context)
                }
            }, {
                key: "updateImageSrc", value: function (e, t, n) {
                    e = this.getImgSrc(h.FILE + e, {width: t, height: n}), this.$context.attr("src", e)
                }
            }, {
                key: "addScratch", value: function () {
                    var e = this;
                    this.$contentsDiv[0].style.position = "relative", this.canvas = this.createCanvas(), this.ctx = this.canvas.getContext("2d"), this.$contentsDiv.prepend(this.canvas), this.drawCanvas().then(function () {
                        "view" === e.eqxScene.config.mode && e.addCanvasEvent()
                    })
                }
            }, {
                key: "createCanvas", value: function () {
                    var e = document.createElement("canvas");
                    return e.style.position = "absolute", $(e).css(this.compJson.properties.imgStyle), e
                }
            }, {
                key: "drawCanvas", value: function () {
                    var e = this, t = this.compJson.properties, n = t.src, i = t.imgStyle;
                    return n = this.getImgSrc(n, {width: i.width, height: i.height}), g(n, !0).then(function (t) {
                        e.ctx.globalCompositeOperation = "source-over", e.canvas.width = t.width, e.canvas.height = t.height, e.ctx.drawImage(t, 0, 0), e.ctx.globalCompositeOperation = "destination-out", v(e.canvas, 30, !0)
                    })
                }
            }, {
                key: "addCanvasEvent", value: function () {
                    function e(e) {
                        a++, t(), e.preventDefault(), e.stopPropagation();
                        var c = y(e);
                        o = c.pageX - $(s.canvas).offset().left, r = c.pageY - $(s.canvas).offset().top, s.ctx.moveTo(n, i), s.ctx.lineTo(o, r), s.ctx.stroke(), n = o, i = r
                    }

                    function t() {
                        setTimeout(function () {
                            a >= 45 && !c && (c = !0, $(s.canvas).fadeOut(500, function () {
                                setTimeout(function () {
                                    s.deleScratch()
                                }, 500)
                            }))
                        }, 200)
                    }

                    this.ctx.lineCap = "round", this.ctx.lineJoin = "round", this.ctx.lineWidth = 40;
                    var n, i, o, r, a = 0, s = this, c = !1;
                    $(this.canvas).on("mousedown touchstart", function (t) {
                        t.preventDefault(), t.stopPropagation();
                        var o = y(t);
                        n = o.pageX - $(s.canvas).offset().left, i = o.pageY - $(s.canvas).offset().top, $(s.canvas).on("mousemove touchmove", e), $(s.canvas).on("mouseup touchend mouseleave", function () {
                            $(s.canvas).off("mousemove touchmove", e)
                        })
                    })
                }
            }, {
                key: "deleScratch", value: function () {
                    $(this.canvas).off(), $(this.canvas).remove(), delete this.canvas
                }
            }, {
                key: "editImage", value: function (e, t) {
                    function n(e) {
                        return JSON.parse(JSON.stringify(e))
                    }

                    var i = this.compJson;
                    if (t) var o = Promise.resolve(t); else o = g(this._getContextImgSrc()).then(function (e) {
                        var t = e.width, n = e.height, i = t / n;
                        return {width: t, height: n, ratio: i}
                    });
                    var r = n(i);
                    e = n(e);
                    var a = r.properties;
                    a.imgStyle = e.imgStyle, a.cropSize = e.cropSize, a.src = e.src, a.originSrc = e.originSrc, a.maskSrc = e.maskSrc;
                    var s = this.updateJson(r);
                    return this.eqxPage.renderEqxComp(s, !0), o.then(function (e) {
                        var t = e.width, n = e.height, i = e.ratio;
                        s.$width = t, s.$height = n, s.updateImageSize(i), s.findTopGroup().autoSizeTopDown()
                    }), s
                }
            }], [{
                key: "getImageStyles", value: function () {
                    return u
                }
            }]), t
        }(l);
    e.exports = b
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type, i = e.src, o = e.filterType, c = void 0 === o ? s[0].value : o, l = "filter-" + t,
            p = s.find(function (e) {
                return e.value === c
            }) || c[0], u = p.path;
        return a(r, {id: t, type: n, filterId: l, src: i, path: u})
    }

    function o(e) {
        var t = e.id, n = e.type, i = e.src;
        return '<img id="' + t + '" ctype="' + n + '" class="element comp_image editable-image" style="display:block;" draggable="false" src="' + i + '">'
    }

    n(529);
    var r = n(530), a = n(468).parse;
    e.exports = {img: o, filterImg: i};
    var s = [{value: 1, path: "1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"}, {
        value: 2,
        path: "2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"
    }, {
        value: 3,
        path: "1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"
    }, {
        value: 4,
        path: "1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"
    }, {value: 5, path: "1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"}, {
        value: 6,
        path: "0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"
    }, {value: 7, path: "0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"}, {
        value: 8,
        path: "0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"
    }, {value: 9, path: "0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"}, {
        value: 10,
        path: "0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"
    }, {value: 11, path: "4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element comp_image editable-image"><svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{src}" filter="url(##{filterId})" draggable="false"></image><defs><filter id="#{filterId}"><feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix" values="#{path}"></feColorMatrix></filter></defs></g></svg></div>'
}, function (e, t, n) {
    "use strict";
    var i = [{name: "圆形", path: n(532)}, {name: "菱形", path: n(533)}, {name: "心形", path: n(534)}, {
        name: "矩形2",
        path: n(535)
    }, {name: "矩形3", path: n(536)}, {name: "矩形4", path: n(537)}, {name: "星形1", path: n(538)}, {
        name: "星形2",
        path: n(539)
    }, {name: "星形3", path: n(540)}, {name: "三角形", path: n(541)}];
    e.exports = i
}, function (e, t, n) {
    e.exports = n.p + "images/circle-6daa4d.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/diamond-a61c24.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/heart-d692b9.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/rect2-007f3e.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/rect3-896f69.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/rect4-fb3aef.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/star1-42a9b6.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/star2-b75251.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/star3-343bf6.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/triangle-170329.svg"
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        var r = e.width, a = e.height;
        isNaN(t) || t < 1 || (n ? i(e, 0, 0, r, a, t) : o(e, 0, 0, r, a, t))
    }

    function i(e, t, n, i, o, c) {
        if (!(isNaN(c) || c < 1)) {
            c |= 0;
            var l, p = e.getContext("2d");
            try {
                try {
                    l = p.getImageData(t, n, i, o)
                } catch (u) {
                    try {
                        netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), l = p.getImageData(t, n, i, o)
                    } catch (u) {
                        throw new Error("unable to access local image data: " + u)
                    }
                }
            } catch (u) {
                throw new Error("unable to access image data: " + u)
            }
            var d, m, f, g, h, v, y, b, x, w, S, k, T, C, I, $, E, P, _, q, O, A, j, L, F = l.data, M = c + c + 1,
                J = i - 1, R = o - 1, D = c + 1, B = D * (D + 1) / 2, N = new r, z = N;
            for (f = 1; f < M; f++) if (z = z.next = new r, f == D) var H = z;
            z.next = N;
            var U = null, G = null;
            y = v = 0;
            var V = a[c], W = s[c];
            for (m = 0; m < o; m++) {
                for ($ = E = P = _ = b = x = w = S = 0, k = D * (q = F[v]), T = D * (O = F[v + 1]), C = D * (A = F[v + 2]), I = D * (j = F[v + 3]), b += B * q, x += B * O, w += B * A, S += B * j, z = N, f = 0; f < D; f++) z.r = q, z.g = O, z.b = A, z.a = j, z = z.next;
                for (f = 1; f < D; f++) g = v + ((J < f ? J : f) << 2), b += (z.r = q = F[g]) * (L = D - f), x += (z.g = O = F[g + 1]) * L, w += (z.b = A = F[g + 2]) * L, S += (z.a = j = F[g + 3]) * L, $ += q, E += O, P += A, _ += j, z = z.next;
                for (U = N, G = H, d = 0; d < i; d++) F[v + 3] = j = S * V >> W, 0 != j ? (j = 255 / j, F[v] = (b * V >> W) * j, F[v + 1] = (x * V >> W) * j, F[v + 2] = (w * V >> W) * j) : F[v] = F[v + 1] = F[v + 2] = 0, b -= k, x -= T, w -= C, S -= I, k -= U.r, T -= U.g, C -= U.b, I -= U.a, g = y + ((g = d + c + 1) < J ? g : J) << 2, $ += U.r = F[g], E += U.g = F[g + 1], P += U.b = F[g + 2], _ += U.a = F[g + 3], b += $, x += E, w += P, S += _, U = U.next, k += q = G.r, T += O = G.g, C += A = G.b, I += j = G.a, $ -= q, E -= O, P -= A, _ -= j, G = G.next, v += 4;
                y += i
            }
            for (d = 0; d < i; d++) {
                for (E = P = _ = $ = x = w = S = b = 0, v = d << 2, k = D * (q = F[v]), T = D * (O = F[v + 1]), C = D * (A = F[v + 2]), I = D * (j = F[v + 3]), b += B * q, x += B * O, w += B * A, S += B * j, z = N, f = 0; f < D; f++) z.r = q, z.g = O, z.b = A, z.a = j, z = z.next;
                for (h = i, f = 1; f <= c; f++) v = h + d << 2, b += (z.r = q = F[v]) * (L = D - f), x += (z.g = O = F[v + 1]) * L, w += (z.b = A = F[v + 2]) * L, S += (z.a = j = F[v + 3]) * L, $ += q, E += O, P += A, _ += j, z = z.next, f < R && (h += i);
                for (v = d, U = N, G = H, m = 0; m < o; m++) g = v << 2, F[g + 3] = j = S * V >> W, j > 0 ? (j = 255 / j, F[g] = (b * V >> W) * j, F[g + 1] = (x * V >> W) * j, F[g + 2] = (w * V >> W) * j) : F[g] = F[g + 1] = F[g + 2] = 0, b -= k, x -= T, w -= C, S -= I, k -= U.r, T -= U.g, C -= U.b, I -= U.a, g = d + ((g = m + D) < R ? g : R) * i << 2, b += $ += U.r = F[g], x += E += U.g = F[g + 1], w += P += U.b = F[g + 2], S += _ += U.a = F[g + 3], U = U.next, k += q = G.r, T += O = G.g, C += A = G.b, I += j = G.a, $ -= q, E -= O, P -= A, _ -= j, G = G.next, v += i
            }
            p.putImageData(l, t, n)
        }
    }

    function o(e, t, n, i, o, c) {
        if (!(isNaN(c) || c < 1)) {
            c |= 0;
            var l, p = e.getContext("2d");
            try {
                try {
                    l = p.getImageData(t, n, i, o)
                } catch (u) {
                    try {
                        netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), l = p.getImageData(t, n, i, o)
                    } catch (u) {
                        throw alert("Cannot access local image"), new Error("unable to access local image data: " + u)
                    }
                }
            } catch (u) {
                throw alert("Cannot access image"), new Error("unable to access image data: " + u)
            }
            var d, m, f, g, h, v, y, b, x, w, S, k, T, C, I, $, E, P, _, q, O = l.data, A = c + c + 1, j = i - 1,
                L = o - 1, F = c + 1, M = F * (F + 1) / 2, J = new r, R = J;
            for (f = 1; f < A; f++) if (R = R.next = new r, f == F) var D = R;
            R.next = J;
            var B = null, N = null;
            y = v = 0;
            var z = a[c], H = s[c];
            for (m = 0; m < o; m++) {
                for (C = I = $ = b = x = w = 0, S = F * (E = O[v]), k = F * (P = O[v + 1]), T = F * (_ = O[v + 2]), b += M * E, x += M * P, w += M * _, R = J, f = 0; f < F; f++) R.r = E, R.g = P, R.b = _, R = R.next;
                for (f = 1; f < F; f++) g = v + ((j < f ? j : f) << 2), b += (R.r = E = O[g]) * (q = F - f), x += (R.g = P = O[g + 1]) * q, w += (R.b = _ = O[g + 2]) * q, C += E, I += P, $ += _, R = R.next;
                for (B = J, N = D, d = 0; d < i; d++) O[v] = b * z >> H, O[v + 1] = x * z >> H, O[v + 2] = w * z >> H, b -= S, x -= k, w -= T, S -= B.r, k -= B.g, T -= B.b, g = y + ((g = d + c + 1) < j ? g : j) << 2, C += B.r = O[g], I += B.g = O[g + 1], $ += B.b = O[g + 2], b += C, x += I, w += $, B = B.next, S += E = N.r, k += P = N.g, T += _ = N.b, C -= E, I -= P, $ -= _, N = N.next, v += 4;
                y += i
            }
            for (d = 0; d < i; d++) {
                for (I = $ = C = x = w = b = 0, v = d << 2, S = F * (E = O[v]), k = F * (P = O[v + 1]), T = F * (_ = O[v + 2]), b += M * E, x += M * P, w += M * _, R = J, f = 0; f < F; f++) R.r = E, R.g = P, R.b = _, R = R.next;
                for (h = i, f = 1; f <= c; f++) v = h + d << 2, b += (R.r = E = O[v]) * (q = F - f), x += (R.g = P = O[v + 1]) * q, w += (R.b = _ = O[v + 2]) * q, C += E, I += P, $ += _, R = R.next, f < L && (h += i);
                for (v = d, B = J, N = D, m = 0; m < o; m++) g = v << 2, O[g] = b * z >> H, O[g + 1] = x * z >> H, O[g + 2] = w * z >> H, b -= S, x -= k, w -= T, S -= B.r, k -= B.g, T -= B.b, g = d + ((g = m + F) < L ? g : L) * i << 2, b += C += B.r = O[g], x += I += B.g = O[g + 1], w += $ += B.b = O[g + 2], B = B.next, S += E = N.r, k += P = N.g, T += _ = N.b, C -= E, I -= P, $ -= _, N = N.next, v += i
            }
            p.putImageData(l, t, n)
        }
    }

    function r() {
        this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
    }

    var a = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
        s = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
    e.exports = {stackBlurImage: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.title, o = void 0 === i ? "" : i, r = e.imgSrc, a = void 0 === r ? "" : r,
            s = e.width, c = void 0 === s ? 0 : s, p = e.height, m = void 0 === p ? 0 : p, f = e.padding;
        c = l(c), m = l(m);
        var g = o.replace(/ /g, "&nbsp;"), h = a ? '<img style="width: 100%; height: 100%;" src="' + a + '">' : g;
        return d(u, {id: t, type: n, width: c, height: m, content: h, padding: f})
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function f(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : f(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(544);
    var l = n(545).addSuffixPx, p = n(495), u = n(546), d = n(468).parse, m = (n(176).openUrl, function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {self: !0, fontFamily: !1, fontColor: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), s(t, [{
            key: "getFtEditableProps", value: function () {
                var e = c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.link.url, n.internalLink.internalLink, n.telephone.number])
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.imgSrc, r = i.title, s = e.css,
                    c = s.width, l = s.height;
                if (o) {
                    o = this.getImgSrc(o, {width: c, height: l});
                    var p = "0"
                } else p = "0 8px";
                return this.$context = $(a({
                    id: t,
                    type: n,
                    imgSrc: o,
                    title: r,
                    width: c,
                    height: l,
                    padding: p
                })), this.$context
            }
        }, {
            key: "bindAfterRenderEvent", value: function (e, t) {
            }
        }, {
            key: "updateBtnTitle", value: function (e) {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = e)
            }
        }, {
            key: "deleteImage", value: function () {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = "")
            }
        }]), t
    }(p));
    e.exports = m
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = document.getElementsByTagName("style")[0];
        if (!t) {
            t = document.createElement("style");
            var n = document.head || document.getElementsByTagName("head")[0];
            t.type = "text/css", n.appendChild(t)
        }
        var i = document.createTextNode(e);
        t.appendChild(i)
    }

    function i(e) {
        return e = "" + e, e.indexOf("px") === -1 && (e += "px"), e
    }

    function o(e, t, n) {
        var i = r.js + t.substring(0, 1).toUpperCase() + t.substring(1, t.length);
        e.style[i] = n
    }

    var r = function () {
        var e = window.getComputedStyle(document.documentElement, ""),
            t = (Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/) || "" === e.OLink && ["", "o"])[1],
            n = "WebKit|Moz|MS|O".match(new RegExp("(" + t + ")", "i"))[1];
        return {dom: n, lowercase: t, css: "-" + t + "-", js: t[0].toUpperCase() + t.substr(1)}
    }();
    e.exports = {addGlobalStyle: n, addSuffixPx: i, preFixCss: o, prefix: r}
}, function (e, t) {
    e.exports = '<span id="#{id}" ctype="#{type}" class="element eqx-link editable-text" style="cursor: default; width: 100%; height: 100%; display: flex;\n   justify-content: center; align-items:center; padding: #{padding}" data-event="1120601">#{content}</span>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(453).$loadQQMap, c = n(495), l = n(468).parse;
    n(548);
    var p = n(549), u = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    advanceStyle: {
                        shadow: !1,
                        paddingTop: !1,
                        borderWidth: !0,
                        borderRadius: !0,
                        borderStyle: !0,
                        borderColor: !0,
                        boxShadowSize: !1,
                        boxShadowBlur: !1,
                        boxShadowColor: !1,
                        boxShadowDirection: !1
                    }
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "create$context", value: function () {
                var e = this, t = this.compJson, n = t.id, i = t.type, o = t.content, r = t.properties, a = r.lat,
                    c = void 0 === a ? 39.916527 : a, u = r.lng, d = void 0 === u ? 116.397128 : u, m = r.zoom,
                    f = void 0 === m ? 11 : m, g = r.address, h = r.version;
                if (1 == h) {
                    var v = "https://3gimg.qq.com/lightmap/v1/marker/index.html?marker=coord:" + c + "," + d + ";title:" + o + ";addr:" + g + "&referer=myapp",
                        y = "http://apis.map.qq.com/tools/routeplan/eword=" + g + "&epointx=" + d + "&epointy=" + c + "?referer=myapp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77",
                        b = "", x = t.content || t.properties.address;
                    b = "customer" === t.properties.layout ? p.$customerHtml({
                        routePlanUrl: y,
                        contentDes: x
                    }) : p.$defalutHtml({url: v})
                } else b = p.$htmlText();
                var w = $(l(b, {id: n, type: i})).css({
                    width: "100%",
                    height: "100%"
                }).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend", function (e) {
                    e.stopPropagation()
                });
                return 1 == h && "view" == this.eqxScene.config.mode ? console.log("不加载QQMap地图") : s().then(function () {
                    1 != h && e.initQQMap({$context: w, content: o, lat: c, lng: d, zoom: f})
                }), this.updateOmit(), w
            }
        }, {
            key: "updateContent", value: function () {
                this.$context.remove(), this.$context = this.create$context(), this.$contentsDiv.append(this.$context)
            }
        }, {
            key: "initQQMap", value: function (e) {
                var t = e.$context, n = e.content, i = e.lat, o = e.lng, r = e.zoom, a = new qq.maps.LatLng(i, o),
                    s = {disableDefaultUI: !0, center: a, zoom: parseFloat(r)}, c = this.map = new qq.maps.Map(t[0], s);
                n && (this.label = new qq.maps.Label({position: a, map: c, content: n}));
                var l = new qq.maps.Marker({map: c, position: a});
                t.data("marker", l)
            }
        }, {
            key: "updateOmit", value: function () {
                function e() {
                    var e = t.$boxDiv.find(".navigation"), n = t.$boxDiv.find(".navigation_pad"),
                        i = e.parent().height(), o = n.height();
                    if (i - 12 < o) {
                        e.removeClass("omits"), e.removeClass("omit-height");
                        var r = i - 12 - 30, a = parseInt(r / 20) + 1;
                        e.addClass("omits"), e.css("-webkit-line-clamp", "" + a)
                    } else e.removeClass("omits"), e.addClass("omit-height")
                }

                var t = this;
                setTimeout(function () {
                    e()
                }, 0)
            }
        }]), t
    }(c);
    e.exports = u
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = e.routePlanUrl, n = e.contentDes,
            i = '<div id="#{id}" ctype="#{type}" class="element">\n                                <a class="mapBtn_div navigation" href="' + t + '">\n                                     <i class="eqf-address-f address"></i>\n                                     <span class="style-btn default  navigation_pad">\n                                         导航至' + n + "\n                                     </span>\n                                </a>\n                           </div>";
        return $(i)
    }

    function i(e) {
        var t = e.url,
            n = '<div id="#{id}" ctype="#{type}" class="element"><iframe src=' + t + ' width="100%" height="100%" class="map-iframe"></iframe></div>';
        return $(n)
    }

    function o() {
        var e = '<div id="#{id}" ctype="#{type}" class="element"></div>';
        return $(e)
    }

    e.exports = {$customerHtml: n, $defalutHtml: i, $htmlText: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u[0].value;
        return u.find(function (t) {
            var n = t.value;
            return n === e
        })
    }

    function s(e) {
        var t = e.imgW, n = e.imgH, i = e.containerW, o = e.containerH, r = {}, a = t / n, s = i / o;
        return a > s ? (r.width = i, r.height = i / a) : (r.height = o, r.width = o * a), r.margin = (o - n) / 2 + "px " + (i - t) / 2 + "px", r
    }

    var c = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), l = function m(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : m(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(551);
    var p = n(495), u = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
        value: 3,
        desc: "百页窗",
        name: "blinds"
    }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
        value: 9,
        desc: "梳理",
        name: "zip"
    }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
        value: 14,
        desc: "棋盘",
        name: "tiles3d"
    }, {value: 16, desc: "飞出", name: "explode"}], d = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return r.intervalObj = {}, $.extend(!0, r.$ability, {
                style: {self: !0, compStyle: {backgroundColor: !0}},
                anim: !0,
                trigger: {self: !1},
                sound: !1,
                link: !1
            }), r
        }

        return r(t, e), c(t, [{
            key: "updateSize", value: function (e, n) {
                n.width && n.height && (this.flux.width = n.width, this.flux.height = n.height, this.$context.find(".fluxslider, .images, .image1, .image2").css({
                    width: n.width,
                    height: n.height
                }), l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n))
            }
        }, {
            key: "create$context", value: function () {
                var e = this, t = this.compJson, n = t.id, i = t.type, o = t.properties;
                o = void 0 === o ? {} : o;
                var r = o.children, a = void 0 === r ? [] : r, c = o.bgColor, l = t.css, p = l.width, u = l.height,
                    d = $('<div id="' + n + '" class="imageSlider element" ctype="' + i + '"></div>').css("background-color", c);
                if (a.length) {
                    var m = a.map(function (t) {
                        var n = t.width, i = t.height, o = t.src,
                            r = s({imgW: n, imgH: i, containerW: p, containerH: u});
                        return o = e.getImgSrc(o, {width: p, height: u}), $('<img src="' + o + '">').css(r)
                    });
                    d.append(m), this.deleteInterval(n), this.initFlux(d)
                }
                return d
            }
        }, {
            key: "initFlux", value: function (e) {
                var t = this, n = this.compJson, i = n.id, o = n.properties, r = o.autoPlay, s = void 0 !== r && r,
                    c = o.interval, l = o.picStyle, p = n.css, u = p.width, d = p.height, m = p.bgColor,
                    f = flux.slider;
                this.flux = new f(e, {
                    autoplay: s,
                    delay: c,
                    pagination: !1,
                    transitions: [a(l).name],
                    width: u,
                    height: d,
                    bgColor: m,
                    onStartEnd: function (e) {
                        return t.addInterval(i, e)
                    }
                })
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
                return !1
            }
        }, {
            key: "addInterval", value: function (e, t) {
                this.intervalObj[e] = t
            }
        }, {
            key: "deleteInterval", value: function (e) {
                this.intervalObj[e] && (clearInterval(this.intervalObj[e]), delete this.intervalObj[e])
            }
        }, {
            key: "clearInterval", value: function () {
                for (var e in this.intervalObj) this.deleteInterval(e)
            }
        }]), t
    }(p);
    e.exports = d
}, function (e, t) {
    "use strict";
    window.flux = {version: "1.4.4"}, function (e) {
        flux.slider = function (t, n) {
            flux.browser.init(), flux.browser.supportsTransitions || window.console && window.console.error && console.error("Flux Slider requires a browser that supports CSS3 transitions");
            var i = this;
            this.element = e(t), this.transitions = [];
            for (var o in flux.transitions) this.transitions.push(o);
            this.options = e.extend({
                autoplay: !0,
                transitions: this.transitions,
                delay: 4e3,
                pagination: !0,
                controls: !1,
                captions: !1,
                width: null,
                height: null,
                onTransitionEnd: null,
                onStartEnd: null,
                bgColor: ""
            }, n), this.height = this.options.height ? this.options.height : null, this.width = this.options.width ? this.options.width : null;
            var r = [];
            e(this.options.transitions).each(function (e, t) {
                var n = new flux.transitions[t](this), i = !0;
                n.options.requires3d && !flux.browser.supports3d && (i = !1), n.options.compatibilityCheck && (i = n.options.compatibilityCheck()), i && r.push(t)
            }), this.options.transitions = r, this.images = [], this.imageLoadedCount = 0, this.currentImageIndex = 0, this.nextImageIndex = 1, this.playing = !1, this.container = e('<div class="fluxslider"></div>').appendTo(this.element), this.surface = e('<div class="surface" style="position: relative"></div>').appendTo(this.container), this.container.bind("click", function (t) {
                e(t.target).hasClass("hasLink") && (window.location = e(t.target).data("href"))
            }), this.imageContainer = e('<div class="images loading1"></div>').css({
                position: "relative",
                overflow: "hidden"
            }).appendTo(this.surface), this.width && this.height && this.imageContainer.css({
                width: this.width + "px",
                height: this.height + "px"
            }), this.image1 = e('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer), this.image2 = e('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer), e(this.image1).add(this.image2).css({
                position: "absolute",
                top: "0px",
                left: "0px"
            }), this.element.find("img, a img").each(function (t, n) {
                var o = n.cloneNode(!1), r = e(n).parent();
                r.is("a") && e(o).data("href", r.attr("href")), i.images.push(o), e(n).remove()
            });
            for (var a = 0; a < this.images.length; a++) {
                var s = new Image;
                s.onload = function () {
                    i.imageLoadedCount++, i.width = i.width ? i.width : this.width, i.height = i.height ? i.height : this.height, i.imageLoadedCount >= i.images.length && (i.finishedLoading(), i.setupImages())
                }, s.src = this.images[a].src
            }
            this.element.bind("fluxTransitionEnd", function (e, t) {
                i.options.onTransitionEnd && (e.preventDefault(), i.options.onTransitionEnd(t))
            }), this.transitionEndLock = !1;
            var c = {}, l = {}, p = 20;
            this.element.bind("mousedown touchstart", function (e) {
                "touchstart" === e.type ? c.left = e.originalEvent.touches[0].pageX : "mousedown" === e.type && (c.left = e.pageX)
            }).bind("mouseup touchend", function (e) {
                "touchend" === e.type ? l.left = e.originalEvent.changedTouches[0].pageX : "mouseup" === e.type && (l.left = e.pageX), l.left - c.left > p ? i.prev(null, {direction: "right"}) : c.left - l.left > p && i.next(null, {direction: "left"}), i.options.autoplay && (i.stop(), i.start())
            })
        }, flux.slider.prototype = {
            constructor: flux.slider, playing: !1, start: function () {
                var e = this;
                this.playing = !0, this.transitionEndLock = !1, this.interval = setInterval(function () {
                    !e.transitionEndLock && e.transition()
                }, this.options.delay), "function" == typeof this.options.onStartEnd && this.options.onStartEnd(this.interval)
            }, stop: function () {
                this.playing = !1, clearInterval(this.interval), this.interval = null;
            }, isPlaying: function () {
                return this.playing
            }, next: function (e, t) {
                t = t || {}, t.direction = "left", this.showImage(this.currentImageIndex + 1, e, t)
            }, prev: function (e, t) {
                t = t || {}, t.direction = "right", this.showImage(this.currentImageIndex - 1, e, t)
            }, showImage: function (e, t, n) {
                this.setNextIndex(e), this.setupImages(), this.transition(t, n)
            }, finishedLoading: function () {
                var t = this;
                if (this.container.css({
                    width: this.width + "px",
                    height: this.height + "px"
                }), this.imageContainer.removeClass("loading1"), this.options.pagination && (this.pagination = e('<ul class="pagination"></ul>').css({
                    margin: "0px",
                    padding: "0px",
                    "text-align": "center"
                }), this.pagination.bind("click", function (n) {
                    n.preventDefault(), t.showImage(e(n.target).data("index"))
                }), e(this.images).each(function (n, i) {
                    var o = e('<li data-index="' + n + '">' + (n + 1) + "</li>").css({
                        display: "inline-block",
                        "margin-left": "0.5em",
                        cursor: "pointer"
                    }).appendTo(t.pagination);
                    0 == n && o.css("margin-left", 0).addClass("current")
                }), this.container.append(this.pagination)), e(this.imageContainer).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }), e(this.image1).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }), e(this.image2).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }), this.container.css({
                    width: this.width + "px",
                    height: this.height + (this.options.pagination ? this.pagination.height() : 0) + "px"
                }), this.options.controls) {
                    var n = {
                        padding: "4px 10px 10px",
                        "font-size": "60px",
                        "font-family": "arial, sans-serif",
                        "line-height": "1em",
                        "font-weight": "bold",
                        color: "#FFF",
                        "text-decoration": "none",
                        background: "rgba(0,0,0,0.5)",
                        position: "absolute",
                        "z-index": 2e3
                    };
                    this.nextButton = e('<a href="#">»</a>').css(n).css3({"border-radius": "4px"}).appendTo(this.surface).bind("click", function (e) {
                        e.preventDefault(), t.next()
                    }), this.prevButton = e('<a href="#">«</a>').css(n).css3({"border-radius": "4px"}).appendTo(this.surface).bind("click", function (e) {
                        e.preventDefault(), t.prev()
                    });
                    var i = (this.height - this.nextButton.height()) / 2;
                    this.nextButton.css({top: i + "px", right: "10px"}), this.prevButton.css({
                        top: i + "px",
                        left: "10px"
                    })
                }
                this.options.captions && (this.captionBar = e('<div class="caption"></div>').css({
                    background: "rgba(0,0,0,0.6)",
                    color: "#FFF",
                    "font-size": "16px",
                    "font-family": "helvetica, arial, sans-serif",
                    "text-decoration": "none",
                    "font-weight": "bold",
                    padding: "1.5em 1em",
                    opacity: 0,
                    position: "absolute",
                    "z-index": 110,
                    width: "100%",
                    bottom: 0
                }).css3({
                    "transition-property": "opacity",
                    "transition-duration": "800ms",
                    "box-sizing": "border-box"
                }).prependTo(this.surface)), this.updateCaption()
            }, setupImages: function () {
                var t = this.getImage(this.currentImageIndex), n = {
                    background: 'url("' + t.src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                    zIndex: 101,
                    cursor: "auto"
                };
                e(t).data("href") ? (n.cursor = "pointer", this.image1.addClass("hasLink"), this.image1.data("href", e(t).data("href"))) : (this.image1.removeClass("hasLink"), this.image1.data("href", null)), this.image1.css(n).children().remove(), this.image2.css({
                    background: 'url("' + this.getImage(this.nextImageIndex).src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                    zIndex: 100,
                    display: "none"
                }), this.options.pagination && this.pagination && (this.pagination.find("li.current").removeClass("current"), e(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))
            }, transition: function (t, n) {
                if (void 0 == t || !flux.transitions[t]) {
                    var i = Math.floor(Math.random() * this.options.transitions.length);
                    t = this.options.transitions[i]
                }
                var o = null;
                try {
                    o = new flux.transitions[t](this, e.extend(this.options[t] ? this.options[t] : {}, n))
                } catch (r) {
                    var a = flux.transition;
                    o = new a(this, {fallback: !0})
                }
                o.run(), this.currentImageIndex = this.nextImageIndex, this.setNextIndex(this.currentImageIndex + 1), this.updateCaption()
            }, updateCaption: function () {
                var t = e(this.getImage(this.currentImageIndex)).attr("title");
                this.options.captions && this.captionBar && ("" !== t && this.captionBar.html(t), this.captionBar.css("opacity", "" === t ? 0 : 1))
            }, getImage: function (e) {
                return e %= this.images.length, this.images[e]
            }, setNextIndex: function (e) {
                void 0 == e && (e = this.currentImageIndex + 1), this.nextImageIndex = e, this.nextImageIndex > this.images.length - 1 && (this.nextImageIndex = 0), this.nextImageIndex < 0 && (this.nextImageIndex = this.images.length - 1)
            }, increment: function () {
                this.currentImageIndex++, this.currentImageIndex > this.images.length - 1 && (this.currentImageIndex = 0)
            }
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.browser = {
            init: function () {
                if (void 0 === flux.browser.supportsTransitions) {
                    var t = ["-webkit", "-moz", "-o", "-ms"];
                    if (window.Modernizr && void 0 !== window.Modernizr.csstransitions ? flux.browser.supportsTransitions = window.Modernizr.csstransitions : flux.browser.supportsTransitions = this.supportsCSSProperty("Transition"), window.Modernizr && void 0 !== window.Modernizr.csstransforms3d) flux.browser.supports3d = window.Modernizr.csstransforms3d; else if (flux.browser.supports3d = this.supportsCSSProperty("Perspective"), flux.browser.supports3d && "webkitPerspective" in e("body").get(0).style) {
                        var n = e('<div id="csstransform3d"></div>'),
                            i = e('<style media="(transform-3d), (' + t.join("-transform-3d),(") + '-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');
                        e("body").append(n), e("head").append(i), flux.browser.supports3d = 9 == n.get(0).offsetLeft, n.remove(), i.remove()
                    }
                }
            }, supportsCSSProperty: function (e) {
                for (var t = document.createElement("div"), n = ["Webkit", "Moz", "O", "Ms"], i = !1, o = 0; o < n.length; o++) n[o] + e in t.style && (i = i || !0);
                return i
            }, translate: function (e, t, n) {
                return e = void 0 != e ? e : 0, t = void 0 != t ? t : 0, n = void 0 != n ? n : 0, "translate" + (flux.browser.supports3d ? "3d(" : "(") + e + "px," + t + (flux.browser.supports3d ? "px," + n + "px)" : "px)")
            }, rotateX: function (e) {
                return flux.browser.rotate("x", e)
            }, rotateY: function (e) {
                return flux.browser.rotate("y", e)
            }, rotateZ: function (e) {
                return flux.browser.rotate("z", e)
            }, rotate: function (e, t) {
                return e in {
                    x: "",
                    y: "",
                    z: ""
                } || (e = "z"), t = void 0 != t ? t : 0, flux.browser.supports3d ? "rotate3d(" + ("x" == e ? "1" : "0") + ", " + ("y" == e ? "1" : "0") + ", " + ("z" == e ? "1" : "0") + ", " + t + "deg)" : "z" == e ? "rotate(" + t + "deg)" : ""
            }
        }, e(function () {
            flux.browser.init()
        })
    }(window.jQuery || window.Zepto), function (e) {
        e.fn.css3 = function (e) {
            var t = {}, n = ["webkit", "moz", "ms", "o"];
            for (var i in e) {
                for (var o = 0; o < n.length; o++) t["-" + n[o] + "-" + i] = e[i];
                t[i] = e[i]
            }
            return this.css(t), this
        }, e.fn.transitionEnd = function (t) {
            for (var n = ["webkitTransitionEnd", "transitionend", "oTransitionEnd"], i = 0; i < n.length; i++) this.bind(n[i], function (i) {
                for (var o = 0; o < n.length; o++) e(this).unbind(n[o]);
                t && t.call(this, i)
            });
            return this
        }, flux.transition = function (t, n) {
            if (this.options = e.extend({
                requires3d: !1, after: function () {
                }
            }, n), this.slider = t, this.options.requires3d && !flux.browser.supports3d || !flux.browser.supportsTransitions || this.options.fallback === !0) {
                var i = this;
                this.options.after = void 0, this.options.setup = function () {
                    i.fallbackSetup()
                }, this.options.execute = function () {
                    i.fallbackExecute()
                }
            }
        }, flux.transition.prototype = {
            constructor: flux.transition, hasFinished: !1, run: function () {
                var e = this;
                void 0 !== this.options.setup && this.options.setup.call(this), this.slider.image1.css({"background-image": "none"}), this.slider.imageContainer.css("overflow", this.options.requires3d ? "visible" : "hidden"), setTimeout(function () {
                    void 0 !== e.options.execute && e.slider.image1.css("background-color", ""), e.options.execute.call(e), e.slider.options.autoplay && (e.slider.transitionEndLock = !0)
                }, 5)
            }, finished: function () {
                this.hasFinished || (this.hasFinished = !0, this.options.after && this.options.after.call(this), this.slider.imageContainer.css("overflow", "hidden"), this.slider.setupImages(), this.slider.element.trigger("fluxTransitionEnd", {currentImage: this.slider.getImage(this.slider.currentImageIndex)}), this.slider.options.autoplay && (this.slider.transitionEndLock = !1))
            }, fallbackSetup: function () {
            }, fallbackExecute: function () {
                this.finished()
            }
        }, flux.transitions = {}, flux.transition_grid = function (t, n) {
            var i = flux.transition;
            return new i(t, e.extend({
                columns: 10, rows: 10, forceSquare: !1, setup: function () {
                    var t = this.slider.image1.width(), n = this.slider.image1.height(),
                        i = Math.floor(t / this.options.columns), o = Math.floor(n / this.options.rows);
                    this.options.forceSquare && (o = i, this.options.rows = Math.floor(n / o));
                    for (var r = t - this.options.columns * i, a = Math.ceil(r / this.options.columns), s = n - this.options.rows * o, c = Math.ceil(s / this.options.rows), l = 0, p = 0, u = document.createDocumentFragment(), d = 0; d < this.options.columns; d++) {
                        var m = i;
                        if (p = 0, r > 0) {
                            var f = r >= a ? a : r;
                            m += f, r -= f
                        }
                        for (var g = 0; g < this.options.rows; g++) {
                            var h = o, v = s;
                            v > 0 && (f = v >= c ? c : v, h += f, v -= f);
                            var y = e('<div class="tile tile-' + d + "-" + g + '"></div>').css({
                                width: m + "px",
                                height: h + "px",
                                position: "absolute",
                                top: p + "px",
                                left: l + "px",
                                overflow: "hidden"
                            }).append("<div></div>");
                            this.options.renderTile.call(this, y, d, g, m, h, l, p), u.appendChild(y.get(0)), p += h
                        }
                        l += m
                    }
                    this.slider.image1.get(0).appendChild(u)
                }, execute: function () {
                    var e = this, t = this.slider.image1.height(), n = this.slider.image1.find("div.barcontainer");
                    this.slider.image2.hide(), n.last().transitionEnd(function (t) {
                        e.slider.image2.show(), e.finished()
                    }), n.css3({transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, t / 2, t / 2)})
                }, renderTile: function (e, t, n, i, o, r, a) {
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.bars = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                columns: 10,
                rows: 1,
                delayBetweenBars: 40,
                renderTile: function (t, n, i, o, r, a, s) {
                    e(t).children().css({
                        position: "absolute",
                        top: -s + "px",
                        left: -a + "px",
                        width: this.slider.width + "px ",
                        height: this.slider.height + "px",
                        background: this.slider.image1.css("background")
                    }).parent().css3({
                        "transition-duration": "400ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": n * this.options.delayBetweenBars + "ms"
                    })
                },
                execute: function () {
                    var t = this, n = this.slider.image1.height(), i = this.slider.image1.find("div.tile");
                    e(i[i.length - 1]).transitionEnd(function () {
                        t.finished()
                    }), setTimeout(function () {
                        i.css({opacity: "0.5"}).css3({transform: flux.browser.translate(0, n)})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.bars3d = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                requires3d: !0,
                columns: 7,
                rows: 1,
                delayBetweenBars: 150,
                perspective: 1e3,
                renderTile: function (t, n, i, o, r, a, s) {
                    var c = e('<div class="bar-' + n + '"></div>').css({
                            width: o + "px",
                            height: "100%",
                            position: "absolute",
                            top: "0px",
                            left: "0px",
                            "z-index": 200,
                            overflow: "hidden"
                        }).css3({"backface-visibility": "hidden"}), l = e("<div></div>").css({
                            position: "absolute",
                            top: -s + "px",
                            left: -a + "px",
                            width: this.slider.width + "px ",
                            height: this.slider.height + "px",
                            background: this.slider.image1.css("background")
                        }).appendTo(c),
                        p = e(c.get(0).cloneNode(!1)).css3({transform: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -r / 2, r / 2)});
                    e(l.get(0).cloneNode(!1)).css({"background-image": this.slider.image2.css("background-image")}).appendTo(p);
                    var u = e('<div class="side bar-' + n + '"></div>').css({
                            width: r + "px",
                            height: r + "px",
                            position: "absolute",
                            top: "0px",
                            left: "0px",
                            background: "#222",
                            "z-index": 190
                        }).css3({
                            transform: flux.browser.rotateY(90) + " " + flux.browser.translate(r / 2, 0, -r / 2) + " " + flux.browser.rotateY(180),
                            "backface-visibility": "hidden"
                        }),
                        d = e(u.get(0).cloneNode(!1)).css3({transform: flux.browser.rotateY(90) + " " + flux.browser.translate(r / 2, 0, o - r / 2)});
                    e(t).empty().css({
                        overflow: "visible",
                        width: o + "px",
                        height: "100%",
                        position: "absolute",
                        top: "0px",
                        left: a + "px",
                        "z-index": n > this.options.columns / 2 ? 1e3 - n : 1e3
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "all",
                        "transition-delay": n * this.options.delayBetweenBars + "ms",
                        "transform-style": "preserve-3d"
                    }).append(c).append(p).append(u).append(d)
                },
                execute: function () {
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).css({
                        "-moz-transform": "perspective(" + this.options.perspective + "px)",
                        "-moz-perspective": "none",
                        "-moz-transform-style": "preserve-3d"
                    });
                    var e = this, t = this.slider.image1.height(), n = this.slider.image1.find("div.tile");
                    this.slider.image2.hide(), n.last().transitionEnd(function (t) {
                        e.slider.image1.css3({"transform-style": "flat"}), e.slider.image2.show(), e.finished()
                    }), setTimeout(function () {
                        n.css3({transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, t / 2, t / 2)})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.blinds = function (t, n) {
            var i = flux.transitions.bars;
            return new i(t, e.extend({
                execute: function () {
                    var t = this, n = this.slider.image1.find("div.tile");
                    e(n[n.length - 1]).transitionEnd(function () {
                        t.finished()
                    }), setTimeout(function () {
                        n.css({opacity: "0.5"}).css3({transform: "scalex(0.0001)"})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.zip = function (t, n) {
            var i = flux.transitions.bars;
            return new i(t, e.extend({
                execute: function () {
                    var t = this, n = this.slider.image1.height(), i = this.slider.image1.find("div.tile");
                    e(i[i.length - 1]).transitionEnd(function () {
                        t.finished()
                    }), setTimeout(function () {
                        i.each(function (t, i) {
                            e(i).css({opacity: "0.3"}).css3({transform: flux.browser.translate(0, t % 2 ? "-" + 2 * n : n)})
                        })
                    }, 20)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.blocks = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                forceSquare: !0,
                delayBetweenBars: 100,
                renderTile: function (t, n, i, o, r, a, s) {
                    var c = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                    e(t).children().css({
                        position: "absolute",
                        top: -s + "px",
                        left: -a + "px",
                        width: this.slider.width + "px ",
                        height: this.slider.height + "px",
                        background: this.slider.image1.css("background")
                    }).parent().css3({
                        "transition-duration": "350ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": c + "ms"
                    }), void 0 === this.maxDelay && (this.maxDelay = 0), c > this.maxDelay && (this.maxDelay = c, this.maxDelayTile = t)
                },
                execute: function () {
                    var t = this, n = this.slider.image1.find("div.tile");
                    this.maxDelayTile.transitionEnd(function () {
                        t.finished()
                    }), setTimeout(function () {
                        n.each(function (t, n) {
                            e(n).css({opacity: "0"}).css3({transform: "scale(0.8)"})
                        })
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.blocks2 = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                cols: 12,
                forceSquare: !0,
                delayBetweenDiagnols: 150,
                renderTile: function (t, n, i, o, r, a, s) {
                    e(t).children().css({
                        position: "absolute",
                        top: -s + "px",
                        left: -a + "px",
                        width: this.slider.width + "px ",
                        height: this.slider.height + "px",
                        background: this.slider.image1.css("background")
                    }).parent().css3({
                        "transition-duration": "350ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": (n + i) * this.options.delayBetweenDiagnols + "ms",
                        "backface-visibility": "hidden"
                    })
                },
                execute: function () {
                    var t = this, n = this.slider.image1.find("div.tile");
                    n.last().transitionEnd(function () {
                        t.finished()
                    }), setTimeout(function () {
                        n.each(function (t, n) {
                            e(n).css({opacity: "0"}).css3({transform: "scale(0.8)"})
                        })
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.cube = function (t, n) {
            var i = flux.transition;
            return new i(t, e.extend({
                requires3d: !0,
                barWidth: 100,
                direction: "left",
                perspective: 1e3,
                setup: function () {
                    var t = this.slider.image1.width(), n = this.slider.image1.height();
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }), this.cubeContainer = e('<div class="cube"></div>').css({
                        width: t + "px",
                        height: n + "px",
                        position: "relative"
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "all",
                        "transform-style": "preserve-3d"
                    });
                    var i = {height: "100%", width: "100%", position: "absolute", top: "0px", left: "0px"},
                        o = e('<div class="face current"></div>').css(e.extend(i, {background: this.slider.image1.css("background")})).css3({"backface-visibility": "hidden"});
                    this.cubeContainer.append(o);
                    var r = e('<div class="face next"></div>').css(e.extend(i, {backgroundImage: this.slider.image2.css("background-image")})).css3({
                        transform: this.options.transitionStrings.call(this, this.options.direction, "nextFace"),
                        "backface-visibility": "hidden"
                    });
                    this.cubeContainer.append(r), this.slider.image1.append(this.cubeContainer)
                },
                execute: function () {
                    var e = this;
                    this.slider.image2.hide(), this.cubeContainer.transitionEnd(function () {
                        e.slider.image2.show(), e.finished()
                    }), setTimeout(function () {
                        e.cubeContainer.css3({transform: e.options.transitionStrings.call(e, e.options.direction, "container")})
                    }, 50)
                },
                transitionStrings: function (e, t) {
                    var n = this.slider.image1.width(), i = this.slider.image1.height(), o = {
                        up: {
                            nextFace: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, i / 2, i / 2),
                            container: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -i / 2, i / 2)
                        },
                        down: {
                            nextFace: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -i / 2, i / 2),
                            container: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, i / 2, i / 2)
                        },
                        left: {
                            nextFace: flux.browser.rotateY(90) + " " + flux.browser.translate(n / 2, 0, n / 2),
                            container: flux.browser.rotateY(-90) + " " + flux.browser.translate(-n / 2, 0, n / 2)
                        },
                        right: {
                            nextFace: flux.browser.rotateY(-90) + " " + flux.browser.translate(-n / 2, 0, n / 2),
                            container: flux.browser.rotateY(90) + " " + flux.browser.translate(n / 2, 0, n / 2)
                        }
                    };
                    return !(!o[e] || !o[e][t]) && o[e][t]
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.tiles3d = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                requires3d: !0,
                forceSquare: !0,
                columns: 5,
                perspective: 600,
                delayBetweenBarsX: 200,
                delayBetweenBarsY: 150,
                renderTile: function (t, n, i, o, r, a, s) {
                    var c = e("<div></div>").css({
                            width: o + "px",
                            height: r + "px",
                            position: "absolute",
                            top: "0px",
                            left: "0px",
                            background: this.slider.image1.css("background"),
                            "background-size": this.slider.width + "px " + this.slider.height + "px",
                            "background-position": "-" + a + "px -" + s + "px",
                            "background-repeat": "no-repeat",
                            "-moz-transform": "translateZ(1px)"
                        }).css3({"backface-visibility": "hidden"}),
                        l = e(c.get(0).cloneNode(!1)).css({"background-image": this.slider.image2.css("background-image")}).css3({
                            transform: flux.browser.rotateY(180),
                            "backface-visibility": "hidden"
                        });
                    e(t).empty().css({
                        overflow: "visible",
                        "z-index": (n > this.options.columns / 2 ? 500 - n : 500) + (i > this.options.rows / 2 ? 500 - i : 500)
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "ease-out",
                        "transition-property": "all",
                        "transition-delay": n * this.options.delayBetweenBarsX + i * this.options.delayBetweenBarsY + "ms",
                        "transform-style": "preserve-3d"
                    }).append(c).append(l)
                },
                execute: function () {
                    this.slider.image1.css3({perspective: this.options.perspective, "perspective-origin": "50% 50%"});
                    var e = this, t = this.slider.image1.find("div.tile");
                    this.slider.image2.hide(), t.last().transitionEnd(function (t) {
                        e.slider.image2.show(), e.finished()
                    }), setTimeout(function () {
                        t.css3({transform: flux.browser.rotateY(180)})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.turn = function (t, n) {
            var i = flux.transition;
            return new i(t, e.extend({
                requires3d: !0, perspective: 1300, direction: "left", setup: function () {
                    var t = e('<div class="tab"></div>').css({
                        width: "50%",
                        height: "100%",
                        position: "absolute",
                        top: "0px",
                        left: "left" === this.options.direction ? "50%" : "0%",
                        "z-index": 101
                    }).css3({
                        "transform-style": "preserve-3d",
                        "transition-duration": "1000ms",
                        "transition-timing-function": "ease-out",
                        "transition-property": "all",
                        "transform-origin": "left" == this.options.direction ? "left center" : "right center"
                    });
                    e("<div></div>").appendTo(t).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" == this.options.direction ? "-" + this.slider.image1.width() / 2 : 0) + "px 0",
                        width: "100%",
                        height: "100%",
                        position: "absolute",
                        top: "0",
                        left: "0",
                        "-moz-transform": "translateZ(1px)"
                    }).css3({"backface-visibility": "hidden"}), e("<div></div>").appendTo(t).css({
                        background: this.slider.image2.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" === this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                        width: "100%",
                        height: "100%",
                        position: "absolute",
                        top: "0",
                        left: "0"
                    }).css3({transform: flux.browser.rotateY(180), "backface-visibility": "hidden"});
                    var n = e("<div></div>").css({
                        position: "absolute",
                        top: "0",
                        left: "left" === this.options.direction ? "0" : "50%",
                        width: "50%",
                        height: "100%",
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" === this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                        "z-index": 100
                    }), i = e('<div class="overlay"></div>').css({
                        position: "absolute",
                        top: "0",
                        left: "left" === this.options.direction ? "50%" : "0",
                        width: "50%",
                        height: "100%",
                        background: "#000",
                        opacity: 1
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "opacity"
                    }), o = e("<div></div>").css3({
                        width: "100%",
                        height: "100%"
                    }).css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).append(t).append(n).append(i);
                    this.slider.image1.append(o)
                }, execute: function () {
                    var e = this;
                    this.slider.image1.find("div.tab").first().transitionEnd(function () {
                        e.finished()
                    }), setTimeout(function () {
                        e.slider.image1.find("div.tab").css3({transform: flux.browser.rotateY("left" == e.options.direction ? -179 : 179)}), e.slider.image1.find("div.overlay").css({opacity: 0})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.slide = function (t, n) {
            var i = flux.transition;
            return new i(t, e.extend({
                direction: "left", setup: function () {
                    var t = this.slider.image1.width(), n = this.slider.image1.height(),
                        i = e('<div class="current"></div>').css({
                            height: n + "px",
                            width: t + "px",
                            position: "absolute",
                            top: "0px",
                            left: "0px",
                            background: this.slider["left" === this.options.direction ? "image1" : "image2"].css("background")
                        }).css3({"backface-visibility": "hidden"}), o = e('<div class="next"></div>').css({
                            height: n + "px",
                            width: t + "px",
                            position: "absolute",
                            top: "0px",
                            left: t + "px",
                            background: this.slider["left" === this.options.direction ? "image2" : "image1"].css("background")
                        }).css3({"backface-visibility": "hidden"});
                    this.slideContainer = e('<div class="slide"></div>').css({
                        width: 2 * t + "px",
                        height: n + "px",
                        position: "relative",
                        left: "left" === this.options.direction ? "0px" : -t + "px",
                        "z-index": 101
                    }).css3({
                        "transition-duration": "600ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all"
                    }), this.slideContainer.append(i).append(o), this.slider.image1.append(this.slideContainer)
                }, execute: function () {
                    var e = this, t = this.slider.image1.width();
                    "left" === this.options.direction && (t = -t), this.slideContainer.transitionEnd(function () {
                        e.finished()
                    }), setTimeout(function () {
                        e.slideContainer.css3({transform: flux.browser.translate(t)})
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto), function (e) {
        flux.transitions.explode = function (t, n) {
            var i = flux.transition_grid;
            return new i(t, e.extend({
                columns: 10,
                forceSquare: !0,
                delayBetweenBars: 30,
                perspective: 800,
                requires3d: !0,
                renderTile: function (t, n, i, o, r, a, s) {
                    var c = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                    e(t).children().css({
                        position: "absolute",
                        top: -s + "px",
                        left: -a + "px",
                        width: this.slider.width + "px ",
                        height: this.slider.height + "px",
                        background: this.slider.image1.css("background")
                    }).parent().css3({
                        "transition-duration": "500ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": c + "ms"
                    }), void 0 === this.maxDelay && (this.maxDelay = 0), c > this.maxDelay && (this.maxDelay = c, this.maxDelayTile = t)
                },
                execute: function () {
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).css({
                        "-moz-transform": "perspective(" + this.options.perspective + "px)",
                        "-moz-perspective": "none",
                        "-moz-transform-style": "preserve-3d"
                    });
                    var t = this, n = this.slider.image1.find("div.tile");
                    this.maxDelayTile.transitionEnd(function () {
                        t.slider.image1.css3({"transform-style": "flat"}), t.finished()
                    }), setTimeout(function () {
                        n.each(function (t, n) {
                            e(n).css({opacity: "0"}).css3({transform: flux.browser.translate(0, 0, 700) + " rotate3d(" + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", 90deg) "})
                        })
                    }, 50)
                }
            }, n))
        }
    }(window.jQuery || window.Zepto)
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        return new Promise(function (t, i) {
            n.e(1, function () {
                var o = n(556), r = o[e];
                /^<path.*>$/.test(r) ? t(r) : i(e + " does not match <path />")
            })
        })
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function g(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : g(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, l = n(553).$getSvg, p = n(554), u = n(555), d = n(495), m = "http://www.w3.org/2000/svg", f = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {style: {compStyle: {backgroundColor: !0}}}), r
        }

        return r(t, e), s(t, [{
            key: "getFtEditableProps", value: function () {
                var e = c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps, i = this.compJson.properties.items, o = (i || []).map(function (e, t) {
                        return n.color.fill + "-" + t
                    });
                return e.concat([n.sound.soundSrc, n.link.url, n.internalLink.internalLink, n.telephone.number], o)
            }
        }, {
            key: "getFtValue", value: function (e) {
                var n = this.FtEditableProps;
                if (e.includes(n.color.fill)) {
                    var i = e.split("-")[1];
                    return this.getProp("items")[i].fill
                }
                return c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
            }
        }, {
            key: "updateFillColor", value: function (e, t) {
                var n = $(this.$li).find("[fill], [style*='fill']"), i = this.getProp("items")[e];
                if (i) {
                    var o = i.elements;
                    i.fill = t, n.each(function (e) {
                        if (o.indexOf(e) > -1) {
                            var i = $.Color(t).toString();
                            n.eq(e).css({fill: i})
                        }
                    })
                }
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = this;
                this.$contentsDiv.css({position: "relative"});
                var n = e.id, i = e.properties, o = i.viewBox, r = void 0 === o ? "0 0 64 64" : o, s = i.type,
                    c = void 0 === s ? "" : s, d = i.src, f = i.items, g = e.css.color, h = void 0 === g ? "#555" : g;
                if (d) {
                    var v = document.createElementNS(m, "svg");
                    return v.setAttribute("class", "element svg-element"), l(d).then(function (i) {
                        var o = i.getElementsByTagName("svg"), r = o[0].viewBox.baseVal,
                            a = parseFloat($(o).attr("width")) || r.width,
                            s = parseFloat($(o).attr("height")) || r.height,
                            c = $(o).find("[fill], [style*='fill']") || [];
                        if (f) if (c.length == f.length) for (var l = 0; l < f.length; l++) c.eq(l).css({fill: f[l].fill}); else $.each(c, function (e, t) {
                            for (var n = 0; n < f.length; n++) for (var i = f[n].elements || [], o = 0; o < i.length; o++) e == i[o] && ("" != f[n].fill ? c.eq(e).css({fill: f[n].fill}) : c.eq(e).css({fill: "none"}))
                        }); else {
                            var p = [], u = {};
                            $.each(c, function (e, t) {
                                var n = $(t).attr("style");
                                if (n) {
                                    for (var i = n.split(";") || [], o = 0, r = i.length; o < r; o++) if (i[o].includes("fill:")) {
                                        p.push(i[o].split(":")[1]);
                                        break
                                    }
                                } else p.push($(t).attr("fill"))
                            });
                            for (var d = 0; d < p.length; d++) u[p[d]] || (u[p[d]] = 1, "none" != p[d] ? f.push({
                                fill: p[d],
                                svgFill: p[d]
                            }) : f.push({fill: "", svgFill: "none"}));
                            for (var m = 0; m < f.length; m++) {
                                var g = [];
                                $.each(c, function (e, t) {
                                    var n, i = $(t).attr("style");
                                    if (i) {
                                        for (var o = i.split(";"), r = 0, a = o.length; r < a; r++) if (o[r].includes("fill:")) {
                                            n = o[r].split(":")[1];
                                            break
                                        }
                                    } else n = $(t).attr("fill");
                                    n == f[m].svgFill && g.push(e)
                                }), f[m].elements = g
                            }
                            e.properties.items = f
                        }
                        var h = "0 0 " + a + " " + s, y = t.$contentsDiv;
                        y.empty();
                        var b = t.$contentsDiv[0];
                        v = o[0], b.appendChild(v), v.getAttribute("viewBox") || v.setAttribute("viewBox", h), v.setAttribute("preserveAspectRatio", "none"), v.setAttribute("width", "100%"), v.setAttribute("height", "100%"), v.id = n, v.setAttribute("class", "element svg-element"), t.$context = $(v)
                    })["catch"](function () {
                        var e;
                        (e = console).error.apply(e, arguments)
                    }), $(v)
                }
                var y = r.split(" "), b = y[2] || 64, x = y[3] || 64;
                if (c.includes("symbols")) {
                    var w = $(u.svg({id: n, viewBox: r}))[0];
                    return a(c.replace(/^symbols-/, "")).then(function (e) {
                        w.innerHTML = u.g({id: n, color: h, path: e})
                    })["catch"](function () {
                        var e;
                        (e = console).error.apply(e, arguments)
                    }), $(w)
                }
                var S = c.replace(/-([a-z])/g, function (e, t) {
                    return t.toUpperCase()
                });
                if (p[S]) {
                    var k = $(p[S](b, x)).attr("fill", h);
                    return $(u.svg({id: n, viewBox: r, content: k[0].outerHTML}))
                }
                console.error("shape#" + n + " does not match any!")
            }
        }, {
            key: "updateTurnOver", value: function (e) {
                this.$boxContentDiv.css("transform", e)
            }
        }]), t
    }(d);
    e.exports = f
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return Promise.all([r("image"), u.$loadQiniu(), u.$loadPlupload()]).then(function (t) {
            return Object.assign(e, {token: t[0].map.token}), Qiniu.uploader({
                runtimes: "html5,flash,html4",
                browse_button: e.uploadButton,
                uptoken_url: d.SERVER_0 + "eqs/material/uptokens?type=image",
                uptoken: e.token,
                unique_names: !0,
                domain: "http://qiniu-plupload.qiniudn.com/",
                max_file_size: "10mb",
                max_retries: 3,
                chunk_size: "4mb",
                auto_start: !0,
                init: {
                    FilesAdded: function (e, t) {
                        window.plupload.each(t, function (e) {
                        })
                    }, BeforeUpload: function (t, n) {
                        e.beforeUpload(t, n)
                    }, UploadProgress: function (e, t) {
                    }, FileUploaded: function (t, n, i) {
                        e.finishUpload(t, n, i)
                    }, Error: function (t, n, i) {
                        e.Error(t, n, i)
                    }, UploadComplete: function () {
                    }, Key: function (e, t) {
                        var n = "";
                        return n
                    }
                }
            })
        })
    }

    function o(e) {
        return function (t) {
            return t.includes("http") || (t = d.FILE + t), p({type: "GET", url: t, dataType: e})
        }
    }

    function r(e) {
        return p({
            type: "POST",
            url: d.SERVER_0 + "eqs/material/uptokens?type=" + e,
            headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"}
        })
    }

    function a(e, t) {
        var n = "//up.qiniu.com/putb64/-1";
        return window.location.href.startsWith("https://") && (n = "//up.qiniup.com/putb64/-1"), p({
            type: "POST",
            url: n,
            contentType: "application/octet-stream",
            beforeSend: function (t) {
                t.setRequestHeader("Authorization", "UpToken " + e)
            },
            data: t
        })
    }

    function s(e, t) {
        return p({
            type: "POST",
            url: d.SERVER_1 + "eqs/board/drawing/save?compKey=" + e,
            data: {data: JSON.stringify(t)}
        })
    }

    function c(e) {
        return p({type: "GET", dataType: "text"})
    }

    function l(e) {
        return p({type: "GET", url: d.SERVER_1 + "eqs/s/image/scene/preview?domain=" + e}).then(function (e) {
            return e ? (e = e.startsWith("http:") ? e : d.FILE + e, e += "?imageMogr2/auto-orient/thumbnail/2100x1200>") : Promise.reject("No Background Image")
        })
    }

    var p = n(166).$ajax, u = n(453), d = n(114), m = o("xml");
    e.exports = {
        $getSvg: m,
        $getSymbol: c,
        $getPcBgImg: l,
        $getUploadToken: r,
        $uploadBase64: a,
        $saveCompInfoByCompKey: s,
        $initQiniuUpload: i
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        return document.createElementNS("http://www.w3.org/2000/svg", e)
    }

    function i(e) {
        for (var t = []; e.length >= 2;) t.push(e.shift() + "," + e.shift());
        return t.join(" ")
    }

    function o(e, t) {
        var i = n("rect");
        return i.setAttribute("width", e), i.setAttribute("height", t), i
    }

    function r(e, t) {
        var i = n("ellipse");
        return i.setAttribute("rx", e / 2), i.setAttribute("ry", t / 2), i.setAttribute("cx", e / 2), i.setAttribute("cy", t / 2), i
    }

    function a(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([e / 2, 0, e, t, 0, t])), o
    }

    function s(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([0, 0, e, 0, e / 2, t])), o
    }

    function c(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([0, t / 2, e, 0, e, t])), o
    }

    function l(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([e, t / 2, 0, t, 0, 0])), o
    }

    function p(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([.5 * e, 0, e, .5 * t, .7 * e, .5 * t, .7 * e, t, .3 * e, t, .3 * e, .5 * t, 0, .5 * t, .5 * e, 0])), o
    }

    function u(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([.5 * e, t, e, .5 * t, .7 * e, .5 * t, .7 * e, 0, .3 * e, 0, .3 * e, .5 * t, 0, .5 * t, .5 * e, t])), o
    }

    function d(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([e, .3 * t, .5 * e, .3 * t, .5 * e, 0, 0, .5 * t, .5 * e, t, .5 * e, .7 * t, e, .7 * t, e, .3 * t])), o
    }

    function m(e, t) {
        var o = n("polygon");
        return o.setAttribute("points", i([0, .3 * t, .5 * e, .3 * t, .5 * e, 0, e, .5 * t, .5 * e, t, .5 * e, .7 * t, 0, .7 * t])), o
    }

    function f(e, t, o) {
        var r = n("polygon"), a = [];
        if (3 === o) a = [e / 2, 0, e, t, 0, t]; else if (o > 3) for (var s = e / 2, c = t / 2, l = 0; o > l; l++) {
            var p = s + s * Math.cos(2 * Math.PI * l / o), u = c + c * Math.sin(2 * Math.PI * l / o);
            p = Math.round(10 * p) / 10, u = Math.round(10 * u) / 10, a.push(p), a.push(u)
        }
        return r.setAttribute("points", i(a)), r
    }

    function g(e, t) {
        return f(e, t, 4)
    }

    function h(e, t) {
        return f(e, t, 8)
    }

    e.exports = {
        rect: o,
        ellipse: r,
        circle: r,
        triangleUp: a,
        triangleDown: s,
        triangleLeft: c,
        triangleRight: l,
        arrowUp: p,
        arrowDown: u,
        arrowLeft: d,
        arrowRight: m,
        diamond: g,
        octagon: h
    };
    var v = n("rect");
    v.attr = v.setAttribute
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = e.color, n = e.id, i = e.path;
        return '<g fill="' + t + '" id="path_' + n + '">' + i + "</g>"
    }

    function i(e) {
        var t = e.id, n = e.viewBox, i = e.content, r = void 0 === i ? "" : i;
        return '\n<svg id="' + t + '" class="element svg-element" xmlns="' + o + '" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="' + n + '">\n    ' + r + "\n</svg>"
    }

    var o = "http://www.w3.org/2000/svg";
    e.exports = {g: n, svg: i}
}, , function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = function h(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : h(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, c = n(558), l = n(495), p = n(561), u = n(562), d = n(468).parse, m = n(175).mobilecheck,
        f = {POP: 0, INLINE: 1}, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.bgm = r.eqxScene.bgm, r.$close = null, r.$video = null, $.extend(!0, r.$ability, {
                    style: {compStyle: {backgroundColor: !1}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1,
                    flexLine: "r,ne,se,sw,nw"
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties.cover, o = e.css, r = o.width,
                        a = o.height;
                    if (i) {
                        i = this.getImgSrc(i, {width: r, height: a});
                        var s = $(d(p, {id: t, type: n, cover: i}))
                    } else s = $(d(u, {id: t, type: n}));
                    return s.css({height: a, width: r}), s
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    e.addClass("wsite-video")
                }
            }, {
                key: "eleHide", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.hide()
                }
            }, {
                key: "update", value: function (e) {
                    switch (e.type) {
                        case"hide":
                            this.hide()
                    }
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this, i = t.properties.style;
                    return e.click(function () {
                        switch (n._isPlayingVideo = !0, n.bgm && n.bgm.hide && n.bgm.hide(), n.eqxScene.soundManager.stopAll(), i) {
                            case f.INLINE:
                                n.initInlineVideo();
                                break;
                            case f.POP:
                            default:
                                n.initPopVideo()
                        }
                    }), !0
                }
            }, {
                key: "initInlineVideo", value: function () {
                    var e = this.compJson, t = e.properties.src, n = e.css;
                    t = t.replace(/('|")?allowfullscreen\1(=('|")?\3)?/, "");
                    var i = this.$iframe = $(t).css({
                        width: n.width,
                        height: n.height,
                        zIndex: 3,
                        position: "fixed",
                        top: 0
                    });
                    m() || i.css("position", "absolute"), $(this.context).find("img").css("display", "none"), this.$li.find(".inline-video").append(i)
                }
            }, {
                key: "initPopVideo", value: function () {
                    var e = this, t = this.compJson, n = t.id, i = t.properties.src, o = this.$li;
                    o.hide();
                    var r = o.parent().css("transform").match(/-?[\d.]+/g) || o.parents(".edit_wrapper").css("transform").match(/-?[\d.]+/g),
                        a = 0;
                    r && (a = -parseInt(r[5]));
                    var s = this.$video = $(c.videoDiv(n));
                    m() || s.css("position", "absolute");
                    var l = this.$close = $(c.close(n)), p = $(i).css({
                        position: "absolute",
                        top: "20%",
                        width: "100%",
                        minHeight: "45%",
                        maxHeight: "100%"
                    }).removeAttr("height");
                    s.append(p), o.parent().append(s, l), s.css({top: a}), l.css({top: a + 15}), l.bind("click", function () {
                        e.hide()
                    })
                }
            }, {
                key: "hide", value: function () {
                    if (this._isPlayingVideo) {
                        this._isPlayingVideo = !1, this.bgm && this.bgm.show && this.bgm.show(), this.eqxScene.soundManager.restoreAll();
                        var e = this.compJson.properties.style, t = void 0 === e ? 0 : e;
                        switch (t) {
                            case f.INLINE:
                                this.$iframe && (this.$iframe.remove(), this.$iframe = null);
                                break;
                            case f.POP:
                                this.$close && (this.$li.show(), this.$close.unbind("click"), this.$video.remove(), this.$close.remove(), this.$video = null, this.$close = null)
                        }
                    }
                }
            }]), t
        }(l);
    g.STYLE = f, e.exports = g
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type;
        return '<a class="element video_area" id="' + t + '" ctype="' + n + '" style="width:100%;height:100%;"></a>'
    }

    function o(e) {
        return '<div class="video_mask page_effect lock" id="mask_' + e + '"></div>'
    }

    function r(e) {
        return '<a class="close_mask eqf-no" id="close_' + e + '"></a>'
    }

    n(559), e.exports = {compDiv: i, videoDiv: o, close: r}
}, function (e, t) {
}, function (e, t, n) {
    e.exports = n.p + "images/play-a830cb.svg"
}, function (e, t, n) {
    e.exports = '<div class="inline-video" id="#{id}" ctype="#{type}"><img class="cover" alt="video-cover" src="#{cover}"> <img class="center play" src="' + n(560) + '" alt="video-play-button"></div>'
}, function (e, t) {
    e.exports = '<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%"></a>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = function y(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : y(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, c = n(495), l = n(564), p = n(501).getWxJSSDK, u = n(175).isWeixin, d = n(175).isAndroid, m = n(458).RAW_EVENT,
        f = n(458).EQX_EVENT, g = n(175).mobilecheck, h = g() ? "touchend" : "click", v = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {commonStyle: {self: !1}, advanceStyle: {self: !1}},
                    anim: !1,
                    trigger: {mediaCanplay: !0, mediaEnded: !0, mediaPlaying: !0},
                    sound: !1,
                    link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "getFtEditableProps", value: function () {
                    var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                        n = this.FtEditableProps;
                    return e.concat([n.video.video])
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var n = this.FtEditableProps;
                    return e === n.video.video ? this.compJson.src : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    this.$context.css({
                        width: n.width,
                        height: n.height
                    }), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.css, n = t.width, i = t.height, o = e.properties.loop;
                    this.$source = $('<source type="video/mp4">');
                    var r = $('<video x5-video-player-fullscreen="false" playsinline="true" webkit-playsinline width="' + n + '" height="' + i + '" poster="' + l + '" audoplay></video>');
                    return o && r.attr("loop", "loop"), r.append(this.$source), r
                }
            }, {
                key: "eleShow", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this), this.compJson.autoplay && "1" === this.compJson.autoplay.toString() && (this.$context.attr("autoplay", "autoplay"), this.playVideo())
                }
            }, {
                key: "eleHide", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.$context[0].pause(), this.interactiveVideoAgent && this.interactiveVideoAgent.end()
                }
            }, {
                key: "addTriggerGroupListeners", value: function () {
                    function e() {
                        t.playVideo()
                    }

                    var t = this;
                    this.$context.on("play", function () {
                        $(document.body).unbind(h, e)
                    });
                    var n = [5, 6, 7, 8, 9, 10], i = this.eqxPage.pageJson.properties.triggerGroup,
                        o = i.some(function (e) {
                            return n.indexOf(e.eventType) > -1
                        });
                    i.length && !o || $(document.body).bind(h, e)
                }
            }, {
                key: "playVideo", value: function () {
                    var e = this.interactiveVideoAgent;
                    if (this.compJson.src && this.$source.attr("src")) try {
                        this.$li.show();
                        var t = this.$context[0];
                        t.currentTime = 0, u() ? this.wxJssdk.then(function () {
                            wx.checkJsApi({
                                jsApiList: ["checkJsApi"], success: function () {
                                    t.paused ? e.play() : e.end()
                                }
                            })
                        }) : t.paused ? e.play() : e.end()
                    } catch (n) {
                        this.$li.hide()
                    }
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    t.src && this.$source.attr("src", t.src);
                    var i = this.eqxPage.pageJson.properties.triggerGroup.some(function (e) {
                        return e.sourceId === t.id && e.targetId === t.id && e.eventType === m.click && e.targetState == f.play
                    });
                    return this.compJson.autoplay && "1" === this.compJson.autoplay.toString() && !i && d() && this.$li.on("click", function () {
                        n.playVideo()
                    }), u() && (this.wxJssdk = p()), this.$boxDiv.css({borderWidth: 0}), this.$li.hide(), !0
                }
            }]), t
        }(c);
    e.exports = v
}, function (e, t, n) {
    e.exports = n.p + "images/play-32e9c9.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function u(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : u(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(566);
    var c = (n(567).$postDialRecord, n(568)), l = (n(572).isPhoneNumber, n(495)), p = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {self: !0, fontFamily: !1, fontColor: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "getFtEditableProps", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.link.url, n.internalLink.internalLink, n.telephone.number])
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.type, i = e.css, o = i.width, r = i.height, a = e.properties,
                    s = a.title, l = a.imgSrc;
                if (l) {
                    l = this.getImgSrc(l, {width: o, height: r});
                    var p = "0"
                }
                return this.$context = $(c.compDiv({id: t, title: s, type: n, imgSrc: l, padding: p})), this.$context
            }
        }, {
            key: "updateBtnTitle", value: function (e) {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = e)
            }
        }, {
            key: "deleteImage", value: function () {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = "")
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
            }
        }]), t
    }(l);
    e.exports = p
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return o({type: "POST", url: r.SERVER_1 + "eqs/dial", data: e})
    }

    var o = n(166).ajax, r = n(114);
    e.exports = {$postDialRecord: i}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return e.imgSrc ? r(e) : o(e)
    }

    function o(e) {
        var t = e.id, n = e.title, i = e.type;
        return n = n ? n.replace(/ /g, "&nbsp;") : "", c(a, {id: t, title: n, type: i})
    }

    function r(e) {
        var t = e.id, n = e.imgSrc, i = e.type, o = e.padding;
        return c(s, {id: t, src: n, type: i, padding: o})
    }

    n(569);
    var a = n(570), s = n(571), c = n(468).parse;
    e.exports = {compDiv: i}
}, function (e, t) {
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="display: flex; justify-content: center; align-items: center" data-event="1120602" style="cursor: default; width: 100%">#{title}</a>'
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="cursor: default; width: 100%;height: 100%;padding: #{padding}"><img style="width: 100%; height: 100%" src="#{src}"></a>'
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = /(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/;
        return t.test(e)
    }

    function i(e) {
        var t = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return t.test(e)
    }

    e.exports = {isPhoneNumber: n, isEmail: i}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(574);
    var c = n(575), l = n(495), p = n(468).parse, u = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !1},
                    compFont: {self: !1, fontFamily: !1}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "getFtEditableProps", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.sound.soundSrc])
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.imgSrc, r = i.title, a = e.css,
                    s = a.height, l = a.width;
                if (o) {
                    o = this.getImgSrc(o, {width: l, height: s});
                    var u = "0", d = '<img style="width: 100%; height: 100%;" src="' + o + '">'
                }
                return r && (d = r.replace(/ /g, "&nbsp;"), u = "0 8px", o = ""), o || r || (d = ""), $(p(c, {
                    id: t,
                    type: n,
                    content: d,
                    padding: u
                }))
            }
        }, {
            key: "updateBtnTitle", value: function (e) {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = e)
            }
        }, {
            key: "deleteImage", value: function () {
                this.compJson.properties.imgSrc || (this.$context[0].innerText = "")
            }
        }]), t
    }(l);
    e.exports = u
}, function (e, t) {
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element eqx-sound editable-text" data-event="1120604" style="cursor: default; width: 100%;height: 100%; padding: #{padding};\ndisplay: flex; justify-content: center; align-items: center">#{content}</a>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.layout, o = e.size, r = e.icon, a = e.color,
            s = $(m(d, {layout: i, size: o, id: t, type: n, icon: r}));
        return s.find("i, span").css("color", a), s
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function g(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : g(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(577);
    var l = n(503).$getPvCount, p = n(578).fixedNum, u = n(495), d = n(579), m = n(468).parse, f = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {self: !1, fontFamily: !1}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), s(t, [{
            key: "eleShow", value: function () {
                c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this), this.getPvCount()
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson;
                e.properties.color && (e.css.color = e.properties.color, delete e.properties.color);
                var t = e.id, n = e.type, i = e.properties, o = i.layout, r = i.size, s = i.icon, c = e.css,
                    l = c.lineHeight, p = c.width, u = c.height, d = c.color, m = a({
                        id: t,
                        type: n,
                        layout: o,
                        size: r,
                        icon: s,
                        css: {width: p, height: u, lineHeight: l, color: d}
                    });
                return m
            }
        }, {
            key: "getPvCount", value: function () {
                var e = this;
                if ("view" == this.eqxScene.config.mode && !this.eqxScene.config.disablePv) return l(this.compJson.sceneId).then(function (e) {
                    return p(e) || 0
                }).then(function (t) {
                    e.$li.find(".counter-number").text(t)
                })
            }
        }, {
            key: "updateLayout", value: function () {
                this.$context.remove(), this.$li.css({
                    height: this.compJson.css.height,
                    lineHeight: this.compJson.css.lineHeight
                }), this.$context = this.create$context(), this.$contentsDiv.append(this.$context)
            }
        }]), t
    }(u);
    e.exports = f
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e) {
        var t;
        return e < 1e4 ? t = e : e >= 1e4 && e < 1e8 ? t = (e / 1e4).toFixed(2) + "万" : e >= 1e8 && (t = (e / 1e8).toFixed(2) + "亿"), t
    }

    function i(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return Math.floor(Math.random() * e) % e + t
    }

    e.exports = {fixedNum: n, random: i}
}, function (e, t) {
    e.exports = '<div class="element comp_counter editable-text #{layout} #{size}" id="#{id}" ctype="#{type}"><div class="counter-container"><i class="counter-elem counter-icon #{icon}"></i><span class="counter-elem counter-number">0</span></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.pics, o = i.map(function (e) {
            return s(e.path)
        }).join("");
        return $('\n<div id="' + t + '" class="random-event element comp_image editable-image" ctype="' + n + '"\n     style="width: 100%; height: 100%;">\n     ' + o + "\n</div>")
    }

    function s(e) {
        return '<img src="' + (p.FILE + e) + '" style="width: 100%; height: 100%; display: none;">'
    }

    var c = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(581);
    var l = n(495), p = n(114), u = n(582), d = n(585), m = n(578).random, f = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return r.randomIndex = -1, r.busy = !1, $.extend(!0, r.$ability, {
                style: {compStyle: {backgroundColor: !0}},
                trigger: {self: !1},
                sound: !1,
                link: !1
            }), r
        }

        return r(t, e), c(t, [{
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.type, i = e.properties.pics;
                return this.randomMax = i.length, a({id: t, type: n, pics: i})
            }
        }, {
            key: "addTriggerEvent", value: function () {
                var e = this.compJson.trigger, t = this.eqxScene.eventManager;
                e && (e.sends && (this.triggerEventAgent = new u(this, e, t)), e.receives && (this.receiveEventAgent = new d(this, e, t)))
            }
        }, {
            key: "showRandomImg", value: function () {
                var e = this.$context.find("img");
                e.css("display", "none");
                var t = this.randomIndex;
                if (1 != this.randomMax) {
                    do t = m(this.randomMax); while (t == this.randomIndex)
                } else t = 0;
                $(e[t]).css("display", "block"), this.randomIndex = t
            }
        }]), t
    }(l);
    e.exports = f
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(583), l = n(458).RAW_EVENT, p = n(458).INIT_EVENT, u = function (e) {
        function t(e, n, r) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r))
        }

        return r(t, e), a(t, [{
            key: "addEventListener", value: function () {
                var e = this, n = this.triggerJson.sends, i = this.master.compJson.id;
                this.master.$li.attr("data-event", "1120603"), n && "[object Array]" === toString.apply(n) && n.forEach(function (n) {
                    n.type === l.click ? e.master.$li.on("click", function () {
                        e.publish(i, n)
                    }) : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "addEventListener", e).call(e)
                })
            }
        }, {
            key: "preHandle", value: function () {
                var e = this.master.compJson.properties.initType;
                e == p.show ? this.master.$li.show() : e == p.hide && this.master.$li.hide()
            }
        }]), t
    }(c);
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(584).getHash, a = function () {
        function e(t, n, o) {
            i(this, e), this.triggerJson = n, this.master = t, this.manager = o, this.addEventListener()
        }

        return o(e, [{
            key: "addEventListener", value: function () {
            }
        }, {
            key: "preHandle", value: function () {
            }
        }, {
            key: "removeEventListener", value: function () {
            }
        }, {
            key: "publish", value: function (e, t) {
                var n = this;
                t.handles.forEach(function (i) {
                    var o = r(e, i.type);
                    n.manager.publish(o, {sender: n.master, delay: 1e3 * t.delay})
                })
            }
        }]), e
    }();
    e.exports = a
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return e.some(function (e) {
            return e.type === r.shake
        })
    }

    function o(e, t) {
        return "sender-" + e + "-type-" + t + "-" + a[t]
    }

    var r = n(458).RAW_EVENT, a = n(458).EQX_EVENT;
    e.exports = {hasShakeEvent: i, getHash: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(586), l = n(458).EQX_EVENT, p = n(514).noop, u = function (e) {
        function t(e, n, r) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r))
        }

        return r(t, e), a(t, [{
            key: "getHandler", value: function (e) {
                return e === l.random ? function (e, t) {
                    var i = n(580);
                    if (!(e instanceof i)) {
                        if (_DEBUG_) throw new Error("Expect EqxRandom, Invalid element type: " + e);
                        return p
                    }
                    e.busy || (e.busy = !0, setTimeout(function () {
                        e.showRandomImg(), e.busy = !1
                    }, t.delay))
                } : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getHandler", this).call(this, e)
            }
        }]), t
    }(c);
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(587), l = n(458).EQX_EVENT, p = n(458).INIT_EVENT, u = function (e) {
        function t(e, n, r) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r))
        }

        return r(t, e), a(t, [{
            key: "getPreHandler", value: function (e, n) {
                if (n != p["default"]) return s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getPreHandler", this).call(this, e, n);
                switch (e) {
                    case l.show:
                        return function (e) {
                            e.$li.hide()
                        };
                    case l.hide:
                        return function (e) {
                            e.$li.show()
                        };
                    default:
                        return s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getPreHandler", this).call(this, e, n)
                }
            }
        }, {
            key: "getHandler", value: function (e) {
                switch (e) {
                    case l.show:
                        return function (e, t) {
                            setTimeout(function () {
                                return e.$li.show()
                            }, t.delay)
                        };
                    case l.hide:
                        return function (e, t) {
                            setTimeout(function () {
                                return e.$li.hide()
                            }, t.delay)
                        };
                    case l.play:
                        return function (e, t) {
                            setTimeout(function () {
                                return e.playVideo()
                            }, t.delay)
                        };
                    default:
                        return s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getHandler", this).call(this, e)
                }
            }
        }]), t
    }(c);
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(514).noop, a = n(584).getHash, s = function () {
        function e(t, n, o) {
            i(this, e), this.master = t, this.triggerJson = n, this.manager = o, this.events = [], this.subscribe(), this.preHandle()
        }

        return o(e, [{
            key: "subscribe", value: function () {
                var e = this;
                this.triggerJson.receives.forEach(function (t) {
                    (t.ids || []).forEach(function (n) {
                        var i = a(n, t.type);
                        e.manager.subscribe(i, e);
                        var o = e.events.findIndex(function (e) {
                            return e.hash === i
                        });
                        o > -1 && e.events.splice(o, 1);
                        var r = {
                            hash: i,
                            preHandler: e.getPreHandler(t.type, e.master.compJson.properties.initType),
                            handler: e.getHandler(t.type)
                        };
                        e.events.push(r)
                    })
                })
            }
        }, {
            key: "update", value: function (e) {
                var t = e.type, n = e.data, i = this.events.find(function (e) {
                    return e.hash === t
                });
                i && i.handler.call(this, this.master, n)
            }
        }, {
            key: "preHandle", value: function () {
                var e = this;
                this.events.forEach(function (t) {
                    return t.preHandler.call(e, e.master)
                })
            }
        }, {
            key: "getHandler", value: function (e) {
                return r
            }
        }, {
            key: "getPreHandler", value: function (e) {
                return r
            }
        }]), e
    }();
    e.exports = s
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var s = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), c = function w(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : w(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, l = n(589), p = n(495), u = n(501).getWeChatUser, d = n(175).isWeixin, m = n(502).$getUserWxInfo,
        f = n(501).setWeChatUser, g = n(501).hrefToWxAuth, h = n(504).popUpModal, v = n(176).setUrlHistory, y = n(600),
        b = n(175).mobilecheck, x = function (e) {
            function t(e, n) {
                o(this, t);
                var a = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),
                    s = a.compJson.properties.style;
                "barrage" === s && (a.Barrage = new y, a.isBarragePlaying = !1, a.barrageComments = []);
                var c = new Promise(function () {
                });
                if (a.commentManager = a.eqxScene.commentManager, a.commentManager) {
                    a.commentManager.register(a);
                    var l = a.commentManager.getComments();
                    c = l.length ? Promise.resolve() : a.commentManager.loadInitComments(50), c.then(function () {
                        if ("barrage" === s) {
                            var e;
                            (e = a.barrageComments).push.apply(e, i(l)), a.eleShow()
                        }
                    })
                }
                return $.extend(!0, a.$ability, {
                    style: {
                        advanceStyle: {
                            border: !1,
                            shadow: !1,
                            paddingTop: !1,
                            borderWidth: !1,
                            borderRadius: !1,
                            borderStyle: !1,
                            borderColor: !1,
                            boxShadowSize: !1,
                            boxShadowBlur: !1,
                            boxShadowColor: !1,
                            boxShadowDirection: !1
                        }
                    }, trigger: {self: !1}, sound: !1, link: !1
                }), a
            }

            return a(t, e), s(t, [{
                key: "setProps", value: function (e) {
                    e.style && this.getProp("style") != e.style && this.updateStyle(e.style), "meslabel" in e && this.getProp("mesLabel") != e.meslabel && this.updateMesLabel(e.meslabel), "morelabel" in e && this.getProp("morelabel") != e.morelabel && this.updateMoreLabel(e.morelabel), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "setProps", this).call(this, e)
                }
            }, {
                key: "getStyles", value: function () {
                    return n(602)
                }
            }, {
                key: "updateStyle", value: function (e) {
                    this.$boards && "barrage" === e ? this.compJson.css.backgroundColor = "transparent" : this.$boards && this.$boards.removeClass().addClass("boards-" + e)
                }
            }, {
                key: "updateMesLabel", value: function (e) {
                    this.$context.find("a.replay").html(e || "")
                }
            }, {
                key: "updateMoreLabel", value: function (e) {
                    this.$context.find("a.more").html(e || "")
                }
            }, {
                key: "eleShow", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this);
                    var e = this.compJson.properties, n = e.style, i = e.auto;
                    if (this.$panel.parent().length || (this.$panel.hide(), this.$panel.insertBefore(this.$li.parent().parent())), "barrage" !== n) {
                        var o = this.commentManager ? this.commentManager.getComments().slice(0, 5).map(function (e) {
                            return l.record(e)
                        }) : [];
                        o.length ? (this.$boards.find(".empty-boards").length && this.$boards.find(".empty-boards").remove(),
                            this.$boards.find(".record").remove(), this.$boards.prepend(o)) : this.$boards.append(l.emptyBoards(n))
                    } else i && this.playBarrageScroll()
                }
            }, {
                key: "eleHide", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this);
                    var e = this.compJson.properties.style;
                    "barrage" !== e ? (this.$boards.find(".record").remove(), this.$boards.find(".empty-boards").remove(), this.$panel.hide()) : this.stopBarrageScroll()
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    e.addClass("wsite-boards"), e.attr("min-h", 60).attr("min-w", 230)
                }
            }, {
                key: "updateComments", value: function () {
                    var e = this.compJson.properties.style;
                    "barrage" !== e && this.$boards && this.$panel && this.eleShow()
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson.properties.style;
                    return this.$ele = "barrage" === e ? this.initBarrageDiv() : this.initCommentStyleDiv(), this.$ele
                }
            }, {
                key: "playBarrageScroll", value: function () {
                    var e = this;
                    if (!this.isBarragePlaying && this.barrageComments.length) {
                        this.isBarragePlaying = !0;
                        var t = this.$boards.find("a.barrage-play");
                        t.removeClass("off").addClass("on");
                        var n = this.compJson, i = n.css, o = i.width, r = i.height, a = n.properties.mode,
                            s = this.$boards.find(".barrage-comments").get(0), c = devicePixelRatio || 1;
                        s.width = o * c, s.height = r * c, setTimeout(function () {
                            e.Barrage.render(s, e.barrageComments, "0" === a.toString())
                        })
                    }
                }
            }, {
                key: "stopBarrageScroll", value: function () {
                    if (this.isBarragePlaying) {
                        this.isBarragePlaying = !1;
                        var e = this.$boards.find("a.barrage-play");
                        e.removeClass("on").addClass("off"), this.Barrage && this.Barrage.stop()
                    }
                }
            }, {
                key: "initBarrageDiv", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.style, r = i.auto, a = i.editable,
                        s = $(l.compDiv({id: t, type: n, style: o})), c = this.$boards = s.find(".boards-" + o);
                    return c.append(l.barrageComments()), c.append(l.barrageTools(r, a)), this.$panel = $(l.panel({style: "default"})), this.$panelList = this.$panel.find(".list"), this.$contentText = this.$panel.find(".content-text"), this.$contentTip = this.$panel.find(".content-tip"), this.$submit = this.$panel.find(".record-btn"), this.$more = this.$panel.find(".more-mes"), this.$close = this.$panel.find(".eqf-no"), this.maxLength = this.$contentText.attr("maxLength"), s
                }
            }, {
                key: "initCommentStyleDiv", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.meslabel, r = i.morelabel,
                        a = i.style, s = $(l.compDiv({id: t, type: n, style: a})),
                        c = this.$boards = s.find(".boards-" + a);
                    c.append(l.tool({meslabel: o || "", morelabel: r || ""})), this.$trigger = c.find(".tool a");
                    var p = this.$panel = $(l.panel({style: a}));
                    if (this.$close = p.find(".eqf-no"), this.$contentText = p.find(".content-text"), this.$contentTip = p.find(".content-tip"), this.$submit = p.find(".record-btn"), this.$more = p.find(".more-mes"), this.$panelList = p.find(".list"), this.maxLength = this.$contentText.attr("maxLength"), this.eqxScene.config.disableCommentManager) {
                        var u = (new Date).getTime(), d = [1, 2, 3].map(function (e) {
                            return l.record({content: "赞一个！好多新功能哦~", name: "匿名用户", createTime: u + 1e4 * e, isEditor: !0})
                        });
                        c.append(d)
                    }
                    return s
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    function n() {
                        S.commentManager && S.commentManager.loadMoreComments().then(function (e) {
                            S.$more.before(e.map(function (e) {
                                return l.record(e)
                            }))
                        })["catch"](function () {
                            S.$more.html("没有更多"), S.$more.unbind("click")
                        })
                    }

                    function i() {
                        var e = S.compJson.properties.style, t = S.commentManager.getComments().map(function (e) {
                            return l.record(e)
                        });
                        S.$panelList.find(".record").remove(), S.$panelList.prepend(t), S.$panel.show();
                        var i = S.eqxPage, o = i.$editDiv.css("transform") || "", r = o.match(/matrix.*, (.*)\)/),
                            a = r ? r[1] : 0,
                            s = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
                        S.$panel.css({
                            top: Math.abs(a) + "px",
                            height: (b() ? s : 486) + "px"
                        }), "barrage" === e && S.stopBarrageScroll(), n()
                    }

                    var o = this, r = t.sceneId, a = t.pageId, s = t.properties, c = s.style,
                        p = void 0 === c ? "default" : c, y = s.editable, x = u(), w = m, S = this;
                    this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove", function (e) {
                        e.stopPropagation()
                    }), this.$contentText.on("input", function (e) {
                        var t = e.target.value, n = t.length + t.split("\n").length - 1;
                        o.$contentTip.html(n + "/" + o.maxLength)
                    });
                    var k = !1;
                    if (this.$submit.on("click", function () {
                        if (!k) {
                            k = !0, o.$submit.addClass("submit-disabled");
                            var e = $.trim(o.$contentText.val()) || o.$contentText.attr("placeholder"),
                                t = e.length + e.split("\n").length - 1;
                            t > o.maxLength && (e = e.slice(0, o.maxLength));
                            var n = {sceneId: r, content: e, url: x.headimgurl || "", name: x.nickname || "匿名用户"};
                            o.commentManager.postComment(n).then(function (e) {
                                var t = l.record(e);
                                h("" + ("barrage" === p ? "发送弹幕成功，谢谢参与！" : "留言成功，谢谢参与！")), o.$contentText.val(""), o.$panelList.parent().scrollTop(0), o.$panelList.prepend(t), o.$contentTip.html("0/" + o.maxLength), "barrage" === p && o.barrageComments.unshift(e)
                            })["catch"](function () {
                                h("file:" === window.location.protocol ? "请发布后再提交！" : "提交失败，请重新提交")
                            })["finally"](function () {
                                var e = 10, t = function n() {
                                    e ? (o.$submit.text("提交留言(" + e-- + "秒)"), setTimeout(function () {
                                        n()
                                    }, 1e3)) : (o.$submit.text("提交留言"), o.$submit.removeClass("submit-disabled"), k = !1)
                                };
                                t()
                            })
                        }
                    }), this.$close.on("click", function () {
                        o.$panel.hide(), o.eleShow()
                    }), this.$more.on("click", function () {
                        n()
                    }), "barrage" === p) {
                        var T = this.$boards.find("a.barrage-submit"), C = this.$boards.find("a.barrage-play");
                        T.click(function () {
                            y && (d() && !x.nickname ? w().then(function (e) {
                                e.obj ? (f(e.obj), i()) : (v(a), g())
                            })["catch"](function () {
                                i()
                            }) : i())
                        }), C.click(function () {
                            o.isBarragePlaying ? o.stopBarrageScroll() : o.playBarrageScroll()
                        })
                    } else this.$trigger.on("click", function () {
                        d() && !x.nickname ? w().then(function (e) {
                            e.obj ? (f(e.obj), i()) : (v(a), g())
                        })["catch"](function () {
                            i()
                        }) : i()
                    });
                    return !0
                }
            }]), t
        }(p);
    e.exports = x
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type, i = e.style, o = void 0 === i ? "default" : i;
        return g(f, {id: t, type: n, style: o})
    }

    function o() {
        return '<canvas class="barrage-comments"></canvas>'
    }

    function r(e, t) {
        return '<div class="barrage-tools">\n                ' + (t ? '<a class="barrage-submit eqf-pen-f"></a>' : "") + '\n                <a class="barrage-play ' + (e ? "on" : "off") + '">弹<i class="eqf-slash-l"></i></a>\n            </div>'
    }

    function a() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default",
            t = n(594)("./" + e + "_boards.png");
        return '<div class="empty-boards"><img style="margin-top:-20px;" src="' + t + '" /></div>'
    }

    function s(e) {
        var t = e.meslabel, n = e.morelabel;
        return '<div class="tool"><a class="replay">' + t + '</a><a class="more">' + n + "</a></div>"
    }

    function c(e) {
        return '<div class="headimg" style="background-image:url(' + e + ')"></div>'
    }

    function l() {
        return '<div class="headimg headimg-bg"><em class="eqf-eqxiulogo"></em></div>'
    }

    function p(e) {
        var t = e.url, n = e.name, i = e.content, o = e.createTime, r = t ? c(t) : l();
        if ((new Date).getTime() - o < 6e4) var a = "刚刚"; else a = d(new Date(o), "MM月dd日 hh:mm");
        return '<div class="record">\n                ' + r + '\n                <div class="name ellipsis">' + n + '</div>\n                <div class="mes">' + i + '</div>\n                <div class="time">' + a + "</div>\n            </div>"
    }

    function u(e) {
        var t = e.style, n = void 0 === t ? "default" : t;
        return g(m, {style: n})
    }

    n(590);
    var d = n(467).dateFormat, m = n(592), f = n(593), g = n(468).parse;
    e.exports = {
        compDiv: i,
        emptyBoards: a,
        tool: s,
        headImgUser: c,
        headImgEqxView: l,
        record: p,
        panel: u,
        barrageTools: r,
        barrageComments: o
    }
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="boards-panel boards-#{style}"><div class="boards-top"><div class="head">留言板<em class="eqf-no"></em></div><div class="boards-form"><textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea><span class="content-tip">0/140</span> <a class="record-btn" data-event="11207">提交留言</a></div><div class="spline-con"><span>更多留言</span> <span class="spline"></span></div></div><div class="boards-con ios-boards-con"><div class="list"><div class="more-mes">查看更多</div></div></div></div>'
}, function (e, t) {
    e.exports = '<div class="element-box-contents eqx-comp-comment" style="width: 100%; height: 100%"><div id="#{id}" class="element boards-#{style}" ctype="#{type}"></div></div>'
}, function (e, t, n) {
    function i(e) {
        return n(o(e))
    }

    function o(e) {
        return r[e] || function () {
            throw new Error("Cannot find module '" + e + "'.")
        }()
    }

    var r = {
        "./black_boards.png": 595,
        "./blue_boards.png": 596,
        "./default_boards.png": 597,
        "./pink_boards.png": 598,
        "./yellow_boards.png": 599
    };
    i.keys = function () {
        return Object.keys(r)
    }, i.resolve = o, e.exports = i, i.id = 594
}, function (e, t, n) {
    e.exports = n.p + "images/black_boards-ba4922.png"
}, function (e, t, n) {
    e.exports = n.p + "images/blue_boards-f58067.png"
}, function (e, t, n) {
    e.exports = n.p + "images/default_boards-f58067.png"
}, function (e, t, n) {
    e.exports = n.p + "images/pink_boards-a2ae42.png"
}, function (e, t, n) {
    e.exports = n.p + "images/yellow_boards-f58067.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e) {
        this.realCav = e, this.realCtx = this.realCav.getContext("2d"), this.cavWidth = this.cav.width = this.realCav.width, this.cavHeight = this.cav.height = this.realCav.height, this.limitTextWidth = this.cavWidth - x - 2 * k - T - w, this.ctx.font = w + "px Arial"
    }

    function r(e) {
        var t = this;
        this.barrageArr = [], e.forEach(function (e) {
            t.barrageArr.push({logo: e.url || n(601), text: e.content})
        })
    }

    function a() {
        for (var e = 0; e < this.barrageArr.length; e++) {
            var t = this.barrageArr[e], n = this.ctx.measureText(t.text).width, i = new Image;
            i.src = t.logo, t.image = i, t.rectWidth = x + T + n + 2 * k, t.rectHeight = x + 2 * k, s.call(this, t)
        }
    }

    function s(e) {
        var t = x + 2 * k + S, n = Math.floor(this.cav.height / t);
        e.left = this.cavWidth, e.top = m(0, n <= 0 ? 0 : n - 1) * (e.rectHeight + S), e.speed = m(50, 100) / 100 * b
    }

    function c(e) {
        for (var t = 0; t < this.barrageArr.length; t++) {
            var n = this.barrageArr[t - 1], i = this.barrageArr[t], o = new Image;
            o.src = i.logo, e || (i.left = 0, i.speed = b, i.image = o, i.textRows = f(this.barrageArr[t].text, this.limitTextWidth, this.ctx), i.oneLineTextHeight = 1.2 * w, i.oneLineTextWidth = this.ctx.measureText(i.textRows[0]).width, i.mutilLineTextHeight = i.oneLineTextHeight * i.textRows.length, i.rectWidth = x + T + i.oneLineTextWidth + 2 * k, i.mutilLineTextHeight > x ? i.rectHeight = i.mutilLineTextHeight + 2 * k - .2 * w : i.rectHeight = x + 2 * k), i.top = n ? n.top + n.rectHeight + S : this.cavHeight
        }
    }

    function l() {
        d.call(this), this.isH ? p.call(this) : u.call(this), this.realCtx.drawImage(this.cav, 0, 0, this.cavWidth, this.cavHeight), this.animationId = requestAnimationFrame(l.bind(this))
    }

    function p() {
        for (var e = 0; e < this.barrageArr.length; e++) {
            var t = this.barrageArr[e];
            this.barrageArr[e].left + t.rectWidth <= 0 && s.call(this, t);
            var n = this.barrageArr[e].left -= this.barrageArr[e].speed, i = n, o = n + k, r = o + x + T,
                a = this.barrageArr[e].top, c = a, l = a + k, p = l + 3 * b;
            h(i, c, t.rectWidth, t.rectHeight, this.ctx), v(t.image, o, l, x, this.ctx), g(this.barrageArr[e].text, r, p, this.ctx)
        }
    }

    function u() {
        for (var e = 0; e < this.barrageArr.length; e++) {
            var t = this.barrageArr[e], n = this.barrageArr[this.barrageArr.length - 1];
            n.top + n.rectHeight <= 0 && c.call(this, !0);
            var i = t.left, o = i + k, r = o + x + T, a = t.top -= t.speed, s = a, l = a + k,
                p = t.textRows.length > 1 ? l : l + 3 * b;
            h(i, s, t.rectWidth, t.rectHeight, this.ctx), v(t.image, o, l, x, this.ctx);
            for (var u = 0; u < t.textRows.length; u++) g(t.textRows[u], r, p + t.oneLineTextHeight * u, this.ctx)
        }
    }

    function d() {
        this.realCtx && (this.ctx.clearRect(0, 0, this.cavWidth, this.cavHeight), this.realCtx.clearRect(0, 0, this.cavWidth, this.cavHeight))
    }

    function m(e, t) {
        var n = t - e + 1;
        return Math.floor(Math.random() * n + e)
    }

    function f(e, t, n) {
        for (var i = e.split(""), o = "", r = [], a = 0; a < i.length; a++) n.measureText(o).width >= t && (r.push(o), o = ""), o += i[a];
        return r.push(o), r
    }

    function g(e, t, n, i) {
        i.fillStyle = "#fff", i.textBaseline = "top", i.fillText(e, t, n)
    }

    function h(e, t, n, i, o) {
        var r = 3 * b;
        n < 2 * r && (r = n / 2), i < 2 * r && (r = i / 2), o.fillStyle = "rgba(0,0,0,.3)", o.beginPath(), o.moveTo(e + r, t), o.arcTo(e + n, t, e + n, t + i, r), o.arcTo(e + n, t + i, e, t + i, r), o.arcTo(e, t + i, e, t, r), o.arcTo(e, t, e + n, t, r), o.fill()
    }

    function v(e, t, n, i, o) {
        o.beginPath(), o.arc(t + i / 2, n + i / 2, i / 2, 0, 2 * Math.PI, !0), o.closePath(), o.save(), o.clip(), o.drawImage(e, t, n, i, i), o.restore()
    }

    var y = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), b = devicePixelRatio || 1, x = 20 * b, w = 12 * b, S = 5 * b, k = 5 * b, T = 5 * b, C = function () {
        function e() {
            i(this, e), this.cav = document.createElement("canvas"), this.ctx = this.cav.getContext("2d"), this.realCav = null, this.realCtx = null, this.cavWidth = 0, this.cavHeight = 0, this.barrageArr = [], this.isH = !0, this.animationId = null, this.limitTextWidth = 0
        }

        return y(e, [{
            key: "render", value: function (e, t, n) {
                cancelAnimationFrame(this.animationId), this.stop(), this.isH = n, o.call(this, e), r.call(this, t), this.isH ? a.call(this) : c.call(this, !1), this.animationId = requestAnimationFrame(l.bind(this))
            }
        }, {
            key: "stop", value: function () {
                cancelAnimationFrame(this.animationId), d.call(this)
            }
        }]), e
    }();
    e.exports = C
}, function (e, t, n) {
    e.exports = n.p + "images/head-38c163.png"
}, function (e, t) {
    "use strict";
    e.exports = [{name: "默认", value: "default"}, {name: "简约黑", value: "black"}, {
        name: "少女粉",
        value: "pink"
    }, {name: "邮票风", value: "blue"}, {name: "便签风", value: "yellow"}, {name: "弹幕风", value: "barrage"}]
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function h(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : h(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(577);
    var c = n(604).$postCount, l = n(578).fixedNum, p = n(605), u = n(495), d = n(175).isWeixin, m = n(607),
        f = n(504).popUpModal, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {compStyle: {backgroundColor: !0}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "getFtEditableProps", value: function () {
                    var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                        n = this.FtEditableProps;
                    return e.concat([n.color.counterColor])
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var n = this.FtEditableProps;
                    return e === n.color.counterColor ? this.getProp("color") : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    n.height && (n.lineHeight = n.height + "px", this.$context.css({lineHeight: n.lineHeight})), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e) {
                    var t = this, n = this.compJson, i = n.id, o = n.sceneId, r = n.pageId,
                        a = this.eqxScene.sceneJson.meta.code, s = this.$context;
                    this.eqxScene.statManager.getCounterValues().then(function (e) {
                        var t = e[i] || 0;
                        s.find(".counter-number").attr("data-counter-number", t).html(l(t))
                    });
                    var p = this.$li.find(".comp_counter"), u = p.find(".counter-number"), g = "rating-l";
                    return p.click(function () {
                        t.compJson.properties && t.compJson.properties.clickFarmer ? d() ? c({
                            sceneId: o,
                            elementId: i,
                            pageId: r
                        }, a).then(function () {
                            p.unbind("click").removeClass("not-voted");
                            var e = Number.parseInt(u.attr("data-counter-number")) || 0, t = e + 1;
                            u.attr("data-counter-number", t).text(l(t))
                        })["catch"](function (t) {
                            120504 === t.code ? m.modal(e, g, !1, null, "请到微信中打开使用") : 120505 === t.code || 120603 === t.code ? m.modal(e, g, !1, null, "请不要重复提交") : f("服务器异常!")
                        }) : m.modal(e, g, !1, null, "请到微信中打开使用") : c({
                            sceneId: o,
                            elementId: i,
                            pageId: r
                        }, a).then(function () {
                            p.unbind("click").removeClass("not-voted");
                            var e = Number.parseInt(u.attr("data-counter-number")) || 0, t = e + 1;
                            u.attr("data-counter-number", t).text(l(t))
                        })["catch"](function (t) {
                            120603 === t.code ? m.modal(e, g, !1, null, "请不要重复提交") : f("服务器异常!")
                        })
                    }), !0
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.layout, r = i.imgSrc, a = i.color,
                        s = i.icon, c = i.size, l = e.css.textAlign,
                        u = p.$compDiv({id: t, layout: o, size: c, type: n, icon: s, color: a, imgSrc: r});
                    return "center" === l && u.find("img").css("margin", "0 auto"), u
                }
            }, {
                key: "update$img", value: function (e) {
                    this.$context.find("img").attr("src", e)
                }
            }, {
                key: "iconToImg", value: function (e) {
                    this.$context.find("i").remove().prepend(p.img(e))
                }
            }, {
                key: "updateLayout", value: function () {
                    this.$context.remove(), this.$li.css({
                        height: this.compJson.css.height,
                        lineHeight: this.compJson.css.lineHeight
                    }), this.$context = this.create$context(), this.$contentsDiv.append(this.$context)
                }
            }, {
                key: "update$iconColor", value: function (e) {
                    this.$context.find(".counter-container").css({color: e}), this.updateProp("color", e)
                }
            }, {
                key: "deleteImage", value: function () {
                    this.compJson.properties.imgSrc || this.$context.find("img").remove()
                }
            }]), t
        }(u);
    e.exports = g
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        var n = a.SERVER_1 + "eqs/scene/count";
        return t && (n = n + "?code=" + t), r({type: "POST", url: n, data: e})
    }

    function o(e) {
        return r({type: "GET", url: a.SERVER_1 + "eqs/scene/counter/values", data: e})
    }

    var r = n(166).ajax, a = n(114);
    e.exports = {$postCount: i, $getCountValues: o}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.layout, i = e.size, s = e.type, p = e.icon, u = e.color, d = e.imgSrc, m = d ? r(d) : o(p),
            f = d ? 1120609 : a(p), g = $(l(c, {layout: n, size: i, id: t, type: s, i: m, dataEvent: f}));
        return g.find(".counter-container").css({color: u}), g
    }

    function o(e) {
        return '<i class="counter-elem counter-icon ' + e + '" ></i>'
    }

    function r(e) {
        var t = s.FILE + e;
        return '<img class="counter-elem counter-icon"\n             style="width: 115px; height: 115px;" src="' + t + '">'
    }

    function a(e) {
        var t = {"eqf-heart-f": 1120605, "eqf-zan-f": 1120606, "eqf-flower2": 1120607, "eqf-vote": 1120608};
        return t[e]
    }

    var s = n(114), c = n(606), l = n(468).parse;
    e.exports = {$compDiv: i}
}, function (e, t) {
    e.exports = '<div class="element comp_counter not-voted editable-text #{layout} #{size}" id="#{id}" ctype="#{type}" name="eq[f_#{id}]"><div class="counter-container" data-event="#{dataEvent}" style="white-space: nowrap">#{i} <span class="counter-elem counter-number" data-counter-number="0">0</span></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type, i = e.src, o = (e.css, e.padding),
            r = '<button style="display: block;width: 100%;height: 100%; padding: ' + o + ';" data-event="11201"\n                        id="' + t + '" ctype="' + n + '" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="' + i + '" />\n                </button>';
        return $(r)
    }

    function o(e) {
        var t = e.id, n = e.type, i = e.title, o = (e.css, i.replace(/ /g, "&nbsp;")),
            r = '<button style="display: block;width: 100%;height: 100%;" \n                        id="' + t + '" ctype="' + n + '" data-event="11201"\n                        class="element comp_button editable-text" >' + o + "</button>";
        return $(r)
    }

    function r(e) {
        var t = e.layout, n = e.hasLink, i = e.src, o = e.text, r = e.link,
            a = $('<div class="feedback-content"><span>' + o + "</span></div>"),
            s = $('<div class="feedback-btn"></div>');
        return i && ("rating-m" === t ? a.prepend('<img class="up" src="' + i + '"/>') : "rating-s" === t ? a.append('<img class="down" src="' + i + '"/>') : "rating-l" === t && a.prepend('<img class="up ico" src="' + i + '"/>')), n ? s.append('<a class="feedback-close left">关闭</a><a class="right" href="' + r + '">查看详情</a>').addClass("line") : s.append('<a class="feedback-close">关闭</a>'), $('<div class="feedback-box">').append($('<div class="feedback-form">').append(a, s))
    }

    function a(e, t, n, i, o, a, c) {
        var l = r({layout: t, hasLink: n, src: i, text: o, link: a}).insertBefore($(e).parent().parent()),
            p = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,
            u = l.find(".feedback-form"), d = l.find(".feedback-close");
        u.css({
            marginTop: -Number.parseInt(u.height()) / 2 + "px",
            top: (s() ? p : 486) / 2 + "px"
        }), l.css({top: Math.abs(c) + "px"}), d.on("click", function () {
            l.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return l.remove()
                }
            })
        })
    }

    n(608);
    var s = n(175).mobilecheck;
    e.exports = {$img: i, $btn: o, modal: a}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(610), l = n(611).formatTime, p = n(612).getServiceTime, u = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "getFtValue", value: function (e) {
                var n = this.FtEditableProps;
                return e === n.time.time ? this.getProp("endTime") : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
            }
        }, {
            key: "renderTime", value: function (e, n, i, o) {
                var r = this, a = (new Date).getTime(), s = this.compJson.properties, c = s.endTime, u = s.arriveTips,
                    d = s.arriveTipsContent;
                p().then(function (e) {
                    return a = e.obj
                }, function () {
                    return a = (new Date).getTime()
                }).then(function (a) {
                    var s = setInterval(function () {
                        a += 1e3, r.$li || clearInterval(s), a >= c ? (u ? e.html(d || t.defaultArriveTipsContent) : e.html(l(a, a, n, i, o)), clearInterval(s)) : e.html(l(c, a, n, i, o))
                    }, 1e3)
                })
            }
        }]), t
    }(c);
    u.defaultArriveTipsContent = "开始啦!", e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function p(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : p(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(495), l = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {fontFamily: !1, fontSize: !0, fontColor: !0, bgColor: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "getFtEditableProps", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.time.time])
            }
        }, {
            key: "create$context", value: function () {
                var e = document.createElement("div");
                e.id = this.compJson.id, e.setAttribute("ctype", this.compJson.type), e.setAttribute("class", "element comp_paragraph editable-text");
                var t = this.compJson.css.fontSize, n = this.compJson.css.fontFamily;
                return t && (e.style.fontSize = t), n && (e.style.fontFamily = n), this.renderTime($(e), this.compJson.properties.order, this.compJson.properties.split, this.compJson.properties.mode), $(e)
            }
        }, {
            key: "renderTime", value: function (e, t) {
                return null
            }
        }]), t
    }(c);
    e.exports = l
}, function (e, t) {
    "use strict";

    function n(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
            r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "cn",
            a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [1, 1, 1, 1], s = e - t,
            c = Math.floor(s / 864e5), l = s % 864e5, p = Math.floor(l / 36e5), u = l % 36e5, d = Math.floor(u / 6e4),
            m = u % 6e4, f = Math.round(m / 1e3), g = o(a, 4), h = g[0], v = g[1], y = g[2], b = g[3];
        switch (h || v || y || b || (h = 1, v = 1, y = 1, b = 1), !h || v || y || b ? h || !v || y || b ? h && !v && y && !b && (d = d || 1) : p = p || 1 : c = c || 1, p = h ? p : p + 24 * c, d = v ? d : d + 60 * p, f = y ? f : f + 60 * d, r) {
            case"cn":
                return n ? (h ? i(c) + "天" : "") + (v ? i(p) + "小时" : "") + (y ? i(d) + "分钟" : "") + (b ? i(f) + "秒" : "") : (b ? i(f) + "秒" : "") + (y ? i(d) + "分钟" : "") + (v ? i(p) + "小时" : "") + (h ? i(c) + "天" : "");
            case"en":
                return n ? (h ? i(c) + " days, " : "") + (v ? i(p) + " hours, " : "") + (y ? i(d) + " minutes, " : "") + (b ? i(f) + " seconds" : "") : (b ? i(f) + " seconds, " : "") + (y ? i(d) + " minutes, " : "") + (v ? i(p) + " hours, " : "") + (h ? i(c) + " days" : "");
            case"char":
                return n ? (h ? i(c) + "天 " : "") + (v ? i(p) : "") + (v && y ? ":" : "") + (y ? i(d) : "") + ((v || y) && b ? ":" : "") + (b ? i(f) : "") : (b ? i(f) : "") + (b && y ? ":" : "") + (y ? i(d) : "") + ((b || y) && v ? ":" : "") + (v ? i(p) : "") + (h ? " " + i(c) + "天" : "")
        }
    }

    function i(e) {
        return e = e.toString(), e.length < 2 ? "0" + e : e
    }

    var o = function () {
        function e(e, t) {
            var n = [], i = !0, o = !1, r = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
            } catch (c) {
                o = !0, r = c
            } finally {
                try {
                    !i && s["return"] && s["return"]()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }

        return function (t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }();
    e.exports = {formatTime: n}
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = new Date, t = "eqs/serviceTime/get?time" + e.getTime();
        return o({type: "GET", url: r.SERVER_1 + t})
    }

    var o = n(166).ajax, r = n(114);
    e.exports = {getServiceTime: i}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(610), l = n(611).formatTime, p = n(612).getServiceTime, u = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "getFtValue", value: function (e) {
                var n = this.FtEditableProps;
                return e === n.time.time ? this.getProp("startTime") : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
            }
        }, {
            key: "renderTime", value: function (e, n, i, o) {
                var r = this, a = (new Date).getTime(), s = this.compJson.properties, c = s.startTime, u = s.arriveTips,
                    d = s.arriveTipsContent;
                p().then(function (e) {
                    return a = e.obj
                }, function () {
                    return a = (new Date).getTime()
                }).then(function (a) {
                    var s = setInterval(function () {
                        a += 1e3, r.$li || clearInterval(s), a <= c ? u ? e.html(d || t.defaultArriveTipsContent) : e.html(l(a, a, n, i, o)) : e.html(l(a, c, n, i, o))
                    }, 1e3)
                })
            }
        }]), t
    }(c);
    u.defaultArriveTipsContent = "还没开始!", e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function g(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : g(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(495), l = n(615), p = n(114), u = n(176).url2https, d = u(p.YQC), m = n(616).$getYqcAd, f = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return r.iframePromise = null, r.iframe = null, r.isExpose = !0, $.extend(!0, r.$ability, {
                style: {
                    compStyle: {self: !0},
                    advanceStyle: {
                        border: !1,
                        shadow: !1,
                        paddingTop: !1,
                        borderWidth: !1,
                        borderRadius: !1,
                        borderStyle: !1,
                        borderColor: !1,
                        boxShadowSize: !1,
                        boxShadowBlur: !1,
                        boxShadowColor: !1,
                        boxShadowDirection: !1
                    }
                }, anim: !1, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "getFtEditableProps", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.code.code])
            }
        }, {
            key: "getFtValue", value: function (e) {
                var n = this.FtEditableProps;
                return e === n.code.code ? this.compJson.content : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
            }
        }, {
            key: "eleShow", value: function () {
                var e = this;
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this);
                var n = this.eqxPage, i = this.eqxPage.eqxScene, o = i.meta.id, r = n.pageJson.num,
                    a = this.compJson.properties.renderType;
                if ("iframe" === a) this.iframePromise.then(function () {
                    e.iframe && e.iframe.contentWindow.postMessage({sceneId: o, pageNum: r, eventType: "pageShow"}, d)
                }); else if (this.isExpose) {
                    var c = window.GDTNativeRender;
                    c && (c.render.expose(), this.isExpose = !1)
                }
            }
        }, {
            key: "create$context", value: function () {
                var e = this, t = this.compJson, n = t.id, i = t.type, o = t.content, r = t.css, a = r.width,
                    s = r.height, c = this.eqxPage, p = this.eqxPage.eqxScene, u = p.meta.id, f = c.pageJson.num,
                    g = $(l.compDiv({id: n, type: i})), h = t.properties.renderType;
                if (h && "div" === h) "tpl" === o ? m(u).then(function (t) {
                    o = t.list[0].adCode, g = e.gdtNativeAd(o, g), g.append(o)
                }) : (g = this.gdtNativeAd(o, g), g.append(o)); else {
                    var v = $(l.iframeDiv({sceneId: u, pageNum: f, content: o, width: a, height: s})),
                        y = this.iframe = v.get(0);
                    this.iframePromise = new Promise(function (e) {
                        y.onload = function () {
                            o && y.contentWindow.postMessage({
                                sceneId: u,
                                pageNum: f,
                                eventType: "adCode",
                                content: o
                            }, d), e()
                        }
                    }), g.append(v)
                }
                return this.$li.css("zIndex", 999), g
            }
        }, {
            key: "gdtNativeAd", value: function (e, t) {
                return e.indexOf("gdt-native-template") > -1 && (t = t.append('<div id="gdt-native-template"></div>')), t
            }
        }]), t
    }(c);
    e.exports = f
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type;
        return '<div style="width: 100%; height: 100%" class="element" id="' + t + '" ctype="' + n + '"></div>'
    }

    function o(e) {
        var t = e.sceneId, n = e.pageNum, i = e.content, o = e.width, s = e.height, c = "";
        return c = "tpl" === i ? "tpl" : "true", '<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="' + a(r.YQC) + "yqc/gg/gg.html?sceneId=" + t + "&pageNum=" + n + "&content=" + c + "&width=" + o + "&height=" + s + '"></iframe>'
    }

    var r = n(114), a = n(176).url2https;
    e.exports = {compDiv: i, iframeDiv: o}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return r({type: "GET", url: a.SERVER_1 + "adview/scenePage/find", data: {sceneId: e, time: Date.now()}})
    }

    function o(e) {
        return r({type: "GET", url: a.SERVER_1 + "adview/tail/find", data: {sceneId: e, time: Date.now()}})
    }

    var r = n(166).ajax, a = n(114);
    e.exports = {$getYqcAd: i, $getYqcTail: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), r = n(451).BG_CROP_TYPE, a = n(175).mobilecheck, s = n(618), c = n(619), l = n(620), p = n(468).parse,
        u = n(165).qiniuZoom, d = n(165).loadImg, m = n(455).ANIMATION_TYPE;
    n(456);
    var f = function () {
        function e(t, n) {
            i(this, e), this.compJson = t, this.eqxPage = n, this.eqxScene = n.eqxScene
        }

        return o(e, [{
            key: "updateBgHeight", value: function (e) {
                this.$bgEle.css({height: e})
            }
        }, {
            key: "updateBgOpacity", value: function (e) {
                this.$bgEle && this.$bgEle.css({opacity: e})
            }
        }, {
            key: "updateBgFilter", value: function (e) {
                this.$bgEle && this.$bgEle.css({filter: e})
            }
        }, {
            key: "create$bg", value: function (e, t, n) {
                var i = this;
                this.$container = e;
                var o = this.compJson, m = o.id, f = o.css, g = f.opacity, h = f.filter, v = o.properties,
                    y = v.bgColor, b = v.croptype, x = v.imgSrc, w = v.pageLength, S = "100%";
                if (y || x || (y = "rgba(0,0,0,0)"), y) {
                    w && (S = (w < 10 ? 486 * w : w) - 486 + (a() ? $(document).height() : 486) + "px"), this.eqxPage.pageJson && this.eqxPage.pageJson.properties.longPage && (S = this.eqxPage.pageJson.properties.longPage + 486 + "px");
                    var k = $(p(c, {id: m, bgColor: y, height: S}));
                    this.$bgEle = k, this.$context = k.find(".eqx-bg-img"), this.animate(), this.updateBgOpacity(g), this.$container.prepend(k)
                }
                if (x) {
                    var T = x;
                    if (b === r["全屏背景模式"] ? (S = (w < 10 ? 486 * w : w) - 486 + (a() ? $(document).height() : 486) + "px", T = u(T, 320, S)) : (S = a() ? "100%" : "486px", T = u(T, 320, 486)), /\.gif/.test(x)) var C = d(T).then(function (e) {
                        var o, s = {};
                        if (t = a() ? document.documentElement.clientWidth || document.body.clientWidth : t || i.eqxPage.getPageWidth(), n = a() ? document.documentElement.clientHeight || document.body.clientHeight : n || i.eqxPage.getPageHeight(), b === r["全屏背景模式"]) {
                            var c = parseInt(S);
                            e.width / e.height >= t / c ? (s.width = e.width * (c / e.height), s.height = c, s.marginLeft = -(s.width - t) / 2) : (s.width = t, s.height = e.height * (t / e.width), s.marginTop = -(s.height - c) / 2)
                        } else e.width / e.height >= t / n ? (s.width = e.width * (n / e.height), s.height = n, s.marginLeft = -(s.width - t) / 2) : (s.width = t, s.height = e.height * (t / e.width), s.marginTop = -(s.height - n) / 2);
                        return o = $(p(l, {id: m, src: T, height: S})), o.css(s), o
                    }); else C = Promise.resolve($(p(s, {id: m, src: T, height: S})));
                    C.then(function (e) {
                        i.$bgEle && i.$bgEle.remove(), i.$bgEle = e, i.animate(), i.updateBgOpacity(g), h && i.updateBgFilter(h), i.$container.prepend(i.$bgEle), !/\.gif/.test(x) && !a() && i.updateBgHeight(i.eqxPage.getPageHeight())
                    })
                }
            }
        }, {
            key: "eleShow", value: function () {
                var e = this.compJson.properties.imgSrc;
                if (e && /.gif/.test(e) && this.$bgEle) {
                    var t = this.$bgEle.find("img")[0];
                    if (t) {
                        var n = t.src;
                        setTimeout(function () {
                            t.src = n
                        }, 200)
                    }
                }
            }
        }, {
            key: "animate", value: function () {
                var e = this.compJson.effect;
                e = void 0 === e ? {} : e;
                var t = e.type;
                if (this.$bgEle && (t || 0 == t) && t != -1) {
                    var n = this.$bgEle.find(".eqx-bg");
                    n.css({animation: "none"}), setTimeout(function () {
                        if ("scaleUp" === t) n.css({
                            animation: "scaleUp 7s ease 1s",
                            "animation-fill-mode": "both"
                        }); else if ("scaleDown" === t) n.css({
                            animation: "scaleDown 7s ease 1s",
                            "animation-fill-mode": "both"
                        }); else {
                            var e = m[t];
                            n.css({
                                "animation-name": "",
                                "animation-duration": "",
                                "animation-timing-function": "",
                                "animation-delay": "",
                                "animation-iteration-count": ""
                            }), n.css({
                                "animation-name": e[0],
                                "animation-duration": "1s",
                                "animation-timing-function": "liner",
                                "animation-delay": "1s",
                                "animation-iteration-count": 1,
                                "animation-direction": "both",
                                "animation-fill-mode": "both",
                                "animation-play-state": "initial"
                            })
                        }
                    }, 0)
                }
            }
        }, {
            key: "delete$bg", value: function () {
                this.$bgEle && this.$bgEle.remove()
            }
        }, {
            key: "update$bg", value: function () {
            }
        }]), e
    }();
    e.exports = f
}, function (e, t) {
    e.exports = '<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg eqx-bg-img" style="width: 100%; height: #{height};\n         background-image: url(\'#{src}\');\n         background-size: cover; background-position: 50% 50%;\n         background-origin: content-box"></div></div>'
}, function (e, t) {
    e.exports = '<div style="width: 100%; height: #{height}; overflow: hidden;position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg" style="width: 100%; height: #{height}; background-color: #{bgColor}"></div></div>'
}, function (e, t) {
    e.exports = '<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><img id="wrapper-background#{id}" src="#{src}" style="z-index: -1; width: 100%; position: absolute"></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(495), c = n(622), l = n(468).parse, p = n(623), u = n(175).isWeixin,
        d = (n(502).$getUserWxInfo, n(501).hrefToWxAuth, n(501).setWeChatUser, n(624).$unifiedOrder), m = n(513).wxPay,
        f = n(501).getWeChatUser, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        compFont: {self: !1, fontFamily: !1}
                    }, trigger: {self: !1}, sound: !1, link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.title, r = void 0 === o ? "打赏" : o,
                        a = i.amount, s = void 0 === a ? "2" : a;
                    return $(l(c, {id: t, type: n, title: r, amount: s}))
                }
            }, {
                key: "updateCompTitle", value: function () {
                    var e = this.compJson.properties;
                    this.$context.html(e.title + e.amount + "元")
                }
            }, {
                key: "bindAfterRenderEvent", value: function () {
                    var e = this;
                    this.$li.click(function () {
                        var t = Math.round(100 * parseFloat(e.compJson.properties.amount));
                        if (!u()) return void p.modal("该组件仅能在微信中使用。", e.$li);
                        var n = f();
                        return d(t, n.openid, e.compJson.sceneId).then(function (e) {
                            return e.obj && m(e.obj)
                        })["catch"](function (t) {
                            t.msg && p.modal(t.msg, e.$li)
                        })
                    })
                }
            }]), t
        }(s);
    e.exports = g
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element comp-reward" style="cursor: pointer;width: 100%;height: 100%;display: block">#{title}#{amount}元</a>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        var n = $('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">' + e + '</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),
            i = n.find(".feedback-form");
        i.css("margin-top", -Number.parseInt(i.height() + 80) / 2), n.insertBefore(t.parent().parent()), n.find(".feedback-close").on("click", function () {
            n.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return n.remove()
                }
            })
        })
    }

    e.exports = {modal: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return a({type: "POST", url: r.SERVER_1 + "eqs/wx/unifiedorder", data: {money: e, openid: t, sceneId: n}})
    }

    function o(e) {
        return a({type: "POST", url: r.SERVER_1 + "eqs/wx/get-jsapiconfig", data: {prepayId: e}})
    }

    var r = n(114), a = n(166).ajax;
    e.exports = {$unifiedOrder: i, $getJsApiConfig: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(495), c = n(626), l = n(468).parse, p = n(175).isWeixin, u = n(627), d = n(628).$robRedPacket,
        m = (n(502).$getUserWxInfo, n(501).hrefToWxAuth, n(501).getWeChatUser), f = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !1},
                        compFont: {self: !1, fontFamily: !1}
                    }, trigger: {self: !1}, sound: !1, link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties.title;
                    return this.$context = $(l(c, {id: t, type: n, title: i})), this.$context
                }
            }, {
                key: "bindAfterRenderEvent", value: function () {
                    var e = this;
                    this.$li.click(function () {
                        if (!p()) return void u.modal("该组件仅能在微信中使用。", e.$li);
                        var t = m();
                        d(e.eqxScene.meta.id, e.compJson.id, t.openid).then(function (t) {
                            200 === t.code && u.modal("恭喜您成功抢到一个红包，请去服务通知下领取红包！", e.$li)
                        })["catch"](function (t) {
                            t.msg && u.modal(t.msg, e.$li)
                        })
                    })
                }
            }]), t
        }(s);
    e.exports = f
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element eqx-red-packet" style="cursor: default;width: 100%;height: 100%">#{title}</a>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        var n = $('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">' + e + '</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),
            i = n.find(".feedback-form");
        i.css("margin-top", -Number.parseInt(i.height() + 80) / 2), n.insertBefore(t.parent().parent()), n.find(".feedback-close").on("click", function () {
            n.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return n.remove()
                }
            })
        })
    }

    e.exports = {modal: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return r({type: "GET", url: o.SERVER_1 + "eqs/wx/robRedPacket", data: {sceneId: e, componentId: t, openid: n}})
    }

    var o = n(114), r = n(166).ajax;
    e.exports = {$robRedPacket: i}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e, t) {
        var n = "", i = d.getWeChatUser();
        if (i.headimgurl) o = u(t, 8 * e, i.headimgurl).then(function (e) {
            return e.list.forEach(function (e, t) {
                t < 24 && (m[t] = e)
            }), m
        }); else var o = Promise.resolve(m);
        return o.then(function () {
            for (var t = 0; t < 8 * e; t++) {
                var i = '<img src="' + m[t] + '">', o = '<img src="' + m[t] + '" style="margin-right:0;">';
                n += (t + 1) % 8 == 0 ? o : i
            }
            return n
        })
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(630);
    var c = n(495), l = n(631), p = n(468).parse, u = n(632).$getPhotoWallPhotos, d = n(501),
        m = [n(633), n(634), n(635), n(636), n(637), n(638), n(639), n(640), n(641), n(642), n(643), n(644), n(645), n(646), n(647), n(648), n(649), n(650), n(651), n(652), n(653), n(654), n(655), n(656)],
        f = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        compFont: {
                            self: !0,
                            fontFamily: !1,
                            fontColor: !1,
                            baseStyle: !1,
                            lineHeight: !1,
                            letterSpacing: !1
                        }
                    }, trigger: {self: !0}, sound: !1, link: !1
                }), r
            }

            return r(t, e), s(t, [{
                key: "create$context", value: function () {
                    var e = this, t = this.compJson, n = t.id, i = t.type;
                    return this.$context = $(p(l, {
                        id: n,
                        type: i
                    })), a(parseInt(t.properties.line), t.sceneId).then(function (n) {
                        var i = $(n);
                        e.$context.append(i), e.$context.find("img").css({
                            borderWidth: t.properties.ownerCss.borderWidth,
                            borderStyle: t.properties.ownerCss.borderStyle,
                            borderColor: t.properties.ownerCss.borderColor,
                            boxShadow: t.properties.ownerCss.boxShadow,
                            boxShadowDirection: t.properties.ownerCss.boxShadowDirection,
                            boxShadowSize: t.properties.ownerCss.boxShadowSize
                        })
                    }), this.$context
                }
            }, {
                key: "changePhotoWallLine", value: function () {
                    this.$context.remove(), this.$context = this.create$context(), this.$contentsDiv.append(this.$context)
                }
            }, {
                key: "changeBorderStyle", value: function (e) {
                    this.$context.find("img").css({borderStyle: e})
                }
            }, {
                key: "changeBorderColor", value: function (e) {
                    this.$context.find("img").css({borderColor: e})
                }
            }, {
                key: "changeBorderWidth", value: function (e) {
                    this.$context.find("img").css({borderWidth: e})
                }
            }, {
                key: "changeBoxshadowColor", value: function (e) {
                    this.$context.find("img").css({boxShadow: e})
                }
            }]), t
        }(c);
    e.exports = f
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="photowall" id="#{id}" ctype="#{type}"></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return o({
            type: "GET",
            url: r.SERVER_1 + "eqs/s/wx/photo/list",
            data: $.param({sceneId: e, photoNum: t, photoPath: n})
        })
    }

    var o = n(166).ajax, r = n(114);
    e.exports = {$getPhotoWallPhotos: i}
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-1-2cbac2.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-2-746422.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-3-3d665c.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-4-3c7ce3.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-5-26a180.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-6-91bb95.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-7-98a3a6.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-8-a97166.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-9-0b3d68.png"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-10-68faf7.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-11-487873.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-12-382a38.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-13-3bc7ad.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-14-686474.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-15-38d83b.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-16-27e1e0.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-17-7762e5.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-18-a06b05.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-19-016ef7.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-20-bc9344.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-21-d6c339.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-22-b04a01.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-23-e7744a.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/photoWall-24-7cd4a4.jpg"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e, t, n, i, o) {
        return "url('" + u.FONT + "fonts/" + e + "_" + t + "/" + n + "." + i + "') format('" + o + "')"
    }

    function s(e) {
        var t = e.fontFamily, n = e.sceneId, i = e.publishTime;
        if (t && !b[t]) {
            var o = [a(n, i, t, "woff", "woff"), a(n, i, t, "ttf", "truetype")].join(", "),
                r = "@font-face{font-family: '" + t + "'; src: " + o + ";}";
            m(r), b[t] = !0
        }
    }

    function c(e) {
        var t = e.id, n = e.type, i = e.css, o = e.content, r = void 0 === o ? "" : o;
        return i.cursor = "default", i.fontSize && (i.fontSize = f(i.fontSize)), i.minHeight = "inherit", $(v(g, {
            id: t,
            type: n,
            content: r
        })).css(i)
    }

    var l = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), p = function w(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : w(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(658);
    var u = n(114), d = n(545), m = d.addGlobalStyle, f = d.addSuffixPx, g = n(659), h = n(495), v = n(468).parse,
        y = n(176).openUrl, b = {defaultFont: !0, moren: !0, "null": !0, undefined: !0}, x = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {style: {compStyle: {backgroundColor: !0, color: !0}}, link: !1}), r
            }

            return r(t, e), l(t, [{
                key: "getFtEditableProps", value: function () {
                    return []
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var n = this.FtEditableProps;
                    return e === n.content.content ? this.compJson.content : p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
                }
            }, {
                key: "updateContent", value: function (e) {
                    this.compJson.content = e;
                    var t = this.create$context();
                    this.$context.replaceWith(t), this.$context = t
                }
            }, {
                key: "update$ContentCss", value: function (e) {
                    this.$context.css(e)
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.content, o = e.sceneId, r = e.publishTime, a = e.css,
                        l = a.fontSize, p = a.writingMode, u = e.properties.anim, d = void 0 === u ? [] : u,
                        m = {fontSize: l};
                    this.$boxDiv.css("minHeight", ""), this.$boxDiv.css("minWidth", ""), p && (m["-webkit-writing-mode"] = p, m.writingMode = p, "vertical-rl" === p && (m.textRendering = "optimizeLegibility"));
                    var f = c({id: t, type: n, content: i, css: m});
                    return "view" == this.eqxScene.config.mode && f.find("*").toArray().map(function (e) {
                        return $(e).css("font-family")
                    }).forEach(function (e) {
                        return s({fontFamily: e, sceneId: o, publishTime: r})
                    }), d[0] && "typer" === d[0].type && f.css({opacity: 0}), f
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this, i = t.pageId;
                    return "x" === t.type && t.properties.url ? $(e).click(function () {
                        var e = t.properties.url;
                        Number.isInteger(+e) ? n.eqxScene.pageScroll.goToPageById(e) : y(e, i)
                    }) : $(e).find("a[href]").toArray().forEach(function (e) {
                        var t = $(e).attr("href");
                        $(e).removeAttr("href").css("cursor", "pointer").click(function () {
                            Number.isInteger(+t) ? n.eqxScene.pageScroll.goToPageById(+t) : y(t, i)
                        })
                    }), !0
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    e.addClass("wsite-text")
                }
            }, {
                key: "clearRichText", value: function () {
                    this.compJson.content = this.$context.text(), this.compJson.css.writingMode = "horizontal-tb", this.$context.html(this.compJson.content), this.$context.css("writingMode", "horizontal-tb")
                }
            }, {
                key: "settingGroupStyle", value: function (e) {
                    Object.assign(this.compJson.css, e), this.update$boxDiv(e)
                }
            }, {
                key: "adjustHeight", value: function () {
                    this.$li.css({height: "", width: ""}), this.$context.css({height: "", width: ""});
                    var e = this.$boxDiv.height(), t = this.$boxDiv.width();
                    this.update$li({height: e, width: t}), this.$context.css({height: e, width: t})
                }
            }]), t
        }(h);
    e.exports = x
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element comp_paragraph editable-text" style="cursor: default">#{content}</div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function u(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : u(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(453).$loadMLink, l = n(657), p = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "create$context", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "create$context", this).call(this),
                    n = window.scene, i = n.isTemplate, o = n.sourceId, r = n.id, a = {sceneId: r};
                return i && (a.isTemplate = i), o && (a.sourceId = o), c().then(function () {
                    var t = {
                        mlink: "https://ax8bgc.mlinks.cc/AK00",
                        button: e.find("a.deepShareHref")[0],
                        autoLaunchApp: !1,
                        autoRedirectToDownloadUrl: !0,
                        downloadWhenUniversalLinkFailed: !1,
                        inapp: !1,
                        params: a
                    };
                    console.log("mlink", t), new Mlink(t)
                }), e
            }
        }]), t
    }(l);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.imgSrc, n = e.reasonList, i = n.map(function (e, t) {
            var n = e.id, i = e.name, o = (e.value, 0 == t ? 'class="active"' : "");
            return '<li value="' + n + '" ' + o + "><span>" + i + "</span></li>"
        }).join("");
        return $(m(u, {imgSrc: t, reasons: i}))
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function y(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : y(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(662);
    var l = n(664).$getReportOptions, p = n(664).$postReport, u = n(665), d = n(657), m = n(468).parse,
        f = n(504).popUpModal, g = [],
        h = [{id: 14258, name: "内容涉及违规", value: 1}, {id: 14259, name: "诱导浏览者分享", value: 2}, {
            id: 14260,
            name: "场景内容侵权",
            value: 3
        }, {id: 14302, name: "内容夸大宣传", value: 4}, {id: 14303, name: "违背易企秀用户协议", value: 5}, {
            id: 14304,
            name: "其它原因",
            value: 6
        }], v = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.show = !r.eqxPage.eqxScene.config.disableReport, r.$report = null, r
            }

            return r(t, e), s(t, [{
                key: "eleHide", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.hide()
                }
            }, {
                key: "eleShow", value: function () {
                    return this.show ? c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this) : this
                }
            }, {
                key: "hide", value: function () {
                    this.$report && this.$report.hide()
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    this.show || this.$li.css("display", "none")
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    $(e).on("click", function (e) {
                        e.stopPropagation(), n.openReportModal()
                    })
                }
            }, {
                key: "openReportModal", value: function () {
                    var e = this;
                    if (this.$report) return this.$report.show();
                    var t = this.compJson.sceneId;
                    this.getSelectOption().then(function (i) {
                        var o = a({imgSrc: n(666), reasonList: i});
                        e.$report = o;
                        var r = e.$li.parent();
                        o.appendTo(r), o.find("li").click(function (e) {
                            e.stopPropagation(), $(this).siblings().removeClass("active"), $(this).addClass("active")
                        }), $("#reportSubmit").click(function (n) {
                            n.stopPropagation();
                            var i = o.find("li.active").val();
                            p({sceneId: t, type: i}).then(function () {
                                return f("举报成功！")
                            })["finally"](function () {
                                return e.hide()
                            })
                        }), r.on("click", function (t) {
                            var n = o.find(t.target).length > 0;
                            n || e.hide()
                        })
                    })
                }
            }, {
                key: "getSelectOption", value: function () {
                    return new Promise(function (e, t) {
                        return g.length ? e(g) : l().then(function (n) {
                            g = n.list, g.length ? e(g) : t()
                        })["catch"](function () {
                            return g = h, e(g)
                        })
                    })
                }
            }]), t
        }(d);
    e.exports = v
}, function (e, t) {
}, , function (e, t, n) {
    "use strict";

    function i() {
        var e = a.SERVER_1 + "eqs/class/expose_types";
        return r({type: "GET", url: e})
    }

    function o(e) {
        var t = e.sceneId, n = e.type;
        return r({type: "POST", url: a.SERVER_1 + "eqs/s/expose", data: {sceneId: t, type: n}})
    }

    var r = n(166).ajax, a = n(114);
    e.exports = {$getReportOptions: i, $postReport: o}
}, function (e, t, n) {
    e.exports = '<div id="report0"><div id="report1"><div id="report2"><p><img src="' + n(666) + '" width="50px;"></p><h1>请选择举报原因</h1></div><div id="report3"><ul id="reportList">#{reasons}</ul></div><div id="report4"><a id="reportSubmit" data-event="11203">提交举报</a></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/jubao_03-db9a15.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.marginTop, o = e.marginBottom, r = e.css, a = e.content,
            s = void 0 === a ? "" : a;
        return r.cursor = "default", r.minHeight = "inherit", r.fontSize && (r.fontSize = m(r.fontSize)), $(g(f, {
            id: t,
            type: n,
            content: s,
            marginTop: i,
            marginBottom: o
        })).css(r)
    }

    function s(e) {
        var t = e.fontFamily, n = e.sceneId, i = e.mode;
        if ("view" === i && window.scene && t && !v[t]) {
            var o = "@font-face{font-family:'" + t + "';src: url('" + h.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".woff') format('woff'),url('" + h.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".ttf') format('truetype');}";
            d(o), v[t] = !0
        }
    }

    var c = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), l = function b(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : b(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, p = n(495), u = n(545), d = u.addGlobalStyle, m = u.addSuffixPx, f = n(668), g = n(468).parse, h = n(114),
        v = {}, y = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compFont: {
                            self: !0,
                            fontFamily: !0,
                            fontSize: !0,
                            fontColor: !0,
                            bgColor: !0,
                            baseStyle: !0,
                            lineHeight: !0,
                            letterSpacing: !0
                        },
                        compStyle: {backgroundColor: !0},
                        commonStyle: {tip: !0},
                        advanceStyle: {variable: !0, variableText: !0, adjustMode: !0, replace: !0}
                    }, link: !0, flexLine: "n,s,w,e,r"
                }), r
            }

            return r(t, e), c(t, [{
                key: "getFtEditableProps", value: function () {
                    var e = l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                        n = this.FtEditableProps;
                    return [n.content.content, n.color.color].concat(e, [n.link.url, n.internalLink.internalLink, n.telephone.number])
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.content, o = e.sceneId, r = e.css,
                        c = r.letterSpacing, l = void 0 === c ? 0 : c, p = r.fontFamily, u = r.fontSize, d = r.writingMode,
                        m = r.marginTop, f = void 0 === m ? "0px" : m, g = r.marginBottom, h = void 0 === g ? "0px" : g,
                        v = e.properties.anim, y = void 0 === v ? [] : v;
                    e.properties.isReplace = e.properties.isReplace || !1, i = i.replace(/\s/g, function () {
                        var e = 0;
                        return function (t) {
                            return e += 1, e % 2 ? "&nbsp;" : t
                        }
                    }()), i = i || "请输入文本";
                    var b = a({
                        id: t,
                        type: n,
                        content: i,
                        marginTop: f,
                        marginBottom: h,
                        css: {fontFamily: p, fontSize: u, writingMode: d}
                    });
                    return s({
                        mode: this.eqxScene.config.mode,
                        fontFamily: p,
                        sceneId: o
                    }), 11 === (e.id + "").length && this.$li.attr("_tracker_data_", JSON.stringify({id: e.id})), y[0] && "typer" === y[0].type && b.css({opacity: 0}), b.css({letterSpacing: parseFloat(l || 0) + "em"}), b
                }
            }, {
                key: "create$liBack", value: function () {
                    return this.$liBack = this.$li.clone().css("opacity", 0), this.$li.parent().append(this.$liBack), this.$liBack
                }
            }, {
                key: "getNewHeightWidth", value: function (e, t) {
                    var n = JSON.parse(JSON.stringify(this.compJson.css));
                    Object.assign(n, t, {opacity: 0, zIndex: -1}), this.$liBack.css(n);
                    var i = t.width, o = t.height, r = this.$liBack.find("#" + this.compJson.id),
                        a = this.$liBack.find("span"), s = parseInt(r.css("padding")), c = a.height() + 2 * s;
                    return e.width === t.width && e.height === t.height ? o = this.$li.height() : e.width !== t.width ? (o = this.$li.height(), c >= o && (o = c)) : e.height !== t.height && o < c && (o = c), {
                        height: o,
                        width: i
                    }
                }
            }, {
                key: "remove$liBack", value: function () {
                    this.$liBack && this.$liBack.remove()
                }
            }, {
                key: "updateContent", value: function (e) {
                    var t = this.$context.children();
                    e = e.replace(/\s/g, function () {
                        var e = 0;
                        return function (t) {
                            return e += 1, e % 2 ? "&nbsp;" : t
                        }
                    }()), t.text(e || this.compJson.content || "请输入文本"), this.compJson.content = e, t.html(t.text())
                }
            }, {
                key: "autoAdjustSize", value: function () {
                    function e(e) {
                        var t = e.$context, n = e.$context.children(), i = parseInt(t.css("padding")), o = n.height(),
                            r = {height: o + 2 * i};
                        return e.update$li(r), {height: parseInt(e.$li.css("height")), width: parseInt(e.$li.css("width"))}
                    }

                    function t(t, n) {
                        if (void 0 !== n && null !== n) {
                            var r = 320, a = t.$context, s = t.$context.children(), c = o(s);
                            if (c < a.width()) {
                                var l = {width: c + 2 * parseInt(a.css("padding"))};
                                t.update$li(l), t.update$boxDiv(l), a.css(l)
                            } else if (c >= a.width()) for (var p = s.height(), u = a.height(), d = a.width(); p > u && d < r;) i(t), p = s.height(), u = a.height(), d = a.width();
                            return e(t)
                        }
                    }

                    function n(t, n) {
                        if (void 0 !== n && null !== n) {
                            var i = t.$context, o = t.$context.children();
                            if (1 === n) {
                                for (; r(i, o, n) && a(i) > l;) s(t);
                                if (r(i, o, n) && a(i) <= l) return e(t)
                            } else {
                                if (0 !== n) return e(t);
                                for (; r(i, o, n) && a(i) < p;) c(t);
                                r(i, o, n) || s(t)
                            }
                            return {height: parseInt(t.$li.css("height")), width: parseInt(t.$li.css("width"))}
                        }
                    }

                    function i(e) {
                        var t = e.$context, n = parseFloat(t.css("width")) + 1, i = {width: n + "px"};
                        e.update$li(i), e.update$boxDiv(i), t.css(i)
                    }

                    function o(e) {
                        var t = e.css("display", "inline").width();
                        return e.css("display", "block"), t
                    }

                    function r(e, t, n) {
                        return n ? t.height() > e.height() : t.height() < e.height()
                    }

                    function a(e) {
                        return parseInt(e.css("font-size"))
                    }

                    function s(e) {
                        var t = e.$context, n = a(t);
                        if (n > l) {
                            var i = {fontSize: n - 1 + "px"};
                            e.update$li(i), e.update$boxDiv(i), t.css(i)
                        }
                    }

                    function c(e) {
                        var t = e.$context, n = a(t);
                        if (n < p) {
                            var i = {fontSize: n + 1 + "px"};
                            e.update$li(i), e.update$boxDiv(i), t.css(i)
                        }
                    }

                    var l = 12, p = 96, u = this.compJson.properties, d = u.adjustWHMode, m = u.adjustFSMode,
                        f = arguments.length ? arguments[0] : null;
                    return d ? n(this, f) : m ? t(this, f) : e(this)
                }
            }]), t
        }(p);
    e.exports = y
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = n(667), s = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    base: {self: !1},
                    border: {self: !1},
                    boxShadow: {self: !1},
                    compFont: {
                        self: !0,
                        fontFamily: !0,
                        fontSize: !0,
                        fontColor: !0,
                        baseStyle: !0,
                        lineHeight: !0,
                        letterSpacing: !0
                    },
                    compStyle: {backgroundColor: !0},
                    commonStyle: {tip: !0},
                    advanceStyle: {variable: !0}
                }, link: !0, flexLine: "w,e,r"
            }), r
        }

        return r(t, e), t
    }(a);
    e.exports = s
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.marginTop, o = e.marginBottom, r = e.css, a = e.content,
            s = void 0 === a ? "" : a;
        return r.cursor = "default", r.minHeight = "inherit", r.fontSize && (r.fontSize = f(r.fontSize)), $(h(g, {
            id: t,
            type: n,
            content: s,
            marginTop: i,
            marginBottom: o
        })).css(r)
    }

    function s(e) {
        var t = e.fontFamily, n = e.sceneId, i = e.mode;
        "view" === i && window.scene && t && !y[t] && (m("@font-face{\n                font-family:'" + t + "';\n                src: url('" + v.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".woff') format('woff'),\n                url('" + v.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".ttf') format('truetype');"), y[t] = !0)
    }

    function c(e) {
        return Math.floor(Math.random() * e)
    }

    var l = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), p = function x(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : x(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, u = n(495), d = n(545), m = d.addGlobalStyle, f = d.addSuffixPx, g = n(671), h = n(468).parse, v = n(114),
        y = {}, b = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)), a = e.properties.contentType;
                return "t" === a ? $.extend(!0, r.$ability, {
                    style: {
                        compFont: {
                            self: !0,
                            fontFamily: !0,
                            fontSize: !0,
                            fontColor: !0,
                            bgColor: !0,
                            baseStyle: !0,
                            lineHeight: !0,
                            letterSpacing: !0
                        }, compStyle: {backgroundColor: !0}
                    }, link: !0, flexLine: "w,e,r"
                }) : "i" === a && $.extend(!0, r.$ability, {
                    style: {
                        base: {lineHeight: !1, color: !1, paddingTop: !1},
                        compStyle: {backgroundColor: !1},
                        imageStyle: !0
                    }
                }), r
            }

            return r(t, e), l(t, [{
                key: "getFtEditableProps", value: function () {
                    var e = p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                        n = this.FtEditableProps, i = this.compJson.properties.contentType;
                    return "t" === i ? e.concat([n.tRandom.tRandom]) : "i" === i ? e.concat([n.iRandom.iRandom]) : e
                }
            }, {
                key: "getFtValue", value: function (e) {
                    var n = this.FtEditableProps;
                    return e === n.tRandom.tRandom ? this.getProp("texts") : e === n.iRandom.iRandom ? this.getProp("imgs") : p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.properties.contentType;
                    if ("t" === t) {
                        var n = e.id, i = e.type, o = e.sceneId, r = e.css, l = r.fontFamily, p = r.fontSize,
                            u = r.writingMode, d = r.marginTop, m = void 0 === d ? "0px" : d, f = r.marginBottom,
                            g = void 0 === f ? "0px" : f, h = e.properties, v = h.anim, y = void 0 === v ? [] : v,
                            b = h.texts, x = void 0 === b ? [] : b,
                            w = "view" === this.eqxScene.config.mode ? c(x.length) : 0, S = x[w] || "请输入文本", k = a({
                                id: n,
                                type: i,
                                content: S,
                                marginTop: m,
                                marginBottom: g,
                                css: {fontFamily: l, fontSize: p, writingMode: u}
                            });
                        return s({
                            mode: this.eqxScene.config.mode,
                            fontFamily: l,
                            sceneId: o
                        }), y[0] && "typer" === y[0].type && k.css({opacity: 0}), k
                    }
                    if ("i" === t) {
                        var T = e.id, C = e.type, I = e.properties;
                        I = void 0 === I ? {} : I;
                        var E = I.imgs, P = void 0 === E ? [] : E, _ = I.bgColor, q = e.css, O = q.width, A = q.height,
                            j = "view" === this.eqxScene.config.mode ? c(P.length) : 0,
                            L = this.getImgSrc(P[j].src, {width: O, height: A}),
                            F = $('<div id="' + T + '" \n                                   class="random-content element" \n                                   ctype="' + C + '"\n                                   style="width: 100%;height: 100%;"></div>').css("background-color", _),
                            M = this.$img = $('<div class="random-content-image"\n                                           style="width: 100%;height: 100%;">').css({
                                backgroundImage: "url('" + L + "')",
                                backgroundRepeat: "no-repeat",
                                backgroundSize: "contain",
                                backgroundPosition: "center"
                            });
                        return F.append(M), F
                    }
                }
            }, {
                key: "updateContent", value: function (e) {
                    this.$context.children().html(e)
                }
            }, {
                key: "updateImg", value: function (e) {
                    var t = this.compJson.css, n = t.width, i = t.height, o = this.getImgSrc(e, {width: n, height: i});
                    this.$img.css("background-image", "url('" + o + "')")
                }
            }, {
                key: "updateSize", value: function (e, t) {
                }
            }, {
                key: "updateTurnOver", value: function (e) {
                    this.$boxContentDiv.css("transform", e)
                }
            }, {
                key: "autoAdjustSize", value: function () {
                    var e = this.$context, t = this.$context.children(), n = parseInt(e.css("padding")), i = t.height(),
                        o = {height: i + 2 * n};
                    return this.update$li(o), {
                        height: parseInt(this.$li.css("height")),
                        width: parseInt(this.$li.css("width"))
                    }
                }
            }]), t
        }(u);
    e.exports = b
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;\n                 margin-top: #{marginTop};\n                 margin-bottom: #{marginBottom};\n                 color: inherit;\n                 word-break: break-all">#{content}</span></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(673), c = n(495), l = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {self: !0, backgroundColor: !0},
                    commonStyle: {self: !0},
                    advanceStyle: {self: !0, required: !0},
                    compFont: {fontColor: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = this.$select.find("option:selected").text(), t = Number(this.$select.val()),
                    n = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !t && (n.success = !1, n.message = "下拉框 '" + e + "' 为必选项"), n
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.required, r = e.css, a = r.borderWidth,
                    c = r.backgroundColor;
                a || (e.css.borderWidth = 0, e.css.borderColor = "rgba(8, 161, 239, 1)", this.$boxDiv.css("borderWidth", "0"), this.$boxDiv.css("borderColor", "rgba(8, 161, 239, 1)")), c || (e.css.backgroundColor = "#ffffff", this.$boxDiv.css("backgroundColor", "#ffffff"));
                var l = e.choices || {}, p = l.options || [];
                this.name = "eq[f_" + t + "]", this.required = o, this.pageId = n;
                var u = s.$compDiv({id: t, type: i, required: o}), d = this.$select = u.find("select"),
                    m = p.map(function (e) {
                        return s.$option({selected: e.selected, value: e.value, label: e.label})
                    });
                return d.append(m), u
            }
        }, {
            key: "changeOption", value: function () {
                var e = this.compJson.choices.options || [], t = e.map(function (e) {
                    return s.$option({selected: e.selected, value: e.value, label: e.label})
                });
                this.$select.empty(), this.$select.append(t)
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
                return this.$li.bind("touchstart mousedown", function (e) {
                    e.stopPropagation()
                }), !0
            }
        }]), t
    }(c);
    e.exports = l
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type, i = e.required, o = void 0 === i ? null : i, s = $(a(r, {id: t, type: n}));
        return s.find("#" + t).attr("required", o), s
    }

    function o(e) {
        var t = e.selected, n = void 0 === t ? null : t, i = e.value, o = e.label,
            r = $('<option  class="comp_select_option" value="' + i + '">' + o + "</option>").attr("selected", n);
        return r
    }

    var r = n(674);
    n(675);
    var a = n(468).parse;
    e.exports = {$compDiv: i, $option: o}
}, function (e, t) {
    e.exports = '<div class="comp_drop_down" style="width:100%;height:100%" id="#{id}" ctype="#{type}"><select style="width:100%;height:100%" name="eq[f_#{id}]" class="comp_drop_down_select" ctype="#{type}"></select></div>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function f(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : f(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(175).mobilecheck, l = n(175).isAndroidPhone, p = n(495), u = n(677), d = n(468).parse;
    n(678);
    var m = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {fontColor: !0},
                    advanceStyle: {required: !0}
                }, trigger: {self: !1}, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "getFtEditableProps", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this),
                    n = this.FtEditableProps;
                return e.concat([n.input.input])
            }
        }, {
            key: "getFtValue", value: function (e) {
                var n = this.FtEditableProps;
                return e === n.input.input ? this.compJson.type : s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtValue", this).call(this, e)
            }
        }, {
            key: "check", value: function () {
                var e = this.$li.find("#" + this.id).val(),
                    t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (t.success = !1, t.message = this.placeholder + " 为必填项"), t
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.properties, r = o.required,
                    a = void 0 === r ? null : r, s = o.placeholder, c = void 0 === s ? null : s;
                return this.required = a, this.name = "eq[f_" + t + "]", this.pageId = n, this.placeholder = c, this.id = t, $(d(u, {
                    id: t,
                    type: i
                })).attr({required: a, placeholder: c})
            }
        }, {
            key: "setInputTitle", value: function (e) {
                this.$context.attr("placeholder", e)
            }
        }, {
            key: "bindAfterRenderEvent", value: function (e, n) {
                var i = c();
                return t.touchStartMouseDownStopPropagation($(e).find("textarea")), this.onFocusBlurWhenFlip($(e).find("textarea")), this.onChangeTriggerVar($(e).find("textarea")), i && parseFloat(n.css.top) >= 200 && l() && $(e).find("textarea").focus(function (e) {
                    setTimeout(function () {
                        e.target.scrollIntoViewIfNeeded()
                    }, 500)
                }).blur(function () {
                    var e = $(this).parents(".m-img");
                    e.css("position", "fixed"), setTimeout(function () {
                        e.css("position", "")
                    }, 100)
                }), !0
            }
        }, {
            key: "onFocusBlurWhenFlip", value: function (e) {
                var t = this;
                e.focus(function () {
                    t.eqxScene.pageScroll.pauseAutoFlip()
                }).blur(function () {
                    t.eqxScene.pageScroll.canAutoFlip && t.eqxScene.pageScroll.startAutoFlip()
                })
            }
        }, {
            key: "onChangeTriggerVar", value: function (e) {
                var t = this;
                e.on("change input", function () {
                    var n = t.variables;
                    n && n.length && n.forEach(function (t) {
                        "7" === t.type.toString() && t.updateContent(e.val())
                    })
                })
            }
        }, {
            key: "addClassToLi", value: function (e) {
                e.addClass("wsite-input")
            }
        }], [{
            key: "touchStartMouseDownStopPropagation", value: function (e) {
                $(e).bind("touchstart mousedown", function (e) {
                    e.stopPropagation()
                })
            }
        }]), t
    }(p);
    e.exports = m
}, function (e, t) {
    e.exports = '<textarea id="#{id}" ctype="#{type}" class="element comp_input editable-text" maxlength="300" name="eq[f_#{id}]" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none">\n</textarea>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function u(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : u(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(676), l = n(572).isEmail, p = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "check", this).call(this);
                return e.success ? (e.value && !l(e.value) && (e.success = !1, e.message = this.placeholder + " 格式不对"), e) : e
            }
        }]), t
    }(c);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function u(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : u(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(676), l = n(572).isPhoneNumber, p = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "check", this).call(this);
                return e.success ? (e.value && !l(e.value) && (e.success = !1, e.message = this.placeholder + " 格式不对"), e) : e
            }
        }]), t
    }(c);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(682), c = n(495), l = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {self: !1, fontFamily: !1},
                    advanceStyle: {required: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = this.$score.val(), t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (t.success = !1, t.message = "评分项: " + this.title + " 为必填项"), t
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.title, r = e.properties,
                    a = r.required, c = r.icon, l = r.size, p = r.color,
                    u = s.$compDiv({id: t, type: i, required: a, title: o});
                this.required = a, this.title = o, this.name = "eq[f_" + t + "]", this.pageId = n;
                var d = [1, 2, 3, 4, 5].map(function () {
                    return s.icon({icon: c, size: l})
                });
                return u.find(".rating-icons").append(d).css({color: p}), this.$score = u.find('input[type="hidden"]'), this.$titleDiv = u.find(".rating-title"), u
            }
        }, {
            key: "update$iconColor", value: function (e) {
                this.$context.find(".rating-icons").css({color: e})
            }
        }, {
            key: "update$titleDiv", value: function (e) {
                this.$titleDiv.text(e)
            }
        }, {
            key: "updateAttrRequire", value: function (e) {
                this.$context.attr("required", e)
            }
        }, {
            key: "update$icon", value: function (e, t) {
                this.$context.find("i").removeClass().addClass(e + " " + t)
            }
        }, {
            key: "bindAfterRenderEvent", value: function (e, t) {
                function n(e) {
                    o.each(function (t, n) {
                        $(n).removeClass(s + "-f").addClass(s + "-l"), t <= e && $(n).removeClass(s + "-l").addClass(s + "-f")
                    })
                }

                var i = $(e), o = i.find("i"), r = i.find("input"), a = t.properties.icon.split("-"),
                    s = a[0] + "-" + a[1];
                return o.each(function (e, t) {
                    $(t).attr("data-event", "11211"), $(t).bind("click", function () {
                        n(e), r.val(e + 1)
                    }).bind("mouseenter", function () {
                        return n(e)
                    })
                }), i.find(".rating-icons").bind("mouseleave", function () {
                    return n(~~r.val() - 1)
                }).bind("touchstart mousedown", function (e) {
                    e.stopPropagation()
                }), !0
            }
        }]), t
    }(c);
    e.exports = l
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.id, n = e.type, i = e.title, o = e.required, s = void 0 === o ? null : o;
        return $(a(r, {id: t, type: n, title: i})).attr("required", s)
    }

    function o(e) {
        var t = e.icon, n = e.size;
        return '<i class="' + n + " " + t + '"></i>'
    }

    n(683);
    var r = n(684), a = n(468).parse;
    e.exports = {$compDiv: i, icon: o}
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="element comp_rating editable-text" style="width: 100%;height:100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><div class="rating-title">#{title}</div><div class="rating-icons"></div><input type="hidden" name="eq[f_#{id}]" value=""></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function p(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : p(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(686), l = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "$compDiv", value: function (e) {
                return e.title += "(可多选)", s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "$compDiv", this).call(this, e)
            }
        }, {
            key: "$option", value: function (e) {
                return e.inputType = "checkbox", s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "$option", this).call(this, e)
            }
        }, {
            key: "updateTitle", value: function () {
                var e = this.compJson.title + "(可多选)";
                return s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateTitle", this).call(this, e)
            }
        }]), t
    }(c);
    e.exports = l
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(687);
    var s = n(495), c = n(688), l = n(689), p = n(468).parse, u = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !1},
                    compFont: {self: !1, fontFamily: !1},
                    advanceStyle: {required: !0}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = this.$options.find("input.option[name]").toArray().filter(function (e) {
                    return e.checked
                }).map(function (e) {
                    return $(e).val()
                }).filter(function (e) {
                    return !!e
                }).join(","), t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (t.success = !1, t.message = this.title + " 为必填项"), t
            }
        }, {
            key: "$compDiv", value: function (e) {
                var t = e.id, n = e.required, i = void 0 === n ? null : n, o = e.title, r = void 0 === o ? "标题" : o,
                    a = e.type, s = e.css;
                return $(p(l, {id: t, title: r, type: a, css: s})).attr({required: i})
            }
        }, {
            key: "$option", value: function (e) {
                var t = e.compId, n = e.index, i = e.optionId, o = e.optionLabel, r = e.inputType,
                    a = void 0 === r ? "radio" : r, s = "" + t + n;
                return $(p(c, {id: s, inputType: a, compId: t, optionId: i, optionLabel: o}))
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.properties, r = o.required,
                    a = o.titleStyle, s = void 0 === a ? {} : a, c = e.title, l = e.css.height;
                this.title = c, this.pageId = n, this.name = "eq[f_" + t + "]", this.required = r;
                var p = this.$compDiv({id: t, required: r, title: c, type: i, css: {height: l, width: "100%"}});
                p.find(".radio-title").css(s);
                var u = this.$options = p.find(".options");
                return u.html(this.create$options()), p
            }
        }, {
            key: "create$options", value: function () {
                var e = this, t = this.compJson, n = t.id, i = (t.properties.optionStyle, t.choices);
                "string" == typeof i && (i = JSON.parse(i));
                var o = $("<div>");
                i.options.length - 1;
                return i.options.forEach(function (t, i) {
                    var r = e.$option({compId: n, index: i, optionId: t.id, optionLabel: t.label});
                    o.append(r)
                }), o.html()
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
                return this.$li.find("label").bind("touchstart mousedown", function (e) {
                    e.stopPropagation()
                }), !0
            }
        }, {
            key: "updateTitle", value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.compJson.title;
                this.$li.find(".radio-title").text(e)
            }
        }, {
            key: "updateOptions", value: function () {
                var e = this.create$options();
                this.$options.html(e), this.$li.css({height: ""}), this.update$li({height: this.$li.height()})
            }
        }, {
            key: "updateOptionsLabel", value: function () {
                var e = this.$li.find(".option-label").find("span");
                this.compJson.choices.options.forEach(function (t, n) {
                    $(e[n]).text(t.label)
                })
            }
        }, {
            key: "updateOptionsType", value: function () {
                var e = "c" === this.compJson.type, t = e ? "checkbox" : "radio";
                this.$li.find("input").attr("type", t), e ? this.updateTitle(this.compJson.title + "(可多选)") : this.updateTitle()
            }
        }]), t
    }(s);
    e.exports = u
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="option-group"><label class="option-label" for="#{id}" data-event="11208"><input class="option" id="#{id}" type="#{inputType}" name="eq[f_#{compId}]" value="#{optionId}"> <span>#{optionLabel}</span></label></div>'
}, function (e, t) {
    e.exports = '<div class="element comp_radio editable-text" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]" style="width: 100%;height: 100%"><div class="radio-title">#{title}</div><div class="options"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(691).$postForm, c = n(114), l = n(607), p = n(495), u = n(175).isWeixin, d = n(165).qiniuZoom,
        m = n(692), f = n(504).popUpModal, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !1},
                        compFont: {self: !0, fontFamily: !1, fontColor: !0}
                    }, trigger: {self: !1}, sound: !1, link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.properties, r = o.title,
                        a = o.styleImgSrc, s = e.css, p = s.width, u = s.height, d = "" + c.FILE + a, m = "0";
                    return this.pageId = n, this.$context = a ? l.$img({
                        id: t,
                        type: i,
                        src: d,
                        css: {width: p, height: u},
                        padding: m
                    }) : l.$btn({id: t, type: i, title: r, css: {width: p, height: u}}), this.$context
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    e.addClass("wsite-input")
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this, i = !0, o = this;
                    $(e).click(function () {
                        var r = n.eqxScene.formManager, a = r.check(), c = t.sceneId, p = t.id, g = t.pageId,
                            h = t.properties, v = h.layout, y = void 0 === v ? "rating-l" : v, b = h.imgSrc, x = h.text,
                            w = h.link, S = h.checkedLink, k = h.clickFarmer, T = h.endTime, C = new Promise(function () {
                            });
                        if (r.submited) C = Promise.reject({code: 120505}); else if (T && T < Date.now()) C = Promise.reject({code: 120602}); else if (k && !u()) C = Promise.reject({code: 120504}); else if (a.success) i && (n.eqxScene.config.disableSubmit ? C = Promise.resolve() : (T && (a.form.endTime = T), C = s(a.form, c, g, p)), i = !1); else if (a.pageId && n.pageId != a.pageId) {
                            var I = confirm(a.message + " 是否前往修改？");
                            I && n.eqxScene.pageScroll.goToPageById(a.pageId)
                        } else C = Promise.reject({msg: a.message});
                        C.then(function () {
                            r.submited = !0, i = !0;
                            var t = !!S, n = b ? d(b, 240) : m;
                            x = x ? x.trim() : "谢谢您的参与！";
                            var a = o.eqxPage, s = a.$editDiv.css("transform") || "", c = s.match(/matrix.*, (.*)\)/),
                                p = c ? c[1] : 0;
                            l.modal(e, y, t, n, x, w, p)
                        })["catch"](function (e) {
                            i = !0, f(120505 === e.code || 120603 === e.code ? "请不要重复提交！" : 120504 === e.code ? "请到微信中打开使用！" : 120602 === e.code || 120604 === e.code ? "当前表单已截止提交！" : e.msg ? e.msg : "file:" === window.location.protocol ? "请发布后再提交！" : "表单提交失败！")
                        })
                    })
                }
            }, {
                key: "updateBtnTitle", value: function (e) {
                    this.compJson.properties.styleImgSrc || (this.$context[0].innerText = e)
                }
            }, {
                key: "deleteImage", value: function () {
                    this.compJson.properties.styleImgSrc || (this.$context[0].innerText = "")
                }
            }]), t
        }(p);
    e.exports = g
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i) {
        var o = window.scene || {}, r = o.code, c = a.SERVER_1 + "eqs/r/" + t + "/" + n + "/" + i;
        return r && (c = c + "?code=" + r), s({type: "POST", url: c, data: e})
    }

    function o(e, t, n) {
        return s({type: "POST", url: a.SERVER_1 + "eqs/promotion/order/data/r/" + e + "/" + n, data: t})
    }

    function r(e, t) {
        return s({type: "GET", url: a.SERVER_1 + "eqs/s/valid/send-validcode", data: {phone: e, userId: t}})
    }

    var a = n(114), s = n(166).ajax;
    e.exports = {$postForm: i, $submitXiuForm: o, $getSmsCode: r}
}, function (e, t, n) {
    e.exports = n.p + "images/ok-941be2.svg"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function f(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : f(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(495), l = n(694), p = n(695), u = n(553), d = n(114), m = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    compStyle: {backgroundColor: !0},
                    compFont: {self: !1, fontFamily: !1}
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.properties.title,
                    r = this.eqxScene.config.mode;
                return this.pageId = n, this.uploadImage = {}, this.name = "eq[f_" + t + "]", this.$context = l.$compDiv(t, i, o, r), this.$button = this.$context.find("button"), this.$context
            }
        }, {
            key: "eleShow", value: function () {
                var e = this;
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this);
                var n = this.eqxScene.config.mode;
                "view" !== n || this.uploader || this.initQiniuUpload({
                    uploadButton: this.$button.attr("id"),
                    beforeUpload: function (t, n) {
                        var i = n.size / 1024 / 1024;
                        i > 10 ? (p.modal("图片大小不得超过10M，请重新上传", e.$li), t.stop()) : e.updateTitle("上传中...")
                    },
                    finishUpload: function (t, n, i) {
                        e.updateTitle(n.name), e.uploadImage.file = n, e.uploadImage.info = i = JSON.parse(i), (e.variables || []).forEach(function (e) {
                            "4" === e.compJson.type.toString() && e.updateImageSrc(i.key, i.w, i.h)
                        })
                    },
                    Error: function () {
                        e.updateTitle("上传失败！")
                    }
                })
            }
        }, {
            key: "initQiniuUpload", value: function (e) {
                var t = this;
                u.$initQiniuUpload(e).then(function (e) {
                    t.uploader = e
                })
            }
        }, {
            key: "check", value: function () {
                var e = this.uploadImage.info && d.FILE + this.uploadImage.info.key,
                    t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (t.success = !1, t.message = "上传图片: " + this.title + " 为必填项"), t
            }
        }, {
            key: "updateTitle", value: function (e) {
                this.$context.find("button").text(e)
            }
        }]), t
    }(c);
    e.exports = m
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        var o = $('<div id="' + e + '"\n                             ctype="' + t + '"\n                             class="element"\n                             style="width: 100%;height: 100%;position: relative">\n                        </div>'),
            r = $('<button id="#{id}-upload-image"\n                             style="display: block;\n                                    width: 100%;\n                                    height: 100%;\n                                    border: none;\n                                    padding: 0 8px;\n                                    background-color: transparent;\n                                    text-align: left;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                    font-size: 16px;">\n                         ' + n + "\n                     </button>");
        return "view" === i && r.attr("id", e + "-upload-image"), o.append(r)
    }

    e.exports = {$compDiv: n}
}, function (e, t) {
    "use strict";

    function n(e, t) {
        var n = $('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">' + e + '</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),
            i = n.find(".feedback-form");
        i.css("margin-top", -Number.parseInt(i.height() + 80) / 2), n.insertBefore(t.parent().parent()), n.find(".feedback-close").on("click", function () {
            n.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return n.remove()
                }
            })
        })
    }

    e.exports = {modal: n}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(495), c = n(697), l = n(468).parse, p = n(572).isPhoneNumber, u = n(504).popUpModal,
        d = n(691).$getSmsCode;
    n(698);
    var m = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    base: {color: !1, lineHeight: !1, paddingTop: !1},
                    compStyle: {backgroundColor: !1},
                    compFont: {self: !0, fontColor: !0},
                    advanceStyle: {required: !0}
                }, trigger: !1, sound: !1, link: !1
            }), r.eqxScene.formManager.add(r), r
        }

        return r(t, e), a(t, [{
            key: "check", value: function () {
                var e = this.$context.find(".telephone").val(), t = this.$context.find(".smsInput").val(), n = {
                    success: !0,
                    pageId: this.pageId,
                    key: this.name,
                    type: this.type,
                    value: {phoneValue: e, smsValue: t}
                };
                return this.required && (e ? t || (n.success = !1, n.message = "请输入验证码") : (n.success = !1, n.message = "请输入手机号")), n
            }
        }, {
            key: "create$context", value: function () {
                var e = this.compJson, t = e.id, n = e.pageId, i = e.type, o = e.title, r = e.properties,
                    a = r.required, s = r.ownerCss, p = s.borderWidth, u = s.borderColor, d = s.borderStyle,
                    m = $(l(c, {id: t, type: i, title: o}));
                return this.$context = m, this.$context.find(".telephone").css({
                    borderWidth: p,
                    borderColor: u,
                    borderStyle: d
                }), this.$context.find(".smsInput").css({
                    borderWidth: p,
                    borderColor: u,
                    borderStyle: d
                }), this.required = a, this.title = o, this.type = i, this.name = "eq[f_" + t + "]", this.pageId = n, m
            }
        }, {
            key: "updateInputBorderColor", value: function (e) {
                this.$context.find(".telephone").css({borderColor: e}), this.$context.find(".smsInput").css({borderColor: e})
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
                var e = this, t = !0;
                return this.$context.find(".smsButton").bind("touchstart mousedown", function (n) {
                    if (t) {
                        var i = e.$context.find(".telephone").val();
                        i ? i && !p(i) ? u("电话格式不对") : (t = !1, d(i, e.eqxScene.meta.userId || e.eqxScene.meta.createUser).then(function () {
                            var n = 180, i = setInterval(function () {
                                e.$context.find(".smsButton").val("重新发送" + n + "秒"), 0 == n && (t = !0, e.$context.find(".smsButton").val("获取验证码"), clearInterval(i)), n -= 1
                            }, 1e3)
                        })["catch"](function (e) {
                            u(!e.code || 150005 != e.code && 150001 != e.code ? "发送失败，请重新发送" : e.msg), t = !0
                        })) : u("请输入手机号")
                    }
                }), !0
            }
        }]), t
    }(s);
    e.exports = m
}, function (e, t) {
    e.exports = '<div class="element editable-text comp_sms" style="width: 100%;height: 100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><input class="telephone" type="tel" placeholder="请输入手机号"/><div style="width: 100%;height: 12%"></div><input class="smsInput" type="number" placeholder="验证码"/> <input class="smsButton" type="button" value="获取验证码"/></div>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = function h(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : h(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, c = n(175).isWeixin, l = n(495), p = n(700), u = n(701), d = n(468).parse, m = n(702), f = n(501).getWxJSSDK,
        g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        compFont: {
                            self: !0,
                            fontFamily: !0,
                            fontSize: !0,
                            fontColor: !0,
                            baseStyle: !0,
                            lineHeight: !0,
                            letterSpacing: !0
                        }
                    }, sound: !1, link: !1
                }), "view" === r.eqxPage.eqxScene.config.mode && (r.wxJssdk = f()), r.soundKey = e.id.toString().substring(3), p[r.soundKey] = p[r.soundKey] || {}, p[r.soundKey].wxpId = e.id, r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.css, o = i.width, r = i.height, a = i.lineHeight;
                    return $(d(u, {id: t, type: n})).css({width: o, height: r, lineHeight: a, display: "inline-block"})
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e) {
                    var t = this;
                    return $(e).on("mousedown touchstart", function (e) {
                        window.event.stopPropagation(), e.preventDefault(), c() ? t.soundPlay() : t.playDefaultSound()
                    }), !0
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    this.$context.css({
                        width: n.width,
                        height: n.height,
                        lineHeight: n.height + "px"
                    }), this.compJson.css.lineHeight = n.height + "px", s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "soundPlay", value: function () {
                    var e = this, t = this;
                    if (p[this.soundKey].soundId) {
                        var n = p[this.soundKey].soundId;
                        this.eqxScene.soundManager.onPlay({type: 4}), this.wxJssdk.then(function () {
                            wx.playVoice({localId: n})
                        })
                    } else this.compJson.serverId ? this.wxJssdk.then(function () {
                        wx.downloadVoice({
                            serverId: e.compJson.serverId, success: function (n) {
                                var i = n.localId;
                                e.eqxScene.soundManager.onPlay({type: 4}), wx.playVoice({localId: i}), p[t.soundKey].soundId = i
                            }, error: function () {
                                e.playDefaultSound()
                            }
                        })
                    }) : this.playDefaultSound();
                    this.wxJssdk.then(function () {
                        wx.onVoicePlayEnd({
                            success: function () {
                                e.eqxScene.soundManager.onEnd({type: 4})
                            }
                        })
                    })
                }
            }, {
                key: "playDefaultSound", value: function () {
                    var e = this;
                    this.defaultSound || (this.defaultSound = document.createElement("audio"), this.defaultSound.src = n(702)), this.defaultSound.paused ? (this.eqxScene.soundManager.onPlay({type: 4}), this.defaultSound.play(), $(this.defaultSound).bind("ended", function () {
                        e.eqxScene.soundManager.onEnd({type: 4})
                    })) : (this.eqxScene.soundManager.onEnd({type: 4}), this.defaultSound.pause())
                }
            }], [{
                key: "getDefaultSound", value: function () {
                    return m
                }
            }]), t
        }(l);
    e.exports = g
}, function (e, t) {
    "use strict";
    e.exports = {}
}, function (e, t) {
    e.exports = '<a id="#{id}" class="element comp_wechat_play" ctype="#{type}"><span style="font-size:16px" class="eqf-volume-high"></span></a>'
}, function (e, t, n) {
    e.exports = n.p + "images/wexin_sound-d41d8c.mp3"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function h(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : h(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(704);
    var c = n(175).isWeixin, l = n(501).saveWxCompData, p = n(501).generateUserKey, u = n(495), d = n(700),
        m = n(501).getWxJSSDK, f = n(504).popUpModal, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return "view" === r.eqxPage.eqxScene.config.mode && (r.wxJssdk = m()), r.soundKey = e.id.toString().substring(3), d[r.soundKey] = d[r.soundKey] || {}, d[r.soundKey].wxrId = e.id, $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        compFont: {
                            self: !0,
                            fontFamily: !0,
                            fontSize: !0,
                            fontColor: !0,
                            baseStyle: !0,
                            lineHeight: !0,
                            letterSpacing: !0
                        }
                    }, sound: !1, link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = document.createElement("a");
                    return t.innerHTML = e.properties.title, t.id = e.id, t.setAttribute("class", "element comp_wechat_hear"), t.setAttribute("ctype", e.type), t.setAttribute("data-event", "1120612"), $(t).css({
                        width: e.css.width,
                        height: e.css.height,
                        display: "inline-block"
                    }), $(t)
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e) {
                    var t = this;
                    return $(e).on("mousedown touchstart", function (e) {
                        window.event.stopPropagation(), e.preventDefault(), c() ? t.soundRecord() : f("请在微信中点我！")
                    }).on("mouseup touchend", function () {
                        c() && t.calculateTime && t.soundStopRecord()
                    }), !0
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    this.$context.css({
                        width: n.width,
                        height: n.height,
                        lineHeight: n.height + "px"
                    }), this.compJson.css.lineHeight = n.height + "px", s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "soundRecord", value: function () {
                    var e = this;
                    this.wxJssdk.then(function () {
                        e.eqxScene.soundManager.stopAll(), wx.startRecord({
                            success: function () {
                                e.second = 0, e.openPlayState()
                            }
                        }), e.$context.addClass("recording").text("松开 结束")
                    })
                }
            }, {
                key: "openPlayState", value: function () {
                    var e = this,
                        t = "<div class='voice-panel'><span class='icon eqf-voice'></span><div class='voice-tip'>松开手指 停止录音</div></div>";
                    this.voicePanel = $(t).prependTo(this.$li.parent()), this.calculateTime = setInterval(function () {
                        e.second++, e.second >= 50 && $(e.voicePanel).text(60 - e.second), 60 === e.second && e.soundStopRecord()
                    }, 1e3)
                }
            }, {
                key: "soundStopRecord", value: function () {
                    var e = this;
                    clearInterval(this.calculateTime), this.calculateTime = null, this.$context.removeClass("recording").text("按住 说话"), this.eqxScene.soundManager.restoreAll(), $(this.voicePanel).remove(), wx.stopRecord({
                        success: function (t) {
                            e.second = 0, e.wechatUploadVoice(t.localId)
                        }
                    })
                }
            }, {
                key: "wechatUploadVoice", value: function (e) {
                    var t = this;
                    d[this.soundKey].soundId = e, wx.uploadVoice({
                        localId: e, isShowProgressTips: 1, success: function (e) {
                            var n = e.serverId;
                            p(), l(d[t.soundKey].wxpId, n)
                        }
                    })
                }
            }]), t
        }(u);
    e.exports = g
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(657), c = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {
                style: {
                    self: !0,
                    compFont: {
                        self: !0,
                        fontFamily: !0,
                        fontSize: !0,
                        fontColor: !0,
                        bgColor: !0,
                        baseStyle: !0,
                        lineHeight: !0,
                        letterSpacing: !0
                    }
                }, trigger: {self: !1}, sound: !1, link: !1
            }), r
        }

        return r(t, e), a(t, [{
            key: "updateContent", value: function (e) {
                this.compJson.content = e, this.$context.text(e)
            }
        }]), t
    }(s);
    e.exports = c
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(527), c = n(707), l = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {style: {self: !0}, trigger: {self: !1}}), r
        }

        return r(t, e), a(t, null, [{
            key: "getDefaultImg", value: function () {
                return c
            }
        }]), t
    }(s);
    e.exports = l
}, function (e, t, n) {
    e.exports = n.p + "images/wx_default-454286.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        v.push(e), y || s()
    }

    function s() {
        if (y = !0, v.length > 0) {
            var e = v.shift();
            e().then(function () {
                s()
            })
        } else y = !1
    }

    var c = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), l = function x(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : x(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, p = n(175).isWeixin, u = n(527), d = n(501).saveWxCompData, m = n(501).generateUserKey, f = n(709),
        g = n(501).getWxJSSDK, h = n(504).popUpModal, v = [], y = !1, b = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {self: !0},
                    link: !1,
                    sound: !1,
                    trigger: {self: !1}
                }), "view" === r.eqxPage.eqxScene.config.mode && (r.wxJssdk = g()), r
            }

            return r(t, e), c(t, [{
                key: "create$context", value: function () {
                    var e = l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "create$context", this).call(this),
                        n = this.compJson.serverId, i = this;
                    return e[0].setAttribute("data-event", "1120611"), n && p() && (e.css("display", "none"), a(function () {
                        return new Promise(function (e) {
                            i.wxJssdk.then(function () {
                                wx.downloadImage({
                                    serverId: n, success: function (t) {
                                        i.responsiveImage(t.localId), e()
                                    }
                                })
                            })
                        })
                    })), e
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    return p() ? $(e).click(function () {
                        n.uploadImage()
                    }) : $(e).click(function () {
                        h("请在微信中点击我")
                    }), !0
                }
            }, {
                key: "uploadImage", value: function () {
                    var e = this;
                    this.wxJssdk.then(function () {
                        wx.chooseImage({
                            count: 1,
                            sizeType: ["original", "compressed"],
                            sourceType: ["album", "camera"],
                            success: function (t) {
                                var n = t.localIds;
                                setTimeout(function () {
                                    wx.uploadImage({
                                        localId: n.toString(), isShowProgressTips: 1, success: function (t) {
                                            e.responsiveImage(n.toString());
                                            var i = t.serverId;
                                            m(), d(e.compJson.id, i)
                                        }
                                    })
                                }, 100)
                            }
                        })
                    })
                }
            }, {
                key: "responsiveImage", value: function (e) {
                    var t = this;
                    window.__wxjs_is_wkwebview ? this.wxJssdk.then(function () {
                        console.log("responsiveImage getLocalImgData start", e), wx.getLocalImgData({
                            localId: e,
                            fail: function (e) {
                                console.error("responsiveImage getLocalImgData Error", e)
                            },
                            success: function (e) {
                                console.log("responsiveImage getLocalImgData");
                                var n = e.localData;
                                t._responsiveImage(n)
                            }
                        })
                    }) : this._responsiveImage(e)
                }
            }, {
                key: "_responsiveImage", value: function (e) {
                    var t = new Image;
                    t.src = e;
                    var n = this;
                    t.onload = function () {
                        var i, o, r = window.parseInt(n.compJson.css.width, 10),
                            a = window.parseInt(n.compJson.css.height, 10);
                        t.width / t.height >= r / a ? (i = r, o = t.height * (r / t.width)) : (o = a, i = t.width * (a / t.height)), n.$context.css({
                            display: "block",
                            width: i + "px",
                            height: o + "px",
                            "margin-top": (window.parseInt(n.$li.height(), 10) - o) / 2 + "px",
                            "margin-left": (window.parseInt(n.$li.width(), 10) - i) / 2 + "px"
                        }).attr("src", e)
                    }
                }
            }], [{
                key: "getDefaultImg", value: function () {
                    return f
                }
            }]), t
        }(u);
    e.exports = b
}, function (e, t, n) {
    e.exports = n.p + "images/wechat_image-f8aa1a.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function h(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : h(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(711);
    var c = n(175).isWeixin, l = n(495), p = n(712).textVoteTpl, u = n(713).alertTpl, d = n(715).$isVoted,
        m = n(715).$postVote, f = n(465).randomId, g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {compStyle: {self: !0}, commonStyle: {size: !1}, advanceStyle: {}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1,
                    flexLine: "e,w,r"
                }), r.ids = [], r
            }

            return r(t, e), a(t, [{
                key: "getMinWidth", value: function () {
                    return 300
                }
            }, {
                key: "updateSize", value: function (e, n) {
                    var i = this.getMinWidth();
                    n.width && n.width < e.width && (!n.left || n.left === e.left) && n.width < i && this.$li.css({width: i}), n.left && n.left > e.left && n.width && n.width < i && this.$li.css({
                        left: e.left,
                        width: i
                    });
                    var o = this.$context.height();
                    o != n.height && this.$li.height(o), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "update$li", value: function (e) {
                    var n = this.compJson.css, i = this.getMinWidth();
                    e.width && e.width < n.width && (!e.left || e.left === n.left) && e.width < i && (e.width = i), e.left && e.left > n.left && e.width && e.width < i && (delete e.left, delete e.width), e.height && (e.height = this.$context.height()), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update$li", this).call(this, e)
                }
            }, {
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.properties, o = i.title,
                        r = void 0 === o ? "请投票" : o, a = i.selectType, s = i.buttonColor, c = void 0 === s ? "#08A1EF" : s,
                        l = i.children, d = void 0 === l ? [] : l;
                    a = "single" == a ? "单选" : "多选";
                    var m = p({id: t, type: n}), f = $(m);
                    if (this.$title = $('<div class="vote-view-title">' + r + "（" + a + "）</div>"), f.append(this.$title), d.length) {
                        this.$options = $('<ul class="vote-view-options"></ul>'), this.childrenOption = d.map(function (e) {
                            var t = e.id, n = e.label;
                            return $('<li class="vote-view-option" id="' + t + '"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">' + n + "</div></li>")
                        }), this.$submit = $('<div class="vote-view-button">投票</div>'), this.$options.append(this.childrenOption), f.append(this.$options), f.append(this.$submit);
                        var g = u();
                        this.$tpl = $(g).appendTo(f), this.updateButtonColor(c)
                    }
                    return f
                }
            }, {
                key: "updateButtonColor", value: function (e) {
                    this.$submit.css({backgroundColor: e})
                }
            }, {
                key: "updateTitle", value: function (e, t) {
                    t = "single" == t ? "单选" : "多选", this.$title.text(e + "（" + t + "）")
                }
            }, {
                key: "updateOptions", value: function (e) {
                    this.$options.find("#" + e.id + " .vote-view-text").text(e.label)
                }
            }, {
                key: "deleteOption", value: function (e) {
                    this.compJson.properties.children.splice(e, 1), this.childrenOption.splice(e, 1)[0].remove(), this.$li.css({height: ""}), this.update$li({height: this.$li.height()})
                }
            }, {
                key: "addOption", value: function () {
                    var e = {id: f(), label: "选项" + (this.compJson.properties.children.length + 1)};
                    this.compJson.properties.children.push(e);
                    var t = $('<li class="vote-view-option" id="' + e.id + '"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">' + e.label + "</div></li>");
                    this.childrenOption.push(t), this.$options.append(t), this.$li.css({height: ""}), this.update$li({height: this.$li.height()})
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    c() ? this.isVoted().then(function () {
                        n.$options.children().on("click", function (e) {
                            var i = $(e.currentTarget).find(".eqf-yes");
                            i.is(":hidden") ? "single" == t.properties.selectType && 1 == n.ids.length ? (n.$options.find(".eqf-yes").hide(), n.ids[0] = e.currentTarget.id, i.show()) : "multi" == t.properties.selectType && n.ids.length == t.properties.selectCount ? n.alertTpl("最多选择" + t.properties.selectCount + "项") : (i.show(), n.ids.push(e.currentTarget.id)) : (i.hide(), n.ids.splice(n.ids.indexOf(e.currentTarget.id), 1))
                        }), n.$submit.on("click", function () {
                            var e = t.sceneId, i = t.pageId;
                            n.ids.length ? m(e, t.id, {pageId: i, data: JSON.stringify(n.ids)}).then(function (e) {
                                e.success && n.alertTpl("投票成功，谢谢参与！").then(function () {
                                    n.showVoted(e.map), n.$submit.off(), n.$options.children().off()
                                })
                            }) : n.alertTpl("请至少选择一项")
                        })
                    }) : this.$submit.css({backgroundColor: "#f0f3f4", color: "#a3afb7"}).text("请在微信中投票")
                }
            }, {
                key: "alertTpl", value: function (e) {
                    var t = this;
                    return new Promise(function (n, i) {
                        t.$tpl.find("span").text(e), t.$tpl.css({opacity: 1, zIndex: 2}), window.setTimeout(function () {
                            t.$tpl.css({opacity: 0, zIndex: -2}), n()
                        }, 2e3)
                    })
                }
            }, {
                key: "showVoted", value: function (e) {
                    var t = this;
                    this.$options.find(".eqf-yes").hide();
                    var n = [], i = 0;
                    this.compJson.properties.children.forEach(function (o) {
                        var r = o.id;
                        n.push({id: r, count: e[r] || 0}), i += e[r] || 0, e[r] && t.ids.push(r)
                    }), n.forEach(function (e) {
                        $('<em style="float:right">' + e.count + "  (" + (e.count / i * 100).toFixed(2) + " % 100)</em>").prependTo(t.$options.find("#" + e.id))
                    }), this.$li.height(""), this.$submit.css({backgroundColor: "#f0f3f4", color: "#a3afb7"}).text("你已投票")
                }
            }, {
                key: "isVoted", value: function () {
                    var e = this;
                    return new Promise(function (t, n) {
                        var i = e.compJson.properties.endTime;
                        if (i && new Date(i) < Date.now()) e.$submit.css({
                            backgroundColor: "#f0f3f4",
                            color: "#a3afb7"
                        }).text("投票已过期"), n(); else if (c()) {
                            var o = e.compJson, r = o.sceneId, a = o.pageId, s = o.id;
                            d(s, {sceneId: r, pageId: a}).then(function (i) {
                                i.obj ? (e.showVoted(i.map), n()) : t()
                            })
                        } else n()
                    })
                }
            }]), t
        }(l);
    e.exports = g
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = e.id, n = e.type;
        e.title, e.selectType;
        return '<div  id="' + t + '" ctype="' + n + '" class="vote-view">\n    </div>'
    }

    e.exports = {textVoteTpl: n}
}, function (e, t, n) {
    "use strict";

    function i() {
        return '<div class="vote-alert">\n              <span></span>\n            </div>'
    }

    n(714), e.exports = {alertTpl: i}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        return a({type: "POST", url: r.SERVER_1 + "eqs/vote/verify/" + e, data: t})
    }

    function o(e, t, n) {
        return a({type: "POST", url: r.SERVER_1 + "eqs/vote/" + e + "/" + t, data: n})
    }

    var r = n(114), a = n(166).ajax;
    e.exports = {$isVoted: i, $postVote: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function v(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : v(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(717);
    var c = n(114), l = n(453).$loadSliders, p = n(495), u = n(175).isWeixin, d = n(713).alertTpl, m = n(715).$isVoted,
        f = n(715).$postVote, g = n(718), h = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.intervalObj = {}, r.descIds = [], $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {self: !0},
                        commonStyle: {size: !1}
                    }, trigger: {self: !1}, sound: !1, link: !1, flexLine: "r"
                }), r
            }

            return r(t, e), a(t, [{
                key: "updateSize", value: function (e, n) {
                    this.$slider.width(n.width), this.plugin.update(), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "create$context", value: function () {
                    var e = this;
                    this.descArr = [], this.imgArr = [], this.loadPlugin = Promise.resolve();
                    var t = this.compJson, n = t.id, i = t.type, o = t.css.width, r = t.properties;
                    r = void 0 === r ? {} : r;
                    var a = r.title, s = void 0 === a ? "请投票" : a, l = r.selectType, p = r.buttonColor,
                        u = void 0 === p ? "#08A1EF" : p, m = r.children, f = void 0 === m ? [] : m, h = r.bgColor;
                    l = "single" == l ? "单选" : "多选";
                    var v = $('<div id="' + n + '" ctype="' + i + '" class="vote-img"></div>').css("background-color", h);
                    if (f.length) {
                        f.forEach(function (t) {
                            var n = t.src, i = t.desc, o = t.id, r = n ? "" + (c.FILE + n) : g;
                            e.imgArr.push($('<div style="background-image:url(' + r + '); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>')), e.descArr.push($('<li id="' + o + '">' + i + "</li>"))
                        }), this.$title = $('<div class="vote-img-prev-title"><h1>' + s + '</h1><span class="vote-img-sing-double">(' + l + ")</span></div>"), v.append(this.$title), this.$slider = $('<div class="slides" style="width: ' + o + 'px;"></div>');
                        var y = $('<ul class="vote-img-desc"></ul>');
                        y.append(this.descArr), this.$slider.append(this.imgArr), this.loadPlugin = this.initSlider(y), v.append(this.$slider), this.$submit = $('<a class="btn-main">提交</a>'), v.append(this.$submit);
                        var b = d();
                        this.$tpl = $(b).appendTo(v), this.updateButtonColor(u)
                    }
                    return v
                }
            }, {
                key: "updateButtonColor", value: function (e) {
                    this.$submit.css({backgroundColor: e})
                }
            }, {
                key: "updateOptions", value: function (e, t) {
                    this.plugin["goto"](t + 1), this.descArr[t].text(e.desc), this.imgArr[t].css({backgroundImage: "url(" + c.FILE + e.src + ")"})
                }
            }, {
                key: "updateTitle", value: function (e, t) {
                    t = "single" == t ? "单选" : "多选", this.$title.find("h1").text(e), this.$title.find(".vote-img-sing-double").text("(" + t + ")")
                }
            }, {
                key: "initSlider", value: function (e) {
                    var t = this;
                    return this.$em = $('<span class="eqf-yes-l"></span>'), l().then(function () {
                        return t.$slider.slidesjs({
                            width: 300,
                            height: 329,
                            navigation: {active: !1},
                            callback: {
                                loaded: function () {
                                    e.children().css({display: "none"}), t.descArr[0].css({display: "inline-block"}), t.$slider.append(e), t.$slider.find(".slidesjs-container").append(t.$em)
                                }, start: function (e) {
                                }, complete: function (n) {
                                    e.children().css({display: "none"}), t.descArr[n - 1].css({display: "inline-block"});
                                    var i = t.descArr[n - 1].attr("id");
                                    t.descIds.indexOf(i) == -1 ? t.$em.removeClass("active") : t.$em.addClass("active")
                                }
                            }
                        }), t.plugin = t.$slider.data("plugin_slidesjs"), t.plugin
                    })
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    return u() ? this.loadPlugin.then(function () {
                        return n.isVoted()
                    }).then(function () {
                        n.$em.on("click", function (e) {
                            e.preventDefault(), e.stopPropagation();
                            var i = n.descArr[n.plugin.data.current].attr("id");
                            n.descIds.indexOf(i) == -1 ? "single" == t.properties.selectType && 1 == n.descIds.length ? (n.descIds[0] = i, n.$em.addClass("active")) : "multi" == t.properties.selectType && n.descIds.length == t.properties.selectCount ? n.alertTpl("最多选择" + t.properties.selectCount + "项") : (n.descIds.push(i), n.$em.addClass("active")) : (n.descIds.splice(n.descIds.indexOf(i), 1), n.$em.removeClass("active"))
                        }), n.$submit.on("click", function (e) {
                            e.preventDefault(), e.stopPropagation();
                            var i = t.sceneId, o = t.pageId;
                            n.descIds.length ? f(i, t.id, {pageId: o, data: JSON.stringify(n.descIds)}).then(function (e) {
                                e.success && n.alertTpl("投票成功，谢谢参与！").then(function () {
                                    n.showVoted(e.map), n.$em.off(), n.$submit.off()
                                })
                            }) : n.alertTpl("请至少选择一项")
                        })
                    }) : this.$submit.css({backgroundColor: "#f0f3f4", color: "#a3afb7"}).text("请在微信中投票"), !1
                }
            }, {
                key: "showVoted", value: function (e) {
                    var t = this;
                    this.descIds = [], this.$em.remove(), this.plugin.stop(), this.$slider.remove();
                    var n = {}, i = [], o = 0;
                    this.compJson.properties.children.forEach(function (r) {
                        var a = r.id, s = r.desc;
                        n[a] = s, i.push({id: a, count: e[a] || 0}), o += e[a] || 0, e[a] && t.descIds.push(a)
                    });
                    var r = $('<ul class="vote-img-ul"></ul>');
                    i.forEach(function (e) {
                        r.append($("<li id = '" + e.id + '\' class="vote-img-li"><em style="float: right">' + e.count + " (" + (e.count / o * 100).toFixed(2) + " %)</em> " + n[e.id] + "</li>"))
                    }), r.insertBefore(this.$submit), this.$submit.css({
                        backgroundColor: "#f0f3f4",
                        color: "#a3afb7"
                    }).text("你已投票")
                }
            }, {
                key: "alertTpl", value: function (e) {
                    var t = this;
                    return new Promise(function (n, i) {
                        t.$tpl.find("span").text(e), t.$tpl.css({opacity: 1, zIndex: 1001}), window.setTimeout(function () {
                            t.$tpl.css({opacity: 0, zIndex: -2}), n()
                        }, 2e3)
                    })
                }
            }, {
                key: "isVoted", value: function () {
                    var e = this;
                    return new Promise(function (t, n) {
                        if (e.compJson.properties.endTime && new Date(e.compJson.properties.endTime) < new Date && (e.$submit.css({
                            backgroundColor: "#f0f3f4",
                            color: "#a3afb7"
                        }).text("投票已过期"), n()), u()) {
                            var i = e.compJson, o = i.sceneId, r = i.pageId, a = i.id;
                            m(a, {sceneId: o, pageId: r}).then(function (i) {
                                i.obj ? (e.showVoted(i.map), n()) : t()
                            })
                        } else n()
                    })
                }
            }, {
                key: "startPlay", value: function () {
                    var e = this;
                    this.playInterval = setInterval(function () {
                        e.plugin && e.plugin.next()
                    }, 5e3)
                }
            }, {
                key: "stopPlay", value: function () {
                    this.playInterval && (clearInterval(this.playInterval), this.playInterval = null)
                }
            }, {
                key: "eleHide", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.stopPlay()
                }
            }, {
                key: "eleShow", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this), this.startPlay()
                }
            }]), t
        }(p);
    e.exports = h
}, function (e, t) {
}, function (e, t, n) {
    e.exports = n.p + "images/defaultImg-f9d1d1.svg"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function S(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : S(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(720);
    var c = n(495), l = n(553), p = n(176).addUrlParam, u = n(175).isWeixin, d = n(175).isPc, m = n(501).getWxJSSDK,
        f = n(449).COMP_KEY, g = n(501).addCompKey, h = "ontouchstart" in window, v = h ? "touchstart" : "mousedown",
        y = h ? "touchmove" : "mousemove", b = h ? "touchend" : "mouseup", x = {}, w = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.wxJssdk = m(), $.extend(!0, r.$ability, {
                    style: {compFont: {self: !1}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "updateSize", value: function (e, n) {
                    this.setCanvasSize(n.width, n.height);
                    var i = this.compJson.properties.imgSrc;
                    i && (this.clearCanvas(), this.drawingImage(i)), s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "updateSize", this).call(this, e, n)
                }
            }, {
                key: "create$context", value: function () {
                    var e = $('<div style="position: relative; height: 100%;overflow: hidden;"></div>');
                    this.canvas = document.createElement("canvas"), this.ctx = this.canvas.getContext("2d");
                    var t = this.compJson, n = t.css, i = n.width, o = n.height, r = t.properties, a = r.imgSrc,
                        s = r.boardColor, c = r.qiniuSrc;
                    return this.setCanvasSize(i, o), this.setCanvasBgColor(s), a && this.drawingImage(a), c && (x[this.compJson.id] = c), this.$alert = $('<div class="board-bg" style="display: none"><span class="board-alert">正在保存...</span></div>'), this.$penBtn = $('<span class="board-pen eqf-brush"></span>'), this.$closeBtn = $('<span class="board-close eqf-delete-f" style="display: none"></span>'), e.append(this.$alert), e.append(this.$penBtn), e.append(this.$closeBtn), this.$cancelBtn = $('<a class="board-btn board-reset" style="display: none">取消</a>'), this.$endBtn = $('<a class="board-btn board-end" style="display: none">完成</a>'), e.append(this.$cancelBtn), e.append(this.$endBtn), e.append(this.canvas), e
                }
            }, {
                key: "setCanvasSize", value: function (e, t) {
                    this.canvas.width = e, this.canvas.height = t
                }
            }, {
                key: "setCanvasBgColor", value: function (e) {
                    this.canvas.style.backgroundColor = e
                }
            }, {
                key: "drawingImage", value: function (e, t) {
                    var n = this.compJson.css, i = n.width, o = n.height, r = "";
                    r = "base64" == t ? e : this.getImgSrc(e, {width: i, height: o});
                    var a = new Image;
                    a.setAttribute("crossOrigin", "anonymouse");
                    var s = this;
                    a.onload = function () {
                        var e = 0, t = 0, n = i, r = o;
                        this.width / i > this.height / o ? (n = this.width / (this.height / o), e = (i - n) / 2) : (r = this.height / (this.width / i), t = (o - r) / 2), s.ctx.drawImage(a, e, t, n, r)
                    }, a.src = r
                }
            }, {
                key: "clearCanvas", value: function () {
                    var e = this.compJson.css, t = e.width, n = e.height;
                    this.ctx.clearRect(0, 0, t, n)
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this, i = !1, o = !1, r = 0, a = 0;
                    return this.$penBtn.on("click", function () {
                        return !i && (n.clearCanvas(), i = !0, n.$cancelBtn.css({display: "inline-block"}), n.$endBtn.css({display: "inline-block"}), n.$closeBtn.css({display: "inline-block"}), !h && n.canvas.classList.add("boarding"), void 0)
                    }), this.$cancelBtn.on("click", function () {
                        n.clearCanvas(), i = !1, n.$cancelBtn.hide(), n.$endBtn.hide(), n.$closeBtn.hide(), !h && n.canvas.classList.remove("boarding"), n.compJson.properties.imgSrc && n.drawingImage(n.compJson.properties.imgSrc)
                    }), this.$closeBtn.on("click", function () {
                        n.clearCanvas()
                    }), this.$endBtn.on("click", function () {
                        i = !1, n.$cancelBtn.hide(), n.$endBtn.hide(), n.$closeBtn.hide(), !h && n.canvas.classList.remove("boarding"), "view" == n.eqxScene.config.mode && window == window.top && n.saveImage()
                    }), this.canvas.addEventListener(v, function (e) {
                        if (!i) return !1;
                        e.preventDefault(), e.stopPropagation(), o = !0;
                        var t = n.canvas.getBoundingClientRect();
                        e = h ? e.targetTouches[0] : e, r = h ? e.pageX - t.left : e.offsetX, a = h ? e.pageY - t.top : e.offsetY + 20
                    }), this.canvas.addEventListener(y, function (e) {
                        if (!i || !o) return !1;
                        var s = n.canvas.getBoundingClientRect();
                        e = h ? e.targetTouches[0] : e;
                        var c = h ? e.pageX - s.left : e.offsetX, l = h ? e.pageY - s.top : e.offsetY + 20;
                        n.ctx.beginPath(), n.ctx.moveTo(r, a), n.ctx.lineTo(c, l), n.ctx.strokeStyle = t.properties.penColor, n.ctx.lineWidth = t.properties.penSize, n.ctx.lineCap = "round", n.ctx.stroke(), r = c, a = l
                    }), this.canvas.addEventListener(b, function (e) {
                        o = !1
                    }), this.canvas.addEventListener("mouseleave", function (e) {
                        o = !1
                    }), !0
                }
            }, {
                key: "saveImage", value: function () {
                    var e = this;
                    this.$alert.show(), l.$getUploadToken("image").then(function (t) {
                        var n = e.canvas.toDataURL("image/png");
                        return l.$uploadBase64(t.map.token, n.substring(22))
                    }).then(function (t) {
                        return x[e.compJson.id] = t.key, l.$saveCompInfoByCompKey(f, x)
                    }).then(function () {
                        var t = p("compKey", f, window.location.href);
                        if (u() ? e.wxJssdk.then(function () {
                            g(t, f)
                        }) : window.history.replaceState({
                            title: $("title").html(),
                            url: t
                        }, $("title").html(), t), d() && window.top === window) {
                            var n = $("#codeImg");
                            n.length && (n.empty(), n.qrcode({render: "canvas", width: 200, height: 200, text: t}))
                        }
                        e.$alert.hide()
                    })
                }
            }]), t
        }(c);
    e.exports = w
}, function (e, t) {
}, , function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(495), c = n(723), l = n(724), p = n(468).parse, u = n(501).getWeChatUser, d = n(725).$getCardJsApiConfig,
        m = n(725).$getCardSign, f = n(116), g = f.wxNonceStr, h = f.wxTimestamp, v = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        compStyle: {backgroundColor: !0},
                        compFont: {self: !1, fontFamily: !1}
                    }, trigger: {self: !1}, sound: !1, link: !1
                }), r
            }

            return r(t, e), a(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.css, o = i.width, r = i.height, a = e.properties,
                        s = a.title, u = a.styleImgSrc;
                    if (u) {
                        u = this.getImgSrc(u, {width: o, height: r});
                        var d = "0";
                        this.$context = $(p(l, {id: t, type: n, title: s, styleImgSrc: u, padding: d}))
                    } else this.$context = $(p(c, {id: t, type: n, title: s}));
                    return this.$context
                }
            }, {
                key: "updateCompTitle", value: function () {
                    var e = this.compJson.properties;
                    this.$context.html("" + e.title)
                }
            }, {
                key: "deleteImage", value: function () {
                    this.compJson.properties.imgSrc || (this.$context[0].innerText = "")
                }
            }, {
                key: "bindAfterRenderEvent", value: function () {
                    var e = this, t = this.compJson.properties.cardId;
                    this.$li.click(function () {
                        var n = u(), i = e.eqxScene.meta.userId;
                        d(i).then(function (e) {
                            var i = e.obj;
                            return m(g, h, t, i, n.openid)
                        }).then(function (e) {
                            var i = {
                                openid: n.openid,
                                api_ticket: e.obj.apiTicket,
                                timestamp: e.obj.timestamp,
                                nonce_str: e.obj.nonce_str,
                                signature: e.obj.signature
                            };
                            wx.addCard({
                                cardList: [{cardId: t, cardExt: JSON.stringify(i)}], success: function (e) {
                                    alert("卡券添加成功")
                                }, cancel: function (e) {
                                    alert("卡券添加失败")
                                }, fail: function (e) {
                                    alert("卡券添加失败")
                                }
                            })
                        })
                    })
                }
            }]), t
        }(s);
    e.exports = v
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element comp-reward" style="cursor: pointer;width: 100%;height: 100%;display: table"><span style="display: table-cell;vertical-align: middle">#{title}</span></a>'
}, function (e, t) {
    e.exports = '<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="cursor: default; width: 100%;height: 100%;padding: #{padding}"><img style="width: 100%; height: 100%" src="#{styleImgSrc}"></a>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return a({type: "GET", url: r.SERVER_1 + "eqs/wx/getcouponticket?userId=" + e})
    }

    function o(e, t, n, i, o) {
        return a({
            type: "POST",
            url: r.SERVER_1 + "eqs/s/wx/sign",
            data: {openid: o, nonce_str: e, timestamp: t, cardId: n, apiTicket: i}
        })
    }

    var r = n(114), a = n(166).ajax;
    e.exports = {$getCardJsApiConfig: i, $getCardSign: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e) {
        var t = e.id, n = e.type, i = e.marginTop, o = e.marginBottom, r = e.css, a = e.content,
            s = void 0 === a ? "" : a;
        return r.cursor = "default", r.minHeight = "inherit", r.fontSize && (r.fontSize = d(r.fontSize)), $(f(m, {
            id: t,
            type: n,
            content: s,
            marginTop: i,
            marginBottom: o
        })).css(r)
    }

    function s(e) {
        var t = e.fontFamily, n = e.sceneId, i = e.mode;
        if ("view" === i && window.scene && t && !h[t]) {
            var o = "@font-face{font-family:'" + t + "';src: url('" + g.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".woff') format('woff'),url('" + g.FONT + "fonts/" + n + "_" + window.scene.publishTime + "/" + t + ".ttf') format('truetype');}";
            u(o), h[t] = !0
        }
    }

    var c = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), l = n(495), p = n(545), u = p.addGlobalStyle, d = p.addSuffixPx, m = n(727), f = n(468).parse, g = n(114),
        h = {}, v = n(728).parse, y = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {
                        base: {self: !1},
                        border: {self: !1},
                        boxShadow: {self: !1},
                        compFont: {
                            self: !0,
                            fontFamily: !0,
                            fontSize: !0,
                            fontColor: !0,
                            bgColor: !0,
                            baseStyle: !0,
                            lineHeight: !0,
                            letterSpacing: !0
                        },
                        compStyle: {backgroundColor: !0},
                        commonStyle: {tip: !0},
                        advanceStyle: {variable: !0}
                    }, link: !0
                }), r
            }

            return r(t, e), c(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = e.id, n = e.type, i = e.content, o = e.sceneId, r = e.css, c = r.fontFamily,
                        l = r.fontSize, p = r.writingMode, u = r.marginTop, d = void 0 === u ? "0px" : u,
                        m = r.marginBottom, f = void 0 === m ? "0px" : m, g = e.properties.anim, h = void 0 === g ? [] : g;
                    i = i || "+yyyy";
                    var y = new Date, b = v(y, i), x = a({
                        id: t,
                        type: n,
                        content: b,
                        marginTop: d,
                        marginBottom: f,
                        css: {fontFamily: c, fontSize: l, writingMode: p}
                    });
                    return s({
                        mode: this.eqxScene.config.mode,
                        fontFamily: c,
                        sceneId: o
                    }), h[0] && "typer" === h[0].type && x.css({opacity: 0}), x
                }
            }, {
                key: "updateContent", value: function (e) {
                    e = e || this.compJson.content || "+yyyy";
                    var t = new Date, n = v(t, e);
                    this.$context.children().html(n)
                }
            }, {
                key: "autoAdjustSize", value: function () {
                    function e(e) {
                        var t = e.$context, n = e.$context.children(), i = parseInt(t.css("padding")), o = n.height(),
                            r = {height: o + 2 * i};
                        return e.update$li(r), {height: parseInt(e.$li.css("height")), width: parseInt(e.$li.css("width"))}
                    }

                    function t(t, n) {
                        if (void 0 !== n && null !== n) {
                            var r = 320, a = t.$context, s = t.$context.children(), c = o(s);
                            if (c < a.width()) {
                                var l = {width: c + 2 * parseInt(a.css("padding"))};
                                t.update$li(l), t.update$boxDiv(l), a.css(l)
                            } else if (c >= a.width()) for (var p = s.height(), u = a.height(), d = a.width(); p > u && d < r;) i(t), p = s.height(), u = a.height(), d = a.width();
                            return e(t)
                        }
                    }

                    function n(t, n) {
                        if (void 0 !== n && null !== n) {
                            var i = t.$context, o = t.$context.children();
                            if (1 === n) {
                                for (; r(i, o, n) && a(i) > l;) s(t);
                                if (r(i, o, n) && a(i) <= l) return e(t)
                            } else {
                                if (0 !== n) return e(t);
                                for (; r(i, o, n) && a(i) < p;) c(t);
                                r(i, o, n) || s(t)
                            }
                            return {height: parseInt(t.$li.css("height")), width: parseInt(t.$li.css("width"))}
                        }
                    }

                    function i(e) {
                        var t = e.$context, n = parseFloat(t.css("width")) + 1, i = {width: n + "px"};
                        e.update$li(i), e.update$boxDiv(i), t.css(i)
                    }

                    function o(e) {
                        var t = e.css("display", "inline").width();
                        return e.css("display", "block"), t
                    }

                    function r(e, t, n) {
                        return n ? t.height() > e.height() : t.height() < e.height()
                    }

                    function a(e) {
                        return parseInt(e.css("font-size"))
                    }

                    function s(e) {
                        var t = e.$context, n = a(t);
                        if (n > l) {
                            var i = {fontSize: n - 1 + "px"};
                            e.update$li(i), e.update$boxDiv(i), t.css(i)
                        }
                    }

                    function c(e) {
                        var t = e.$context, n = a(t);
                        if (n < p) {
                            var i = {fontSize: n + 1 + "px"};
                            e.update$li(i), e.update$boxDiv(i), t.css(i)
                        }
                    }

                    var l = 12, p = 96, u = this.compJson.properties, d = u.adjustWHMode, m = u.adjustFSMode,
                        f = arguments.length ? arguments[0] : null;
                    return d ? n(this, f) : m ? t(this, f) : e(this)
                }
            }]), t
        }(l);
    e.exports = y
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function i(e, t) {
        t.map = 8191 & e, t.day = e >> 13 & 31, t.month = e >> 18 & 1, t.leapMonth = e >> 20 & 15, t.hasLeapMonth = !!(e & 1 << 19)
    }

    function o(e) {
        var t = e.year - 1890 + 26;
        return e.gYear = t % 10, e.zYear = t % 12, e.animal = e.zYear, e
    }

    function r(e) {
        var t = e._date.getFullYear(), n = e._date.getMonth(), r = e._date.getDate(), a = m.map, s = t - m.YEAR_MIN,
            c = {};
        e.year = t, i(a[s], c), (n < c.month || n === c.month && r < c.day) && (s -= 1, e.year = t - 1, i(a[s], c));
        for (var l = new Date(e.year, c.month, c.day), p = (e._date.getTime() - l.getTime()) / 864e5 >> 0, u = 0, d = 0, f = 0; f < 14;) {
            if (d = c.map & 1 << f ? 30 : 29, u += d, p < u) {
                e.day = d - (u - p) + 1;
                break
            }
            f += 1
        }
        return e.leap = !1, c.hasLeapMonth && (f === c.leapMonth + 1 && (e.leap = !0), f > c.leapMonth && (f -= 1)), e.month = f, o(e), e
    }

    function a(e) {
        return {year: e.getFullYear(), month: e.getMonth(), mDay: e.getDate(), wDay: e.getDay()}
    }

    function s(e, t, n) {
        if (e += "", t -= e.length, t <= 0) return e;
        if (n || 0 === n || (n = " "), n += "", " " === n && t < 10) return y[t] + e;
        for (var i = ""; ;) {
            if (1 & t && (i += n), t >>= 1, !t) break;
            n += n
        }
        return i + e
    }

    function c(e, t) {
        return e = "" + e, e.substr(e.length - t)
    }

    function l() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date,
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "zyyy zy cy yyyy yy MMMM Mmmm mmmm MMM Mmm mmm mm m DDDD dddd DDD ddd dd d ",
            n = a(e), i = v(e).toJSON({chinese: !0});
        return t.replace("+zyyy", g[n.year]).replace("+zy", g[c(n.year, 2)]).replace("+yyyy", n.year).replace("+yy", c(n.year, 2)).replace("+MMMM", f.mmmm[n.month].toUpperCase()).replace("+Mmmm", f.mmmm[n.month]).replace("+mmmm", f.mmmm[n.month].toLowerCase()).replace("+MMM", f.mmm[n.month].toUpperCase()).replace("+Mmm", f.mmm[n.month]).replace("+mmm", f.mmm[n.month].toLowerCase()).replace("+mm", s(n.month + 1, 2, "0")).replace("+zm", g[n.month + 1]).replace("+m", n.month + 1).replace("+DDDD", f.dddd[n.wDay].toUpperCase()).replace("+dddd", f.dddd[n.wDay]).replace("+Dddd", f.dddd[n.wDay].charAt(0).toUpperCase() + f.dddd[n.wDay].substr(1)).replace("+ddd", f.dddd[n.wDay].substr(0, 3)).replace("+Ddd", f.dddd[n.wDay].charAt(0).toUpperCase() + f.dddd[n.wDay].substr(1, 2)).replace("+DDD", f.dddd[n.wDay].substr(0, 3).toUpperCase()).replace("+zddd", f.zddd[n.wDay]).replace("+dd", s(n.mDay, 2, "0")).replace("+zd", g[n.mDay]).replace("+d", n.mDay).replace("+cy", i.year).replace("+cm", i.month).replace("+cd", i.day)
    }

    function p() {
        return {parse: l}
    }

    var u = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(),
        d = [1750378, 339370, 6020516, 405156, 314698, 4934293, 371351, 279894, 2804405, 346837, 8115922, 419666, 331429, 4961866, 394827, 297627, 3880278, 370026, 281433, 1759058, 345938, 6019877, 412453, 313931, 4936875, 377517, 288107, 1764201, 355753, 7093650, 429714, 331045, 4954701, 395862, 303798, 3872181, 370388, 282281, 1769106, 347794, 6016294, 402731, 313943, 4936374, 379738, 296660, 2821833, 354121, 7075475, 420499, 329003, 5991003, 387757, 304490, 3881813, 371620, 281417, 1759891, 346773, 7058733, 402742, 314029, 4945322, 378290, 290213, 2825546, 363850, 8120981, 412311, 329046, 5999285, 387797, 304850, 3878565, 372389, 280138, 2796695, 338587, 7066970, 402794, 314217, 4945746, 387922, 289573, 3864139, 354891, 8123563, 410285, 320877, 5999465, 396713, 306578, 3882277, 372005, 10246733, 428630, 336566, 6006197, 403157, 315049, 4947602, 388754, 298278, 2812502, 346711, 8123606, 418650, 321237, 4953801, 395081, 304787, 3872043, 361771, 272987, 1758554, 337258, 7060309, 412580, 322377, 4938387, 379541, 288045, 3861165, 346805, 9172394, 419282, 331173, 6004042, 396618, 306325, 3880238, 361814, 273077, 1758642, 345810, 6008485, 403237, 312907, 4934807, 371883, 288090, 2812630, 355177, 11269970, 420690, 330533, 6003275, 387659, 296107, 4916571, 361901, 273258, 1760082, 347538, 7068965, 404773, 313941, 4936877, 378038, 279989, 2813354, 356041, 8142482, 421522, 331046, 5999190, 387671, 296150, 3868373, 362325, 280393, 2797203, 337555, 7058731, 402731, 305755, 4937050, 378218, 289637, 3864394, 355146, 8125077, 420501, 320813, 5991085, 387765, 304554, 3869605, 363941, 281930, 2808981, 339094, 7059790, 402774, 314037, 4937138, 378578, 290469, 3870282, 345675, 8113303, 410795, 320859, 5991126, 387946, 304978, 3880741, 363301, 273035, 1750171, 337067],
        m = {
            YEAR_MIN: 1890,
            YEAR_MAX: 2100,
            map: d,
            monthNames: ["正月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "冬月", "腊月"],
            dayNames: ["", "初一", "初二", "初三", "初四", "初五", "初六", "初七", "初八", "初九", "初十", "十一", "十二", "十三", "十四", "十五", "十六", "十七", "十八", "十九", "二十", "廿一", "廿二", "廿三", "廿四", "廿五", "廿六", "廿七", "廿八", "廿九", "三十"],
            heavenlyStems: ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"],
            earthlyBranches: ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"],
            animals: ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"],
            solarPeriods: ["小寒", "大寒", "立春", "雨水", "惊蛰", "春分", "清明", "谷雨", "立夏", "小满", "芒种", "夏至", "小暑", "大暑", "立秋", "处暑", "白露", "秋分", "寒露", "霜降", "立冬", "小雪", "大雪", "冬至"],
            solarPeriodsMap: [0, 21208, 42467, 63836, 85337, 107014, 128867, 150921, 173149, 195551, 218072, 240693, 263343, 285989, 308563, 331033, 353350, 375494, 397447, 419210, 440795, 462224, 483532, 504758]
        }, f = {
            zddd: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
            ddd: ["sun", "mon", "tue", "wed", "thu", "fri", "sat"],
            Ddd: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            DDD: ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"],
            Dddd: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dddd: ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"],
            DDDD: ["SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY", "SATURDAY"],
            mmm: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            mmmm: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
        }, g = {
            1: "一",
            2: "二",
            3: "三",
            4: "四",
            5: "五",
            6: "六",
            7: "七",
            8: "八",
            9: "九",
            10: "十",
            11: "十一",
            12: "十二",
            13: "十三",
            14: "十四",
            15: "十五",
            16: "十六",
            17: "十七",
            18: "十八",
            19: "十九",
            20: "二十",
            21: "二十一",
            22: "二十二",
            23: "二十三",
            24: "二十四",
            25: "二十五",
            26: "二十六",
            27: "二十七",
            28: "二十八",
            29: "二十九",
            30: "三十",
            31: "三十一",
            2015: "二零一五",
            2016: "二零一六",
            2017: "二零一七",
            2018: "二零一八",
            2019: "二零一九",
            2020: "贰零贰零"
        }, h = function () {
            function e(t) {
                return n(this, e), t ? (t instanceof Date && (this._date = t, r(this)), this) : this
            }

            return u(e, [{
                key: "convert", value: function () {
                    return r(this)
                }
            }, {
                key: "toDate", value: function () {
                    return this._date
                }
            }, {
                key: "isValid", value: function () {
                    return !!this._date
                }
            }, {
                key: "format", value: function (e) {
                    return this._date ? (e = e || "农历gYzY年MD", e.replace("gY", m.heavenlyStems[this.gYear]).replace("zY", m.earthlyBranches[this.zYear]).replace("gM", m.heavenlyStems[this.gMonth]).replace("zM", m.earthlyBranches[this.zMonth]).replace("gD", m.heavenlyStems[this.gDay]).replace("zD", m.earthlyBranches[this.zDay]).replace("M", (this.leap ? "闰" : "") + m.monthNames[this.month]).replace("D", m.dayNames[this.day])) : "Invalid Date"
                }
            }, {
                key: "toJSON", value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this;
                    if (e.chinese && (t = {
                        year: m.heavenlyStems[this.gYear] + m.earthlyBranches[this.zYear],
                        month: m.monthNames[this.month],
                        day: m.dayNames[this.day],
                        gYear: m.heavenlyStems[this.gYear],
                        zYear: m.earthlyBranches[this.zYear],
                        animal: m.animals[this.animal],
                        leap: this.leap ? "闰" : ""
                    }), "array" === e.type) return [t.year, t.month, t.day, t.leap];
                    var n = t, i = n.year, o = n.month, r = n.day, a = n.leap, s = n.gYear, c = n.zYear, l = n.animal;
                    return {year: i, month: o, day: r, leap: a, gYear: s, zYear: c, animal: l}
                }
            }, {
                key: "toString", value: function () {
                    return this.format()
                }
            }]), e
        }(), v = function (e) {
            if (e) {
                if (!(e instanceof Date)) throw new Error("date parameter must be Date/Array/Object")
            } else e = new Date;
            return new h(e)
        }, y = ["", " ", "  ", "   ", "    ", "     ", "      ", "       ", "        ", "         "];
    e.exports = p()
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(730);
    var s = n(495), c = n(731), l = n(468).parse, p = n(114), u = function (e) {
        function t(e, n) {
            i(this, t);
            var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return $.extend(!0, r.$ability, {style: {}, link: !1}), r
        }

        return r(t, e), a(t, [{
            key: "create$context", value: function () {
                var e = this, t = e.compJson, n = t.id, i = t.type, o = t.properties, r = o.forward, a = o.back,
                    s = $(l(c, {id: n, type: i, forward: e.amendImageSrc(r), back: e.amendImageSrc(a)}));
                return this.$forward = s.find(".forward"), this.$back = s.find(".back"), s
            }
        }, {
            key: "updateButtonImage", value: function (e) {
                var t = this.$context.find("." + e), n = this.compJson.properties;
                t.css("backgroundImage", "url(" + this.amendImageSrc(n[e]) + ")")
            }
        }, {
            key: "amendImageSrc", value: function (e) {
                return /(localhost)|(\w+.com)|(\w+.cn)|(\w+.cc)/.test(e) ? e : "" + (p.FILE + e)
            }
        }, {
            key: "showForwardButton", value: function () {
                this.$forward.show(), this.$back.hide()
            }
        }, {
            key: "showBackButton", value: function () {
                this.$forward.hide(), this.$back.show()
            }
        }]), t
    }(s);
    e.exports = u
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="#{id}" ctype="#{type}" class="element element-pip-button"><div class="forward" style="background-image: url(\'#{forward}\')"></div><div class="back" style="background-image: url(\'#{back}\')"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a(e, t) {
        for (var n = $(f), i = [], o = [], r = [], a = 0; a < t.length; a++) {
            e++;
            var s = {prizeId: e, prizeName: "谢谢参与", couponCode: "", isLost: !0};
            i.push(t[a]), i.push(s), o.push(s), r.push("<li>" + t[a].prizeName + "：" + t[a].prizeDetail + "</li>")
        }
        return b.draw(n.find(".turntable-box"), i), {prizeList: i, partakeItems: o, prizeItemsTpl: r, $turntableTpl: n}
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function I(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : I(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(733), n(734);
    var l = n(495), p = n(468).parse, u = n(501).getWeChatUser, d = n(175).isWeixin, m = n(504).popUpModal, f = n(737),
        g = n(741), h = n(742), v = n(744), y = n(746), b = n(747), x = n(748).getBalanceInfo, w = n(748).getLottery,
        S = n(748).getHitList, k = n(748).timeFormat, T = n(748).showMaskPanel, C = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {commonStyle: {size: !1}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1,
                    flexLine: ""
                }), r
            }

            return r(t, e), s(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = u(), n = e.id, i = e.type;
                    f = p(f, {
                        id: n,
                        type: i
                    }), this.startTime = k(e.baseInfo.startTime), this.endTime = k(e.baseInfo.endTime);
                    var o = a(e.prizeInfo.seq, e.prizeInfo.options);
                    return this.prizeList = o.prizeList, this.partakeItems = o.partakeItems, this.prizeItemsTpl = o.prizeItemsTpl, this.$turntableTpl = o.$turntableTpl, this.$container = this.$turntableTpl.find(".turntable-container"), this.lotteryBox = this.$turntableTpl.find(".lottery-container"), this.lotteryBox.css("opacity", "0"), this.btn = this.$turntableTpl.find(".turntable-btn"), this.$mask = $('<div class="bg-mask"></div>'), x(this.lotteryBox, this.eqxScene.meta.id, e, t), this.$turntableTpl
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    this.initDom(), this.deg = 0;
                    var i = u(), o = this.eqxScene.meta.id, r = this.eqxScene.bgm, a = this.compJson.activityId, s = void 0;
                    this.$btn.on("click", function (e) {
                        return e.stopPropagation(), d() ? (n.$btn.addClass("disabled"), n.lotteryItem = null, n.chances = 0, s = w(o, a, i), void s.then(function (e) {
                            for (var t = n.prizeList, i = 0; i < t.length; i++) if (t[i].prizeId === e.obj.id) {
                                n.lotteryItem = t[i], n.chances = i;
                                break
                            }
                        }, function (e) {
                            if (110101 === e.code) m("活动还未开始，活动时间为" + n.startTime + "-" + n.endTime); else if (110102 === e.code) m("活动已经结束啦，下次早点来哦～"); else if (110112 === e.code) m("今日抽奖次数已用完，请明日再来～"); else {
                                var t = Math.random() * n.partakeItems.length >>> 0;
                                n.lotteryItem = n.partakeItems[t], n.chances = 2 * t + 1
                            }
                        })["finally"](function () {
                            if (s = null, n.lotteryItem) {
                                var e = n.prizeList.length;
                                n.deg = n.deg || 0, n.deg = n.deg + (360 - n.deg % 360) + (3600 - n.chances * (360 / e)), n.$container.css("transform", "rotate(" + n.deg + "deg)")
                            } else n.$btn.removeClass("disabled")
                        })) : void m("该组件仅能在微信中使用。")
                    }), this.$container.on("transitionend", function () {
                        n.$btn.removeClass("disabled"), r && r.hide(), T(n.$mask, n.eqxPage), x(n.lotteryBox, o, t, i), n.lotteryItem.isLost ? (n.$lostLotteryHtml.append(n.$closeBtn), n.$lostLotteryHtml.show()) : (n.$winLotteryHtml.append(n.$closeBtn), n.$winLotteryHtml.find(".level").html(n.lotteryItem.prizeName), n.$winLotteryHtml.find(".detail").html(n.lotteryItem.prizeDetail), n.$winLotteryHtml.show())
                    }), this.silkBag.on("click", function (e) {
                        e.stopPropagation(), r && r.hide(), T(n.$mask, n.eqxPage), n.$activityTpl.append(n.$closeBtn), S(o, a, i, y, n.$prizeContainer), n.$activityTpl.find(".prize-list").html(n.prizeItemsTpl.join("")), n.$activityTpl.find(".activity-time p").html(n.startTime + " - " + n.endTime), n.$explainContainer.css("display", "block"), n.$prizeContainer.css("display", "none"), n.$activityTpl.find(".arrow").css("left", "35px"), n.$activityTpl.show()
                    }), this.$explain.on("click", function (e) {
                        e.stopPropagation(), n.$explainContainer.css("display", "block"), n.$prizeContainer.css("display", "none"), n.$activityTpl.find(".arrow").css("left", "35px")
                    }), this.$myPrize.on("click", function (e) {
                        e.stopPropagation(), n.$explainContainer.css("display", "none"), n.$prizeContainer.css("display", "block"), n.$activityTpl.find(".arrow").css("left", "160px")
                    }), this.$closeBtn.on("click", function (e) {
                        e.stopPropagation(), n.$mask.find(".mask-container").hide(), r && r.show()
                    }), this.$againBtn.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$activityTpl.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$winLotteryHtml.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$lostLotteryHtml.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$prizeContainer.on("touchstart touchmove touchend mousedown mouseup mousemove", function (e) {
                        e.stopPropagation()
                    })
                }
            }, {
                key: "eleShow", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this), this.$mask.parent(), this.$mask.parent().length || this.$mask.insertBefore(this.$li.parent().parent())
                }
            }, {
                key: "eleHide", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.$mask.hide()
                }
            }, {
                key: "initDom", value: function () {
                    this.$btn = this.$li.find(".turntable-btn"), this.$container = this.$li.find(".turntable-container"), this.silkBag = this.$li.find("#silkBag"), this.$closeBtn = $('<a href="javascript:;" class="mask-close"></a>'), this.$activityTpl = $(g), this.$lostLotteryHtml = $(v), this.$winLotteryHtml = $(h), this.$explain = this.$activityTpl.find(".explain"), this.$myPrize = this.$activityTpl.find(".my-prize"), this.$mask.append(this.$lostLotteryHtml), this.$mask.append(this.$winLotteryHtml), this.$mask.append(this.$activityTpl), this.$mask.find(".mask-container").hide(), this.$prizeContainer = this.$activityTpl.find(".prize-container"), this.$explainContainer = this.$activityTpl.find(".explain-container"), this.$againBtn = this.$mask.find(".mask-btn")
                }
            }]), t
        }(l);
    e.exports = {EqxTurntable: C, drawCanvas: a}
}, function (e, t) {
}, function (e, t) {
}, , , function (e, t, n) {
    e.exports = '<div class="game-turntable-box" id="#{id}" ctype="#{type}"><a href="javascript:;" id="silkBag" class="silk-bag"><img src="' + n(738) + '" alt="活动锦囊"></a><div class="turntable-box"><img src="' + n(739) + '" alt=""><div class="turntable-container"><canvas class="turntable-canvas" width="230" height="230"></canvas></div><a class="turntable-btn" href="javascript:;"><img src="' + n(740) + '" alt=""></a></div><div class="lottery-container"><p class="spend-item">今日已抽<span>0</span>次</p><p class="surplus-item">您今日还可抽<span>10</span>次</p></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/silkBag-883835.png"
}, function (e, t, n) {
    e.exports = n.p + "images/bg-turntable-70266f.gif"
}, function (e, t, n) {
    e.exports = n.p + "images/pointer-btn-dcf05c.gif"
}, function (e, t) {
    e.exports = '<div class="mask-container activity-container"><ul class="header"><li class="explain"><a href="javascript:;">活动说明</a></li><li class="my-prize"><a href="javascript:;">我的奖品</a></li><div class="arrow"></div></ul><div class="activity-lottery"><div class="explain-container"><div class="activity-info"><div class="title">活动奖品</div><ul class="prize-list"></ul></div><div class="activity-time"><div class="title">活动时间</div><p></p></div></div><div class="prize-container"></div></div></div>'
}, function (e, t, n) {
    e.exports = '<div class="mask-container win-container"><div class="win-lottery"><p>恭喜你获得了</p><img src="' + n(743) + '" alt="奖品"><p class="level">一等奖</p><p class="detail">小米4K高清电视</p><button class="btn mask-btn">再来一次</button></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/gift-2371b1.png"
}, function (e, t, n) {
    e.exports = '<div class="mask-container lost-container"><div class="lost-lottery"><img src="' + n(745) + '" alt="未中奖"><p class="detail">奖品飘走了......</p><button class="btn mask-btn">再来一次</button></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/lost-a2aa4c.png"
}, function (e, t) {
    e.exports = '<div class="prize-info"><div class="isEmptyAward ellipsis"><span class="awardStyle">#{name}</span> <span class="awardName">：#{detail}</span></div><div class="code-period"><span class="awardTypeName">中奖时间：</span> <span class="awardBgTime">#{hitTime}</span></div><div class="code-period"><span class="awardTypeName">兑奖码：</span> <span class="awardBgTime">#{couponCode}</span></div><div class="ticket-img"></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        var n = t.length;
        if (n >>> 0 !== 0) {
            for (var i = 180 / n + 90, o = document.createElement("ul"), r = 1 / n, a = [], s = e.find(".turntable-canvas")[0], c = e.find(".turntable-container")[0], l = n > 5 ? "12px" : "14px", p = s.getContext("2d"), u = 0; u < n; u++) p.save(), p.beginPath(), p.translate(115, 115), p.moveTo(0, 0), p.rotate((360 / n * u - i) * Math.PI / 180), p.arc(0, 0, 115, 0, 2 * Math.PI / n, !1), u % 2 == 0 ? p.fillStyle = "#ffb820" : p.fillStyle = "#ffcb3f", p.fill(), p.lineWidth = .5, p.strokeStyle = "#e4370e", p.stroke(), p.restore(), a.push('<li class="turntable-item"> <span style="transform: rotate(' + u * r + "turn);font-size:" + l + '"><em class="prize-len-' + n + '">' + t[u].prizeName + "</em></span> </li>"), u + 1 === n && (o.className = "turntable-list", $(c).append(o), o.innerHTML = a.join(""));
            return e
        }
    }

    e.exports = {draw: n}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return e = e.replace(/\-/g, "/"), m(new Date(e), "yyyy年MM月dd日 hh:mm")
    }

    function o(e, t, n) {
        return l(e, t, n.openid, n.nickname, n.headimgurl, n.sex, n.province)
    }

    function r(e, t, n, i) {
        var o = void 0, r = e.find(".spend-item"), a = e.find(".surplus-item"), s = 0,
            l = n.lotteryInfo.lotteryDayLimit;
        o = c(t, n.activityId, i.openid), o.then(function (e) {
            var t = e.map;
            s = t.used, l = t.balance
        })["finally"](function () {
            o = null, r.find("span").html(s), a.find("span").html(l), e.css("opacity", "1")
        })
    }

    function a(e, t, n, i, o) {
        var r = void 0;
        o.empty(), r = p(e, t, n.openid), r.then(function (e) {
            var t = e.list;
            if (!t || 0 == t.length) return void o.html("暂无记录");
            for (var n = 0; n < t.length; n++) {
                var r = u(i, {
                    name: t[n].prizeName,
                    detail: t[n].detail,
                    hitTime: t[n].hitTime,
                    couponCode: t[n].couponCode
                });
                o.append(r)
            }
        }, function () {
            o.html("暂无记录")
        })
    }

    function s(e, t) {
        e.show();
        var n = t.$editDiv.css("transform") || "", i = n.match(/matrix.*, (.*)\)/), o = i ? i[1] : 0,
            r = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
        e.find(".mask-container").css({top: Math.abs(o) + "px", height: (d() ? r : 486) + "px"})
    }

    var c = n(749).$getLotteryBalance, l = n(749).$getLottery, p = n(749).$getHitList, u = n(468).parse,
        d = n(175).mobilecheck, m = n(467).dateFormat;
    e.exports = {timeFormat: i, getLottery: o, getBalanceInfo: r, getHitList: a, showMaskPanel: s}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return a({type: "GET", url: s.SERVER_1 + "vip/lottery/balance", data: {sceneId: e, lotteryId: t, wxOpenId: n}})
    }

    function o(e, t, n, i, o, r, c) {
        return a({
            type: "GET",
            async: !1,
            url: s.SERVER_1 + "vip/lottery/draw",
            data: {sceneId: e, lotteryId: t, wxOpenId: n, wxNickName: i, wxHeadImage: o, wxSex: r, wxProvince: c}
        })
    }

    function r(e, t, n) {
        return a({type: "GET", url: s.SERVER_1 + "vip/lottery/hit", data: {sceneId: e, lotteryId: t, wxOpenId: n}})
    }

    var a = n(166).ajax, s = n(114);
    e.exports = {$getLotteryBalance: i, $getLottery: o, $getHitList: r}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    function a() {
        return $(f)
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function E(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : E(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    };
    n(751), n(734);
    var l = n(495), p = n(468).parse, u = n(501).getWeChatUser, d = n(175).isWeixin, m = n(504).popUpModal, f = n(754),
        g = n(756), h = n(757), v = n(741), y = n(742), b = n(744), x = n(746), w = n(748).getLottery,
        S = n(748).getBalanceInfo, k = n(748).getHitList, T = n(748).showMaskPanel, C = n(748).timeFormat,
        I = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return $.extend(!0, r.$ability, {
                    style: {commonStyle: {size: !1}},
                    trigger: {self: !1},
                    sound: !1,
                    link: !1,
                    flexLine: ""
                }), r
            }

            return r(t, e), s(t, [{
                key: "create$context", value: function () {
                    var e = this.compJson, t = u(), i = e.id, o = e.type;
                    return f = p(f, {
                        id: i,
                        type: o
                    }), this.startTime = C(e.baseInfo.startTime), this.endTime = C(e.baseInfo.endTime), this.$gameHtml = $(f), this.$egg = this.$gameHtml.find(".egg"), this.prizeList = e.prizeInfo.options, this.$mask = $('<div class="bg-mask"></div>'), this.lotteryBox = this.$gameHtml.find(".lottery-container"), this.lotteryBox.css("opacity", "0"), S(this.lotteryBox, this.eqxScene.meta.id, e, t), this.prizeItemsTpl = this.getPrizeList(this.prizeList), this.audio = document.createElement("audio"), this.audio.src = n(758), this.$gameHtml.append(this.audio), this.$gameHtml
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, t) {
                    var n = this;
                    this.initDom();
                    var i = u(), o = this.eqxScene.meta.id, r = this.eqxScene.bgm, a = this.compJson.activityId,
                        s = null, c = void 0;
                    this.$egg.on("click", function (e) {
                        return e.stopPropagation(), d() ? (s && clearTimeout(s), void(s = setTimeout(function () {
                            n.lotteryItem = null, c = w(o, a, i), c.then(function (t) {
                                var i = n.eggClick(e);
                                T(n.$mask, n.eqxPage), n.$winLotteryHtml.append(n.$closeBtn), n.winLottery(n.prizeList, t.obj.id), n.smashProcess(i, n.$winLotteryHtml)
                            }, function (t) {
                                T(n.$mask, n.eqxPage), n.$lostLotteryHtml.append(n.$closeBtn), n.lostLottery(t.code, e)
                            })["finally"](function () {
                                S(n.lotteryBox, o, t, i)
                            })
                        }, 300))) : void m("该组件仅能在微信中使用。")
                    }).on("dbclick", function (e) {
                        e.stopPropagation(), s && clearTimeout(s)
                    }), this.silkBag.on("click", function (e) {
                        e.stopPropagation(), n.$activityTpl.append(n.$closeBtn), r && r.hide(), T(n.$mask, n.eqxPage), k(o, a, i, x, n.$prizeContainer), n.$activityTpl.find(".prize-list").html(n.prizeItemsTpl.join("")), n.$activityTpl.find(".activity-time p").html(n.startTime + " - " + n.endTime), n.$explainContainer.css("display", "block"), n.$prizeContainer.css("display", "none"), n.$activityTpl.find(".arrow").css("left", "35px"), n.$activityTpl.show()
                    }), this.$explain.on("click", function (e) {
                        e.stopPropagation(), n.$explainContainer.css("display", "block"), n.$prizeContainer.css("display", "none"), n.$activityTpl.find(".arrow").css("left", "35px")
                    }), this.$myPrize.on("click", function (e) {
                        e.stopPropagation(), n.$explainContainer.css("display", "none"), n.$prizeContainer.css("display", "block"), n.$activityTpl.find(".arrow").css("left", "160px")
                    }), this.$closeBtn.on("click", function (e) {
                        e.stopPropagation(), n.$li.find(".land-box").removeClass("pause"), n.$egg.removeClass("pause"), n.$li.find(".egg").html("").prop("style", ""), n.$mask.find(".mask-container").hide(), r && r.show()
                    }), this.$againBtn.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$activityTpl.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$winLotteryHtml.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$lostLotteryHtml.on("click", function () {
                        n.$closeBtn.trigger("click")
                    }), this.$prizeContainer.on("touchstart touchmove touchend mousedown mouseup mousemove", function (e) {
                        e.stopPropagation()
                    })
                }
            }, {
                key: "eleShow", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleShow", this).call(this), this.$mask.parent(), this.$mask.parent().length || this.$mask.insertBefore(this.$li.parent().parent())
                }
            }, {
                key: "eleHide", value: function () {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "eleHide", this).call(this), this.$mask.hide()
                }
            }, {
                key: "initDom", value: function () {
                    this.silkBag = this.$li.find("#silkBag"), this.$closeBtn = $('<a href="javascript:;" class="mask-close"></a>'), this.$activityTpl = $(v), this.$winLotteryHtml = $(y), this.$lostLotteryHtml = $(b), this.$mask.append(this.$lostLotteryHtml), this.$mask.append(this.$winLotteryHtml), this.$mask.append(this.$activityTpl), this.$mask.find(".mask-container").hide(), this.$explain = this.$activityTpl.find(".explain"), this.$myPrize = this.$activityTpl.find(".my-prize"), this.$againBtn = this.$lostLotteryHtml.find(".mask-btn"), this.$prizeContainer = this.$activityTpl.find(".prize-container"), this.$explainContainer = this.$activityTpl.find(".explain-container")
                }
            }, {
                key: "getPrizeList", value: function (e) {
                    for (var t = [], n = 0; n < e.length; n++) t.push("<li>" + e[n].prizeName + "：" + e[n].prizeDetail + "</li>");
                    return t
                }
            }, {
                key: "noAnimation", value: function (e) {
                    var t = window.getComputedStyle(e[0]).transform, n = window.getComputedStyle(this.$egg[0]),
                        i = window.getComputedStyle(this.$egg[1]), o = window.getComputedStyle(this.$egg[2]),
                        r = n.transform, a = i.transform, s = o.transform, c = n.zIndex, l = i.zIndex, p = o.zIndex;
                    e.addClass("pause").css("transform", t), this.$egg.eq(0).addClass("pause").css("transform", r).css("z-index", c), this.$egg.eq(1).addClass("pause").css("transform", a).css("z-index", l), this.$egg.eq(2).addClass("pause").css("transform", s).css("z-index", p)
                }
            }, {
                key: "eggClick", value: function (e) {
                    var t = $(e.target);
                    $(".egg").off("click", this.eggClick), this.noAnimation(t.parents(".land-box"));
                    var n = $('<img src="' + h + '" class="hammer"><img src="' + g + '" class="egg-smash">');
                    return t.html(n), t
                }
            }, {
                key: "lostLottery", value: function (e, t) {
                    if (110101 === e) m("活动还未开始，活动时间为" + this.startTime + " - " + this.endTime); else if (110102 === e) m("活动已经结束啦，下次早点来哦～"); else if (110112 === e) m("今日抽奖次数已用完，请明日再来～"); else {
                        var n = this.eggClick(t);
                        this.smashProcess(n, this.$lostLotteryHtml)
                    }
                }
            }, {
                key: "winLottery", value: function (e, t) {
                    for (var n = void 0, i = 0; i < e.length; i++) if (e[i].prizeId === t) {
                        n = e[i];
                        break
                    }
                    this.$winLotteryHtml.find(".level").html(n.prizeName), this.$winLotteryHtml.find(".detail").html(n.prizeDetail)
                }
            }, {
                key: "smashProcess", value: function (e, t) {
                    var n = this.eqxScene.bgm;
                    this.audio.play(), setTimeout(function () {
                        e.css("background", "none").find(".egg-smash").show(), setTimeout(function () {
                            n && n.hide(), t.show()
                        }, 500)
                    }, 1e3)
                }
            }]), t
        }(l);
    e.exports = {EqxSmashEgg: I, initEgg: a}
}, function (e, t) {
}, , , function (e, t, n) {
    e.exports = '<div class="game-box" id="#{id}" ctype="#{type}"><a href="javascript:;" id="silkBag" class="silk-bag"><img src="' + n(738) + '" alt="活动锦囊"></a><div class="stage"><img class="tray" src="' + n(755) + '" style="display: block"><div class="land-box"><div class="egg"></div><div class="egg"></div><div class="egg"></div></div></div><div class="lottery-container"><p class="spend-item">今日已砸<span>0</span>次</p><p class="surplus-item">您今日还可砸<span>10</span>次</p></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/stage-bf68e9.png"
}, function (e, t, n) {
    e.exports = n.p + "images/egg-break-ccb058.png"
}, function (e, t, n) {
    e.exports = n.p + "images/hammer-28a857.png"
}, function (e, t, n) {
    e.exports = n.p + "images/smashEgg-81a39c.mp3"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(760), n(761);
    var r = n(762), a = n(763), s = n(444).isRightArrow, c = function () {
        function e(t) {
            i(this, e), this.$arrow = this.create$arrow(t)
        }

        return o(e, [{
            key: "create$arrow", value: function (e) {
                return s(e) ? $(a) : $(r)
            }
        }, {
            key: "updatePageMode", value: function (e) {
                var t = this.create$arrow(e);
                this.$arrow && (this.$arrow.replaceWith(t), this.$arrow = t, this.css && this.updateCss(this.css))
            }
        }, {
            key: "updateCss", value: function (e) {
                this.css = e, this.$arrow.css(e)
            }
        }, {
            key: "remove", value: function () {
                this.$arrow.remove()
            }
        }]), e
    }();
    e.exports = c
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="u-arrow-bottom"><div class="pre-wrap-bottom"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>'
}, function (e, t) {
    e.exports = '<section class="u-arrow-right"><div class="pre-wrap-right"><div class="pre-box3"><div class="pre3"></div></div><div class="pre-box4"><div class="pre4"></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(449).COMP_TYPE, a = n(449).FORM_COMPS, s = function () {
        function e() {
            var t = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            i(this, e), this.compJsonList = n, this.compNumMap = {}, Object.keys(r).forEach(function (e) {
                t.compNumMap[e] = 0
            })
        }

        return o(e, [{
            key: "iterate", value: function () {
                var e = this;
                this.compJsonList.forEach(function (t) {
                    e.compNumMap[t.type] += 1
                })
            }
        }, {
            key: "getCountIds", value: function () {
                return this.countIdArr.join(",")
            }
        }, {
            key: "hasComp", value: function (e) {
                return !!this.compNumMap[e]
            }
        }, {
            key: "hasRedPacketComp", value: function () {
                return this.hasComp(9)
            }
        }, {
            key: "hasMapComp", value: function () {
                return this.hasComp("m")
            }
        }, {
            key: "hasChartComp", value: function () {
                return this.hasComp("t")
            }
        }, {
            key: "hasCommentComp", value: function () {
                return this.hasComp("b")
            }
        }, {
            key: "hasSubmitButtonComp", value: function () {
                return this.hasComp(6) || this.hasComp(601)
            }
        }, {
            key: "hasFormComp", value: function () {
                var e = this, t = 0;
                return a.forEach(function (n) {
                    t += e.compNumMap[n]
                }), !!t
            }
        }]), e
    }();
    e.exports = s
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), r = n(114), a = n(176).resolveUrl, s = n(766), c = n(468).parse, l = n(165), p = n(175), u = n(767),
        d = n(768), m = {none: 0, Gravity: 1, Parallax: 2}, f = function () {
            function e(t, n) {
                i(this, e), this.compJson = t, this.eqxScene = n.eqxScene;
                var o = this.eqxScene.config;
                o.EqxGravity.disableGravityMotion ? this.gravityMode = m.none : p.mobilecheck() ? this.gravityMode = m.Gravity : this.gravityMode = m.Parallax, this.gravityPromise = null, this.gravity = null
            }

            return o(e, [{
                key: "updateBgHeight", value: function (e) {
                    this.$gravity.css({height: e})
                }
            }, {
                key: "updateCss", value: function (e) {
                    this.$gravity.css(e)
                }
            }, {
                key: "create$gravity", value: function () {
                    var e = this, t = this.compJson, n = t.id, i = t.properties.imgSrc, o = t.css, p = o.top, f = o.left,
                        g = o.width, h = o.height, v = this.eqxScene, y = v.width, b = v.height;
                    if (i) {
                        var x = a(r.FILE, i), w = $(c(s, {id: n, src: x}));
                        this.$gravity = w, this.gravityPromise = l.loadImg(x).then(function () {
                            switch (w.find("img").css({
                                transform: "translate3d(" + f + "px," + p + "px,0)",
                                width: g,
                                height: h
                            }), e.gravityMode) {
                                case m.Gravity:
                                    e.gravity = new d(n, $(w.find("img")), p, f, y, b), e.gravity.init();
                                    break;
                                case m.Parallax:
                                    u(w, {innerW: g, innerH: h, outerW: y, outerH: b})
                            }
                        })
                    }
                    return this.$gravity
                }
            }, {
                key: "delete$gravity", value: function () {
                    var e = this;
                    this.gravityMode === m.Gravity && this.gravityPromise && this.gravityPromise.then(function () {
                        e.gravity.destroy()
                    }), this.$gravity && this.$gravity.remove()
                }
            }, {
                key: "update$gravity", value: function () {
                    this.delete$gravity(), this.create$gravity()
                }
            }]), e
        }();
    e.exports = f
}, function (e, t) {
    e.exports = '<div id="wrapper-gravity#{id}" class="eqx-bg-img" style="position: absolute;z-index: 0;width: 100%;height:100%"><div class="layer" data-depth="0.5"><img src="#{src}" alt="" style="position:absolute"/></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        o.$loadParallax().then(function () {
            var n = t.innerW, i = t.innerH, o = t.outerW, r = t.outerH, a = t.scalarX, s = void 0 === a ? 100 : a,
                c = t.scalarY, l = void 0 === c ? 100 : c;
            console.log("重力感应 Parallax Starts!", t);
            var p = {
                calibrateX: !0,
                calibrateY: !0,
                invertX: !0,
                invertY: !0,
                limitX: parseInt(n) - parseInt(o),
                limitY: parseInt(i) - parseInt(r),
                scalarX: s,
                scalarY: l,
                frictionX: 1,
                frictionY: 1,
                originX: .5,
                originY: .5
            };
            new Parallax(e[0], p)
        })
    }

    var o = n(453);
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e(t, i, o, r, a, s) {
            n(this, e), this.id = t, this.bgHeight = 0, this.bgWidth = 0, this.offsetLeft = r, this.offsetTop = o, this.screenHeight = s, this.screenWidth = a, this.isFirst = !0, this.firstGamma = 0, this.firstBeta = 0, this.lastGama = 0, this.lastBeta = 0, this.targetLeft = 0, this.targetTop = 0, this.bg = i
        }

        return i(e, [{
            key: "init", value: function () {
                var e = this;
                e.targetLeft = e.nowLeft = e.offsetLeft, e.targetTop = e.nowTop = e.offsetTop, e.bindEvent(), e.requestAnimationFrame = e.requestAnimationFrame.bind(this), e.raf = requestAnimationFrame(e.requestAnimationFrame)
            }
        }, {
            key: "bindEvent", value: function () {
                var e = this;
                $(window).on("deviceorientation." + e.id, function (t) {
                    var n = t.originalEvent;
                    n.g = n.gamma, n.b = n.beta, e.isFirst && (e.bgHeight = e.bg.height(), e.bgWidth = e.bg.width(), e.nowGama = e.lastGama = e.firstGamma = n.g, e.nowBeta = e.lastBeta = e.firstBeta = n.b, e.isFirst = !1), (Math.abs(n.g - e.lastGama) > 3 || Math.abs(n.b - e.lastBeta) > 3) && (e.targetLeft = Math.round(e.offsetLeft + (e.firstGamma - n.g) * e.bgWidth / 180), e.targetTop = Math.round(e.offsetTop + (n.b - e.firstBeta) * e.bgHeight / 180), e.nowBeta = e.lastBeta = n.b, e.nowGama = e.lastGama = n.g, e.targetLeft >= 0 ? e.targetLeft = 0 : e.targetLeft < e.screenWidth - e.bgWidth && (e.targetLeft = e.screenWidth - e.bgWidth), e.targetTop >= 0 ? e.targetTop = 0 : e.targetTop < e.screenHeight - e.bgHeight && (e.targetTop = e.screenHeight - e.bgHeight))
                })
            }
        }, {
            key: "requestAnimationFrame", value: function (e) {
                function t() {
                    return e.apply(this, arguments)
                }

                return t.toString = function () {
                    return e.toString()
                }, t
            }(function () {
                var e = 0, t = 0, n = this;
                n.isFirst || (e = .1 * (n.targetLeft - n.nowLeft), t = .1 * (n.targetTop - n.nowTop), n.nowLeft += +e.toFixed(5), n.nowTop += +t.toFixed(5), n.bg.css({
                    transform: "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)",
                    "-ms-transform": "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)",
                    "-webkit-transform": "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)"
                })), n.raf = requestAnimationFrame(n.requestAnimationFrame)
            })
        }, {
            key: "destroy", value: function () {
                window.cancelAnimationFrame(this.raf), $(window).off("deviceorientation." + this.id)
            }
        }]), e
    }();
    e.exports = o
}, function (e, t) {
    "use strict";
    var n = [{name: "红包", types: ["9"]}, {name: "新文本", types: ["7"]}, {name: "爆款文本", types: ["1"]}, {
        name: "文本",
        types: ["2", "x", "298", "299"]
    }, {name: "微信昵称", types: ["201"]}, {name: "背景", types: ["3"]}, {name: "图片", types: ["4"]}, {
        name: "微信头像",
        types: ["401"]
    }, {name: "微信照片", types: ["403"]}, {name: "输入框", types: ["5", "501", "502", "503", "504"]}, {
        name: "提交按钮",
        types: ["6", "601"]
    }, {name: "电话", types: ["8"]}, {name: "评分", types: ["a"]}, {name: "留言板", types: ["b"]}, {
        name: "复选框",
        types: ["c"]
    }, {name: "统计", types: ["d"]}, {name: "广告", types: ["g"]}, {name: "形状", types: ["h"]}, {
        name: "计数器",
        types: ["i"]
    }, {name: "链接", types: ["l"]}, {name: "地图", types: ["m"]}, {name: "随机图片", types: ["n"]}, {
        name: "图集",
        types: ["p"]
    }, {name: "单选框", types: ["r"]}, {name: "音效", types: ["s"]}, {name: "图表", types: ["t"]}, {
        name: "视频",
        types: ["v"]
    }, {name: "互动视频", types: ["o"]}, {name: "微信声音", types: ["w01", "w02"]}, {name: "下拉列表", types: ["z"]}, {
        name: "计时",
        types: ["e", "f"]
    }, {name: "投票", types: ["j", "k"]}, {name: "重力感应", types: ["q"]}, {name: "画板", types: ["u"]}, {
        name: "打赏",
        types: ["11"]
    }, {name: "随机事件", types: ["10"]}, {name: "上传图片", types: ["upload"]}, {name: "日期", types: ["14"]}, {
        name: "验证码",
        types: ["12"]
    }, {name: "照片墙", types: ["13"]}, {name: "长按按钮", types: ["16"]}, {name: "微信卡券", types: ["17"]}, {
        name: "幸运转盘抽奖",
        types: ["18"]
    }, {name: "砸金蛋", types: ["19"]}];
    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(771), s = n(773), c = n(465).randomId, l = n(520), p = function () {
        function e(t) {
            o(this, e), this.page = t
        }

        return r(e, [{
            key: "insertItem2Group", value: function (e, t) {
                e.group = t, t.eqxItems.push(e), e.$item && t.$ul.append(e.$item)
            }
        }, {
            key: "changeEqxItemVerticalPosition", value: function (e) {
                function t(e) {
                    return Math.min.apply(Math, i(e.map(function (e) {
                        return e.getAbsolutePos().top
                    })))
                }

                function n(e, t) {
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n].getAbsolutePos(), o = i.top;
                        e[n].updateTop(t + n - o)
                    }
                }

                var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10;
                if (e) {
                    var a = e.group;
                    if (a) {
                        var s = this.reLayout(a), c = s.findIndex(function (t) {
                            return t === e
                        });
                        if (c < 0 || 0 === o) return null;
                        if (o < 0) for (var l = c; l > 0 && o < 0; l--, o++) s[l] = [s[l - 1], s[l - 1] = s[l]][0]; else if (o > 0) for (var p = c; p < s.length - 1 && o > 0; p++, o--) s[p] = [s[p + 1], s[p + 1] = s[p]][0];
                        n(s, t(s)), this.reLayout(s, r)
                    }
                }
            }
        }, {
            key: "reLayout", value: function () {
                function e(e) {
                    return e.sort(function (e, t) {
                        var n = e.getAbsolutePos(), i = n.top, o = t.getAbsolutePos(), r = o.top;
                        return i - r
                    }), e
                }

                function t(e) {
                    for (var t = 1; t < e.length; t++) {
                        var n = e[t], o = e[t - 1], r = n.getAbsolutePos().top, a = o.getAbsolutePos().top,
                            s = o.getAbsolutePos().height, c = a + s + i;
                        e[t].updateTop(c - r)
                    }
                    return e
                }

                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.layer,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                if (Array.isArray(n)) var o = n.slice(); else if (n instanceof a) o = e(n.eqxItems.slice()); else {
                    if (!(n instanceof s)) return [];
                    o = e(n.getDirectItems().slice())
                }
                return t(o)
            }
        }, {
            key: "extractComps", value: function (e) {
                var t = [];
                return e.forEach(function (e) {
                    e.isGroupItem() ? t.push.apply(t, i(e.getAllSubEqxComps())) : t.push(e)
                }), t
            }
        }, {
            key: "copyItems", value: function (e, t, n, i) {
                var o = this, r = [];
                return e.sort(function (e, t) {
                    return e.zIndex - t.zIndex
                }).forEach(function (e) {
                    e.isGroupItem() ? r.push(o._copyGroupItem(e, t, n, i)) : r.push(o._copyCompItem(e, t, n, i))
                }), r
            }
        }, {
            key: "_copyGroupItem", value: function (e, t, n, i) {
                var o = this, r = [];
                e.eqxItems.slice().sort(function (e, t) {
                    return e.zIndex - t.zIndex
                }).forEach(function (e) {
                    r.push(e.isGroupItem() ? o._copyGroupItem(e, 0, n, i) : o._copyCompItem(e, 0, n, i))
                });
                var a = this.combineItems(r.map(function (e) {
                    return e.id
                })), s = e.group;
                return a && t && s && (a.group = s, this.insertItem2Group(a, s), s.autoSize()), a.sourceEqxItem = e, a
            }
        }, {
            key: "_copyCompItem", value: function (e, t, n, i) {
                var o = this, r = JSON.parse(JSON.stringify(e.compJson));
                1 === n ? (r.css.left += 10, r.css.top += 10) : 2 === n && (r.css.top += 10), i = i.filter(function (e) {
                    return "e" === e.sourceType && e.sourceId === r.id
                }).map(function (e) {
                    return delete e.$$hashKey, JSON.parse(JSON.stringify(e))
                }), delete r.id, delete r.css.zIndex;
                var a = this.page.addCompJson(r), s = a ? this.page.initEqxCompByJson(a) : null, c = a.properties;
                if (!s) return null;
                if (this.page.renderEqxComp(s), i.length && i.forEach(function (e) {
                    e.sourceId === e.targetId && (e.targetId = a.id), e.sourceId = a.id;
                    var t = o.page.pageJson.properties, n = t.triggerGroup.findIndex(function (t) {
                        return e.targetId === t.targetId && e.sourceId === t.sourceId && e.eventType === t.eventType && e.targetState === t.targetState
                    });
                    n === -1 && t.triggerGroup.push(e)
                }), 1 === c.initType ? s.startAnimation({maxCount: 1, reset: !0}) : s.eleHide(), s && t && e.group) {
                    var l = e.group;
                    s.group = l, this.insertItem2Group(s, l), l.autoSize()
                }
                return s.sourceEqxItem = e, s
            }
        }, {
            key: "breakUpGroupItem", value: function (e) {
                var t, n = this.layer, o = n.eqxItems.find(function (t) {
                    return t.isGroupItem() && t.id === e
                }), r = o.group;
                if (this._includeFunTemplates([o])) return [];
                if (!o) return [];
                var a = o.eqxItems.slice(), s = l.parseTransform(o.getTransform()).rotate;
                r && (t = r.eqxItems).push.apply(t, i(a)), (r || n).$ul.append(a.map(function (e) {
                    var t = e.getAbsolutePos(), n = t.left, i = t.top;
                    if (r) {
                        var o = r.getAbsolutePos(), a = o.left, c = o.top;
                        n -= a, i -= c
                    }
                    if (e.$item.css({left: n, top: i}), s) {
                        var p = l.parseTransform(e.getTransform()).rotate;
                        e.$item.css({transform: "rotateZ(" + p + "deg)"})
                    }
                    return e.$item
                })), o.$group.remove(), o.$group = null, o.$groupBox = null, o.$ul = null, a.forEach(function (e) {
                    e.group = r || null, e.parent = r || n
                });
                var c = n.eqxItems.findIndex(function (e) {
                    return e === o
                });
                return c > -1 && n.eqxItems.splice(c, 1), r && (c = r.eqxItems.findIndex(function (e) {
                    return e === o
                }), c > -1 && r.eqxItems.splice(c, 1)), a
            }
        }, {
            key: "combineItems", value: function (e) {
                function t(e) {
                    var t = e.filter(function (e) {
                        return e.isGroupItem() || "16" !== e.type
                    });
                    e.length = 0, e.push.apply(e, i(t))
                }

                var n = this, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2, r = this.page,
                    s = this.layer, c = e.map(function (e) {
                        return r.getEqxItem(e)
                    });
                if (this._includeFunTemplates(c)) return null;
                if (t(c), this.isExistNested(c)) return null;
                var l = this._findCommonAncestor(c);
                if (this._limitNestDepth(l, c, o), this._updateIndexCrossLayer(c), !c || !c.length) return null;
                c.forEach(function (e) {
                    if (e.group) {
                        var t = e.group.eqxItems.findIndex(function (t) {
                            return t === e
                        });
                        t > -1 && e.group.eqxItems.splice(t, 1), e.group !== l && n._clearEmptyGroup(e.group)
                    }
                    e.eqxLayer !== s && n._changeItemCrossLayer(e)
                });
                var p = -1;
                l !== s && l.isGroupItem() && (p = s.eqxItems.findIndex(function (e) {
                    return e === l
                })), e = c.map(function (e) {
                    return e.id
                });
                var u = new a({id: this._generateGroupId(), compIds: e}, s);
                return s.initEqxItem(u, p).renderEqxItem(u), u.eqxItems.forEach(function (e) {
                    var t = e.getAbsolutePos(), n = t.left, i = t.top, o = u.getAbsolutePos(), r = o.left, a = o.top;
                    n -= r, i -= a, e.$item.css({left: n, top: i})
                }), l !== s && l.isGroupItem() && (this.insertItem2Group(u, l), u.group = l, u.parent = l), this.updateCompsIndex(), u.autoSize(), u
            }
        }, {
            key: "_includeFunTemplates", value: function (e) {
                return e.some(function (e) {
                    return e.isFunTemplate()
                })
            }
        }, {
            key: "_limitNestDepth", value: function (e, t, n) {
                function o(e, t) {
                    var n = a(e);
                    return n >= t ? (r(e), p.breakUpGroupItem(e.id)) : (e.eqxItems.slice().forEach(function (e) {
                        e.isGroupItem() && o(e, n + 1)
                    }), [e])
                }

                function r(e) {
                    for (var t = e.hasGroupItem(); t;) p.breakUpGroupItem(t.id), t = e.hasGroupItem()
                }

                function a(e) {
                    if (e) {
                        if (e instanceof s) return 0;
                        for (var t = 1; e.group;) t++, e = e.group;
                        return t
                    }
                    return -1
                }

                var c = [], l = a(e), p = this;
                return l === -1 || l >= n ? void(t.length = 0) : (l < n && t.forEach(function (e) {
                    e.isGroupItem() ? c.push.apply(c, i(o(e, n - l))) : c.push(e)
                }), t.length = 0, void t.push.apply(t, c))
            }
        }, {
            key: "removeEmptyGroups", value: function () {
                function e() {
                    return n.page.getEqxItems().filter(function (e) {
                        return e.isGroupItem()
                    }).find(function (e) {
                        return !e.eqxItems.length
                    })
                }

                for (var t = [], n = this, i = e(); i;) t.push(i), n._clearEmptyGroup(i), i = e();
                return t
            }
        }, {
            key: "isExistNested", value: function (e) {
                for (var t = 0; t < e.length; t++) for (var n = e[t]; n.group;) {
                    if (e.indexOf(n.group) !== -1) return n;
                    n = n.group
                }
                return !1
            }
        }, {
            key: "traceTopItemsContain", value: function (e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    for (var i = e[n]; i.group;) i = i.group;
                    t.indexOf(i) === -1 && t.push(i)
                }
                return t
            }
        }, {
            key: "filterNestedItems", value: function (e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    for (var i = e[n], o = i, r = !1; i.group;) {
                        if (e.indexOf(i.group) !== -1) {
                            r = !0;
                            break
                        }
                        i = i.group
                    }
                    r || t.push(o)
                }
                return t
            }
        }, {
            key: "_updateIndexCrossLayer", value: function (e) {
                var t = this;
                if (this._isCrossLayer(e)) {
                    var n = [], i = [];
                    e.forEach(function (e) {
                        e.eqxLayer !== t.layer ? i.push(e) : n.push(e)
                    }), n.sort(function (e, t) {
                        return e.zIndex - t.zIndex
                    }), i.push.apply(i, n), i.forEach(function (e, t) {
                        return e.zIndex = t + 1
                    })
                }
            }
        }, {
            key: "_changeItemCrossLayer", value: function (e) {
                var t = this;
                e.isGroupItem() && e.eqxItems.forEach(function (e) {
                    t._changeItemCrossLayer(e)
                });
                var n = e.eqxLayer.eqxItems.findIndex(function (t) {
                    return t === e
                });
                n > -1 && e.eqxLayer.eqxItems.splice(n, 1), e.eqxLayer = t.layer, e.eqxLayer.eqxItems.push(e)
            }
        }, {
            key: "updateCompsIndex", value: function () {
                function e(t) {
                    var n = [];
                    return t.forEach(function (t) {
                        return t.isGroupItem() ? n.push.apply(n, i(e(t.eqxItems))) : n.push(t)
                    }), n
                }

                var t = this.layer.getLayerTreeStructure(), n = e(t);
                this.layer.updateCompsIndex(n)
            }
        }, {
            key: "_clearEmptyGroup", value: function (e) {
                if (e && e.isGroupItem() && !e.eqxItems.length) {
                    var t = e.group;
                    e.eqxLayer.removeEqxItem(e), this._clearEmptyGroup(t)
                }
            }
        }, {
            key: "_findCommonAncestor", value: function (e) {
                if (1 === e.length && !e[0].isGroupItem()) return e[0].group || this.layer;
                if (this._isCrossLayer(e)) return this.layer;
                for (var t = e[0], n = 1; n < e.length; n++) t = this._find2CommonAncestor(t, e[n]);
                return t
            }
        }, {
            key: "_isCrossLayer", value: function (e) {
                for (var t = 0; t < e.length; t++) if (e[t].eqxLayer !== this.layer) return !0;
                return !1
            }
        }, {
            key: "_find2CommonAncestor", value: function (e, t) {
                if (e === this.layer || t === this.layer) return this.layer;
                var n = this._computeLinkLength(e), i = this._computeLinkLength(t), o = Math.abs(n - i);
                if (n < i) {
                    var r = [t, e];
                    e = r[0], t = r[1]
                }
                for (; o--;) e = e.group;
                for (; e && t;) {
                    if (e === t) return e;
                    e = e.group, t = t.group
                }
                return this.layer
            }
        }, {
            key: "_computeLinkLength", value: function (e) {
                for (var t = 0; e;) t++, e = e.group;
                return t
            }
        }, {
            key: "_generateGroupId", value: function () {
                return "group:" + c()
            }
        }, {
            key: "layer", get: function () {
                return this.page.getCurrentLayer()
            }
        }]), e
    }();
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = function g(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : g(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, l = n(519), p = n(521), u = n(522), d = n(520), m = n(772), f = function (e) {
        function t(e, n) {
            o(this, t);
            var i = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return i.eqxLayer = n, i.eqxPage = i.eqxLayer.eqxPage, i.eqxScene = i.eqxPage.eqxScene, i.id = e.id, i.itemIds = e.compIds || [], i.css = e.css || {}, i.eqxItems = [], i.$group = null, i.displayed = "1", i.locked = !1, i.tag = !1, i.visited = !1, i.json = e, i.$ability = {flexLine: "n,ne,e,se,s,sw,w,nw,r"}, i
        }

        return a(t, e), s(t, [{
            key: "isFunTemplate", value: function () {
                if (1 === this.json.type) return !0
            }
        }, {
            key: "destroy", value: function () {
                c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this.eqxLayer = null, this.eqxPage = null, this.eqxScene = null, this.$group && (this.$group.remove(), this.$group = null, this.$groupBox = null, this.$ul = null)
            }
        }, {
            key: "removeEqxItem", value: function (e) {
                var t = this.eqxItems.findIndex(function (t) {
                    return t === e
                });
                t > -1 && this.eqxItems.splice(t, 1), e.destroy()
            }
        }, {
            key: "isPropCanEdit", value: function (e) {
                var t = this.FtEditableProps;
                return [t.addGroup.addGroup, t.deleteGroup.deleteGroup, t.moveGroup.moveGroup].includes(e)
            }
        }, {
            key: "getFtValue", value: function () {
                return 10
            }
        }, {
            key: "updateTop", value: function (e) {
                this.getAllSubEqxComps().forEach(function (t) {
                    t.updateCss({top: t.css.top + e})
                }), this.autoSize()
            }
        }, {
            key: "getFtEditableProps", value: function () {
                var e = this.FtEditableProps;
                return c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getFtEditableProps", this).call(this).concat([e.addGroup.addGroup, e.deleteGroup.deleteGroup, e.moveGroup.moveGroup])
            }
        }, {
            key: "hasGroupItem", value: function () {
                for (var e = 0; e < this.eqxItems.length; e++) if (this.eqxItems[e].isGroupItem()) return this.eqxItems[e];
                return null
            }
        }, {
            key: "getAllSubEqxComps", value: function () {
                for (var e = [], t = 0; t < this.eqxItems.length; t++) {
                    var n = this.eqxItems[t];
                    n.isGroupItem() ? e.push.apply(e, i(n.getAllSubEqxComps())) : e.push(n)
                }
                return e
            }
        }, {
            key: "getAllSubEqxItems", value: function () {
                function e(t, n) {
                    n = n || [], t.eqxItems.forEach(function (t) {
                        t.isGroupItem() ? (n.push(t), e(t, n)) : n.push(t)
                    })
                }

                var t = [];
                return e(this, t), t
            }
        }, {
            key: "hasSubItemsLocked", value: function () {
                for (var e = this.getAllSubEqxItems(), t = 0; t < e.length; t++) if (e[t].isEditLocked) return !0;
                return !1
            }
        }, {
            key: "_initGroupIndex", value: function () {
                return Math.max.apply(Math, i(this.eqxItems.map(function (e) {
                    return e.zIndex
                })))
            }
        }, {
            key: "canMove", value: function () {
                return !this.isEditLocked && !this.hasSubItemsLocked()
            }
        }, {
            key: "onMoveBefore", value: function () {
                c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onMoveBefore", this).call(this), this.eqxItems.forEach(function (e) {
                    return e.onMoveBefore()
                })
            }
        }, {
            key: "onMoveEnd", value: function () {
                c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onMoveEnd", this).call(this), this.eqxItems.forEach(function (e) {
                    return e.onMoveEnd()
                })
            }
        }, {
            key: "instantMove", value: function (e, t) {
                !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                this.canMove() && (this.getAllSubEqxComps().forEach(function (n) {
                    n.instantMove(e, t, !1)
                }), this.autoSize())
            }
        }, {
            key: "getTransform", value: function () {
                return this.css.transform || "rotateZ(0)"
            }
        }, {
            key: "onResizeStart", value: function () {
                return this.eqxItems.forEach(function (e) {
                    return e.onResizeStart()
                }), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onResizeStart", this).call(this)
            }
        }, {
            key: "onResize", value: function (e, t, n, i, o, r, a, s, c) {
                function l(e, t, n, i, o, r, a, s, c, l) {
                    for (var m = 0; m < e.length; m++) {
                        var h = e[m];
                        if (!h.isEditLocked) {
                            var v = h.oldAbsolutePosition, y = v.left, b = v.top, x = v.width, w = v.height,
                                S = v.transform, k = d.parseTransform(S).rotate, T = new p(y, b, x, w), C = u(T, l),
                                I = g(t, n, i, C, o, (k - l + 360) % 360, r, a, s, c), $ = f(I, l);
                            h.updateCss({top: $.top, left: $.left, width: $.width, height: $.height})
                        }
                    }
                    return e
                }

                function u(e, t) {
                    if (!t) return e;
                    var n = e.rotate(t).p1.transform2RotateCoord(t);
                    return new p(n, e.width, e.height)
                }

                function f(e, t) {
                    if (!t) return e;
                    e instanceof p || (e = new p(e));
                    var n = e.p1.transform2RotateCoord(-t), i = e.p2.transform2RotateCoord(-t),
                        o = new p(n, i, t).rotate(-t), r = o.p1, a = r.x, s = r.y, c = o.width, l = o.height;
                    return {
                        width: c, height: l, left: a,
                        top: s
                    }
                }

                function g(e, t, n, i, o, r, a, s, c, l) {
                    if (r) return v(e, i, r, o);
                    var p = 0, u = 0, d = 0, m = 0, f = i.p1.x, g = i.p1.y, h = i.width, y = i.height, b = h, x = y;
                    if ("nw" === o) {
                        var w = a.distance2Point(i.p2), S = s.distance2Point(i.p1);
                        p = -w * t / (w + b + S), u = -b * t / (w + b + S);
                        var k = c.distance2Point(i.p2), T = l.distance2Point(i.p1);
                        return d = -k * n / (k + x + T), m = -x * n / (k + x + T), {
                            left: f - p - u,
                            width: h + u,
                            top: g - d - m,
                            height: y + m
                        }
                    }
                    if ("ne" === o) {
                        var C = a.distance2Point(i.p1), I = s.distance2Point(i.p2);
                        p = C * t / (C + b + I), u = b * t / (C + b + I);
                        var $ = c.distance2Point(i.p2), E = l.distance2Point(i.p1);
                        return d = -$ * n / ($ + x + E), m = -x * n / ($ + x + E), {
                            left: f + p,
                            width: h + u,
                            top: g - d - m,
                            height: y + m
                        }
                    }
                    if ("se" === o) {
                        var P = a.distance2Point(i.p1), _ = s.distance2Point(i.p2);
                        p = P * t / (P + b + _), u = b * t / (P + b + _);
                        var q = c.distance2Point(i.p1), O = l.distance2Point(i.p2);
                        return d = q * n / (q + x + O), m = x * n / (q + x + O), {
                            left: f + p,
                            width: h + u,
                            top: g + d,
                            height: y + m
                        }
                    }
                    if ("sw" === o) {
                        var A = a.distance2Point(i.p2), j = s.distance2Point(i.p1);
                        p = -A * t / (A + b + j), u = -b * t / (A + b + j);
                        var L = c.distance2Point(i.p1), F = l.distance2Point(i.p2);
                        return d = L * n / (L + x + F), m = x * n / (L + x + F), {
                            left: f - p - u,
                            width: h + u,
                            top: g + d,
                            height: y + m
                        }
                    }
                }

                function h(e, t) {
                    var n = [e.nw, e.ne, e.se, e.sw], i = Number.MAX_SAFE_INTEGER, o = 0;
                    return n.forEach(function (e, n) {
                        var r = e.distance2Point(t);
                        i > r && (i = r, o = n)
                    }), o
                }

                function v(e, t, n, i) {
                    var o = ["nw", "ne", "se", "sw"], r = y.oldAbsolutePosition, a = r.left, s = r.top, c = r.width,
                        l = r.height, u = r.transform, f = d.parseTransform(u).rotate, g = new p(a, s, c, l).rotate(f),
                        v = new p(g.p1.transform2RotateCoord(f), c, l), b = p.getBoundingRect(v, n),
                        x = new p(b.p1.transform2RotateCoord(n), b.width, b.height),
                        w = new p(t.rotate(n).p1.transform2RotateCoord(n), t.width, t.height),
                        S = h(x, g[i].transform2RotateCoord(f + n)), k = o[S], T = x[k], C = o[(S + 2) % 4], I = x[C],
                        $ = e.weight(f + n), E = $.x, P = $.y;
                    if ("nw" === k) var _ = new m(I, x[o[(S + 1) % 4]]), q = new m(T, x[o[(S + 3) % 4]]),
                        O = new m(I, x[o[(S + 3) % 4]]),
                        A = new m(T, x[o[(S + 1) % 4]]); else "ne" === k ? (_ = new m(I, x[o[(S + 3) % 4]]), q = new m(T, x[o[(S + 1) % 4]]), O = new m(I, x[o[(S + 1) % 4]]), A = new m(T, x[o[(S + 3) % 4]])) : "se" === k ? (_ = new m(I, x[o[(S + 1) % 4]]), q = new m(T, x[o[(S + 3) % 4]]), O = new m(I, x[o[(S + 3) % 4]]), A = new m(T, x[o[(S + 1) % 4]])) : "sw" === k && (_ = new m(I, x[o[(S + 3) % 4]]), q = new m(T, x[o[(S + 1) % 4]]), O = new m(I, x[o[(S + 1) % 4]]), A = new m(T, x[o[(S + 3) % 4]]));
                    var j = 0, L = 0, F = 0, M = 0, J = null, R = w.width, D = w.height;
                    if ("nw" === k) {
                        var B = _.distance2Point(w.p2), N = q.distance2Point(w.p1);
                        j = -B * E / (B + R + N), L = -R * E / (B + R + N);
                        var z = O.distance2Point(w.p2), H = A.distance2Point(w.p1);
                        F = -z * P / (z + D + H), M = -D * P / (z + D + H), J = {
                            left: w.p1.x - j - L,
                            width: w.width + L,
                            top: w.p1.y - F - M,
                            height: w.height + M
                        }
                    } else if ("ne" === k) {
                        var U = _.distance2Point(w.p1), G = q.distance2Point(w.p2);
                        j = U * E / (U + R + G), L = R * E / (U + R + G);
                        var V = O.distance2Point(w.p2), W = A.distance2Point(w.p1);
                        F = -V * P / (V + D + W), M = -D * P / (V + D + W), J = {
                            left: w.p1.x + j,
                            width: w.width + L,
                            top: w.p1.y - F - M,
                            height: w.height + M
                        }
                    } else if ("se" === k) {
                        var X = _.distance2Point(w.p1), Y = q.distance2Point(w.p2);
                        j = X * E / (X + R + Y), L = R * E / (X + R + Y);
                        var Q = O.distance2Point(w.p1), K = A.distance2Point(w.p2);
                        F = Q * P / (Q + D + K), M = D * P / (Q + D + K), J = {
                            left: w.p1.x + j,
                            width: w.width + L,
                            top: w.p1.y + F,
                            height: w.height + M
                        }
                    } else if ("sw" === k) {
                        var Z = _.distance2Point(w.p2), ee = q.distance2Point(w.p1);
                        j = -Z * E / (Z + R + ee), L = -R * E / (Z + R + ee);
                        var te = O.distance2Point(w.p1), ne = A.distance2Point(w.p2);
                        F = te * P / (te + D + ne), M = D * P / (te + D + ne), J = {
                            left: w.p1.x - j - L,
                            width: w.width + L,
                            top: w.p1.y + F,
                            height: w.height + M
                        }
                    }
                    return new p(new p(J).rotate(-n).p1.transform2RotateCoord(-n), J.width, J.height)
                }

                var y = this, b = y.getAllSubEqxComps();
                l(b, e, t, n, i, o, r, a, s, c), y.autoSize()
            }
        }, {
            key: "onResizeEnd", value: function () {
                this.eqxItems.forEach(function (e) {
                    return e.onResizeEnd()
                }), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onResizeEnd", this).call(this)
            }
        }, {
            key: "onRotateStart", value: function () {
                return this.eqxItems.forEach(function (e) {
                    return e.onRotateStart()
                }), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onRotateStart", this).call(this)
            }
        }, {
            key: "onRotateEnd", value: function () {
                this.eqxItems.forEach(function (e) {
                    return e.onRotateEnd()
                }), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onRotateEnd", this).call(this)
            }
        }, {
            key: "onRotate", value: function (e) {
                function n(e, t) {
                    e.eqxItems.forEach(function (e) {
                        e.isGroupItem() && (t.push(e), n(e, t))
                    })
                }

                function i(e, t) {
                    e.eqxItems.forEach(function (e) {
                        e.isGroupItem() ? i(e, t) : t.push(e)
                    })
                }

                function o(e, t) {
                    var n = d.parseTransform(e.oldTransform).rotate;
                    e.updateCss({transform: "rotateZ(" + (n + t) + "deg)"})
                }

                function r(e, t, n) {
                    if (!e.isEditLocked) {
                        var i = d.parseTransform(e.oldTransform).rotate, o = d.parseTransform(e.getTransform()).rotate,
                            r = e.getAbsolutePos(), a = r.width, s = r.height, c = r.top, l = r.left,
                            u = new p(l, c, a, s), m = u.center(), f = m.pointRotate2Point(n, i + t - o), g = f.x - m.x,
                            h = f.y - m.y;
                        u.move(g, h), e.updateCss({top: u.p1.y, left: u.p1.x, transform: "rotateZ(" + (i + t) + "deg)"})
                    }
                }

                var a = [], s = [], l = this.getAbsolutePos(), u = l.width, m = l.height, f = l.top, g = l.left,
                    h = new p(g, f, u, m), v = h.center(), y = d.parseTransform(this.oldTransform).rotate;
                i(this, a), n(this, s), a.forEach(function (t) {
                    return r(t, (e - y + 360) % 360, v)
                }), s.forEach(function (t) {
                    return o(t, (e - y + 360) % 360)
                }), c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "onRotate", this).call(this, "rotateZ(" + (e + 360) % 360 + "deg)", {
                    type: "rotate",
                    source: this
                })
            }
        }, {
            key: "updateTransform", value: function (e) {
                this.css.transform = e, this.$item.css({transform: e})
            }
        }, {
            key: "updateCss", value: function (e) {
                var t = this;
                Object.keys(e).forEach(function (n) {
                    t.css[n] = e[n]
                })
            }
        }, {
            key: "updateLeftTop", value: function (e, t) {
                this.eqxItems.forEach(function (n) {
                    n.updateLeftTop(e, t)
                })
            }
        }, {
            key: "isGroupItem", value: function () {
                return !0
            }
        }, {
            key: "getName", value: function () {
                return this.name || "组合"
            }
        }, {
            key: "toJson", value: function () {
                var e = this.css.transform, t = {
                    id: this.id, name: this.name, compIds: this.eqxItems.map(function (e) {
                        return e.id
                    })
                };
                return e && (t.css = {transform: e}), this.isFunTemplate() && (t.type = 1), t
            }
        }, {
            key: "autoSizeTopDown", value: function (e) {
                this._updateSize(), e && "rotate" === e.type && e.source === this && !this.hasSubItemsLocked() || this.eqxItems.forEach(function (t) {
                    return t.autoSizeTopDown(e)
                }), this.fire("autoSizeTopDown.after")
            }
        }, {
            key: "getAbsolutePos", value: function () {
                function e(e, t) {
                    var n = [];
                    e.eqxItems.forEach(function (e) {
                        var t = e.getAbsolutePos(), i = t.top, o = t.left, r = t.width, a = t.height, s = t.transform,
                            c = d.parseTransform(s).rotate, l = new p(o, i, r, a).rotate(c), u = l.nw, m = l.ne,
                            f = l.sw, g = l.se;
                        n.push.apply(n, [u, m, f, g])
                    });
                    for (var i = n[0].transform2RotateCoord(t), o = i, r = i, a = i, s = i, c = 1; c < n.length; c++) i = n[c].transform2RotateCoord(t), i.x < s.x && (s = i), i.x > r.x && (r = i), i.y < o.y && (o = i), i.y > a.y && (a = i);
                    var l = Number.MIN_SAFE_INTEGER, m = Number.MAX_SAFE_INTEGER, f = Number.MIN_SAFE_INTEGER,
                        g = Number.MAX_SAFE_INTEGER;
                    [o, r, a, s].forEach(function (e) {
                        e.x > l && (l = e.x), e.x < m && (m = e.x), e.y > f && (f = e.y), e.y < g && (g = e.y)
                    });
                    var h = new u(m, g).transform2RotateCoord(-t), v = new u(l, f).transform2RotateCoord(-t),
                        y = new p(h, v, t).rotate(-t);
                    return {top: y.p1.y, left: y.p1.x, width: y.width, height: y.height, transform: e.getTransform()}
                }

                if (!this.eqxItems.length) return {top: 0, left: 0, width: 0, height: 0, transform: ""};
                var t = d.parseTransform(this.getTransform()).rotate;
                return e(this, t)
            }
        }, {
            key: "render", value: function () {
                return this.rendered ? this.$group : (this.$group = $('<li class="item item-group" id="' + this.id + '">\n                <div class="group-box">\n                    <ul class="group-items"></ul>\n                </div>\n            </li>'), this._updateSize().autoZIndex().$group.attr("eqx-id", this.id), this.$groupBox = this.$group.find(".group-box"), this.$ul = this.$groupBox.find("ul"), this.$ul.append(this.eqxItems.map(function (e) {
                    return e.render()
                })), this.rendered = !0, this.$group)
            }
        }, {
            key: "getZIndex", value: function () {
                for (var e = -1, t = 0; t < this.eqxItems.length; t++) {
                    var n = this.eqxItems[t];
                    e = Math.max(n.getZIndex(), e)
                }
                return e
            }
        }, {
            key: "autoZIndex", value: function () {
                return this.eqxItems.forEach(function (e) {
                    return e.autoZIndex()
                }), this.$item && this.$item.css({zIndex: this.getZIndex()}), this
            }
        }, {
            key: "addEqxItems", value: function () {
                for (var e = this, t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                n.forEach(function (t) {
                    e.addEqxItem(t)
                })
            }
        }, {
            key: "addEqxItem", value: function (e) {
                e && !this.eqxItems.includes(e) && (this.eqxItems.push(e), e.group = this, e.parent = this)
            }
        }, {
            key: "isEditLocked", get: function () {
                return this.eqxItems.every(function (e) {
                    return e.isEditLocked
                })
            }, set: function (e) {
                this.eqxItems.forEach(function (e) {
                    e.isGroupItem() || (e.isEditLocked = !1)
                })
            }
        }, {
            key: "$item", get: function () {
                return this.$group
            }
        }, {
            key: "zIndex", get: function () {
                return this.css.zIndex || this._initGroupIndex()
            }, set: function (e) {
                this.css.zIndex = e
            }
        }, {
            key: "name", get: function () {
                return this.json.name
            }, set: function (e) {
                this.json.name = e
            }
        }]), t
    }(l);
    e.exports = f
}, function (e, t, n) {
    "use strict";

    function i() {
        switch (arguments.length) {
            case 2:
                this.p1 = arguments[0], this.p2 = arguments[1], this.A = this.p1.y - this.p2.y, this.B = this.p2.x - this.p1.x, this.C = this.p1.x * this.p2.y - this.p2.x * this.p1.y;
                break;
            case 3:
                this.A = arguments[0], this.B = arguments[1], this.C = arguments[2];
                break;
            default:
                throw new Error("Invalid arguments for Line")
        }
    }

    var o = n(522);
    i.prototype.toString = function () {
    }, i.prototype.distanceTo = function (e) {
        if (e instanceof o) return this.distance2Point(e);
        if (e instanceof i) return this.distance2Line(e);
        throw new Error("Unknown geo type")
    }, i.prototype.whichSide = function (e) {
        return this.A * e.x + this.B * e.y + this.C
    }, i.prototype.distance2Point = function (e) {
        return Math.abs(this.A * e.x + this.B * e.y + this.C) / Math.sqrt(this.A * this.A + this.B * this.B)
    }, i.prototype.distance2Line = function (e) {
        return Math.abs(this.C - e.C) / Math.sqrt(this.A * this.A + this.B * this.B)
    }, i.prototype.slope = function () {
        return -(this.A / this.B)
    }, i.getIncludedAngle = function (e, t) {
        var n = e.slope(), i = t.slope(), o = Math.abs((i - n) / (1 + n * i));
        return 180 * Math.atan(o) / Math.PI
    }, window.Line = i, e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), a = n(771), s = n(495), c = n(492), l = n(449).COMP_TYPE, p = console.log.bind(console, "[EqxLayer]"),
        u = n(175).isPc, d = n(453).$loadParallax, m = n(165).qiniuZoom, f = (n(455).ANIMATION_TYPE, function () {
            function e(t, n) {
                o(this, e), this.eqxPage = n, this.eqxItems = [], this.$layer = null, this.$layerBox = null, this.layerBg = null, this.$ul = null, this.lock = !1, this.allowOperate = !0, this.json = t, this.name = t.name, this.items = t.items, this.id = t.id, this._lastHash = t.hash
            }

            return r(e, [{
                key: "getEqxComps", value: function () {
                    return this.eqxItems.filter(function (e) {
                        return !e.isGroupItem()
                    })
                }
            }, {
                key: "removeEqxItem", value: function (e) {
                    e.group && e.group.removeEqxItem(e);
                    var t = this.eqxItems.findIndex(function (t) {
                        return t === e
                    });
                    t > -1 && this.eqxItems.splice(t, 1), e.destroy()
                }
            }, {
                key: "setAllowOperate", value: function (e) {
                    return this.allowOperate = e, this.allowOperate
                }
            }, {
                key: "_getCompsAndGroups", value: function () {
                    for (var e = [], t = [], n = 0; n < this.items.length; n++) {
                        var i = this.items[n];
                        /group/.test(i.id) ? t.push(i) : e.push(i)
                    }
                    return {comps: e, groups: t}
                }
            }, {
                key: "_initEqxGroup", value: function (e) {
                    return new a(e, this)
                }
            }, {
                key: "_initEqxComp", value: function (e) {
                    var t = c[e.type], n = this.eqxPage.id || "";
                    return t && t.prototype instanceof s ? new t(e, this) : void console.error("In Valid Type: " + e.type + " @Page" + n, e)
                }
            }, {
                key: "_getLayerTranslate3dz", value: function () {
                    for (var e = this.id, t = this.eqxPage, n = t.pageJson.properties.oneShot.distance, i = void 0 === n ? 320 : n, o = void 0, r = 0; r < t.eqxLayerList.length; r++) if (t.eqxLayerList[r].id === e) {
                        o = r * i;
                        break
                    }
                    return o
                }
            }, {
                key: "init", value: function () {
                    return this
                }
            }, {
                key: "initEqxItems", value: function (e, t) {
                    var n = this;
                    if (!e) {
                        var o = this._getCompsAndGroups();
                        e = o.comps, t = o.groups
                    }
                    var r = [];
                    return e.map(function (e) {
                        return e.name = n.eqxPage.getCompName(e), e
                    }).filter(function (e) {
                        var t = e.type;
                        return "EqxBackground" !== l[t] && "EqxGravity" !== l[t]
                    }).sort(function (e, t) {
                        var n = e.css.zIndex, i = t.css.zIndex;
                        return n - i
                    }).map(function (e, t) {
                        return e.num = t + 1, e.css.zIndex = t + 1, e
                    }).forEach(function (e) {
                        var t = n._initEqxComp(e);
                        t && n.eqxItems.push(t), r.push(t)
                    }), r.push.apply(r, i(t.map(function (e) {
                        var t = n._initEqxGroup(e);
                        return n.eqxItems.push(t), t.itemIds.forEach(function (e) {
                            return t.addEqxItem(n.getEqxItem(e))
                        }), t
                    }))), r
                }
            }, {
                key: "initEqxItem", value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1, n = this;
                    return e.isGroupItem() ? (t > -1 ? n.eqxItems.splice(t, 0, e) : n.eqxItems.push(e), e.addEqxItems.apply(e, i(e.itemIds.map(function (e) {
                        return n.getEqxItem(e)
                    })))) : t > -1 ? n.eqxItems.splice(t, 0, e) : n.eqxItems.push(e), this
                }
            }, {
                key: "renderEqxItems", value: function () {
                    for (var e = [], t = this.eqxItems.length, n = t - 1; n >= 0; n--) {
                        var i = this.eqxItems[n];
                        i.rendered || e.push(i.render())
                    }
                    return this.$ul.append(e), this
                }
            }, {
                key: "renderEqxItem", value: function (e, t) {
                    t && e.rendered && (e.rendered = !1, e.destroy());
                    var n = e.group ? e.group.$ul : this.$ul;
                    return e.rendered || n.append(e.render()), e.isGroupItem() || "16" !== e.type || (this.hasPipButton = 1), this
                }
            }, {
                key: "toJson", value: function () {
                    var e = [], t = [], n = this.flash || {}, i = n.duration, o = void 0 === i ? null : i,
                        r = n.durationType, s = void 0 === r ? 0 : r, c = this.json, l = c.thumbnail, p = c.area,
                        u = c.pipButton, d = c.id, m = c.displayed, f = c.screenBg;
                    this.eqxItems.sort(function (e, t) {
                        return e.zIndex - t.zIndex
                    });
                    for (var g = 0; g < this.eqxItems.length; g++) {
                        var h = this.eqxItems[g];
                        h instanceof a ? t.push(h.toJson()) : e.push(h.toJson())
                    }
                    if (null !== o && null !== s) var v = {duration: o, durationType: s};
                    return {
                        id: d,
                        area: p,
                        flash: v,
                        elems: e,
                        groups: t,
                        displayed: m,
                        thumbnail: l,
                        pipButton: u,
                        screenBg: f,
                        name: this.name,
                        hash: this._lastHash,
                        compIds: this.eqxItems.map(function (e) {
                            return e.id
                        })
                    }
                }
            }, {
                key: "updateEqxLayerIndex", value: function (e) {
                    this.$layer && (this.zIndex = e, this.$layer && this.$layer.css({zIndex: e}))
                }
            }, {
                key: "isEqxLayer", value: function () {
                    return !0
                }
            }, {
                key: "render", value: function () {
                    var e = this.eqxPage.pageJson, t = void 0 === e ? {} : e, n = t.properties.oneShot,
                        i = void 0 === n ? {} : n, o = this.eqxScene.config.mode, r = t.properties.longPage,
                        a = void 0 === r ? null : r, s = a ? a + "px" : "100%";
                    if (this.$layer = $('<section class="layer" id="' + this.id + '" style="position: absolute;width: 100%;height: ' + s + ';">\n                <div class="layer-box">\n                    <ul id="edit_area" class="layer-items edit_area weebly-content-area weebly-area-active"></ul>\n                </div>\n            </section>'), this.$layerBox = this.$layer.find(".layer-box"), this.$ul = this.$layerBox.find("ul"), this.$layer.css({zIndex: this.zIndex}), this.initEqxItems(), this.renderEqxItems(), i.isOpen && "view" === o) {
                        var c = "translate3d(0px, 0px, " + (-this._getLayerTranslate3dz() || 0) + "px)";
                        this.$layer.css({transform: c})
                    }
                    return u() || (window.top === window ? this.setUlTopAndLeft() : this.setIframeUlTopAndLeft()), console.log("这里初始化层背景"), this.renderBg(this.addBgJson(this.json.screenBg)), this.display(), this.initElementsParallax(), this.$layer
                }
            }, {
                key: "initElementsParallax", value: function () {
                    var e = this, t = this.items, n = t.some(function (e) {
                        var t = e.properties || {}, n = t.GSensor, i = void 0 === n ? {} : n;
                        return i.isUsed
                    });
                    n && d().then(function () {
                        var t = window.Parallax;
                        e.parallax = new t(e.$ul.get(0)), console.log("初始化组件重力感应", e)
                    })
                }
            }, {
                key: "display", value: function () {
                    this.displayed ? (this.$layer.show(), this.allowOperate = !0) : (this.$layer.hide(), this.allowOperate = !1)
                }
            }, {
                key: "hide", value: function () {
                    this.$layer && this.$layer.hide()
                }
            }, {
                key: "show", value: function () {
                    this.$layer && this.$layer.show()
                }
            }, {
                key: "getEqxItem", value: function (e) {
                    return this.eqxItems.find(function (t) {
                        return t.id === e
                    })
                }
            }, {
                key: "hasGroupsInLayer", value: function () {
                    return this.items.some(function (e) {
                        return /group/.test(e.id)
                    })
                }
            }, {
                key: "getLayerTreeStructure", value: function () {
                    function e(n) {
                        return n.forEach(function (t) {
                            return t.isGroupItem() && e(t.eqxItems)
                        }), n.sort(function (e, n) {
                            var i = e.getZIndex(), o = n.getZIndex();
                            return t ? i - o : o - i
                        }), n
                    }

                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], n = this.getDirectItems();
                    return e(n)
                }
            }, {
                key: "updateItemIndex", value: function (e, t) {
                    if (e && t) {
                        var n = t.getZIndex(), i = this.getLayerTreeStructure(!0), o = t.group ? t.group.eqxItems : i,
                            r = o.indexOf(t);
                        if ("++" === e) o.push(o.splice(r, 1)[0]); else if ("--" === e) o.unshift(o.splice(r, 1)[0]); else if (e.startsWith("+")) {
                            var a = (/\+(\d+|\+)/.exec(e) || [])[1] || 1;
                            a = Math.min(a, o.length - r), o.splice(r + a, 0, o.splice(r, 1)[0])
                        } else {
                            if (!e.startsWith("-")) throw new TypeError("invalid action: " + e);
                            var s = (/-(\d+|\+)/.exec(e) || [])[1] || 1;
                            s = Math.min(s, r), o.splice(r - s, 0, o.splice(r, 1)[0])
                        }
                        var c = this._getCompsFromTree(o, !0);
                        this.updateCompsIndex(c, !0);
                        var l = t.getZIndex();
                        p("updateItemIndex", n, "-->", e, "-->", l, t)
                    }
                }
            }, {
                key: "_getCompsFromTree", value: function (e) {
                    function t(e, t) {
                        var n = e.getZIndex() - t.getZIndex();
                        return o ? n : -n
                    }

                    var n = this, o = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r = [];
                    return e.forEach(function (e) {
                        return e.isGroupItem() ? r.push.apply(r, i(n._getCompsFromTree(e.eqxItems).sort(t))) : r.push(e)
                    }), r
                }
            }, {
                key: "updateCompsIndex", value: function (e) {
                    for (var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = e.length, i = n - 1; i >= 0; i--) {
                        var o = e[i], r = t ? i + 1 : n - i;
                        o.updateCss({zIndex: r})
                    }
                    this.autoZIndex()
                }
            }, {
                key: "autoZIndex", value: function () {
                    this.getDirectItems().forEach(function (e) {
                        return e.autoZIndex()
                    })
                }
            }, {
                key: "getDirectItems", value: function () {
                    return this.eqxItems.filter(function (e) {
                        return !e.group
                    })
                }
            }, {
                key: "deleteEqxItem", value: function (e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = this;
                    e.isGroupItem() && e.eqxItems.forEach(function (e) {
                        return n.deleteEqxItem(e)
                    });
                    var i = n.eqxItems.findIndex(function (t) {
                        return t === e
                    });
                    i > -1 && n.eqxItems.splice(i, 1), e.group && (i = e.group.eqxItems.findIndex(function (t) {
                        return t === e
                    }), i > -1 && e.group.eqxItems.splice(i, 1)), t && e.destroy()
                }
            }, {
                key: "addEqxItems", value: function (e) {
                    var t, n = this;
                    (t = n.eqxItems).push.apply(t, i(e)), e.forEach(function (e) {
                        e.eqxLayer.deleteEqxItem(e, !1), e.eqxLayer = n, n.$ul.append(e.$item)
                    })
                }
            }, {
                key: "destroy", value: function () {
                    this.$layer.remove(), this.$layer = null, this.$layerBox = null, this.$ul = null
                }
            }, {
                key: "setUlTopAndLeft", value: function () {
                    if (!this.eqxScene.config.disableSetUlTopAndLeft) {
                        var e, t;
                        this.width / this.height >= 320 / 486 ? e = (this.width / (this.height / 486) - 320) / 2 : t = (this.height / (this.width / 320) - 486) / 2, e && this.$ul.css({marginLeft: e}), t && this.$ul.css({marginTop: t})
                    }
                }
            }, {
                key: "setIframeUlTopAndLeft", value: function () {
                    var e, t = (this.width - 320) / 2, n = (this.height - 486) / 2;
                    return e = this.width / this.height <= 320 / 486 ? "scale(" + this.width / 320 + ")" : "scale(" + this.height / 486 + ")", this.$ul.css({
                        marginTop: n,
                        marginLeft: t,
                        transform: e
                    }), {marginLeft: t, marginTop: n}
                }
            }, {
                key: "initEqxBgByJson", value: function (e) {
                    if (e) {
                        var t = e.properties.bgColor, n = e.properties.imgSrc;
                        if (t && !n) var i = '<div class="layer-bg" style="width: 100%; height: 100%; background-color: ' + e.properties.bgColor + ';"></div>'; else i = '<div class="layer-bg" style="width: 100%; height: 100%;background-image: url(\'' + m(n, 320, 486) + "');\n                        background-size: cover; background-position: 50% 50%;\n                        background-origin: content-box;\"></div>";
                        return this.layerBg = $('<div style="width: 100%; height: 100%; overflow: hidden;position: absolute;z-index: -1;opacity: ' + e.css.opacity + '">\n                ' + i + "\n            </div>"), this.layerBg
                    }
                }
            }, {
                key: "renderBg", value: function (e) {
                    var t = this.$layer.find(".layer-bg");
                    t ? this.$layer.append(e) : console.error("background already rendered")
                }
            }, {
                key: "addBgJson", value: function (e) {
                    return this.deleteBg(), this.json.screenBg = e, this.initEqxBgByJson(e)
                }
            }, {
                key: "deleteBg", value: function () {
                    this.layerBg && this.layerBg.remove()
                }
            }, {
                key: "updateBgOpacity", value: function (e) {
                    this.layerBg.css({opacity: e})
                }
            }, {
                key: "displayed", get: function () {
                    var e = this.json.displayed, t = void 0 === e || e;
                    return t
                }, set: function (e) {
                    this.json.displayed = e
                }
            }, {
                key: "zIndex", get: function () {
                    return this.json.zIndex
                }, set: function (e) {
                    this.json.zIndex = e
                }
            }, {
                key: "width", get: function () {
                    return this.eqxPage.width
                }
            }, {
                key: "height", get: function () {
                    return this.eqxPage.height
                }
            }, {
                key: "eqxScene", get: function () {
                    return this.eqxPage.eqxScene
                }
            }, {
                key: "translate3dz", get: function () {
                    return this._getLayerTranslate3dz()
                }
            }, {
                key: "hasPipButton", get: function () {
                    return this.json.pipButton
                }, set: function (e) {
                    this.json.pipButton = e
                }
            }, {
                key: "thumbnail", get: function () {
                    return this.json.thumbnail
                }, set: function (e) {
                    this.json.thumbnail = e
                }
            }, {
                key: "area", get: function () {
                    return this.json.area
                }, set: function (e) {
                    this.json.area = e
                }
            }]), e
        }());
    e.exports = f
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e(t) {
            n(this, e), this.page = t
        }

        return i(e, [{
            key: "copyScreen", value: function (e) {
                var t = this.screens[e], n = this.page.addEmptyEqxLayer(e + 1), i = this.page.groupManager,
                    o = this.page.pageJson.properties, r = o.triggerGroup, a = t.getDirectItems(),
                    s = i.copyItems(a, 0, 0, r);
                n.addEqxItems(s), this.pipLayerHandler()
            }
        }, {
            key: "addScreen", value: function () {
                this.page.switchCurrentLayer(this.page.addEmptyEqxLayer()), this.showCurrentScreen(), this.pipLayerHandler()
            }
        }, {
            key: "pipLayerHandler", value: function () {
                var e = this.page.eqxLayerList, t = e.findIndex(function (e) {
                    return e.hasPipButton
                });
                t !== -1 && (e.push(e.splice(t, 1)[0]), e.forEach(function (e, t) {
                    return e.updateEqxLayerIndex(t + 1)
                }))
            }
        }, {
            key: "deleteScreen", value: function (e) {
                var t = this.screens[e];
                this.page.deleteEqxLayer(t)
            }
        }, {
            key: "showCurrentScreen", value: function () {
                var e = this;
                this.screens.forEach(function (t) {
                    t === e.currentScreen ? (t.$layer && t.$layer.show(), t.setAllowOperate(!0)) : (t.$layer && t.$layer.hide(), t.setAllowOperate(!1))
                })
            }
        }, {
            key: "switchScreen", value: function (e) {
                var t = this.screens[e];
                this.page.switchCurrentLayer(t), this.showCurrentScreen(), this.pipLayerHandler()
            }
        }, {
            key: "getCompsInScreen", value: function (e) {
                return e ? e.eqxItems.slice().filter(function (e) {
                    return !e.isGroupItem()
                }) : []
            }
        }, {
            key: "findImageCompInScreen", value: function (e) {
                var t = this.getCompsInScreen(e);
                return t.find(function (e) {
                    var t = e.compJson.properties;
                    return !!t.pip
                })
            }
        }, {
            key: "updateCompsTranslateZ", value: function (e, t, n) {
                if (e && e.length) {
                    var i = n || this.currentScreen, o = this.screens.findIndex(function (e) {
                        return e === i
                    });
                    return e.forEach(function (e) {
                        var n = e.compJson.properties;
                        n.translate3dZ = o * (t || 320)
                    }), e
                }
            }
        }, {
            key: "screens", get: function () {
                return this.page.eqxLayerList.filter(function (e) {
                    return !e.hasPipButton
                }).sort(function (e, t) {
                    return e.zIndex - t.zIndex
                })
            }
        }, {
            key: "currentScreen", get: function () {
                return this.page.getCurrentLayer()
            }
        }, {
            key: "currentScreenIndex", get: function () {
                var e = this;
                return this.screens.findIndex(function (t) {
                    return t === e.currentScreen
                })
            }
        }]), e
    }();
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), r = n(458), a = r.RAW_EVENT, s = r.EQX_EVENT, c = n(514).throttle, l = "ontouchstart" in window,
        p = l ? "touchstart" : "mousedown", u = l ? "touchmove" : "mousemove", d = l ? "touchend" : "mouseup",
        m = l ? "touchcancel" : "mouseleave", f = n(176).openUrl, g = function () {
            function e(t, n) {
                i(this, e), n || this.iteratorScene(t)
            }

            return o(e, [{
                key: "iteratorScene", value: function (e) {
                    var t = this, n = null;
                    e.pageJson.properties.triggerGroup && e.pageJson.properties.triggerGroup instanceof Array && e.pageJson.properties.triggerGroup.forEach(function (i) {
                        var o = e;
                        "e" == i.targetType && (o = e.getEqxCompById(i.targetId)), o && (i.eventType === a.click ? (n = e.getEqxCompById(i.sourceId), n && n.$li && n.$li.on("click", function (n) {
                            n.preventDefault(), n.stopPropagation(), t.triggerEleByState(o, i, e)
                        })) : i.eventType === a.shake ? t.addPageTrigger(o, i, e) : i.eventType === a.taphold ? (n = e.getEqxCompById(i.sourceId), n && n.$li && t.addTapholdTrigger(n, o, i, e)) : i.eventType === a.slide ? (n = e.getEqxCompById(i.sourceId), n && n.$li && t.addSlideTrigger(n, o, i, e)) : i.eventType === a.mediaEnded ? (n = e.getEqxCompById(i.sourceId), n && n.$context && ("o" === n.compJson.type ? n.$context.on("ended", function () {
                            t.triggerEleByState(o, i, e)
                        }) : n.soundAgent && $(n.soundAgent.audio).on("ended", function () {
                            t.triggerEleByState(o, i, e)
                        }))) : i.eventType === a.mediaCanplay ? (n = e.getEqxCompById(i.sourceId), n && n.$context && ("o" === n.compJson.type ? n.$context.on("canplay", function () {
                            t.triggerEleByState(o, i, e)
                        }) : n.soundAgent && $(n.soundAgent.audio).on("canplay", function () {
                            t.triggerEleByState(o, i, e)
                        }))) : i.eventType === a.mediaPlaying ? (n = e.getEqxCompById(i.sourceId), n && n.$context && ("o" === n.compJson.type ? n.$context.on("playing", function () {
                            t.triggerEleByState(o, i, e)
                        }) : n.soundAgent && $(n.soundAgent.audio).on("playing", function () {
                            t.triggerEleByState(o, i, e)
                        }))) : i.eventType === a.animStart ? (n = e.getEqxCompById(i.sourceId), n && n.$boxDiv && n.$boxDiv.on("animationstart", function () {
                            t.triggerEleByState(o, i, e)
                        })) : i.eventType === a.animEnd ? (n = e.getEqxCompById(i.sourceId), n && n.$boxDiv && n.$boxDiv.on("animationend", function () {
                            t.triggerEleByState(o, i, e)
                        })) : i.eventType === a.animIteration && (n = e.getEqxCompById(i.sourceId), n && n.$boxDiv && n.$boxDiv.on("animationiteration", function () {
                            t.triggerEleByState(o, i, e)
                        })))
                    })
                }
            }, {
                key: "addSlideTrigger", value: function (e, t, n, i) {
                    function o(o) {
                        o.stopPropagation();
                        var r = l ? o.originalEvent.targetTouches[0].pageX : o.pageX,
                            p = l ? o.originalEvent.targetTouches[0].pageY : o.pageY;
                        h = p - s, g = r - a, (Math.abs(g - f.left) > 10 || Math.abs(h - f.top) > 10) && c(function (e, t) {
                            m.triggerEleByState(e, t, i)
                        }, 50, 100)(t, n), e.$li.css({top: h + "px", left: g + "px"})
                    }

                    function r() {
                        g = f.left, h = f.top, e.$li.css({top: h, left: g}), $(e.$li).off(u, o), $(document).off(d, r)
                    }

                    var a = 0, s = 0, m = this, f = e.compJson.css, g = f.left, h = f.top;
                    e.$li.on(p, function (t) {
                        t.preventDefault(), t.stopPropagation();
                        var n = l ? t.originalEvent.targetTouches[0].pageX : t.pageX,
                            i = l ? t.originalEvent.targetTouches[0].pageY : t.pageY;
                        a = n - g, s = i - h, $(e.$li).on(u, o), $(document).on(d, r)
                    })
                }
            }, {
                key: "addTapholdTrigger", value: function (e, t, n, i) {
                    function o(t) {
                        t.preventDefault(), t.stopPropagation(), v = l ? t.originalEvent.targetTouches[0].pageX : t.pageX, y = l ? t.originalEvent.targetTouches[0].pageY : t.pageY, e.$li.bind(d, c).bind(m, c).bind(u, r), f = (new Date).getTime() / 1e3, a()
                    }

                    function r(e) {
                        var t = l ? e.originalEvent.targetTouches[0].pageX : e.pageX,
                            n = l ? e.originalEvent.targetTouches[0].pageY : e.pageY;
                        (Math.abs(t - v) > 10 || Math.abs(n - y) > 10) && c()
                    }

                    function a() {
                        var e = (new Date).getTime() / 1e3, o = e - f;
                        o >= 2 ? (h.triggerEleByState(t, n, i), b = !0) : g = setTimeout(a, 500)
                    }

                    function c() {
                        if (b) {
                            if (n.targetStateReverse) {
                                var o = JSON.parse(JSON.stringify(n));
                                switch (o.targetState) {
                                    case s.show:
                                        o.targetState = s.hide, h.triggerEleByState(t, o, i);
                                        break;
                                    case s.hide:
                                        o.targetState = s.show, h.triggerEleByState(t, o, i);
                                        break;
                                    case s.play:
                                        h.triggerEleByState(t, n, i)
                                }
                            }
                            b = !1
                        }
                        clearTimeout(g), e.$li.unbind(d, c).unbind(m, c).unbind(u, r)
                    }

                    var f = 0, g = null, h = this, v = 0, y = 0, b = !1;
                    e.$li.find("img").addClass("taphold_image"), e.$li.on(p, o)
                }
            }, {
                key: "addPageTrigger", value: function (e, t, i) {
                    if (window.DeviceMotionEvent) {
                        this.shakeAudio || (this.shakeAudio = document.createElement("audio"), this.shakeAudio.src = n(776));
                        var o = this, r = 4e3, a = 0, s = 0, c = 0, l = 0, p = 100;
                        window.addEventListener("devicemotion", function (n) {
                            var u = n.accelerationIncludingGravity, d = u.x, m = u.y, f = u.z, g = (new Date).getTime();
                            if (g - a > p) {
                                var h = parseInt(g - a);
                                a = g;
                                var v = Math.abs(d + m + f - s - c - l) / h * 1e4;
                                v > r && i.displayed ? (p = 2e3, o.triggerEleByState(e, t, i)) : p = 100, s = d, c = m, l = f
                            }
                        }, !1)
                    }
                }
            }, {
                key: "triggerEleByState", value: function (e, t, n) {
                    switch (window._tracker_api_ && window._tracker_api_.trigger && window._tracker_api_.trigger(n.pageJson.id + "_" + t.sourceId, t.eventType), t.targetState) {
                        case s.show:
                            setTimeout(function () {
                                e.eleShow(), e.triggerHide = !1
                            }, 1e3 * t.delay);
                            break;
                        case s.hide:
                            setTimeout(function () {
                                e.eleHide(), e.triggerHide = !0
                            }, 1e3 * t.delay);
                            break;
                        case s.random:
                            e.busy || (e.busy = !0, setTimeout(function () {
                                e.showRandomImg(), e.busy = !1
                            }, 1e3 * t.delay));
                            break;
                        case s.play:
                            "o" == e.compJson.type ? e.playVideo() : e.soundAgent && (e.soundAgent.audio.paused ? e.soundAgent.startPlay() : e.soundAgent.stopPlay(), $(e.soundAgent.audio).on("ended", function () {
                                return e.soundAgent.manager.onEnd(e.soundAgent)
                            }));
                            break;
                        case s.link:
                            setTimeout(function () {
                                t.targetContent.startsWith("http://") && window.location.href.startsWith("https://") && (t.targetContent = t.targetContent.replace("http://", "https://")), f(t.targetContent, n.pageJson.id)
                            }, 1e3 * t.delay);
                            break;
                        case s.page:
                            setTimeout(function () {
                                e.eqxScene.pageScroll.goToPageById(+t.targetContent)
                            }, 1e3 * t.delay);
                            break;
                        case s.phone:
                            window.location.href = "tel:" + t.targetContent;
                            break;
                        case s.position:
                            var i = e.compJson.css.top;
                            -i > 0 ? n.touchPos = 0 : -i < n.pLen ? n.touchPos = n.pLen : n.touchPos = -i, n.doTransform(n.touchPos, 100);
                            break;
                        case s.anim:
                            e.eleHide(), e.$li.offset(), e.eleShow();
                            break;
                        default:
                            return !1
                    }
                }
            }, {
                key: "compHasTrigger", value: function (e, t) {
                    return e.some(function (e) {
                        return e.targetId === t && (e.targetState === s.hide || e.targetState === s.show)
                    })
                }
            }]), e
        }();
    e.exports = g
}, function (e, t, n) {
    e.exports = n.p + "images/wxShake-3a1ea8.mp3"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(500), c = n(176).resolveUrl, l = n(114), p = n(175).isWeixin, u = n(501).getWxJSSDK,
        d = n(175).mobilecheck, m = n(175).isIOS, f = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                r.manager = n;
                var a = r.master.pageJson.properties.music;
                return r.soundJson = a, r.type = 6, p() && (r.wxJssdk = u()), r.initAudio(), r.init$audio(), r.register(), r.addListeners(), r
            }

            return r(t, e), a(t, [{
                key: "initAudio", value: function () {
                    this.isSoundValid() && (this.audio = new window.Audio, this.audio.src = c(l.FILE, this.soundJson.url), this.audio.loop = !0)
                }
            }, {
                key: "init$audio", value: function () {
                    this.isSoundValid() && (this.$audio = $('<div class="bgm-btn"></div>'), this.$audio.appendTo(this.master.eqxScene.$ele))
                }
            }, {
                key: "addListeners", value: function () {
                    var e = this;
                    this.$audio && this.$audio.on(d() ? "touchend" : "click", function (t) {
                        t.stopPropagation(), e.audio.paused ? e.start() : e.pause()
                    })
                }
            }, {
                key: "start", value: function () {
                    var e = this.master;
                    if (e.displayed) {
                        var t = function (e, t) {
                            4 === e.readyState ? (e.paused && e.play(), t()) : (e.load(), $(e).one("canplay", function () {
                                e.play(), t()
                            }))
                        };
                        if (this.isSoundValid()) {
                            var n = this, i = this.audio;
                            p() ? this.wxJssdk.then(function () {
                                wx.checkJsApi({
                                    jsApiList: ["checkJsApi"], success: function () {
                                        t(i, function () {
                                            n.startRotate(), n.manager.onPlay(n)
                                        })
                                    }
                                })
                            }) : t(i, function () {
                                n.startRotate(), n.manager.onPlay(n)
                            })
                        } else this.manager.onPlay(this)
                    }
                }
            }, {
                key: "pause", value: function () {
                    this.audio && this.audio.pause(), this.stopRotate()
                }
            }, {
                key: "hide", value: function () {
                    this.$audio && this.$audio.hide(), this.pause(), this.audio && (this.audio.currentTime = 0)
                }
            }, {
                key: "destroy", value: function () {
                    this.soundJson = null, this.audio = null, this.$audio = null
                }
            }, {
                key: "down", value: function () {
                    this.audio && (this.audio.volume = .1)
                }
            }, {
                key: "restore", value: function () {
                    this.audio && (this.audio.volume = 1)
                }
            }, {
                key: "startRotate", value: function () {
                    this.$audio && (this.$audio.show(), this.$audio.addClass("rotate"))
                }
            }, {
                key: "stopRotate", value: function () {
                    this.$audio && this.$audio.removeClass("rotate")
                }
            }, {
                key: "isSoundValid", value: function () {
                    return !(!this.soundJson || !this.soundJson.url)
                }
            }, {
                key: "update", value: function (e) {
                    switch (e.type) {
                        case"pause":
                            this.pause();
                            break;
                        case"hide":
                            this.hide();
                            break;
                        case"down":
                            m() ? this.pause() : this.down();
                            break;
                        case"restore":
                            m() ? this.start() : this.restore();
                            break;
                        case"play":
                            this.start()
                    }
                }
            }]), t
        }(s);
    e.exports = f
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(773), c = n(114), l = n(729), p = n(175).mobilecheck, u = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "render", value: function () {
                var e = this, t = this.eqxPage, n = t.pageJson, i = n.properties.longPage, o = void 0 === i ? null : i,
                    r = o ? o + "px" : "100%", a = t.getPageWidth(), s = t.getPageHeight();
                return this.$layer = $('<section class="layer pip-layer" style="position: absolute;width: 100%;height: ' + r + ';">\n                <div class="layer-box" style="width: 100%;height: 100%;">\n                    <ul style="position: absolute;width: ' + a + "px;height: " + s + 'px;"></ul>\n                </div>\n            </section>'), this.$layerBox = this.$layer.find(".layer-box"), this.$ul = this.$layerBox.find("ul"), this.initPipCanvasNode(), this.renderPipButton(), setTimeout(function () {
                    e.adaptive()
                }), this.$layer
            }
        }, {
            key: "adaptive", value: function () {
                if (p()) {
                    var e = this.eqxPage,
                        t = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                        n = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,
                        i = e.getPageWidth(), o = e.getPageHeight(), r = (t - i) / 2, a = (n - o) / 2;
                    if (t / i > n / o) var s = t / i; else s = n / o;
                    this.$ul.css({left: r, top: a, transform: "scale(" + s + ")", transformOrigin: "center center 0"})
                }
            }
        }, {
            key: "renderPipButton", value: function () {
                var e = this.eqxPage, t = e.pageJson.elements, n = void 0 === t ? [] : t, i = n.find(function (e) {
                    return "16" === e.type
                });
                if (i) {
                    var o = new l(i, this);
                    this.renderEqxItem(o), e.pip.btn = o, e.pip.$btn = o.$li
                }
            }
        }, {
            key: "initPipCanvasNode", value: function () {
                var e = this, t = e.eqxPage, n = t.pageJson.properties.pip, i = void 0 === n ? {} : n,
                    o = t.pageJson.extend || {}, r = o.screens, a = void 0 === r ? [] : r,
                    s = t.pip = {index: 0, radio: 1, fps: 60, scale: .985, direction: 1, init: !0},
                    c = s.$pip = $('<li style="position: absolute;top: 0;left: 0;"></li>'), l = t.getPageWidth(),
                    p = t.getPageHeight(),
                    u = s.$canvas = $('<canvas style="width: ' + l + "px;height: " + p + 'px;"></canvas>'),
                    d = a.filter(function (e) {
                        return !e.pipButton
                    });
                2 === i.mode && (s.index = d.length - 2, s.radio = e.__radio(d[s.index + 1].thumbnail.w, l, d[s.index + 1].area.width), s.direction = 0), s.context = u[0].getContext("2d");
                var m = e._getPixelRatio(s.context), f = m * l, g = m * p;
                u[0].width = f, u[0].height = g, c.append(u), e.$ul.append(c), e._preload(d).then(function () {
                    e._draw(s, i, d, f, g), e._bind$btnEvent(s, i, d, f, g)
                })["catch"](function () {
                    console.log("画中画图片预加载失败")
                })
            }
        }, {
            key: "__radio", value: function (e, t, n) {
                var i = 1;
                return i = e / t !== 2 ? n / e : n / e * 2
            }
        }, {
            key: "_draw", value: function (e, t, n, i, o) {
                function r() {
                    e.direction = e.direction ? 0 : 1, 1 === t.mode && e.direction ? e.btn.showForwardButton() : 1 !== t.mode || e.direction ? 2 === t.mode && e.direction ? e.btn.showBackButton() : 2 !== t.mode || e.direction || e.btn.showForwardButton() : e.btn.showBackButton()
                }

                function a(e, t, n, r, a, s, c, p, u, d, m) {
                    l ? e.drawImage(t, 0, 0, n, r, u / (a - c) * (1 - m) * i, d / (s - p) * (1 - m) * o, i * m, o * m) : e.drawImage(t, 0, 0, n, r, u / (a / 2 - c) * (1 - m) * i, d / (s / 2 - p) * (1 - m) * o, i * m, o * m)
                }

                function s(e, t, n, r, a, s, c, p, u) {
                    l ? e.drawImage(t, c - (a / u - a) * (c / (n - a)), p - (s / u - s) * (p / (r - s)), a / u, s / u, 0, 0, i, o) : e.drawImage(t, 2 * (c - (a / u - a) * (c / (n / 2 - a))), 2 * (p - (s / u - s) * (p / (r / 2 - s))), 2 * a / u, 2 * s / u, 0, 0, i, o)
                }

                var c = this, l = !(n[e.index].thumbnail.w / i == 2);
                if (e.direction && e.index + 1 < n.length) {
                    if (e.radio < c.__radio(n[e.index + 1].thumbnail.w, i, n[e.index + 1].area.width)) {
                        if (!n[++e.index + 1]) return void(t.playback && (e.index = n.length - 2, e.radio = c.__radio(n[e.index + 1].thumbnail.w, i, n[e.index + 1].area.width), r()));
                        e.radio = 1
                    }
                } else {
                    if (e.direction || !(e.index >= 0)) return;
                    if (e.radio > 1) {
                        if (!n[--e.index]) return void(t.playback && (e.index = 0, e.radio = 1, r()));
                        e.radio = c.__radio(n[e.index + 1].thumbnail.w, i, n[e.index + 1].area.width)
                    }
                }
                e.current = n[e.index], e.next = n[e.index + 1], s(e.context, e.next.image, e.next.thumbnail.w, e.next.thumbnail.h, e.next.area.width, e.next.area.height, e.next.area.left, e.next.area.top, e.radio), a(e.context, e.current.image, e.current.thumbnail.w, e.current.thumbnail.h, e.next.thumbnail.w, e.next.thumbnail.h, e.next.area.width, e.next.area.height, e.next.area.left, e.next.area.top, e.radio)
            }
        }, {
            key: "_getPixelRatio", value: function (e) {
                var t = e.backingStorePixelRatio || e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
                return (window.devicePixelRatio || 1) / t
            }
        }, {
            key: "_bind$btnEvent", value: function (e, t, n, i, o) {
                var r = this;
                e.$btn.on("contextmenu", function (e) {
                    e.preventDefault()
                }).on("touchstart mousedown", function (a) {
                    function s() {
                        var a = (new Date).getTime();
                        if (e.index >= 0 && e.index + 1 < n.length) {
                            if (a - c < 1e3 / e.fps) return void(e.timer = requestAnimationFrame(s));
                            c = a
                        }
                        if (e.direction && e.index + 1 < n.length) e.radio = e.scale * e.radio; else {
                            if (e.direction || !(e.index >= 0)) return;
                            e.radio = e.radio / e.scale
                        }
                        delete e.init, r._draw(e, t, n, i, o), e.timer = requestAnimationFrame(s)
                    }

                    a.preventDefault(), cancelAnimationFrame(e.timer);
                    var c = (new Date).getTime();
                    e.timer = requestAnimationFrame(s)
                }).on("touchend mouseup", function (t) {
                    t.preventDefault(), cancelAnimationFrame(e.timer)
                })
            }
        }, {
            key: "_preload", value: function (e) {
                var t = e.length, n = 0;
                return new Promise(function (i, o) {
                    for (var r = 0; r < t; r++) {
                        var a = e[r], s = a.image = new Image;
                        a.thumbnail ? (s.src = c.FILE + a.thumbnail.src, s.onload = function () {
                            ++n === t && i()
                        }) : o({})
                    }
                })
            }
        }]), t
    }(s);
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(208).getEvent, s = n(780).getSize, c = n(175), l = function () {
        function e(t) {
            o(this, e), this._page = t, this.init()
        }

        return r(e, [{
            key: "open", value: function () {
                var e = this._page, t = e.pageJson.properties;
                t.oneShot = t.oneShot || {}, t.oneShot.isOpen = !0, t.oneShot.perspective = t.oneShot.perspective || 320, this.init()
            }
        }, {
            key: "play", value: function () {
                var e = this, t = e._page, n = t.eqxScene.config.mode;
                if ("view" === n && e.options && e.options.isOpen && e.options.auto) {
                    var i = e._oneShotMaxTranslateZ(), o = 0;
                    !function r() {
                        return o > i || !t.$editDiv ? void e.clearAnimation() : (e.animationframe_controll = requestAnimationFrame(r), o += 2, void e._updateOneShot$ul(o))
                    }()
                }
            }
        }, {
            key: "reset", value: function () {
                this.options && this.options.isOpen && (this.position = 0, this._updateOneShot$ul(0), this.clearAnimation())
            }
        }, {
            key: "clearAnimation", value: function () {
                this.animationframe_controll && cancelAnimationFrame(this.animationframe_controll)
            }
        }, {
            key: "init", value: function (e) {
                var t = this, n = this._page, i = n.pageJson, o = i.properties.oneShot, r = void 0 === o ? {} : o;
                if (r.isOpen) {
                    isNaN(parseFloat(e)) && (e = parseFloat(r.perspective));
                    var a = $('<div class="one-shot-container"></div>'),
                        l = $('<div class="one-shot-change-wraper"></div>');
                    this.$container = a, l.css({
                        transformStyle: "preserve-3d",
                        transform: "translateZ(0px)",
                        height: "100%",
                        width: "100%"
                    }), this.options = r;
                    var p = n.$editDiv;
                    a.css({
                        width: "100%",
                        height: "100%",
                        perspective: e + "px",
                        transformOrigin: "50% 50% 0",
                        transformStyle: "preserve-3d"
                    }), this.options.deviceWidth = s().width, this.options.showlimit = c.isAndroidPhone() ? 50 : 20, this.options.layerNum = n.eqxLayerList.length, n.$pageDiv.append(p), p.children("section.layer").appendTo(l), a.append(l), a.appendTo(p), this.change_element = l.get(0), this._updateOneShot$ul(0), this._addOneShotEvent(), n.eqxLayerList.forEach(function (e, t) {
                        t > 0 && e.$layer.hide()
                    }), Promise.resolve().then(function () {
                        var e = t._page.eqxBackground, i = void 0 === e ? null : e;
                        i && i.$bgEle && n.$editDiv.prepend(i.$bgEle)
                    })
                }
            }
        }, {
            key: "_updateOneShot$ul", value: function (e) {
                var t = this.change_element;
                t && (this._caculateIsShow(e), requestAnimationFrame(function () {
                    t.style.webkitTransform = t.style.transform = t.style.mozTransform = "translateZ(" + e + "px)"
                }))
            }
        }, {
            key: "_addOneShotEvent", value: function () {
                var e = this, t = this._page, n = t.eqxScene.config.mode;
                if ("view" === n && !this.options.auto) {
                    this.position = 0;
                    var i = void 0, o = void 0, r = void 0, s = this._oneShotMaxTranslateZ();
                    t.$pageDiv.on("mousedown touchstart", function (e) {
                        e.stopPropagation(), i = !0, r = 0;
                        var t = a(e);
                        o = t.clientY
                    }), t.$pageDiv.on("mousemove touchmove", function (t) {
                        t.stopPropagation(), t.preventDefault();
                        var n = t.originalEvent, a = n.changedTouches || n;
                        if (i && !(a.length > 1)) {
                            var c = a[0] ? a[0] : a;
                            r = e.position + c.clientY - o, r > 0 ? (o = c.clientY, e.position = 0, r = 0) : 2 * r < -s && (o = c.clientY, e.position = -s / 2, r = -s / 2), e._updateOneShot$ul(2 * -r)
                        }
                    }), t.$pageDiv.on("mouseup touchend mouseleave", function () {
                        i && (i = !1, 0 !== r && (e.position = r))
                    })
                }
            }
        }, {
            key: "_oneShotMaxTranslateZ", value: function () {
                var e = this._page, t = Math.max.apply(Math, i(e.eqxLayerList.map(function (e) {
                    return parseFloat(e.translate3dz + 1) || 0
                })));
                return t
            }
        }, {
            key: "_caculateIsShow", value: function (e) {
                var t = this._page, n = this.options, i = n.perspective, o = n.distance, r = void 0 === o ? 320 : o,
                    a = this;
                t.eqxLayerList.forEach(function (t, n) {
                    var o = a._caculateByDistance(i, r * n, e, a.options.showlimit) ? "block" : "none";
                    t.$layer.css("display", o)
                })
            }
        }, {
            key: "_caculateByDistance", value: function (e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 30;
                if (n > t + e) return !1;
                var o = t - n;
                if (o < e) return !0;
                var r = e / (o + e), a = this.options.deviceWidth * r;
                return a >= i
            }
        }]), e
    }();
    e.exports = l, function () {
        for (var e = 0, t = ["webkit", "moz"], n = 0; n < t.length && !window.requestAnimationFrame; ++n) window.requestAnimationFrame = window[t[n] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[n] + "CancelAnimationFrame"] || window[t[n] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function (t) {
            var n = (new Date).getTime(), i = Math.max(0, 16.7 - (n - e)), o = window.setTimeout(function () {
                t(n + i)
            }, i);
            return e = n + i, o
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (e) {
            clearTimeout(e)
        })
    }()
}, function (e, t) {
    "use strict";

    function n() {
        var e = document.documentElement.clientWidth || document.body.clientWidth,
            t = document.documentElement.clientHeight || document.body.clientHeight;
        return {width: e, height: t}
    }

    e.exports = {getSize: n}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
        function e(e, t) {
            var n = [], i = !0, o = !1, r = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0) ;
            } catch (c) {
                o = !0, r = c
            } finally {
                try {
                    !i && s["return"] && s["return"]()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }

        return function (t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }(), a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, s = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), c = n(782), l = n(783), p = n(523), u = p.FtRuleType, d = n(93), m = d.isPlainObject, f = function () {
        function e(t) {
            o(this, e), this.eqxPage = t;
            var n = this.eqxPage.pageJson.properties;
            this.parse(n.groupSettings)
        }

        return s(e, [{
            key: "flatRules", value: function (t) {
                return e.flatRules(t)
            }
        }, {
            key: "validRule", value: function (e) {
                var t = this;
                return e.comps.forEach(function (e) {
                    var n = e.id, i = e.properties;
                    i.forEach(function (e, o) {
                        var r = "undefined" == typeof e ? "undefined" : a(e);
                        if ("object" === r) {
                            var s = t.eqxPage.getEqxItem(n);
                            if (!s) return;
                            for (var c = s.compJson.properties.items, l = -1, p = e.fill.join(","), u = 0; u < c.length; u++) if (c[u].elements.join(",") === p) {
                                l = u;
                                break
                            }
                            l > -1 ? i[o] = "fill-" + l : i[o] = "xxx"
                        }
                    })
                }), e
            }
        }, {
            key: "validRules", value: function (e) {
                var t = this, n = [];
                return (e || []).forEach(function (e) {
                    t.validRule(e) && n.push(e)
                }), n
            }
        }, {
            key: "parse", value: function (e) {
                var t = this, n = this.eqxPage;
                n.getEqxItems().forEach(function (e) {
                    e._ft = null
                }), e = this.flatRules(e);
                var i = this.validRules(e).filter(function (e) {
                    var t = e.type, i = e.comps.filter(function (e) {
                        var i = e.id, o = e.properties, r = n.getEqxItem(i);
                        if (!r) return !1;
                        var a = r.filterEditableProps();
                        return o = o.filter(function (e) {
                            var n = t + "." + e;
                            return a.includes(n)
                        }), o.length
                    });
                    return i.length
                }).map(function (e) {
                    return new l(e, t)
                });
                this.ftRules = i;
                var o = this.eqxPage.pageJson.properties;
                return this.rules = o.groupSettings = this.toJson(), i
            }
        }, {
            key: "toJson", value: function () {
                return this.ftRules.map(function (e) {
                    return e.toJson()
                })
            }
        }, {
            key: "getEqxItemRelativeFtRules", value: function (e) {
                if (e.isGroupItem()) {
                    var t = e.getAllSubEqxItems(), n = [];
                    return this.ftRules.forEach(function (e) {
                        var i = e.getEqxItems().some(function (e) {
                            return t.includes(e)
                        });
                        i && n.push(e)
                    }), n
                }
                return this.getEqxItemFtRules(e)
            }
        }, {
            key: "getEqxItemFtRules", value: function (e) {
                var t = [];
                return this.ftRules.forEach(function (n) {
                    n.getEqxItems().includes(e) && t.push(n)
                }), t
            }
        }, {
            key: "filterValidFtRules", value: function () {
                for (var e = 0; e < this.ftRules.length; e++) {
                    var t = this.ftRules[e], n = t.filterValidFtTerms();
                    n && e--
                }
            }
        }, {
            key: "findFtTerm", value: function (e, t) {
                for (var n = t.split("."), i = r(n, 2), o = i[0], a = i[1], s = 0; s < this.ftRules.length; s++) {
                    var c = this.ftRules[s];
                    if (c.type === o) {
                        var l = c.ftTerms.find(function (t) {
                            return t.canApplyTo(e, a)
                        });
                        if (l) return l
                    }
                }
            }
        }, {
            key: "addFtRule", value: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.ftRules.length;
                if (e instanceof c ? (e.ftRule.deleteFtTerm(e, !0), e = l.ftTermToFtRule(e, this)) : e instanceof l || this.validRule(e) && (e = new l(e, this)), !this.ftRules.includes(e)) return this.ftRules.splice(t, 0, e), e
            }
        }, {
            key: "addFtRules", value: function (t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.ftRules.length ? this.ftRules.length - 1 : 0;
                return m(t[0]) && (t = e.flatRules(t)), t.filter(function (e) {
                    var t = n.addFtRule(e, i);
                    if (t) return i++, !0
                })
            }
        }, {
            key: "convertFtTermToFtRule", value: function (e, t) {
                e.ftRule.deleteFtTerm(e, !0), this.addFtRule(e, t)
            }
        }, {
            key: "extractFtTermIntoFtRule", value: function (e, t, n) {
                e && t && this.canMerge([e.ftRule, t]) && (e.ftRule.deleteFtTerm(e, !0), t.addFtTerm(e, n || 0))
            }
        }, {
            key: "splitFtRule", value: function (e) {
                var t = this.ftRules.indexOf(e);
                if (t > -1 && e.ftTerms.length > 1) {
                    this.deleteFtRule(e);
                    var n = e.split();
                    return this.addFtRules(n, t)
                }
            }
        }, {
            key: "filterSameTypeFtRules", value: function (e) {
                var t = e.type;
                return this.ftRules.filter(function (e) {
                    return e.type === t
                })
            }
        }, {
            key: "canMerge", value: function (e) {
                if (e.length < 2) return !1;
                for (var t = e[0].type, n = 1; n < e.length; n++) if (e[n].type !== t) return !1;
                return !0
            }
        }, {
            key: "mergeFtRules", value: function (e) {
                var t = this;
                if (e = e.filter(function (e) {
                    return t.ftRules.includes(e)
                }), this.canMerge(e)) {
                    var n = e[0];
                    return n.mergeFtRules(e.slice(1)), n
                }
            }
        }, {
            key: "deleteFtTerm", value: function (e, t) {
                e.ftRule.deleteFtTerm(e, t)
            }
        }, {
            key: "deleteFtRule", value: function (e) {
                var t = this.ftRules.indexOf(e);
                return t > -1 && (this.ftRules.splice(t, 1), !0)
            }
        }, {
            key: "sortFtRule", value: function (e, t) {
                var n = this.ftRules.length;
                t < 0 && (t = 0), t > n - 1 && (t = n - 1);
                var i = this.ftRules.indexOf(e);
                return i !== -1 && (this.ftRules.splice(i, 1), this.ftRules.splice(t, 0, e), !0)
            }
        }, {
            key: "sortFtTerm", value: function (e, t) {
                return e.ftRule.sortFtTerm(e, t)
            }
        }], [{
            key: "flatRules", value: function (e) {
                if (!e || Array.isArray(e)) {
                    var t = [];
                    return (e || []).forEach(function (e) {
                        e.type === u.editGroup ? t.push.apply(t, i(e.comps)) : t.push(e)
                    }), t
                }
            }
        }]), e
    }();
    e.exports = f
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(523), a = r.getEditPropName, s = r.FtRuleType, c = r.FtEditableProps, l = n(525), p = function () {
        function e(t, n) {
            i(this, e), this.id = t.id, this.prop = t.prop, this.ftRule = n, this.eqxItem = this.ftRule.ftManager.eqxPage.getEqxItem(this.id), this.name = a(this.getFullPropKey())
        }

        return o(e, [{
            key: "getEqxItemFtValue", value: function () {
                return this.eqxItem && this.eqxItem.getFtValue(this.getFullPropKey())
            }
        }, {
            key: "getFullPropKey", value: function () {
                return this.ftRule.type + "." + this.prop
            }
        }, {
            key: "isValid", value: function () {
                return this.eqxItem && !this.eqxItem.isOrphan() && this.eqxItem.isPropCanEdit(this.getFullPropKey())
            }
        }, {
            key: "apply", value: function () {
                switch (this.ftRule.type) {
                    case s.color:
                        return this._applyColor.apply(this, arguments);
                    case s.image:
                        return this._applyImage.apply(this, arguments);
                    case s.content:
                        return this._applyContent.apply(this, arguments);
                    case s.link:
                        return this._applyLink.apply(this, arguments);
                    case s.internalLink:
                        return this._applyInternalLink.apply(this, arguments);
                    case s.telephone:
                        return this._applyPhone.apply(this, arguments);
                    case s.sound:
                        return this._applySound.apply(this, arguments);
                    case s.time:
                        return this._applyTime.apply(this, arguments);
                    case s.code:
                        return this._applyCode.apply(this, arguments);
                    case s.video:
                        return this._applyVideo.apply(this, arguments);
                    case s.input:
                        return this._applyInput.apply(this, arguments);
                    case s.tRandom:
                        return this._applyTRandom.apply(this, arguments);
                    case s.iRandom:
                        return this._applyIRandom.apply(this, arguments)
                }
            }
        }, {
            key: "_applyIRandom", value: function (e) {
                var t = this.eqxItem;
                return t.compJson.properties.imgs = e, t.updateImg(e[0].src), t
            }
        }, {
            key: "_applyTRandom", value: function (e) {
                var t = this.eqxItem;
                return t.compJson.properties.texts = e, t.updateContent(e[0]), t
            }
        }, {
            key: "_applyInput", value: function (e) {
                var t = {501: "姓名", 502: "电话", 503: "邮箱", 504: "文本"}, n = this.eqxItem;
                return n.compJson.properties.placeholder = t[e], n.compJson.title = t[e], n.compJson.type = e, n.setInputTitle(t[e]), n
            }
        }, {
            key: "_applyVideo", value: function (e) {
                var t = this.eqxItem, n = t.compJson;
                return n.src = e, t.updateJson(n), t.eqxPage.renderEqxComp(t, !0), t
            }
        }, {
            key: "_applyCode", value: function (e) {
                var t = this.eqxItem, n = t.compJson;
                return n.content = e, t
            }
        }, {
            key: "_applyTime", value: function (e) {
                var t = new Date(e).getTime(), n = this.eqxItem;
                return "e" === n.type ? n.updateProp("endTime", t) : n.updateProp("startTime", t), n.updateJson(n.compJson), n.eqxPage.renderEqxComp(n, !0), n
            }
        }, {
            key: "_updateTrigger", value: function (e, t, n) {
                var i = this.eqxItem, o = i.triggerManager.findEqxItemTriggerItem(i, e, t);
                if (!o) throw new Error("no trigger");
                return o.targetContent = n, i
            }
        }, {
            key: "_applySound", value: function (e) {
                var t = this.eqxItem;
                return t.compJson.sound = {
                    id: e.id,
                    name: e.name,
                    src: e.src
                }, t.updateJson(t.compJson), t.eqxPage.renderEqxComp(t, !0), t
            }
        }, {
            key: "_applyPhone", value: function (e) {
                return this._updateTrigger("click", "phone", e)
            }
        }, {
            key: "_applyInternalLink", value: function (e) {
                return this._updateTrigger("click", "page", e)
            }
        }, {
            key: "_applyLink", value: function (e) {
                var t = this._updateTrigger("click", "link", this.eqxItem.getLinkUrl(e));
                return t
            }
        }, {
            key: "_applyContent", value: function (e) {
                return this.eqxItem.updateContent(e)
            }
        }, {
            key: "_applyImage", value: function (e, t) {
                return this.eqxItem.editImage(e, t)
            }
        }, {
            key: "_applyColor", value: function (e) {
                var t = c, n = this.eqxItem, i = this.ftRule.type + "." + this.prop;
                if (0 === i.indexOf(t.color.fill)) {
                    var o = +i.split("-")[1];
                    return n.updateFillColor(o, e), n
                }
                switch (i) {
                    case t.color.backgroundColor:
                        n.update$boxDiv({backgroundColor: e});
                        break;
                    case t.color.boxShadowColor:
                        var r = l.parseBoxShadow(n.compJson.css.boxShadow);
                        r.color = e;
                        var a = l.getBoxShadowStr(r);
                        n.update$boxDiv({boxShadow: a});
                        break;
                    case t.color.borderColor:
                        n.update$boxDiv({borderColor: e});
                        break;
                    case t.color.color:
                        n.update$boxDiv({color: e});
                        break;
                    case t.color.counterColor:
                        n.update$iconColor(e)
                }
                return n
            }
        }, {
            key: "deleteSelf", value: function (e) {
                this.ftRule.deleteFtTerm(this, e)
            }
        }, {
            key: "canApplyTo", value: function (e, t) {
                return this.eqxItem === e && this.prop === t
            }
        }, {
            key: "parse", value: function () {
            }
        }, {
            key: "toFtRuleJson", value: function () {
                var e = this.ftRule.toJson();
                return e.comps = [this.toJson()], e
            }
        }, {
            key: "toJson", value: function () {
                return {id: this.id, properties: [this.prop]}
            }
        }]), e
    }();
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(523), s = a.FtRuleType, c = a.getEditPropName, l = a.FtRuleName, p = n(782), u = function () {
        function e(t, n) {
            o(this, e), this.ruleJson = t, this.ftManager = n, this.ftTerms = this.parse()
        }

        return r(e, [{
            key: "isGroupRule", value: function () {
                var e = s;
                return [e.addGroup, e.moveGroup, e.deleteGroup, e.editGroup].includes(this.type)
            }
        }, {
            key: "parse", value: function () {
                var e = this.ruleJson;
                this.type = e.type, this.value = e.value;
                var t = this.parseFtTermsByRuleJson(e);
                return this.calName(e.name, t), t
            }
        }, {
            key: "calName", value: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.ftTerms;
                if (e) this.name = e; else {
                    var n = t.length;
                    if (0 === n) return void(this.name = "");
                    if (1 === n) var i = c(this.type + "." + t[0].prop); else i = l[this.type];
                    var o = i.length, r = t.map(function (e) {
                        return e.eqxItem.getName()
                    }).join("&"), a = r.length;
                    a > 14 - o && (r = r.substr(0, 14 - i.length) + "..."), this.name = r + "-" + i
                }
            }
        }, {
            key: "toJson", value: function () {
                var e = this.ftTerms.map(function (e) {
                    return e.toJson()
                });
                return {name: this.name, type: this.type, value: this.value, comps: e}
            }
        }, {
            key: "toEmptyJson", value: function () {
                return {name: this.name, type: this.type, value: this.value, comps: []}
            }
        }, {
            key: "deleteSelf", value: function () {
                this.ftManager.deleteFtRule(this)
            }
        }, {
            key: "filterValidFtTerms", value: function () {
                for (var e = 0; e < this.ftTerms.length; e++) {
                    var t = this.ftTerms[e];
                    if (!t.isValid()) {
                        var n = this.deleteFtTerm(t);
                        n && e--
                    }
                }
                if (!this.ftTerms.length) return this.deleteSelf(), !0
            }
        }, {
            key: "apply", value: function () {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                var i = this.ftTerms.map(function (e) {
                    return e.apply.apply(e, t)
                });
                return this.updateFtValue(), i
            }
        }, {
            key: "updateFtValue", value: function () {
                this.ftTerms[0] ? this.value = this.ftTerms[0].getEqxItemFtValue() : this.value = 0
            }
        }, {
            key: "getEqxItems", value: function () {
                var e = [];
                return this.ftTerms.forEach(function (t) {
                    e.includes(t.eqxItem) || e.push(t.eqxItem)
                }), e
            }
        }, {
            key: "parseFtTermsByRuleJson", value: function (e) {
                var t = this, n = [];
                return e.comps.forEach(function (e) {
                    e.properties.forEach(function (i) {
                        n.push(new p({id: e.id, prop: i}, t))
                    })
                }), n
            }
        }, {
            key: "split", value: function () {
                var t = this;
                return this.ftTerms.map(function (n) {
                    var i = {type: t.type, value: t.value, comps: [n.toJson()]};
                    return new e(i, t.ftManager)
                })
            }
        }, {
            key: "sortFtTerm", value: function (e, t) {
                var n = this.ftTerms.length;
                t < 0 && (t = 0), t > n - 1 && (t = n - 1);
                var i = this.ftTerms.indexOf(e);
                return i !== -1 && (this.ftTerms.splice(i, 1), this.ftTerms.splice(t, 0, e), !0)
            }
        }, {
            key: "mergeFtRule", value: function (e) {
                var t = this;
                e.ftTerms.forEach(function (e) {
                    e.ftRule = t, t.ftTerms.push(e)
                }), this.ftManager.deleteFtRule(e)
            }
        }, {
            key: "mergeFtRules", value: function (e) {
                var t = this;
                e.forEach(function (e) {
                    return t.mergeFtRule(e)
                })
            }
        }, {
            key: "addFtTerm", value: function (e) {
                var t, n = this,
                    o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.ftTerms.length;
                if (e instanceof p) {
                    e.ftRule = this;
                    var r = [e]
                } else {
                    var a = e;
                    r = a.properties.map(function (t) {
                        return new p({id: e.id, prop: t}, n)
                    })
                }
                var s = this.ftTerms.length;
                o < 0 && (o = 0), o > s - 1 && (o = s - 1), (t = this.ftTerms).splice.apply(t, [o, 0].concat(i(r))), this.calName()
            }
        }, {
            key: "deleteFtTerm", value: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = this.ftTerms.indexOf(e);
                return n > -1 ? (this.ftTerms.splice(n, 1), t && !this.ftTerms.length && this.ftManager.deleteFtRule(this), !0) : void this.calName()
            }
        }], [{
            key: "ftTermToFtRule", value: function (t, n) {
                var i = t.ftRule.toEmptyJson(), o = new e(i, n);
                return o.addFtTerm(t), o
            }
        }]), e
    }();
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(458), a = r.RAW_EVENT, s = r.EQX_EVENT, c = function () {
        function e(t) {
            i(this, e), this.page = t
        }

        return o(e, [{
            key: "findEqxItemTriggerItem", value: function (e, t, n) {
                var i = e.eqxPage, o = i.pageJson.properties.triggerGroup;
                return o.find(function (i) {
                    return i.eventType == a[t] && i.sourceId == e.id && i.targetState == s[n]
                })
            }
        }, {
            key: "addTriggers", value: function (e) {
                if (Array.isArray(e) && e.length) for (var t = this.page.pageJson, n = t.properties, i = n.triggerGroup = n.triggerGroup || [], o = function (t) {
                    var n = e[t], o = i.findIndex(function (e) {
                        return e.eventType === n.eventType && e.sourceId === n.sourceId && e.targetId === n.targetId
                    });
                    return o >= 0 ? "continue" : void i.push(n)
                }, r = 0; r < e; r++) {
                    o(r)
                }
            }
        }]), e
    }();
    e.exports = c
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e(t, i) {
            n(this, e), this.config = t, this.page = i, this.init()
        }

        return i(e, [{
            key: "init", value: function () {
                var e = this.config, t = this.page, n = t.eqxScene.config.mode, i = this.page.eqxLayerList;
                if (this.layers = i, this.count = i.length, this.current = 0, "view" === n && e.used) {
                    i[0].show();
                    for (var o = 1; o < i.length; o++) i[o].hide();
                    this.current = 1
                }
            }
        }, {
            key: "play", value: function () {
                var e = this.config, t = this.page, n = t.eqxScene.config.mode;
                "view" === n && e.used && this.playEqxLayer()
            }
        }, {
            key: "playEqxLayer", value: function () {
                var e = this;
                return this.current === this.count ? void console.log("快闪播放结束") : void setTimeout(function () {
                    for (var t = 0; t < e.layers.length; t++) e.current === t ? e.layers[e.current].show() : e.layers[t].hide();
                    e.current++, e.playEqxLayer()
                }, this.defaultDuration())
            }
        }, {
            key: "defaultDuration", value: function () {
                function e(e) {
                    for (var t = e.getEqxComps(), n = 0, i = 0; i < t.length; i++) for (var o = t[i], r = o.compJson.properties.anim, a = void 0 === r ? [] : r, s = 0; s < a.length; s++) {
                        var c = a[s];
                        if (c.count) return 1e3;
                        var l = c.countNum, p = c.duration, u = c.delay;
                        n = Math.max(n, l * p + u)
                    }
                    return 1e3 * n
                }

                var t = this.layers[this.current - 1], n = t.json.flash, i = void 0 === n ? {} : n, o = i.durationType,
                    r = void 0 === o ? 0 : o, a = i.duration, s = void 0 === a ? null : a;
                if (0 === r) var c = e(t); else 1 === r && s >= 0 && (c = 1e3 * s);
                return c
            }
        }]), e
    }();
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = function m(e, t, n) {
            null === e && (e = Function.prototype);
            var i = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === i) {
                var o = Object.getPrototypeOf(e);
                return null === o ? void 0 : m(o, t, n)
            }
            if ("value" in i) return i.value;
            var r = i.get;
            if (void 0 !== r) return r.call(n)
        }, c = n(464), l = (n(449).COMP_TYPE, n(451).BG_CROP_TYPE, n(444).isBottomArrow), p = n(444).PAGE_MODE, u = n(759),
        d = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)), a = e.properties.longPage;
                return r.scrollMode = l(r.pageMode) ? "NS" : "WE", r.pLen = -(a - 486), r
            }

            return r(t, e), a(t, [{
                key: "renderArrow", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "renderArrow", this).call(this), "WE" == this.scrollMode && (this.bottomArrow = new u(p["上下翻页"]), this.$pageDiv.append(this.bottomArrow.$arrow))
                }
            }, {
                key: "addEventListener", value: function () {
                    s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "addEventListener", this).call(this), this.addTouchEvent()
                }
            }, {
                key: "active", value: function () {
                    this.resetLongPage();
                    var e = s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "active", this).call(this);
                    return e
                }
            }, {
                key: "resetLongPage", value: function () {
                    this.touchPos = 0, this.doTransform(0, 0)
                }
            }, {
                key: "addTouchEvent", value: function () {
                    function e(e) {
                        c.forEach(function (t) {
                            var n = t.compJson.css.top || "";
                            n = parseInt(n.toString().replace("px", "")), n > o && n + e < o && !t.triggerHide && 1 == t.compJson.properties.initType && t.eleShow()
                        })
                    }

                    var t = this, n = this;
                    if ("edit" !== this.eqxScene.config.mode) {
                        var i = this.pLen, o = this.height, r = this.$pageDiv, a = (this.$ul, this.$editDiv),
                            s = this.scrollMode, c = this.eqxCompList, l = this.$transformArea = a;
                        this.touchPos = 0;
                        var p, u, d, m, f, g = 0, h = 0, v = 0;
                        r.on("mousedown touchstart", function (e) {
                            if (!n.hasCoverEffect) {
                                e.stopPropagation(), p = !0, d = 0;
                                var t = e.originalEvent, i = t.touches, o = i ? t.changedTouches[0] : null;
                                u = o ? o.clientY : e.clientY, "WE" == s && (m = o ? o.clientX : e.clientX), h = n.touchPos, g = Date.now()
                            }
                        }), r.on("mousemove touchmove", function (o) {
                            var r = t.eqxScene.pageScroll, a = t.pageJson.properties.pageScroll.disableFlip;
                            if (o.stopPropagation(), o.preventDefault(), p) {
                                var c = o.originalEvent, l = c.touches, y = l ? l[0] : null;
                                if (d = n.touchPos + (y ? y.clientY : o.clientY) - u, "WE" === s && (f = (y ? y.clientX : o.clientX) - m, Math.abs(f) > Math.abs(d - n.touchPos) && !t.forbidHandFlip)) return f > 0 ? r.goToPrePage() : r.goToNextPage(), void(p = !1);
                                if (d > 0 && "NS" === s && !t.forbidHandFlip && !a) return r.goToPrePage(), p = !1, void(n.touchPos = 0);
                                if (d > i && d < 0) e(d), n.doTransform(d, 0); else if (d < i - 5 && "NS" === s && !t.forbidHandFlip && !a) return r.goToNextPage(), p = !1, void(n.touchPos = i);
                                v = Date.now(), v - g > 300 && (g = v, h = d)
                            }
                        }), r.on("mouseup touchend mouseleave", function () {
                            if (p) if (p = !1, d > i && d < 0) {
                                var e = Date.now(), t = (d - h) / (e - g), o = Math.abs(t / .002), r = t * o / 2;
                                d += r, d > 0 ? (o = (d - 0) / r * o, d = 0) : d < i && (o = (d - i) / r * o, d = i), n.doTransform(d, o), n.touchPos = d, n.bottomArrow && (n.bottomArrow.remove(), n.bottomArrow = null)
                            } else d > 0 ? n.touchPos = 0 : d <= i && (n.touchPos = i), n.doTransform(n.touchPos, 0)
                        }), l.on("transitionend", function (t) {
                            t.target == l[0] && e(n.touchPos)
                        })
                    }
                }
            }, {
                key: "dotransformPx", value: function () {
                    var e = this.pLen - this.touchPos;
                    return 0 === e || (e > -250 && e < 0 ? this.touchPos = this.touchPos + e : this.touchPos = this.touchPos - 250, this.doTransform(this.touchPos, 300), !1)
                }
            }, {
                key: "doTransform", value: function (e, t) {
                    var n = this;
                    if ("edit" !== this.eqxScene.config.mode) {
                        var i = this.$transformArea, o = i.find(".alock"),
                            r = i.get(0).style.transform ? i.get(0).style.transform.replace(/translate3d\(.*?\)/g, "") : "none",
                            a = "translate3d(0," + e + "px,0)";
                        if ("none" !== r && (a = r + " " + a), this.transformEle(i, a, t), o.length > 0) {
                            var s, c, l = Array.prototype.slice.call(o);
                            l.forEach(function (i) {
                                s = i.style.transform.replace(/translate3d\(.*?\)/g, ""), c = "none" === s && s ? "translate3d(0," + -e + "px,0)" : "translate3d(0," + -e + "px,0) " + s, n.transformEle($(i), c, t)
                            })
                        }
                    }
                }
            }, {
                key: "transformEle", value: function (e, t, n) {
                    if ("edit" !== this.eqxScene.config.mode) {
                        if (e.css({transition: "", "-webkit-transition": ""}), n) {
                            var i = "transform " + n + "ms ease-out";
                            e.css({transition: i, "-webkit-transition": "-webkit-" + i})
                        }
                        e.css({transform: t, "-webkit-transform": "-webkit-" + t})
                    }
                }
            }]), t
        }(c);
    e.exports = d
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e, enumerable: !1, writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function u(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : u(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(464), l = n(508).viewData, p = function (e) {
        function t(e, n) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n))
        }

        return r(t, e), a(t, [{
            key: "show", value: function () {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "show", this).call(this);
                var e = this.pageJson.properties.xb;
                return e && l(e.orderId, e.taskId, e.sceneId, 0), this
            }
        }]), t
    }(c);
    e.exports = p
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(789);
    var r = function () {
        function e(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            i(this, e);
            var o = this.$progress = $('<div class="eqx-progress-bar"></div>'),
                r = this.$progressBar = $("<span></span>"), a = this.$slideNumber = $('<em class="page-tip"></em>');
            o.append([r, a]), this.lastText = "", this.update(n, t)
        }

        return o(e, [{
            key: "update", value: function (e, t) {
                var n = e + "/" + t;
                if (n !== this.lastText) {
                    this.lastText = n, this.$slideNumber.text(n);
                    var i = 320;
                    this.$progressBar.css("width", i * e / t)
                }
            }
        }, {
            key: "hide", value: function () {
                this.$progress.hide()
            }
        }, {
            key: "show", value: function () {
                this.$progress.show()
            }
        }]), e
    }();
    e.exports = r
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o() {
        var e = $(window);
        e.on("scroll.elasticity", function (e) {
            e.preventDefault()
        }).on("touchmove.elasticity", function (e) {
            e.preventDefault()
        }), e.delegate("img", "mousemove", function (e) {
            e.preventDefault()
        })
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(208).getEvent, s = n(444).PAGE_MODE, c = n(545).preFixCss, l = function () {
        function e(t) {
            i(this, e), this.eqxScene = t, this.eqxScene.currentPage = this.eqxScene.currentPage || this.eqxScene.eqxPageList[0], this.bindEventListeners(), this.pageFliping = !1;
            var n = this.eqxScene.meta.property, o = n.forbidHandFlip, r = n.triggerLoop, a = n.autoFlip,
                s = n.autoFlipTime, c = void 0 === s ? 1 : s;
            this.forbidHandFlip = o, this.triggerLoop = r, this.autoFlip = a, this.autoFlipTime = c, this.pageFlipModule = null, this.autoFlip && this.startAutoFlip(), this.currentPageAutoFlip()
        }

        return r(e, [{
            key: "currentPageAutoFlip", value: function () {
                var e = this, t = this.eqxScene.currentPage.pageJson.properties.pageScroll;
                !this.autoFlip && t.canAutoFlip && (this.eqxScene.currentPage.autoFlipTimeOutlId = setTimeout(function () {
                    e.goToNextPage(), clearTimeout(e.eqxScene.currentPage.autoFlipTimeOutlId), delete e.eqxScene.currentPage.autoFlipTimeOutlId
                }, 1e3 * t.autoFlipTime))
            }
        }, {
            key: "disablePageFlip", value: function () {
                return this.disableFlip() || this.forbidHandFlip || this.eqxScene.currentPage.pageJson.properties.pageScroll.disableFlip
            }
        }, {
            key: "disableFlip", value: function () {
                return this.eqxScene.currentPage.hasCoverEffect || this.pageFliping || 1 == this.eqxScene.eqxPageList.length
            }
        }, {
            key: "bindEventListeners", value: function () {
                var e = this;
                o();
                var t = !1, n = {moveX: 0, moveY: 0}, i = {startX: 0, startY: 0}, r = void 0, s = void 0;
                this.eqxScene.$ele.on("mousedown touchstart", function (o) {
                    if (!t && !e.disablePageFlip()) {
                        t = !0, r = null, o.stopPropagation(), e.initPageFlip(), s = 0, n.moveY = 0, n.moveX = 0;
                        var c = a(o);
                        i.startX = c.clientX, i.startY = c.clientY
                    }
                }), this.eqxScene.$ele.on("mousemove touchmove", function (o) {
                    o.stopPropagation(), o.preventDefault();
                    var c = a(o);
                    if (t && (n.moveX = c.clientX - i.startX, n.moveY = c.clientY - i.startY, s = e.pageFlipModule.getMoveDistance(n), 0 != s)) {
                        if (e.pageFliping = !0, Math.abs(s) <= 10 && r && (r.deactive(), r = null), !r) {
                            if (r = e.getActivePageByMoveDistance(s), !r) return e.pageFliping = !1, !1;
                            r.active()
                        }
                        e.pageFlipModule.pageMove(e.eqxScene.currentPage, r, n)
                    }
                }), this.eqxScene.$ele.on("mouseup touchend mouseleave", function (i) {
                    t && 0 !== s && r && (e.pageFliping = !0, e.pageFlipModule.pageEnd(e.eqxScene.currentPage, r, n).then(function (t) {
                        return t ? e.destroyActivePage(r) : e.pageFlipEnd(r), e.startAutoFlip(), !0
                    })), t = !1
                })
            }
        }, {
            key: "initPageFlip", value: function () {
                var e = this.eqxScene.currentPage.pageJson.properties.pageScroll.pageMode || this.eqxScene.meta.pageMode;
                this.initFlipFnByMode(e), this.pageFlipModule.pageStart(this.eqxScene.currentPage)
            }
        }, {
            key: "pageFlipEnd", value: function (e) {
                this.eqxScene.updateProgressBar(e), e.show(), this.eqxScene.currentPage.destroyed || this.eqxScene.currentPage.deactive().hide(), c(this.eqxScene.currentPage.section, "Transform", ""), this.eqxScene.currentPage = e, this.destroyActivePage(e), this.currentPageAutoFlip(), this.eqxScene.meta.ext && this.eqxScene.meta.ext.yqc && this.eqxScene.renderNeedPages()
            }
        }, {
            key: "destroyActivePage", value: function (e) {
                c(e.section, "Transform", ""), e.deactive(), e = null, this.pageFliping = !1
            }
        }, {
            key: "getActivePageByMoveDistance", value: function (e) {
                var t = null, n = this.eqxScene.eqxPageList.indexOf(this.eqxScene.currentPage),
                    i = this.eqxScene.eqxPageList.length - 1;
                return e > 0 ? n > 0 ? t = this.eqxScene.eqxPageList[n - 1] : this.triggerLoop && (t = this.eqxScene.eqxPageList[i]) : e < 0 && (n < i ? t = this.eqxScene.eqxPageList[n + 1] : this.triggerLoop && (t = this.eqxScene.eqxPageList[0])), t && !t.$section && (console.log("[renderPage] nextPageId", t.pageJson.id), this.eqxScene.setNextRenderPageId(t.pageJson.id), t = null), t
            }
        }, {
            key: "initFlipFnByMode", value: function (e) {
                var t = "";
                switch (e) {
                    case s["上下翻页"]:
                        t = "vertical";
                        break;
                    case s["上下惯性翻页"]:
                        t = "vertiaclinertia";
                        break;
                    case s["左右翻页"]:
                        t = "horizontal";
                        break;
                    case s["左右惯性翻页"]:
                        t = "horizontalinertia";
                        break;
                    case s["左右连续翻页"]:
                        t = "horizontalSingle";
                        break;
                    case s["立体翻页"]:
                        t = "cube";
                        break;
                    case s["卡片翻页"]:
                        t = "card";
                        break;
                    case s["放大翻页"]:
                        t = "scale";
                        break;
                    case s["交换翻页"]:
                        t = "swap";
                        break;
                    case s["上下连续翻页"]:
                        t = "verticalSingle";
                        break;
                    case s["掉落翻页"]:
                        t = "fall";
                        break;
                    case s["淡入翻页"]:
                        t = "fadeIn";
                        break;
                    case s["翻书翻页"]:
                        t = "book";
                        break;
                    case s["上下推出翻页"]:
                        t = "verticalPush";
                        break;
                    case s["左右推出翻页"]:
                        t = "horizontalPush";
                        break;
                    case s["折叠翻页"]:
                        t = "flip";
                        break;
                    default:
                        t = "vertical"
                }
                this.pageFlipModule = n(791)("./" + t)
            }
        }, {
            key: "goToLastPage", value: function () {
                var e = this.eqxScene.getEqxPageByIndex(this.eqxScene.eqxPageList.length - 1);
                return e ? this.goToPageById(e.pageJson.id) : Promise.resolve()
            }
        }, {
            key: "goToPageByIndex", value: function (e) {
                var t = this.eqxScene.getEqxPageByIndex(e);
                return t ? this.goToPageById(t.pageJson.id) : Promise.resolve()
            }
        }, {
            key: "goToPageById", value: function (e, t) {
                var n = this;
                return new Promise(function (i, o) {
                    var r = n.eqxScene.getEqxPageById(e);
                    if (r || i(), !n.pageFliping && r && r !== n.eqxScene.currentPage && r.$section) {
                        var a = function l() {
                            var e = this, t = arguments[0];
                            t > 0 ? t += 3 : t -= 3, Math.abs(t) <= 20 ? (this.pageFlipModule.pageMove(this.eqxScene.currentPage, r, {
                                moveX: t,
                                moveY: t
                            }), requestAnimationFrame(l.bind(this, t))) : this.pageFlipModule.pageEnd(this.eqxScene.currentPage, r, {
                                moveX: t,
                                moveY: t
                            }).then(function () {
                                e.pageFlipEnd(r), i(r)
                            })
                        };
                        n.pageFliping = !0, n.eqxScene.currentPage.autoFlipTimeOutlId && (clearTimeout(n.eqxScene.currentPage.autoFlipTimeOutlId), delete n.eqxScene.currentPage.autoFlipTimeOutlId), r.active(), n.initPageFlip();
                        var s = r.pageJson.num, c = n.eqxScene.currentPage.pageJson.num;
                        void 0 === t && (t = s > c), t ? a.call(n, -1) : a.call(n, 1)
                    } else r.$section || n.eqxScene.setNextRenderPageId(r.pageJson.id), i()
                })
            }
        }, {
            key: "goToPrePage", value: function () {
                var e = this.getActivePageByMoveDistance(1);
                return this.disableFlip() || !e ? Promise.resolve() : this.goToPageById(e.pageJson.id, !1)
            }
        }, {
            key: "goToNextPage", value: function () {
                this.eqxScene.currentPage.autoFlipTimeOutlId && (clearTimeout(this.eqxScene.currentPage.autoFlipTimeOutlId), delete this.eqxScene.currentPage.autoFlipTimeOutlId);
                var e = this.getActivePageByMoveDistance(-1);
                if (this.disableFlip() || !e) return Promise.resolve();
                if (this.eqxScene.currentPage.pageJson.properties.longPage) {
                    var t = this.eqxScene.currentPage.dotransformPx();
                    return t ? this.goToPageById(e.pageJson.id, !0) : Promise.resolve()
                }
                return this.goToPageById(e.pageJson.id, !0)
            }
        }, {
            key: "startAutoFlip", value: function () {
                var e = this;
                this.pauseAutoFlip(), this.autoFlip && !this.disableFlip() && (this.autoFlipIntervalId = setInterval(function () {
                    e.triggerLoop || e.eqxScene.eqxPageList.indexOf(e.eqxScene.currentPage) !== e.eqxScene.eqxPageList.length - 1 ? e.goToNextPage() : e.pauseAutoFlip()
                }, 1e3 * this.autoFlipTime))
            }
        }, {
            key: "pauseAutoFlip", value: function () {
                this.autoFlipIntervalId && (clearInterval(this.autoFlipIntervalId), delete this.autoFlipIntervalId)
            }
        }, {
            key: "setAutoFlipTime", value: function (e) {
                this.autoFlipTime = e
            }
        }, {
            key: "setAutoFlip", value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                this.autoFlip = !!e
            }
        }, {
            key: "setHandleFlip", value: function (e) {
                this.forbidHandFlip = e
            }
        }, {
            key: "setLoop", value: function (e) {
                this.triggerLoop = e, e && this.autoFlip && this.startAutoFlip()
            }
        }, {
            key: "setScrollMode", value: function (e) {
                this.eqxScene.meta.pageMode = e
            }
        }]), e
    }();
    e.exports = l
}, function (e, t, n) {
    function i(e) {
        return n(o(e))
    }

    function o(e) {
        return r[e] || function () {
            throw new Error("Cannot find module '" + e + "'.")
        }()
    }

    var r = {
        "./book": 792,
        "./book.js": 792,
        "./card": 793,
        "./card.js": 793,
        "./cube": 794,
        "./cube.js": 794,
        "./fadeIn": 795,
        "./fadeIn.js": 795,
        "./fall": 796,
        "./fall.js": 796,
        "./flip": 797,
        "./flip.js": 797,
        "./horizontal": 798,
        "./horizontal.js": 798,
        "./horizontalPush": 799,
        "./horizontalPush.js": 799,
        "./horizontalSingle": 800,
        "./horizontalSingle.js": 800,
        "./horizontalinertia": 801,
        "./horizontalinertia.js": 801,
        "./pageFlip": 790,
        "./pageFlip.js": 790,
        "./scale": 802,
        "./scale.js": 802,
        "./swap": 803,
        "./swap.js": 803,
        "./vertiaclinertia": 804,
        "./vertiaclinertia.js": 804,
        "./vertical": 805,
        "./vertical.js": 805,
        "./verticalPush": 806,
        "./verticalPush.js": 806,
        "./verticalSingle": 807,
        "./verticalSingle.js": 807
    };
    i.keys = function () {
        return Object.keys(r)
    }, i.resolve = o, e.exports = i, i.id = 791
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        0 != n.moveX && (u && (u = !1, e.$section.css({
            width: e.width,
            height: e.height
        }), e.$section.parent().append(l), e.$section.parent().append(p), p.append(e.$section)), n.moveX < 0 && n.moveY <= 0 ? d.bottomRight(l, p, e, n) : n.moveX < 0 && n.moveY > 0 ? d.topRight(l, p, e, n) : d.leftCenter(l, p, e, n))
    }

    function r(e, t, n) {
        return new Promise(function (i, r) {
            function a(n) {
                n.moveX < 0 && n.moveY <= 0 ? (n.moveX = n.moveX - s, n.moveY = n.moveY + s <= 0 ? n.moveY + s : n.moveY) : n.moveX < 0 && n.moveY > 0 ? (n.moveX = n.moveX - s, n.moveY = n.moveY - s >= 0 ? n.moveY - s : n.moveY) : n.moveX = n.moveX + s, Math.abs(n.moveX) < 2 * e.width ? (o(e, t, n), requestAnimationFrame(a.bind(this, n))) : (p.css({
                    top: 0,
                    left: 0,
                    transform: ""
                }), l.css({
                    width: 0,
                    height: 0,
                    top: 0,
                    left: 0,
                    transform: "",
                    background: "none"
                }), e.$section.unwrap(), e.$section.removeAttr("style"), l.remove(), u = !0, i(!1))
            }

            var s = 16;
            a(n)
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix,
        l = $('<div style="position: absolute; top:0; left:0;z-index: 1000"></div>'),
        p = $('<div style="position: absolute; width: 1000px; height: 1000px; top:0; left:0;overflow: hidden;background: #fff; z-index: 100; display: block"></div>'),
        u = !0, d = {
            caculateCoordinate: function (e, t, n, i) {
                var o = i.width, r = i.height, a = r / o, s = r / Math.sqrt(o * o + r * r), c = Math.sqrt(1 - s * s),
                    l = Math.sqrt(o * o + r * r) / 2, p = l * a, u = Math.sqrt(p * p + l * l), d = u / a,
                    m = 180 * Math.atan(a) / Math.PI > 0 ? 180 * Math.atan(a) / Math.PI : 0, f = (n.width - u) * c,
                    g = (n.width - u) * s * c, h = (n.width - u) * (1 - s * s);
                return !(f < 1) && {
                    newTriangleX: u,
                    newTriangleY: d,
                    degree: m,
                    maskTransformY: f,
                    turnPageTransformX: h,
                    turnPageTransformY: g
                }
            }, bottomRight: function (e, t, n, i) {
                var o = this.caculateCoordinate(e, t, n, {width: -i.moveX, height: -i.moveY});
                o && (o.degree > 1 ? e.css({
                    top: n.height,
                    left: n.width,
                    width: o.newTriangleX + "px",
                    height: o.newTriangleY + "px",
                    backgroundColor: "#ff0000",
                    background: "-webkit-linear-gradient(" + (180 - o.degree) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
                    transform: "translate3d(-" + (o.newTriangleX - 3) + "px, -" + (o.newTriangleY - 3) + "px, 0) rotate3d(0,0,1, " + 2 * o.degree + "deg) scaleX(-1)"
                }) : e.css({
                    width: (-i.moveX + 6) / 2 + "px",
                    height: n.height + "px",
                    top: 0,
                    left: n.width + i.moveX + "px",
                    background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",
                    transform: "",
                    border: 0
                }), t[0].style.zIndex = 100, t[0].style.top = -(1e3 - n.height) + "px", s(t[0], "TransformOrigin", "0% 100% 0px"), s(t[0], "Transform", "rotate3d(0,0,1,-" + (90 - o.degree) + "deg) translate3d(0," + o.maskTransformY + "px,0)"), n.section.style.top = 1e3 - n.height + "px", s(n.section, "TransformOrigin", "0% 100% 0px"), s(n.section, "Transform", "rotate3d(0,0,1," + (90 - o.degree) + "deg) translate3d(" + -o.turnPageTransformX + "px," + -o.turnPageTransformY + "px, 0)"))
            }, topRight: function (e, t, n, i) {
                var o = this.caculateCoordinate(e, t, n, {width: -i.moveX, height: i.moveY});
                o && (o.degree > 1 ? e.css({
                    top: 0,
                    left: n.width,
                    width: o.newTriangleX + "px",
                    height: o.newTriangleY + "px",
                    backgroundColor: "#ff0000",
                    background: "-webkit-linear-gradient(-" + (180 - o.degree) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
                    transform: "translate3d(-" + (o.newTriangleX - 3) + "px,0,0)  rotate3d(0,0,1,-" + 2 * o.degree + "deg) scaleX(-1)"
                }) : e.css({
                    width: (-i.moveX + 6) / 2 + "px",
                    height: n.height + "px",
                    top: 0,
                    left: n.width + i.moveX + "px",
                    background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",
                    transform: "",
                    border: 0
                }), t[0].style.zIndex = 100, t[0].style.top = 0, s(t[0], "TransformOrigin", "0% 0% 0px"), s(t[0], "Transform", "rotate3d(0,0,1," + (90 - o.degree) + "deg) translate3d(0,-" + o.maskTransformY + "px,0)"), n.section.style.top = 0, s(n.section, "TransformOrigin", "0% 0% 0px"), s(n.section, "Transform", "rotate3d(0,0,1,-" + (90 - o.degree) + "deg) translate3d(" + -o.turnPageTransformX + "px," + o.turnPageTransformY + "px, 0)"))
            }, rightCenter: function (e, t, n, i) {
                e.css({
                    width: -i.moveX / 2 + "px",
                    height: n.height + "px",
                    left: n.width + i.moveX + "px",
                    background: c.css + "linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
                }), s(t[0], "Transform", "translate3d(" + i.moveX + "px, 0, 0)"), s(t[0], "TransformOrigin", "0% 50% 0px"), s(n.section, "Transform", "translate3d(" + -i.moveX + "px, 0, 0)"), s(n.section, "TransformOrigin", "0% 50% 0px")
            }, leftCenter: function (e, t, n, i) {
                e.css({
                    width: i.moveX / 2 + "px",
                    height: n.height + "px",
                    top: "0px",
                    transform: "",
                    left: i.moveX + "px",
                    background: c.css + "linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
                }), s(t[0], "Transform", "translate3d(" + i.moveX + "px, 0, 0)"), s(t[0], "TransformOrigin", "0% 50% 0px"), s(n.section, "Transform", "translate3d(" + -i.moveX + "px, 0, 0)"), s(n.section, "TransformOrigin", "0% 50% 0px")
            }
        };
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? (s(t.section, "TransformOrigin", "top"), s(t.section, "Transform", "rotate3d(1,0,0," + (90 - n.moveY / t.height * 90) + "deg)")) : (s(t.section, "TransformOrigin", "bottom"), s(t.section, "Transform", "rotate3d(1,0,0," + (-90 - n.moveY / e.height * 90) + "deg)"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (e, o) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "rotate3d(1,0,0,90deg)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "rotate3d(1,0,0,-90deg)"), i = !0) : (s(t.section, "Transform", "rotate3d(1,0,0, 0deg)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), s(t.section, "TransformOrigin", ""), e(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? (s(t.section, "Transform", "rotate3d(1,0,0," + (90 - n.moveY / t.height * 90) + "deg) translate3d(0px, " + (n.moveY - e.height) / 2 + "px, " + (e.height - n.moveY) / 2 + "px)"), s(e.section, "Transform", "rotate3d(1,0,0," + -n.moveY / e.height * 90 + "deg) translate3d(0px, " + n.moveY / 2 + "px, " + n.moveY / 2 + "px)")) : (s(t.section, "Transform", "rotate3d(1,0,0," + (-90 - n.moveY / e.height * 90) + "deg) translate3d(0px, " + (t.height + n.moveY) / 2 + "px, " + (t.height + n.moveY) / 2 + "px)"), s(e.section, "Transform", "rotate3d(1,0,0," + -n.moveY / e.height * 90 + "deg) translate3d(0px, " + n.moveY / 2 + "px, " + -n.moveY / 2 + "px)"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "rotate3d(1,0,0,0deg) translate3d(0px,-" + e.height + "px," + e.height + "px)"), s(e.section, "Transform", "rotate3d(1,0,0,0deg) translate3d(0px, 0px, 0px)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "rotate3d(1,0,0,0deg) translate3d(0px," + e.height + "px, " + e.height + "px)"), s(e.section, "Transform", "rotate3d(1,0,0,0deg) translate3d(0px, 0px, 0px)"), i = !0) : (s(t.section, "Transform", "rotate3d(1,0,0, 0deg) translate3d(0px,0px,0px)"), n.moveY > 0 ? s(e.section, "Transform", "rotate3d(1,0,0,-90deg) translate3d(0px," + e.height / 2 + "px, " + e.height / 2 + "px)") : s(e.section, "Transform", "rotate3d(1,0,0,90deg) translate3d(0px," + -e.height / 2 + "px, " + e.height / 2 + "px)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t) {
    "use strict";

    function n(e) {
    }

    function i(e, t, n) {
        n.moveY > 0 ? t.section.style.opacity = (n.moveY / e.height).toFixed(2) : t.section.style.opacity = (-n.moveY / e.height).toFixed(2)
    }

    function o(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            function a() {
                var n = arguments[0];
                n > 20 ? n += 60 : n -= 60, n >= 20 && n <= t.height || n < 20 && n >= 0 ? (t.section.style.opacity = (n / e.height).toFixed(2), requestAnimationFrame(a.bind(this, n))) : (t.section.style.opacity = "", o(i))
            }

            i = Math.abs(n.moveY) > 0 && Math.abs(n.moveY) < 20, a(Math.abs(n.moveY))
        })
    }

    function r(e) {
        return e.moveY
    }

    e.exports = {pageMove: i, pageEnd: o, pageStart: n, getMoveDistance: r}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        t.section.style.zIndex = 0, s(e.section, "TransformOrigin", "0% 0% 0px"), n.moveY > 0 ? (s(e.section, "Transform", "rotate(" + n.moveY / e.height * 90 + "deg)"), e.section.style.opacity = ((e.height - n.moveY) / e.height).toFixed(1)) : (s(e.section, "Transform", "rotate(" + -n.moveY / e.height * 90 + "deg)"), e.section.style.opacity = ((e.height + n.moveY) / e.height).toFixed(1))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(e.section, "Transform", "rotate(0deg)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(e.section, "Transform", "rotate(0deg)"), i = !0) : (s(e.section, "Transform", "translate3d(0," + e.height + "px,0) rotate(" + Math.abs(n.moveY) / e.height * 90 + "deg)"), e.section.style.opacity = .5, i = !1), $(e.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), t.section.style.zIndex = "", e.section.style.opacity = "", o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        s(t.section, "TransformOrigin", "center"), s(e.section, "TransformOrigin", "center"), s(t.section, "Transform", "rotate3d(1,0,0,90deg)"), s(e.section, "Transform", "rotate3d(1,0,0," + n.moveY / e.height * 90 + "deg)")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), s(e.section, "Transition", c.css + "transform 0.4s linear"), Math.abs(n.moveY) > 0 && Math.abs(n.moveY) < 20 ? (s(e.section, "Transform", "rotate3d(1,0,0,0deg)"), s(t.section, "Transform", "rotate3d(1,0,0,0deg)"), i = !0) : (n.moveY > 0 ? s(e.section, "Transform", "rotate3d(1,0,0, 90deg)") : s(e.section, "Transform", "rotate3d(1,0,0, -90deg)"), $(e.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transform", "rotate3d(1,0,0, 0deg)")
            }), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), s(t.section, "TransformOrigin", ""), s(t.section, "Transform", ""), s(e.section, "Transition", ""), s(e.section, "TransformOrigin", ""), s(e.section, "Transform", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveX > 0 ? s(t.section, "Transform", "translateX(-" + (e.width - n.moveX) + "px)") : s(t.section, "Transform", "translateX(" + (e.width + n.moveX) + "px)")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveX > 0 && n.moveX < 20 ? (s(t.section, "Transform", "translateX(-" + e.height + "px)"), i = !0) : n.moveX < 0 && n.moveX > -20 ? (s(t.section, "Transform", "translateX(" + e.height + "px)"), i = !0) : (s(t.section, "Transform", "translateX(0px)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveX > 0 ? (s(t.section, "TransformOrigin", "left"), s(e.section, "TransformOrigin", "right"), s(t.section, "Transform", "perspective(700px) rotate3d(0,1,0,90deg)")) : (s(t.section, "TransformOrigin", "right"), s(e.section, "TransformOrigin", "left"), s(t.section, "Transform", "perspective(700px) rotate3d(0,1,0,-90deg)")), s(e.section, "Transform", "perspective(700px) rotate3d(0,1,0," + -n.moveX / e.width * 90 + "deg)")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), s(e.section, "Transition", c.css + "transform 0.4s linear"), Math.abs(n.moveX) > 0 && Math.abs(n.moveX) < 20 ? (s(e.section, "Transform", "rotate3d(0,1,0,0deg)"), s(t.section, "Transform", "rotate3d(0,1,0,0deg)"), i = !0) : (n.moveX > 0 ? s(e.section, "Transform", "perspective(700px) rotate3d(0,1,0, -90deg)") : s(e.section, "Transform", "perspective(700px) rotate3d(0,1,0, 90deg)"), $(e.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transform", "perspective(700px) rotate3d(0,1,0, 0deg)")
            }), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), s(t.section, "TransformOrigin", ""), s(t.section, "Transform", ""), s(e.section, "Transition", ""), s(e.section, "TransformOrigin", ""), s(e.section, "Transform", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveX > 0 ? (s(t.section, "Transform", "translateX(-" + (e.width - n.moveX) + "px)"), s(e.section, "Transform", "translateX(" + n.moveX + "px)")) : (s(t.section, "Transform", "translateX(" + (e.width + n.moveX) + "px)"), s(e.section, "Transform", "translateX(" + n.moveX + "px)"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveX > 0 && n.moveX < 20 ? (s(t.section, "Transform", "translateX(-" + e.width + "px)"), s(e.section, "Transform", "translateX(0)"), i = !0) : n.moveX < 0 && n.moveX > -20 ? (s(t.section, "Transform", "translateX(" + e.width + "px)"), s(e.section, "Transform", "translateX(0)"), i = !0) : (s(t.section, "Transform", "translateX(0px)"), n.moveX > 0 ? s(e.section, "Transform", "translateX(" + e.width + "px)") : s(e.section, "Transform", "translateX(" + -e.width + "px)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveX > 0 ? (s(t.section, "Transform", "translateX(-" + (e.width - n.moveX) + "px)"), s(e.section, "Transform", "scale(" + ((e.height - n.moveY) / e.height).toFixed(3) + ")")) : (s(t.section, "Transform", "translateX(" + (e.width + n.moveX) + "px)"), s(e.section, "Transform", "scale(" + ((e.height + n.moveY) / e.height).toFixed(3) + ")"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveX > 0 && n.moveX < 20 ? (s(t.section, "Transform", "translateX(-" + e.height + "px)"), s(e.section, "Transform", "scale(1)"), i = !0) : n.moveX < 0 && n.moveX > -20 ? (s(t.section, "Transform", "translateX(" + e.height + "px)"), s(e.section, "Transform", "scale(1)"), i = !0) : (s(t.section, "Transform", "translateX(0px)"), s(e.section, "Transform", "scale(0.2)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        var i = Math.abs(n.moveY) / e.height * 1.3;
        t.section.style.opacity = i.toFixed(1), i.toFixed(3) <= 1 && s(t.section, "Transform", "scale(" + i.toFixed(3) + ")")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (e, o) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "scale(0)"), t.section.style.opacity = 0, i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "scale(0)"), t.section.style.opacity = 0, i = !0) : (s(t.section, "Transform", "scale(1)"), t.section.style.opacity = 1, i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), t.section.style.opacity = "", e(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        t.section.style.zIndex = 0, n.moveX > 0 ? (n.moveX <= e.width / 4 ? s(e.section, "Transform", "translate3d(" + n.moveX + "px, 0, 0)") : s(e.section, "Transform", "translate3d(" + 1.5 * n.moveX + "px, 0, -" + (n.moveX - e.width / 4) + "px) scale(" + ((5 * e.width / 4 - n.moveX) / e.width).toFixed(3) + ") rotateY(" + n.moveX / e.width * 45 + "deg)"), s(t.section, "Transform", "scale(" + (.3 - (-n.moveX + e.width / 4) / e.width).toFixed(3) + ") translate3d(-" + (n.moveX - e.width / 4 + 200) + "px, 0, " + (-n.moveX + 3 * e.width / 4) + "px) rotateY(" + (45 + (-n.moveX + e.width / 4) / e.width * 45) + "deg)")) : (n.moveX >= -e.width / 4 ? s(e.section, "Transform", "translate3d(" + n.moveX + "px, 0, 0)") : s(e.section, "Transform", "translate3d(" + 1.5 * n.moveX + "px, 0, " + (n.moveX + e.width / 4) + "px) scale(" + ((5 * e.width / 4 + n.moveX) / e.width).toFixed(3) + ") rotateY(" + n.moveX / e.width * 45 + "deg)"), s(t.section, "Transform", "scale(" + (.3 - (n.moveX + e.width / 4) / e.width).toFixed(3) + ") translate3d(" + (-n.moveX - e.width / 4 + 200) + "px,0," + (-n.moveX - 3 * e.width / 4) + "px) rotateY(" + (45 + (n.moveX + e.width / 4) / e.width * 45) + "deg)"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveX > 0 && n.moveX < 20 ? (s(e.section, "Transform", "translate3d(0,0,0) rotateY(0) scale(1)"), i = !0) : n.moveX < 0 && n.moveX > -20 ? (s(e.section, "Transform", "translate3d(0,0,0) rotateY(0) scale(1)"), i = !0) : (t.section.style.zIndex = 2, n.moveX > 0 ? s(e.section, "Transform", "translate3d(0, 0, -" + e.width + "px) rotateY(0) scale(0.2)") : s(e.section, "Transform", "translate3d(" + e.width + "px, 0, -" + e.width + "px) rotateY(0) scale(0.2)"), s(t.section, "Transform", "translate3d(0,0,0) rotateY(0) scale(1)"), i = !1), $(e.section).one("transitionend webkitTransitionEnd", function () {
                t.section.style.zIndex = "", s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveX
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? (s(t.section, "Transform", "translateY(-" + (e.height - n.moveY) + "px)"), s(e.section, "Transform", "scale(" + ((e.height - n.moveY) / e.height).toFixed(3) + ")")) : (s(t.section, "Transform", "translateY(" + (e.height + n.moveY) + "px)"), s(e.section, "Transform", "scale(" + ((e.height + n.moveY) / e.height).toFixed(3) + ")"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "translateY(-" + e.height + "px)"), s(e.section, "Transform", "scale(1)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "translateY(" + e.height + "px)"), s(e.section, "Transform", "scale(1)"), i = !0) : (s(t.section, "Transform", "translateY(0px)"), s(e.section, "Transform", "scale(0.2)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? s(t.section, "Transform", "translateY(-" + (e.height - n.moveY) + "px)") : s(t.section, "Transform", "translateY(" + (e.height + n.moveY) + "px)")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "translateY(-" + e.height + "px)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "translateY(" + e.height + "px)"), i = !0) : (s(t.section, "Transform", "translateY(0px)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? (s(e.section, "TransformOrigin", "bottom"), s(t.section, "TransformOrigin", "top"), s(t.section, "Transform", "perspective(700px) rotate3d(1,0,0,-90deg)")) : (s(t.section, "TransformOrigin", "bottom"), s(e.section, "TransformOrigin", "top"), s(t.section, "Transform", "perspective(700px) rotate3d(1,0,0,90deg)")), s(e.section, "Transform", "perspective(700px) rotate3d(1,0,0," + n.moveY / e.height * 90 + "deg)")
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(t.section, "Transition", c.css + "transform 0.4s linear"), s(e.section, "Transition", c.css + "transform 0.4s linear"), Math.abs(n.moveY) > 0 && Math.abs(n.moveY) < 20 ? (s(e.section, "Transform", "rotate3d(1,0,0,0deg)"), s(t.section, "Transform", "rotate3d(1,0,0,0deg)"), i = !0) : (n.moveY > 0 ? s(e.section, "Transform", "perspective(700px) rotate3d(1,0,0, 90deg)") : s(e.section, "Transform", "perspective(700px) rotate3d(1,0,0, -90deg)"), $(e.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transform", "perspective(700px) rotate3d(1,0,0, 0deg)")
            }), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(t.section, "Transition", ""), s(t.section, "TransformOrigin", ""), s(t.section, "Transform", ""), s(e.section, "Transition", ""), s(e.section, "TransformOrigin", ""), s(e.section, "Transform", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e) {
    }

    function o(e, t, n) {
        n.moveY > 0 ? (s(t.section, "Transform", "translateY(-" + (e.height - n.moveY) + "px)"), s(e.section, "Transform", "translateY(" + n.moveY + "px)")) : (s(t.section, "Transform", "translateY(" + (e.height + n.moveY) + "px)"), s(e.section, "Transform", "translateY(" + n.moveY + "px)"))
    }

    function r(e, t, n) {
        var i = !0;
        return new Promise(function (o, r) {
            s(e.section, "Transition", c.css + "transform 0.4s linear"), s(t.section, "Transition", c.css + "transform 0.4s linear"), n.moveY > 0 && n.moveY < 20 ? (s(t.section, "Transform", "translateY(-" + e.height + "px)"), s(e.section, "Transform", "translateY(0)"), i = !0) : n.moveY < 0 && n.moveY > -20 ? (s(t.section, "Transform", "translateY(" + e.height + "px)"), s(e.section, "Transform", "translateY(0)"), i = !0) : (s(t.section, "Transform", "translateY(0px)"), n.moveY > 0 ? s(e.section, "Transform", "translateY(" + e.height + "px)") : s(e.section, "Transform", "translateY(" + -e.height + "px)"), i = !1), $(t.section).one("transitionend webkitTransitionEnd", function () {
                s(e.section, "Transition", ""), s(t.section, "Transition", ""), o(i)
            })
        })
    }

    function a(e) {
        return e.moveY
    }

    var s = n(545).preFixCss, c = n(545).prefix;
    e.exports = {pageMove: o, pageEnd: r, pageStart: i, getMoveDistance: a}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(809);
    var r = n(811), a = n(812), s = n(498), c = function () {
        function e(t, n) {
            i(this, e), this.bgAudioJson = t, this.eqxScene = n, this.$bgmBtn = $(r), this.bgAudioJson && (this.soundAgent = new a(this, this.eqxScene.soundManager))
        }

        return o(e, [{
            key: "destroy", value: function () {
                this.$bgmBtn && (this.soundAgent.destroy(), this.soundAgent = null, this.$bgmBtn.remove(), this.$bgmBtn = null)
            }
        }, {
            key: "updateJson", value: function (e) {
                this.soundAgent.update(new s("src", e))
            }
        }, {
            key: "show", value: function () {
                this.$bgmBtn && this.$bgmBtn.show()
            }
        }, {
            key: "resumePlay", value: function () {
                this.soundAgent && this.soundAgent.update(new s("end"))
            }
        }, {
            key: "stopPlay", value: function () {
                this.soundAgent && this.soundAgent.update(new s("stop"))
            }
        }, {
            key: "hide", value: function () {
                this.$bgmBtn && this.$bgmBtn.hide()
            }
        }, {
            key: "startRotate", value: function () {
                this.$bgmBtn && this.$bgmBtn.addClass("rotate")
            }
        }, {
            key: "stopRotate", value: function () {
                this.$bgmBtn && this.$bgmBtn.removeClass("rotate")
            }
        }]), e
    }();
    e.exports = c
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="bgm-btn" data-event="11205"><audio loop="" src="" autoplay="" preload></audio></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }

            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }(), s = n(500), c = n(114), l = n(176).resolveUrl, p = n(175).mobilecheck, u = n(501).getWxJSSDK,
        d = n(175).isWeixin, m = n(175).isIOS, f = p() ? "touchend" : "click", g = function (e) {
            function t(e, n) {
                i(this, t);
                var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
                return r.manager = n, r.isManualPause = !1, r.$audio = r.master.$bgmBtn.find("audio"), r.audio = r.$audio[0], r.type = 3, d() && (r.wxJssdk = u()), window.EQX = {
                    startBgm: r.startPlay.bind(r),
                    pauseBgm: r.stopPlay.bind(r)
                }, r.init(), r
            }

            return r(t, e), a(t, [{
                key: "destroy", value: function () {
                    this.$audio.attr("src", "").off("canplay play pause"), this.$audio.remove(), this.$audio = null, this.audio = null, this.master.$bgmBtn.off(f), window.EQX.startBgm = function () {
                    }, window.EQX.pauseBgm = function () {
                    }, this.deregister()
                }
            }, {
                key: "init", value: function () {
                    var e = this.master.bgAudioJson;
                    this.$audio.attr("src", l(c.FILE, e.url || e.src)), this.audio.load(), this.addEventListeners(), this.register(), this.master.show()
                }
            }, {
                key: "update", value: function (e) {
                    var t = this;
                    switch (e.type) {
                        case"src":
                            var n = e.data;
                            this.$audio.attr("src", l(c.FILE, n.url || n.src)), this.audio.load(), this.$audio.on("canplay", function () {
                                t.audio.play()
                            });
                            break;
                        case"hide":
                            this.hide();
                            break;
                        case"show":
                            this.show();
                            break;
                        case"stop":
                            this.stopPlay();
                            break;
                        case"end":
                            this.isManualPause || this.startPlay();
                            break;
                        case"down":
                            m() ? this.stopPlay() : this.audio.volume = .1;
                            break;
                        case"restore":
                            m() ? this.startPlay() : this.audio.volume = 1;
                            break;
                        case"play":
                            this.startPlay()
                    }
                }
            }, {
                key: "addEventListeners", value: function () {
                    function e() {
                        n.audio.paused && n.startPlay(!0)
                    }

                    var t = this, n = this;
                    this.$audio.on("play", function () {
                        console.log("play"), $(document.body).unbind(f, e), t.master.startRotate()
                    }), this.$audio.on("pause", function () {
                        console.log("pause"), t.master.stopRotate()
                    }), this.master.$bgmBtn.on(f, function (e) {
                        e.cancelBubble = !0, e.stopPropagation(), t.isManualPause = !t.audio.paused, t.audio.paused ? t.startPlay(!0) : t.stopPlay(!0)
                    }), $(document.body).bind(f, e), this.startPlay()
                }
            }, {
                key: "startPlay", value: function (e) {
                    function t(e) {
                        4 === e.readyState ? e.paused && (e.play(), n.manager.onPlay(n)) : (e.load(), $(e).on("canplay", function () {
                            n.$audio.off("canplay"), e.play(), n.manager.onPlay(n)
                        }))
                    }

                    this.show();
                    var n = this, i = n.audio;
                    d() && !e ? this.wxJssdk.then(function () {
                        wx.checkJsApi({
                            jsApiList: ["checkJsApi"], success: function () {
                                t(i)
                            }
                        })
                    }) : t(i)
                }
            }, {
                key: "hide", value: function () {
                    this.master.$bgmBtn && this.master.$bgmBtn.hide(), this.stopPlay()
                }
            }, {
                key: "show", value: function () {
                    this.master.$bgmBtn && this.master.$bgmBtn.show()
                }
            }, {
                key: "stopPlay", value: function (e) {
                    function t(e) {
                        4 === e.readyState ? e.pause() : (e.load(), $(e).on("canplay", function () {
                            n.$audio.off("canplay"), e.pause()
                        }))
                    }

                    var n = this;
                    if (d() && !e) this.wxJssdk.then(function () {
                        var e = n.audio;
                        wx.checkJsApi({
                            jsApiList: ["checkJsApi"], success: function () {
                                t(e)
                            }
                        })
                    }); else {
                        var i = n.audio;
                        t(i)
                    }
                }
            }]), t
        }(s);
    e.exports = g
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(498), a = function () {
        function e() {
            i(this, e), this.subscriberMap = {}
        }

        return o(e, [{
            key: "subscribe", value: function (e, t) {
                var n = this.subscriberMap[e];
                n || (n = this.subscriberMap[e] = []), n.includes(t) || n.push(t)
            }
        }, {
            key: "removeAll", value: function (e) {
                for (var t in this.subscriberMap) this.subscriberMap.hasOwnProperty(t) && this.remove(t, e)
            }
        }, {
            key: "remove", value: function (e, t) {
                var n = this.subscriberMap[e];
                if (!n) return void(_DEBUG_ && console.error("remove subscriber form none existed event list"));
                var i = n.indexOf(t);
                i > -1 && n.splice(i, 1)
            }
        }, {
            key: "publish", value: function (e, t) {
                var n = this.subscriberMap[e];
                return n ? void n.forEach(function (n) {
                    return n.update(new r(e, t))
                }) : void(_DEBUG_ && console.error("event " + e + " no subscriber!"))
            }
        }]), e
    }();
    e.exports = a
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        return JSON.stringify(e) === JSON.stringify(t)
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(815).$postComment, s = n(815).$getCommentList, c = function () {
        function e(t) {
            i(this, e), this.sceneId = t, this.comments = [], this.canLoadMore = !0, this.lastTime = 0, this.registers = [], this.promise = null
        }

        return r(e, [{
            key: "addComment", value: function (e) {
                return !this.comments.find(function (t) {
                    return o(t, e)
                }) && (this.comments.push(e), !0)
            }
        }, {
            key: "getComments", value: function () {
                return this.comments.sort(function (e, t) {
                    return t.createTime - e.createTime
                }), this.comments
            }
        }, {
            key: "postComment", value: function (e) {
                var t = this;
                return a(e).then(function (e) {
                    var n = e.obj;
                    return t.addComment(n), t.publish(), n
                })
            }
        }, {
            key: "publish", value: function () {
                this.registers.forEach(function (e) {
                    return e.updateComments()
                })
            }
        }, {
            key: "loadInitComments", value: function (e) {
                return this.promise ? this.promise : (this.promise = this.loadMoreComments(e)["catch"](function () {
                }), this.promise)
            }
        }, {
            key: "loadMoreComments", value: function (e) {
                var t = this;
                return s({sceneId: this.sceneId, time: this.lastTime, size: e}).then(function (e) {
                    var n = e.list;
                    return n.length ? (t.lastTime = n[n.length - 1].createTime, n = n.filter(function (e) {
                        return t.addComment(e)
                    }), t.publish(), n) : Promise.reject("")
                })
            }
        }, {
            key: "register", value: function (e) {
                this.registers.includes(e) || this.registers.push(e)
            }
        }]), e
    }();
    e.exports = c
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.sceneId, n = e.size, i = e.time, o = r.SERVER_1 + "scene/msg/list?sceneId=" + t;
        return n && (o += "&size=" + n), i && (o += "&lastTime=" + i), o += "&date=" + (new Date).getTime(), a({
            type: "GET",
            url: o
        })
    }

    function o(e) {
        return a({type: "POST", url: r.SERVER_1 + "scene/send/msg", data: e})
    }

    var r = n(114), a = n(166).ajax;
    e.exports = {$getCommentList: i, $postComment: o}
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e) {
        return a.includes("" + e.type)
    }

    var r = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), a = n(449).FORM_COMPS, s = function () {
        function e() {
            i(this, e), this.submited = !1, this.fromCompList = []
        }

        return r(e, [{
            key: "add", value: function (e) {
                if (o(e)) if (this.fromCompList.includes(e)) {
                    if (_DEBUG_) throw new Error("Duplicate EQX form element " + e)
                } else this.fromCompList.push(e); else if (_DEBUG_) throw new Error("Invalid EQX Form Element " + e + ", type: " + e.type)
            }
        }, {
            key: "check", value: function () {
                for (var e = {sms: []}, t = this.fromCompList.map(function (e) {
                    return e.check()
                }), n = 0; n < t.length; n++) {
                    var i = t[n], o = i.success, r = i.key, a = i.value;
                    if (!o) return i;
                    i.type && 12 == i.type ? e[r] = a.phoneValue : e[r] = a, i.type && 12 == i.type && e.sms.push(a)
                }
                return Object.values(e).every(function (e) {
                    return !e
                }) ? {success: !1, message: "请填写表单"} : {success: !0, form: e}
            }
        }]), e
    }();
    e.exports = s
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = function d(e, t, n) {
        null === e && (e = Function.prototype);
        var i = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === i) {
            var o = Object.getPrototypeOf(e);
            return null === o ? void 0 : d(o, t, n)
        }
        if ("value" in i) return i.value;
        var r = i.get;
        if (void 0 !== r) return r.call(n)
    }, c = n(764), l = n(604).$getCountValues, p = n(449).COMP_TYPE, u = function (e) {
        function t(e) {
            i(this, t);
            var n = e.list.reduce(function (e, t) {
                return e.concat(t.elements)
            }, []), r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n));
            return r.sceneJson = e, r.countIdArr = [], r.countValuesPromise = null, r
        }

        return r(t, e), a(t, [{
            key: "iterate", value: function () {
                var e = this;
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "iterate", this).call(this), this.compJsonList.forEach(function (t) {
                    var n = p[t.type];
                    "EqxCount" !== n || e.countIdArr.includes(t.id) || e.countIdArr.push(t.id)
                })
            }
        }, {
            key: "getCountIds", value: function () {
                return this.countIdArr.join(",")
            }
        }, {
            key: "getCounterValues", value: function () {
                if (this.countValuesPromise) return this.countValuesPromise;
                var e = this.getCountIds();
                if (e) {
                    var t = this.sceneJson.meta.id;
                    this.countValuesPromise = l({sceneId: t, fieldIds: e}).then(function (e) {
                        return e.map
                    })["catch"](function () {
                        return {}
                    })
                } else this.countValuesPromise = Promise.resolve({});
                return this.countValuesPromise
            }
        }]), t
    }(c);
    e.exports = u
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(819), c = n(498), l = function (e) {
        function t() {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))
        }

        return r(t, e), a(t, [{
            key: "onPlay", value: function (e) {
                if (this.agents.includes(e)) switch (e.type) {
                    case 6:
                        this.agents.forEach(function (t) {
                            t !== e && 6 === t.type && t.update(new c("hide")), 5 !== t.type || t.master.$context[0].paused || e.update(new c("pause"))
                        }), this.agents.forEach(function (t) {
                            3 === t.type && (e.isSoundValid() || t.isManualPause ? !e.isSoundValid() && t.isManualPause ? t.update(new c("show")) : e.isSoundValid() && t.update(new c("hide")) : t.update(new c("play")))
                        });
                        break;
                    case 3:
                        this.agents.forEach(function (t) {
                            5 !== t.type || t.master.$context[0].paused || e.update(new c("stop")), 6 === t.type && t.audio && !t.audio.paused && e.update(new c("hide"))
                        });
                        break;
                    case 5:
                        this.agents.forEach(function (e) {
                            3 === e.type ? e.update(new c("stop")) : 6 === e.type && e.update(new c("pause"))
                        });
                        break;
                    case 1:
                        this.agents.forEach(function (t) {
                            t !== e && (2 === t.type || 3 === t.type || 6 === t.type ? t.update(new c("down")) : 1 === t.type && (t.update(new c("stop")), t.update(new c("reset"))))
                        });
                        break;
                    case 2:
                        this.agents.forEach(function (t) {
                            3 !== t.type && 6 !== t.type || t.update(new c("down")), 1 !== t.type || t.audio.paused || e.update(new c("down"))
                        });
                        break;
                    case 4:
                        this.agents.forEach(function (e) {
                            2 === e.type || 3 === e.type || 6 === e.type ? e.update(new c("down")) : 1 === e.type && (e.update(new c("stop")), e.update(new c("reset")))
                        })
                }
            }
        }, {
            key: "onEnd", value: function (e) {
                if (e || this.agents.includes(e)) switch (e.type) {
                    case 5:
                        this.agents.forEach(function (e) {
                            6 === e.type ? e.update(new c("play")) : 3 !== e.type || e.isManualPause || e.update(new c("play"))
                        });
                        break;
                    case 1:
                        var t = null;
                        t = this.agents.findIndex(function (e) {
                            return 1 === e.type && !e.audio.paused
                        }) !== -1, this.agents.forEach(function (e) {
                            2 !== e.type || t || e.update(new c("restore"))
                        }), t = this.agents.findIndex(function (e) {
                            return (1 === e.type || 2 === e.type) && !e.audio.paused
                        }) !== -1, !t && this.agents.forEach(function (e) {
                            3 !== e.type && 6 !== e.type || e.update(new c("restore"))
                        });
                        break;
                    case 2:
                        var n = !1;
                        this.agents.forEach(function (t) {
                            t === e || 1 !== t.type && 2 !== t.type || t.audio.paused || (n = !0)
                        }), !n && this.agents.forEach(function (e) {
                            3 !== e.type && 6 !== e.type || e.update(new c("restore"))
                        });
                        break;
                    case 4:
                        var i = null;
                        i = this.agents.findIndex(function (e) {
                            return 1 === e.type && !e.audio.paused
                        }) !== -1, this.agents.forEach(function (e) {
                            2 !== e.type || i || e.update(new c("restore"))
                        }), i = this.agents.findIndex(function (e) {
                            return (1 === e.type || 2 === e.type) && !e.audio.paused
                        }) !== -1, !i && this.agents.forEach(function (e) {
                            3 !== e.type && 6 !== e.type || e.update(new c("restore"))
                        })
                }
            }
        }, {
            key: "stopAll", value: function () {
                this.agents.forEach(function (e) {
                    e.audio && !e.audio.paused && e.update(new c("stop"))
                })
            }
        }, {
            key: "restoreAll", value: function () {
                this.agents.forEach(function (e) {
                    3 === e.type && e.audio.paused && !e.isManualPause && e.update(new c("play"))
                })
            }
        }]), t
    }(s);
    e.exports = l
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e(t) {
            n(this, e), this.agents = [], this.predict = t
        }

        return i(e, [{
            key: "add", value: function (e) {
                this.predict && !this.predict.call(this, e) || this.agents.includes(e) || this.agents.push(e)
            }
        }, {
            key: "remove", value: function (e) {
                var t = this.agents.indexOf(e);
                t > -1 && this.agents.splice(t, 1)
            }
        }]), e
    }();
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = n(819), s = function (e) {
        function t() {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))
        }

        return r(t, e), t
    }(a);
    e.exports = s
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [t, n(822), n(824), n(825), n(826), n(827)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n, i, o, r) {
        "use strict";

        function a(e) {
            return e && e.__esModule ? e : {"default": e}
        }

        Object.defineProperty(e, "__esModule", {value: !0}), e.detailedDiff = e.updatedDiff = e.deletedDiff = e.diff = e.addedDiff = void 0;
        var s = a(t), c = a(n), l = a(i), p = a(o), u = a(r);
        e.addedDiff = c["default"], e.diff = s["default"], e.deletedDiff = l["default"], e.updatedDiff = p["default"], e.detailedDiff = u["default"]
    })
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [e, t, n(823)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n) {
        "use strict";

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        Object.defineProperty(t, "__esModule", {value: !0});
        var o = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }, r = function a(e, t) {
            if (e === t) return {};
            if (!(0, n.isObject)(e) || !(0, n.isObject)(t)) return t;
            var r = (0, n.properObject)(e), s = (0, n.properObject)(t), c = Object.keys(r).reduce(function (e, t) {
                return s.hasOwnProperty(t) ? e : o({}, e, i({}, t, void 0))
            }, {});
            return (0, n.isDate)(r) || (0, n.isDate)(s) ? r.valueOf() == s.valueOf() ? {} : s : Object.keys(s).reduce(function (e, t) {
                if (!r.hasOwnProperty(t)) return o({}, e, i({}, t, s[t]));
                var c = a(r[t], s[t]);
                return (0, n.isObject)(c) && (0, n.isEmpty)(c) && !(0, n.isDate)(c) ? e : o({}, e, i({}, t, c))
            }, c)
        };
        t["default"] = r, e.exports = t["default"]
    })
}, function (e, t, n) {
    var i, o, r;
    !function (n, a) {
        o = [t], i = a, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var t = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }, n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }, i = (e.isDate = function (e) {
            return e instanceof Date
        }, e.isEmpty = function (e) {
            return 0 === Object.keys(e).length
        }, e.isObject = function (e) {
            return null != e && "object" === ("undefined" == typeof e ? "undefined" : n(e))
        });
        e.properObject = function (e) {
            return i(e) && !e.hasOwnProperty ? t({}, e) : e
        }
    })
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [e, t, n(823)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n) {
        "use strict";

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        Object.defineProperty(t, "__esModule", {value: !0});
        var o = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }, r = function a(e, t) {
            if (e === t || !(0, n.isObject)(e) || !(0, n.isObject)(t)) return {};
            var r = (0, n.properObject)(e), s = (0, n.properObject)(t);
            return Object.keys(s).reduce(function (e, t) {
                if (r.hasOwnProperty(t)) {
                    var c = a(r[t], s[t]);
                    return (0, n.isObject)(c) && (0, n.isEmpty)(c) ? e : o({}, e, i({}, t, c))
                }
                return o({}, e, i({}, t, s[t]))
            }, {})
        };
        t["default"] = r, e.exports = t["default"]
    })
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [e, t, n(823)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n) {
        "use strict";

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        Object.defineProperty(t, "__esModule", {value: !0});
        var o = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }, r = function a(e, t) {
            if (e === t || !(0, n.isObject)(e) || !(0, n.isObject)(t)) return {};
            var r = (0, n.properObject)(e), s = (0, n.properObject)(t);
            return Object.keys(r).reduce(function (e, t) {
                if (s.hasOwnProperty(t)) {
                    var c = a(r[t], s[t]);
                    return (0, n.isObject)(c) && (0, n.isEmpty)(c) ? e : o({}, e, i({}, t, c))
                }
                return o({}, e, i({}, t, void 0))
            }, {})
        };
        t["default"] = r, e.exports = t["default"]
    })
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [e, t, n(823)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n) {
        "use strict";

        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        Object.defineProperty(t, "__esModule", {value: !0});
        var o = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }, r = function a(e, t) {
            if (e === t) return {};
            if (!(0, n.isObject)(e) || !(0, n.isObject)(t)) return t;
            var r = (0, n.properObject)(e), s = (0, n.properObject)(t);
            return (0, n.isDate)(r) || (0, n.isDate)(s) ? r.valueOf() == s.valueOf() ? {} : s : Object.keys(s).reduce(function (e, t) {
                if (r.hasOwnProperty(t)) {
                    var c = a(r[t], s[t]);
                    return (0, n.isObject)(c) && (0, n.isEmpty)(c) && !(0, n.isDate)(c) ? e : o({}, e, i({}, t, c))
                }
                return e
            }, {})
        };
        t["default"] = r, e.exports = t["default"]
    })
}, function (e, t, n) {
    var i, o, r;
    !function (a, s) {
        o = [e, t, n(824), n(825), n(826)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r))
    }(this, function (e, t, n, i, o) {
        "use strict";

        function r(e) {
            return e && e.__esModule ? e : {"default": e}
        }

        Object.defineProperty(t, "__esModule", {value: !0});
        var a = r(n), s = r(i), c = r(o), l = function (e, t) {
            return {added: (0, a["default"])(e, t), deleted: (0, s["default"])(e, t), updated: (0, c["default"])(e, t)}
        };
        t["default"] = l, e.exports = t["default"]
    })
}, function (e, t, n) {
    "use strict";
    var i = n(464), o = n(786), r = n(787);
    e.exports = {EqxPage: i, EqxLongPage: o, EqxXiuPage: r}
}, function (e, t, n) {
    "use strict";
    e.exports = {
        finger: n(830),
        money: n(476),
        scratch: n(844),
        snowFly: n(482),
        fallingObject: n(854),
        fireWorks: n(485),
        gradient: n(864),
        glassBreak: n(865)
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(472), c = n(831).fingerImages, l = n(831).backImages, p = function (e) {
        function t(e, n, r, a) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a))
        }

        return r(t, e), a(t, [{
            key: "setBackImage", value: function (e) {
                e = this.getBgImgPath(e), this.$bg.css("backgroundImage", "url(" + e + ")"), this.destory && this.reView()
            }
        }, {
            key: "setFingerImage", value: function (e) {
                this.$fingerPrint.attr("src", e), this.destory && this.reView()
            }
        }, {
            key: "reView", value: function () {
                this.$div.show(), this.$fingerPrint.show(), this.$bg.removeClass("noFinger").show(), this.addEvent()
            }
        }], [{
            key: "getFingerImages", value: function () {
                return c
            }
        }, {
            key: "getBackImages", value: function () {
                return l
            }
        }]), t
    }(s);
    e.exports = p
}, function (e, t, n) {
    "use strict";
    var i = [{name: "粉色指纹", path: n(832)}, {name: "白色指纹", path: n(833)}, {name: "蓝色指纹", path: n(834)}],
        o = [{name: "自定义", path: ""}, {name: "粉红回忆", path: n(835)}, {name: "深蓝花纹", path: n(836)}, {
            name: "淡绿清新",
            path: n(837)
        }, {name: "深紫典雅", path: n(838)}, {name: "淡紫水滴", path: n(839)}, {name: "蓝白晶格", path: n(840)}, {
            name: "蓝色水滴",
            path: n(841)
        }, {name: "朦胧绿光", path: n(842)}, {name: "灰色金属", path: n(843)}];
    e.exports = {fingerImages: i, backImages: o}
}, function (e, t, n) {
    e.exports = n.p + "images/zhiwen1-12c880.png"
}, function (e, t, n) {
    e.exports = n.p + "images/zhiwen2-c467ef.png"
}, function (e, t, n) {
    e.exports = n.p + "images/zhiwen3-fa0c32.png"
}, function (e, t, n) {
    e.exports = n.p + "images/bg1-877dca.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg2-4907f6.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg3-529a3f.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg4-b62c29.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg5-a84464.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg6-22ff5b.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg7-c1d03e.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg8-78b002.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/bg9-586e43.jpg"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(480), c = n(845), l = function (e) {
        function t(e, n, r, a, s, c) {
            i(this, t);
            var l = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c));
            return l.mimicIntervalId = null, l
        }

        return r(t, e), a(t, [{
            key: "setPercentage", value: function (e) {
                this.percentage = e
            }
        }, {
            key: "setCoverImage", value: function (e) {
                this.effectJson.image = e, this.redraw()
            }
        }, {
            key: "setOpacity", value: function (e) {
                this.effectJson.opacity = e, this.redraw()
            }
        }, {
            key: "setTip", value: function (e) {
                this.effectJson.tip = e, this.drawTip()
            }
        }, {
            key: "redraw", value: function () {
                var e = this, t = null;
                this.canvas ? (this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), t = this.drawCanvas()) : t = this.initCanvas(), t.then(function () {
                    e.canvas.classList.remove("cas")
                })
            }
        }, {
            key: "startMimic", value: function () {
                var e = this;
                this.removeTip();
                var t = function (t) {
                    return t * e.width / 196
                }, n = function (t) {
                    return t * e.height / 308
                }, i = t(130), o = n(70);
                this.ctx.beginPath(), this.mimicIntervalId = setInterval(function () {
                    e.ctx.moveTo(i, o), i >= t(70) && o <= n(130) ? (e.ctx.lineTo(i - 2, o + 2), e.ctx.stroke(), i -= 2, o += 2) : i <= t(120) && o <= n(155) ? (e.ctx.lineTo(i + 2, o + 1), e.ctx.stroke(), i += 2, o += 1) : i >= t(70) && o <= n(205) ? (e.ctx.lineTo(i - 2, o + 2), e.ctx.stroke(), i -= 2, o += 2) : (e.stopMimic(), e.redraw(), e.startMimic())
                }, 50)
            }
        }, {
            key: "stopMimic", value: function () {
                this.mimicIntervalId && (clearInterval(this.mimicIntervalId), this.mimicIntervalId = null)
            }
        }], [{
            key: "getCoverImages", value: function () {
                return c
            }
        }]), t
    }(s);
    e.exports = l
}, function (e, t, n) {
    "use strict";
    var i = [{name: "水滴", path: n(846)}, {name: "细沙", path: n(847)}, {name: "花瓣", path: n(848)}, {
        name: "金沙",
        path: n(849)
    }, {name: "白雪", path: n(850)}, {name: "模糊", path: n(851)}, {name: "落叶", path: n(852)}, {name: "薄雾", path: n(853)}];
    e.exports = i
}, function (e, t, n) {
    e.exports = n.p + "images/waterdrop-962bf3.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/sand-84566f.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/flowers-e79814.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/goldsand-48b782.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/snowground-bf4aef.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/mohu-bd7510.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/leaves-f5adcd.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/smoke-63031c.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(484), c = n(855), l = n(165).loadImg, p = function (e) {
        function t(e, n, r, a) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a))
        }

        return r(t, e), a(t, [{
            key: "setImage", value: function (e) {
                var t = this;
                l(e).then(function (e) {
                    t.ctx.fillStyle = t.ctx.createPattern(e, "repeat")
                })
            }
        }, {
            key: "setDensity", value: function (e) {
                this.effectJson.density = e
            }
        }], [{
            key: "getFallingImages", value: function () {
                return c
            }
        }]), t
    }(s);
    e.exports = p
}, function (e, t, n) {
    "use strict";
    var i = [{name: "自定义", path: "", rotate: 180, vy: 4}, {name: "圣诞节", path: n(856), rotate: 180, vy: 4}, {
        name: "礼物",
        path: n(857),
        rotate: 180,
        vy: 4
    }, {name: "春节", path: n(858), rotate: 60, vy: 1}, {name: "福字", path: n(859), rotate: 180, vy: 3}, {
        name: "红包",
        path: n(860),
        rotate: 180,
        vy: 3
    }, {name: "绿枫叶", path: n(861), rotate: 180, vy: 3}, {name: "星星", path: n(862), rotate: 180, vy: 3}, {
        name: "雪花",
        path: n(863),
        rotate: 0,
        vy: 1
    }];
    e.exports = i
}, function (e, t, n) {
    e.exports = n.p + "images/wazi-e6b18b.png"
}, function (e, t, n) {
    e.exports = n.p + "images/gift-428e3b.png"
}, function (e, t, n) {
    e.exports = n.p + "images/denglongcj-ccc6f8.png"
}, function (e, t, n) {
    e.exports = n.p + "images/fuzi1-525cb3.png"
}, function (e, t, n) {
    e.exports = n.p + "images/hongbao2-13cdc8.png"
}, function (e, t, n) {
    e.exports = n.p + "images/lvfengye-981336.png"
}, function (e, t, n) {
    e.exports = n.p + "images/xing-75e529.png"
}, function (e, t, n) {
    e.exports = n.p + "images/snow-b3f304.png"
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(486), c = function (e) {
        function t(e, n, r, a, s, c) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c))
        }

        return r(t, e), a(t, [{
            key: "changeDirection", value: function (e) {
                this.effectJson.direction = e, this._startEffect()
            }
        }, {
            key: "changeOpenStyle", value: function (e) {
                this.effectJson.openStyle = e, this._startEffect()
            }
        }, {
            key: "changeBgColor", value: function (e) {
                this.effectJson.backgroundColor = e, this._startEffect()
            }
        }, {
            key: "changeDuration", value: function (e) {
                this.effectJson.duration = e, this._startEffect()
            }
        }, {
            key: "changeTip", value: function (e) {
                this.effectJson.tip = e, this._startEffect()
            }
        }]), t
    }(s);
    e.exports = c
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t
    }

    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {value: e, enumerable: !1, writable: !0, configurable: !0}
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }

    var a = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), s = n(488), c = function (e) {
        function t(e, n, r, a, s, c) {
            return i(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, r, a, s, c))
        }

        return r(t, e), a(t, [{
            key: "changeBgColor", value: function (e) {
                this.effectJson.backgroundColor = e, this.$div ? this.$div.css({backgroundColor: e}) : this._startEffect()
            }
        }, {
            key: "changeTime", value: function (e) {
                this.effectJson.time = e, this._startEffect()
            }
        }, {
            key: "changeTip", value: function (e) {
                this.effectJson.tip = e, this._startEffect()
            }
        }]), t
    }(s);
    e.exports = c
}, function (e, t, n) {
    "use strict";
    e.exports = {
        finger: n(472),
        money: n(476),
        scratch: n(480),
        snowFly: n(482),
        fallingObject: n(484),
        gradient: n(486),
        fireWorks: n(485),
        glassBreak: n(488)
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(868);
    var r = n(869), a = n(468).parse, s = n(465).$getSceneData, c = n(175), l = c.mobilecheck, p = c.isAndroidPhone,
        u = c.tabletCheck, d = c.isPc, m = n(114), f = function () {
            function e(t, n, o) {
                if (i(this, e), this.callBack = o, this.password = "", t.startsWith("http") || (t = m.FILE + t), n.append(a(r, {cover: t})), $("#loading").hide(), $("#verifyCode").show(), d() || p() ? ($(".password-numbers>span").on("click", this.passwordEventListener.bind(this)), $("#btnClear").on("click", this.btnClearEventListener.bind(this)), $("#btnCancel").on("click", this.btnCancelEventListener.bind(this))) : ($(".password-numbers>span").on("touchstart", this.passwordEventListener.bind(this)), $("#btnClear").on("touchstart", this.btnClearEventListener.bind(this)), $("#btnCancel").on("touchstart", this.btnCancelEventListener.bind(this))), l() || u()) {
                    var s, c = $(".container"), f = c.width(), g = c.height();
                    s = Math.floor(10 * Math.min(document.documentElement.clientHeight / g, document.documentElement.clientWidth / f)) / 10, c.css("transform", "scale(" + s + ", " + s + ")")
                }
            }

            return o(e, [{
                key: "requestSceneDataWithPassword", value: function (e) {
                    var t = this;
                    s(e).then(function (e) {
                        t.clearGuess(), t.callBack(e)
                    })["catch"](function () {
                        t.warnGuess()
                    })
                }
            }, {
                key: "animateVerifyTip", value: function () {
                    var e = this;
                    $("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                        $(this).removeClass("shake"), e.syncronizeTheIndicator()
                    })
                }
            }, {
                key: "syncronizeTheIndicator", value: function () {
                    var e = this;
                    $(".password-indicator li").each(function (t, n) {
                        t < e.password.length ? $(n).addClass("active") : $(n).removeClass("active")
                    })
                }
            }, {
                key: "passwordEventListener", value: function (e) {
                    var t = $(e.target);
                    t.addClass("active"), this.password += t.text(), this.syncronizeTheIndicator(), 4 == this.password.length && (this.requestSceneDataWithPassword(this.password), this.password = ""), setTimeout(function () {
                        t.removeClass("active")
                    }, 100)
                }
            }, {
                key: "btnClearEventListener", value: function (e) {
                    this.password = "", this.syncronizeTheIndicator()
                }
            }, {
                key: "btnCancelEventListener", value: function (e) {
                    this.password && (this.password = this.password.substring(0, this.password.length - 1), this.syncronizeTheIndicator())
                }
            }, {
                key: "clearGuess", value: function () {
                    $("#verifyCode").remove(), d() || p() ? ($(".password-numbers>span").off("click", this.passwordEventListener.bind(this)), $("#btnClear").off("click", this.btnClearEventListener.bind(this)), $("#btnCancel").off("click", this.btnCancelEventListener.bind(this))) : ($(".password-numbers>span").off("touchstart", this.passwordEventListener.bind(this)), $("#btnClear").off("touchstart", this.btnClearEventListener.bind(this)), $("#btnCancel").off("touchstart", this.btnCancelEventListener.bind(this)))
                }
            }, {
                key: "warnGuess", value: function () {
                    $("#verifyCode").show(), this.animateVerifyTip()
                }
            }]), e
        }();
    e.exports = {Guess: f}
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="verifyCode" class="verifyCode"><div class="container"><div class="scene-cover"><img class="cover-img" src="#{cover}"></div><div class="scene-name">场景名称</div><div class="confirm-password"><div class="verify-label">请输入访问密码</div><div class="verify-tips" id="verifyTip"><ul class="password-indicator"><li></li><li></li><li></li><li></li></ul></div><div class="password-numbers"><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>0</span></div><div class="password-operation"><span class="btn-clear" id="btnClear">清空</span> <span class="btn-cancel" id="btnCancel">取消</span></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t) {
        var n = {};
        return new Promise(function (i) {
            return e ? b(e).then(function (e) {
                return f(t, e.obj)
            }).then(function (e) {
                return s(e), i(e)
            }) : (n = p(t), s(n), i(n))
        })
    }

    function r(e) {
        var t = e.meta, n = t.id, o = t.property, r = o.lastPageId, l = o.eqAdType, d = t.bizType, g = t.isTemplate,
            h = (t.ext, e.list), w = h.length;
        return new Promise(function (t) {
            function o() {
                return S().then(function (n) {
                    return k = p(e, n), c(k), h.push(k), t(e)
                })["catch"](function () {
                    return k = p(e), c(k), h.push(k), t(e)
                })
            }

            var k = void 0;
            if (w && (k = h[w - 1], k.elements = k.elements || []), !(x() || 30 != d && 2 != g || l != v["deepshare尾页"] && (l != v["技术支持尾页"] || r))) return S().then(function (e) {
                return e
            }).then(function (n) {
                return k = a(e, n), c(k), h.push(k), t(e)
            })["catch"](function () {
                return k = a(e), c(k), h.push(k), t(e)
            });
            switch ("" + l) {
                case v["无尾页无底标"]:
                    return t(e);
                case v["技术支持尾页"]:
                    return r ? b(r).then(function (t) {
                        return f(e, t.obj)
                    }).then(function (n) {
                        return s(n), h.push(n), t(e)
                    })["catch"](function () {
                        return o()
                    }) : o();
                case v["技术支持底标"]:
                    try {
                        var T = u(k), C = y.bottomLabel({sceneId: n, pageId: k.pageId, top: T, pageIndex: w});
                        return k.elements.push(C), t(e)
                    } catch (I) {
                        return console.error("添加技术支持底标尾页失败", I), o()
                    }
                case v["品牌联合底标"]:
                    try {
                        return m(e).then(function (n) {
                            return k.elements = [].concat(i(k.elements), i(n)), t(e)
                        })
                    } catch (I) {
                        return console.error("添加品牌联合底标失败", I), o()
                    }
                default:
                    return o()
            }
        })
    }

    function a(e, t) {
        var n = e.meta, i = n.id, o = n.cover, r = n.name, a = n.code, s = e.list.length + 1;
        return y.lastPageBlur({id: i, name: r, num: s, cover: o, code: a, isDeepShare: !0}, t)
    }

    function s(e, t) {
        var n = e.pageId, i = e.sceneId, o = e.num, r = y.report({pageId: n, sceneId: i, pageIndex: o, center: t});
        e.elements.push(r)
    }

    function c(e, t) {
        var n = e.pageId, i = e.sceneId, o = e.num,
            r = y.addReportBlur({pageId: n, sceneId: i, pageIndex: o, center: t});
        e.elements.push(r)
    }

    function l(e) {
        var t = e.sceneId, n = e.url;
        return h.SERVER_1 + "eqs/link?id=" + t + "&url=" + encodeURIComponent(n)
    }

    function p(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = e.meta, i = n.id, o = n.cover,
            r = n.name, a = e.list.length + 1;
        return y.lastPageBlur({id: i, name: r, num: a, cover: o}, t)
    }

    function u(e) {
        var t = (e.properties || {}).longPage || 1;
        return t < 10 ? 486 * (t - 1) : t - 486
    }

    function d(e, t, n) {
        var i = u(e), o = y.bottomLabel({sceneId: t, pageId: e.pageId, top: i, pageIndex: n});
        return o
    }

    function m(e) {
        var t = e.meta, n = t.id, i = t.property.bottomLabel, o = i.id, r = i.name, a = i.url;
        if (!o) throw new Error("No bottomLabel's id");
        var s = e.list, c = s[s.length - 1], l = u(c), p = c.pageId;
        return b(o).then(function (e) {
            return (e.obj.elements || []).map(function (e) {
                return g({ele: e, sceneId: n, pageId: p, url: a, top: l, name: r})
            })
        }, function () {
            return []
        })
    }

    function f(e, t) {
        var n = e.list, o = e.meta, r = o.cover, a = o.id, s = o.name;
        t.properties = t.properties || {}, t.sceneId = a;
        var c = function (e) {
            var t = e.properties.src;
            return 4 == e.type && !!t && ["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg", "group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png", "group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png", "group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(t)
        }, l = function (e) {
            2 == e.type && /http:\/\/service.eqxiu.com\/eqs\/link/.test(e.content) && (e.content = e.content.replace(/;url=.*com"/, ";url=" + encodeURIComponent(w)))
        };
        if ("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg" !== r) {
            var p = y.image1();
            p.properties.src = r
        } else p = y.eqxLogo();
        return t.elements = t.elements.filter(function (e) {
            return !c(e)
        }), t.elements.forEach(l), t.elements = [].concat(i(t.elements), [y.shadow(), p, y.line(), y.title(s)]), t.num = n.length + 1, t
    }

    function g(e) {
        var t = e.ele, n = e.sceneId, i = (e.pageId, e.url), o = e.top, r = e.name;
        t.sceneId = n, t.pageId = 129811;
        var a = "EQXIU.COM科技公司", s = t.type;
        return 2 == s && (r && i && "http://" !== i && (t.content = t.content.replace(new RegExp(a), '<a href="' + l({
            sceneId: n,
            url: i
        }) + '" target=_blank data-event="1120203">' + r + "</a>")), r ? t.content = t.content.replace(new RegExp(a), r) : /易企秀技术支持/.test(t.content) && (Object.assign(t.css, {
            zIndex: 1e3,
            height: 33,
            width: 129,
            left: 97
        }), t.content = '<div style="text-align: center;">' + t.content + "</div>")), t.css.top += o, t.css.zIndex = 200, t
    }

    var h = n(114), v = n(445).AD_TYPE, y = n(871), b = n(507).$getPageInfo, x = (n(616).$getYqcTail, n(175).isApp),
        w = n(176).redirectUrl(), S = n(506).getLastPageConfig;
    e.exports = {addEqAdInfo: r, getLastPage: o, getDefaultBottom: d, getCustomBottomLabel: m}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = e.sceneId, n = void 0 === t ? 16060 : t, i = e.pageId, o = e.top, r = e.pageIndex,
            a = g.SERVER_1 + "eqs/link?id=" + n + "&url=" + encodeURIComponent(h),
            s = '\n<div style="text-align: center;transform: translateY(-2px);-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="' + a + '" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">' + v + "</font>\n    </a>\n</div>";
        return {
            id: b(),
            pageId: i,
            sceneId: n,
            num: r,
            type: 2,
            content: s,
            status: 1,
            css: {
                zIndex: "1000",
                height: "20",
                width: "129",
                left: "97px",
                top: 418 + o + "px",
                backgroundColor: "rgba(0,0,0,0.6)",
                borderBottomLeftRadius: 20,
                borderBottomRightRadius: 20,
                borderTopRightRadius: 20,
                borderTopLeftRadius: 20,
                borderRadius: 20
            },
            properties: {anim: {type: 0, direction: 0, duration: 2, delay: 0}}
        }
    }

    function o(e) {
        var t = e.pageId, n = void 0 === t ? 1 : t, i = e.sceneId, o = void 0 === i ? 1 : i, r = e.pageIndex,
            a = void 0 === r ? 1 : r, s = e.center,
            c = '\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b>举报</b></font>\n    </span>\n</div>';
        return {
            id: b(),
            pageId: n,
            sceneId: o,
            num: a,
            type: 299,
            content: c,
            status: 1,
            css: {zIndex: 999, height: 36, width: 60, left: s ? 130 : 10, top: 420},
            properties: {anim: {type: 0, direction: 0, duration: 3, delay: 1}}
        }
    }

    function r() {
        return {
            id: b(),
            pageId: "",
            sceneId: "",
            num: 1,
            type: "4",
            isInput: 0,
            title: null,
            content: null,
            status: 1,
            css: {
                borderRadius: "0",
                borderStyle: "solid",
                height: "158",
                zIndex: "1000",
                borderColor: "rgba(0,0,0,1)",
                boxShadow: "0 0px 0px #333333",
                color: "#000000",
                backgroundColor: "white",
                borderWidth: "0px",
                width: "158",
                left: "84px",
                paddingTop: "11px",
                paddingLeft: "10px",
                top: "170px"
            },
            properties: {
                height: "100px",
                imgStyle: {width: 139, height: 136, marginTop: "0px", marginLeft: "0px"},
                width: "100px",
                src: "group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"
            }
        }
    }

    function a() {
        return {
            id: b(),
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: 2,
            isInput: 0,
            title: null,
            content: '\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',
            status: 1,
            css: {height: "257", width: "257", left: "78px", top: "175px"},
            properties: {}
        }
    }

    function s() {
        return {
            id: b(),
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: '\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-eqxiu"></em>\n</div>',
            status: 1,
            css: {height: "158", width: "158", left: "84px", top: "170px", backgroundColor: "white"},
            properties: {}
        }
    }

    function c() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "点击此处进行编辑";
        return {
            id: b(),
            pageId: "",
            sceneId: "",
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: '<div style="text-align: center;"><font color="#ffffff" size="3">' + e + "</font></div>",
            status: 1,
            css: {zIndex: "102", height: "65", width: "320", left: "0px", top: "70px"},
            properties: {}
        }
    }

    function l() {
        var e = '<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>';
        return {
            id: b(),
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: e,
            status: 1,
            css: {height: "24", width: "280", left: "21px", top: "122px"},
            properties: {}
        }
    }

    function p() {
        var e = '<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>';
        return {
            id: b(),
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: e,
            status: 1,
            css: {height: 257, width: 257, left: "78px", top: "175px"},
            properties: {}
        }
    }

    function u(e, t, n) {
        var i = e.id, o = void 0 === i ? 16060 : i, r = e.name, a = e.num, s = e.cover,
            c = void 0 === s ? "group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg" : s, l = (e.code, e.isDeepShare),
            p = e.href;
        r = r || "", t = t || {};
        var u = 129810, d = o;
        p = p ? g.SERVER_1 + "eqs/link?id=" + o + "&url=" + encodeURIComponent(p) : y() ? "" : g.SERVER_1 + "eqs/link?id=" + o + "&url=" + encodeURIComponent(h), t && !t.brandSrc && t.brandLink && (p = t.brandLink);
        var m = "点我免费制作易企秀", f = "#23a3d3", v = "",
            x = '<div style="text-align: center;">\n                        <span style="line-height: 1; background-color: initial;">\n                            <font size="4" color="#888888"><b>' + (t.sceneName || r) + "</b></font>\n                        </span>\n                    </div>",
            w = '<div style="width:280px;\n                                height:1px;\n                                background-color:rgba(60,60,60,0.4);\n                                cursor:pointer;\n                                position:absolute;\n                                left:0;\n                                -webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));\n                                top:12px;"></div>',
            S = '<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="' + p + '" target="_blank">\n                                <font color="#888888">' + v + '</font>\n                                <font color="' + f + '">' + m + "</font>\n                            </a>\n                        </span>\n                    </div>",
            k = '<a class="element comp_anchor editable-text deepShareHref" \n                       data-event="1120601"\n                       style="cursor: default; \n                              width: 100px; \n                              height: 36px; \n                              display: block;\n                              background: #08c3fd; \n                              color:#ffffff;\n                              font-size:13px;\n                              border-radius: 4px;">使用该模板</a>',
            T = {id: "", sceneId: d, num: a, name: r, properties: {}, elements: []},
            C = {id: b(), pageId: u, sceneId: d, num: 0, type: "3", css: {}, properties: {}};
        t.backgroundSrc ? C.properties.imgSrc = t.backgroundSrc : C.properties.bgColor = "#E6E9EE", T.elements.push(C);
        var I = {
            id: b(),
            pageId: u,
            sceneId: d,
            num: 1,
            type: "2",
            content: x,
            css: {height: "65", zIndex: "10", width: "320", left: "0px", top: "77px"},
            properties: {}
        };
        T.elements.push(I);
        var $ = {
            id: b(),
            pageId: u,
            sceneId: d,
            num: 2,
            type: "4",
            isInput: 0,
            title: null,
            content: null,
            status: 1,
            css: {
                borderBottomLeftRadius: 10,
                borderBottomRightRadius: 10,
                borderTopRightRadius: 10,
                borderTopLeftRadius: 10,
                borderRadius: 10,
                borderStyle: "solid",
                zIndex: "9",
                borderColor: "rgba(0,0,0,1)",
                paddingTop: "0px",
                height: "142",
                backgroundColor: "",
                color: "",
                boxShadow: "0px 0px 0px #333333",
                borderWidth: "0px",
                width: "142",
                left: "92px",
                paddingBottom: "0px",
                top: "177px"
            },
            properties: {
                height: "100px",
                imgStyle: {width: 142, height: 142, marginTop: "-0.5px", marginLeft: "0px"},
                width: "100px",
                src: c
            }
        };
        t.logoSrc && ($.properties.src = t.logoSrc), t.logoLink && ($.properties.url = t.logoLink), T.elements.push($);
        var E = {
            id: b(),
            pageId: 129810,
            sceneId: d,
            num: 1,
            type: "2",
            content: w,
            css: {height: "24", width: "280", left: "21px", top: "122px"},
            properties: {}
        };
        T.elements.push(E);
        var P = {
            id: b(),
            pageId: u,
            sceneId: d,
            num: 1,
            type: l && !y() ? "298" : "2",
            content: l ? k : "",
            css: {height: "36", width: "120", left: "98px", top: "350px", zIndex: "13"},
            properties: {}
        };
        if (T.elements.push(P), t.brandSrc) {
            var _ = '<a style="position: absolute;\n                               display: block;\n                               width: 100%;\n                               height: 100%;\n                               background-image: url(' + (g.FILE + t.brandSrc) + ');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="' + t.brandLink + '"\n                           target="_blank"></a>',
                q = {
                    id: b(),
                    pageId: u,
                    sceneId: d,
                    num: 2,
                    type: "7",
                    content: _,
                    css: {height: "40px", width: "320px", left: "0", top: "420px", zIndex: "13"},
                    properties: {}
                };
            T.elements.push(q)
        } else {
            var O = {
                id: 439885,
                pageId: u,
                sceneId: d,
                num: 1,
                type: l && !y() ? "298" : "2",
                content: S,
                css: {
                    borderRadius: "0px",
                    borderStyle: "solid",
                    height: "30",
                    paddingTop: "0px",
                    borderColor: "rgba(222,220,227,1)",
                    zIndex: "12",
                    boxShadow: "0px 0px 0px rgba(200,200,200,0.6)",
                    color: "",
                    backgroundColor: "rgba(255,255,255,0)",
                    borderWidth: "0px",
                    width: "320",
                    left: "1px",
                    bottom: "36px",
                    paddingBottom: "20px"
                },
                properties: {anim: [{type: 1, direction: 3, duration: "1", delay: "0.6"}]}
            };
            T.elements.push(O)
        }
        return T
    }

    function d() {
        return {
            id: 849219621,
            sceneId: 87910723,
            num: 1,
            name: null,
            properties: {},
            elements: [{
                css: {
                    top: -132,
                    left: -270,
                    width: 873,
                    height: 692,
                    zIndex: 1,
                    color: "#676767",
                    backgroundColor: "",
                    opacity: 1,
                    transform: "rotateZ(0deg)",
                    textAlign: "left",
                    borderWidth: 0,
                    borderStyle: "solid",
                    borderColor: "rgba(0,0,0,1)",
                    borderRadius: 0,
                    borderRadiusPerc: 0,
                    borderBottomRightRadius: 0,
                    borderBottomLeftRadius: 0,
                    borderTopRightRadius: 0,
                    borderTopLeftRadius: 0,
                    paddingBottom: 0,
                    paddingTop: 0,
                    boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                    boxShadowDirection: 0,
                    boxShadowSize: 0
                },
                properties: {
                    src: "Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",
                    imgStyle: {width: 873, height: 1376.3390625, marginTop: -342.16953125, marginLeft: 0},
                    maskSrc: "",
                    originSrc: "Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",
                    anim: [],
                    initType: 0
                },
                type: 4,
                id: 4791539496,
                pageId: 849219621,
                sceneId: 87910723,
                num: 1,
                name: "图片1"
            }, {
                css: {
                    top: -197.5,
                    left: -118,
                    width: 579.5,
                    height: 388,
                    zIndex: 2,
                    color: "#676767",
                    backgroundColor: "",
                    opacity: 1,
                    transform: "rotateZ(0deg)",
                    textAlign: "left",
                    borderWidth: 0,
                    borderStyle: "solid",
                    borderColor: "rgba(0,0,0,1)",
                    borderRadius: 0,
                    borderRadiusPerc: 0,
                    borderBottomRightRadius: 0,
                    borderBottomLeftRadius: 0,
                    borderTopRightRadius: 0,
                    borderTopLeftRadius: 0,
                    paddingBottom: 0,
                    paddingTop: 0,
                    boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                    boxShadowDirection: 0,
                    boxShadowSize: 0
                },
                properties: {
                    src: "Fie_7zLKX1jFwnowjnupl0uxuRzf",
                    imgStyle: {width: 579.5, height: 388, marginLeft: 0, marginTop: 0},
                    maskSrc: "",
                    originSrc: "Fie_7zLKX1jFwnowjnupl0uxuRzf",
                    anim: [{
                        type: 0,
                        direction: 0,
                        duration: 1,
                        delay: 0,
                        countNum: 1,
                        interval: 0,
                        count: 0,
                        $show: !0,
                        $$hashKey: "object:1200"
                    }],
                    initType: 0
                },
                type: 4,
                id: 2648920976,
                pageId: 849219621,
                sceneId: 87910723,
                num: 2,
                name: "图片2"
            }, {
                css: {
                    top: 283.5,
                    left: 78,
                    width: 165,
                    height: 50.5,
                    zIndex: 5,
                    color: "#676767",
                    backgroundColor: "",
                    opacity: 1,
                    transform: "rotateZ(0deg)",
                    textAlign: "left",
                    borderWidth: 0,
                    borderStyle: "solid",
                    borderColor: "rgba(0,0,0,1)",
                    borderRadius: 0,
                    borderRadiusPerc: 0,
                    borderBottomRightRadius: 0,
                    borderBottomLeftRadius: 0,
                    borderTopRightRadius: 0,
                    borderTopLeftRadius: 0,
                    paddingBottom: 0,
                    paddingTop: 0,
                    boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                    boxShadowDirection: 0,
                    boxShadowSize: 0
                },
                properties: {
                    src: "FszOmxnRNeOR4QbwDnYQHGP4uF4G",
                    imgStyle: {width: 165, height: 50.5, marginLeft: 0, marginTop: 0},
                    maskSrc: "",
                    originSrc: "FszOmxnRNeOR4QbwDnYQHGP4uF4G",
                    anim: [{
                        type: 24,
                        direction: 0,
                        duration: 1,
                        delay: .2,
                        countNum: 1,
                        interval: 0,
                        count: 0,
                        $show: !0,
                        $$hashKey: "object:1336"
                    }],
                    initType: 0
                },
                type: 4,
                id: 6696803295,
                pageId: 849219621,
                sceneId: 87910723,
                num: 5,
                name: "图片4"
            }, {
                css: {
                    top: 118.5,
                    left: 86,
                    width: 148,
                    height: 148,
                    zIndex: 4,
                    color: "#676767",
                    backgroundColor: "",
                    opacity: 1,
                    transform: "rotateZ(0deg)",
                    textAlign: "left",
                    borderWidth: 0,
                    borderStyle: "solid",
                    borderColor: "rgba(0,0,0,1)",
                    borderRadius: 0,
                    borderRadiusPerc: 0,
                    borderBottomRightRadius: 0,
                    borderBottomLeftRadius: 0,
                    borderTopRightRadius: 0,
                    borderTopLeftRadius: 0,
                    paddingBottom: 0,
                    paddingTop: 0,
                    boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                    boxShadowDirection: 0,
                    boxShadowSize: 0
                },
                properties: {
                    src: "FvqrpftukXbdDhFScUbzUuFZEIkz",
                    imgStyle: {width: 148, height: 148, marginLeft: 0, marginTop: 0},
                    maskSrc: "",
                    originSrc: "FvqrpftukXbdDhFScUbzUuFZEIkz",
                    anim: [{
                        type: 4,
                        direction: 0,
                        duration: 1,
                        delay: 0,
                        countNum: 1,
                        interval: 0,
                        count: 0,
                        $show: !0,
                        $$hashKey: "object:1268"
                    }],
                    initType: 0
                },
                type: 4,
                id: 8888432263,
                pageId: 849219621,
                sceneId: 87910723,
                num: 4,
                name: "图片5"
            }],
            price: null,
            isPaid: null,
            forms: null
        }
    }

    function m(e, t) {
        var n = e.id, i = void 0 === n ? 16060 : n, o = e.name, r = e.num, a = e.cover,
            s = void 0 === a ? "group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg" : a, c = (e.code, e.isDeepShare),
            l = e.href;
        o = o || "", t = t || {};
        var p = 129810, u = i;
        l = l ? g.SERVER_1 + "eqs/link?id=" + i + "&url=" + encodeURIComponent(l) : y() ? "" : g.SERVER_1 + "eqs/link?id=" + i + "&url=" + encodeURIComponent(h), t && !t.brandSrc && t.brandLink && (l = t.brandLink);
        var d = "点我免费制作易企秀", m = "#23a3d3", f = "",
            v = '<div style="text-align: center;">\n                        <span style="line-height: 1.5; background-color: initial;text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.6) !important;color:#FFFFFF">\n                            ' + (t.sceneName || o) + "\n                        </span>\n                    </div>",
            x = '<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="' + l + '" target="_blank">\n                                <font color="#888888">' + f + '</font>\n                                <font color="' + m + '">' + d + "</font>\n                            </a>\n                        </span>\n                    </div>",
            w = {id: "", sceneId: u, num: r, name: o, properties: {}, elements: []}, S = {
                id: b(),
                pageId: p,
                sceneId: u,
                num: 0,
                type: "3",
                css: {left: 0, opacity: .7, top: 0, zIndex: -1, filter: "blur(6px)"},
                properties: {
                    imgSrc: window.scene ? window.scene.cover : "group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png",
                    originSrc: window.scene ? window.scene.cover : "group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png"
                }
            }, k = {
                content: "",
                css: {color: "#555", height: "700px", left: -27, top: -107, width: 374, zIndex: 1},
                id: b(),
                num: 1,
                pageId: p,
                sceneId: u,
                type: "h",
                properties: {
                    anim: [],
                    id: 144877595,
                    initType: 1,
                    items: [{element: [0], fill: "rgba(0,0,0,0.6)", svgFill: "#08A1EF"}],
                    src: "group1/M00/B1/A3/yq0KXFZysi-ACYaKAAACDQH4Nes625.svg",
                    translate3dZ: 0,
                    type: "rect"
                }
            };
        t.backgroundSrc ? (S.properties.imgSrc = t.backgroundSrc, S.css = {
            left: 0,
            opacity: .7,
            top: 0,
            zIndex: -1
        }) : w.elements.push(k), w.elements.push(S);
        var T = {
            id: b(),
            pageId: p,
            sceneId: u,
            num: 2,
            type: "2",
            content: v,
            css: {
                height: "65px",
                zIndex: "10",
                width: "320px",
                left: "0px",
                top: "205px",
                fontSize: "18px",
                lineHeihgt: 1.5
            },
            properties: {}
        };
        w.elements.push(T);
        var C = {
            id: b(),
            pageId: p,
            sceneId: u,
            num: 3,
            type: "4",
            isInput: 0,
            title: null,
            content: null,
            status: 1,
            css: {
                borderBottomLeftRadius: 10,
                borderBottomRightRadius: 10,
                borderTopRightRadius: 10,
                borderTopLeftRadius: 10,
                borderRadius: 10,
                borderStyle: "solid",
                zIndex: "9",
                borderColor: "rgba(0,0,0,1)",
                paddingTop: "0px",
                height: "142",
                backgroundColor: "",
                color: "",
                boxShadow: "0px 0px 0px #333333",
                borderWidth: "0px",
                width: "144px",
                left: "88px",
                paddingBottom: "0px",
                top: "47px"
            },
            properties: {
                height: "100px",
                imgStyle: {width: 142, height: 142, marginTop: "-0.5px", marginLeft: "0px"},
                width: "100px",
                src: s
            }
        };
        if (t.logoSrc && (C.properties.src = t.logoSrc), t.logoLink && (C.properties.url = t.logoLink), w.elements.push(C), !y()) if (t.brandSrc) {
            var I = g.FILE + t.brandSrc + "?imageMogr2/auto-orient/thumbnail/620x92>",
                $ = '<a style="position: absolute;\n                               display: block;\n                               width: 310px;\n                               height: 100%;\n                               background-image: url(' + I + ');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="' + t.brandLink + '"\n                           target="_blank"></a>',
                E = {
                    id: b(),
                    pageId: p,
                    sceneId: u,
                    num: 5,
                    type: "2",
                    content: $,
                    css: {height: "46px", width: "320px", left: "0px", bottom: "92px", zIndex: "13"},
                    properties: {}
                };
            w.elements.push(E)
        } else {
            var P = {
                id: 439885,
                pageId: p,
                sceneId: u,
                num: 6,
                type: c && !y() ? "298" : "2",
                content: x,
                css: {
                    borderRadius: "0px",
                    borderStyle: "solid",
                    height: "30",
                    paddingTop: "0px",
                    borderColor: "rgba(222,220,227,1)",
                    zIndex: "12",
                    boxShadow: "0px 0px 0px rgba(200,200,200,0.6)",
                    color: "",
                    backgroundColor: "rgba(255,255,255,0)",
                    borderWidth: "0px",
                    width: "320px",
                    left: "0px",
                    bottom: "92px",
                    paddingBottom: "20px"
                },
                properties: {anim: [{type: 1, direction: 3, duration: "1", delay: "0.6"}]}
            };
            w.elements.push(P)
        }
        var _ = {
            css: {
                height: 26,
                left: 237,
                top: 456,
                width: 67,
                borderWidth: 6,
                borderColor: "rgba(255, 255, 255, 0)",
                borderRadius: "4px",
                borderBottomLeftRadius: "4px",
                borderBottomRightRadius: "4px",
                borderTopLeftRadius: "4px",
                borderTopRightRadius: "4px"
            },
            id: b(),
            num: 6,
            pageId: p,
            sceneId: u,
            properties: {
                anim: [],
                id: 144899161,
                initType: 1,
                items: [{elements: [0], fill: "rgba(255, 255, 255, 0.6)", svgFill: "#08A1EF"}, {
                    elements: [1],
                    fill: "rgba(0, 0, 0, 0.4)",
                    svgFill: "#08A1EF"
                }],
                src: "group2/M00/94/6B/yq0KXlZyt2WAERDfAAAVxmdQJtQ706.svg",
                translate3dZ: 0,
                type: "rect"
            },
            type: "h"
        };
        return w.elements.push(_), w
    }

    function f(e) {
        var t = e.pageId, n = void 0 === t ? 1 : t, i = e.sceneId, o = void 0 === i ? 1 : i, r = e.pageIndex,
            a = void 0 === r ? 1 : r, s = e.center,
            c = '\n<div style="text-align: center;width: 44px;height: 26px;\nfont-size: 12px; color: rgba(255, 255, 255, 0.6); line-height: 26px; border-radius: 4px;">\n        举报\n</div>';
        return {
            id: b(),
            pageId: n,
            sceneId: o,
            num: a,
            type: 299,
            content: c,
            status: 1,
            css: {zIndex: 999, height: 41, width: 74, left: s ? 130 : 1, top: 449},
            properties: {anim: {type: 0, direction: 0, duration: 3, delay: 1}}
        }
    }

    var g = n(114), h = n(176).redirectUrl(), v = "易企秀技术支持", y = n(175).isApp, b = n(465).randomId;
    n(872), e.exports = {
        bottomLabel: i,
        report: o,
        image1: r,
        image2: a,
        eqxLogo: s,
        title: c,
        line: l,
        shadow: p,
        lastPage: u,
        lastPageBlur: m,
        bizType40Page: d,
        addReportBlur: f
    }
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, o, a, s, c, l, p, u) {
        "ngInject";

        function d() {
            if (_) return _.eqxPageList[q]
        }

        function m(e) {
            var t = d();
            return t ? t.getEqxCompById(e) : void console.error("invalid page!")
        }

        function f(e) {
            return n.getSceneMeta(e)["catch"](function (e) {
                if (403 === e.data.code) var t = "场景地址有误，请确认！"; else t = e.data.msg || "获取场景数据失败";
                return h(t)
            }).then(function (e) {
                return g(e)
            }).then(function (e) {
                P = e.data.map.count;
                var n = e.data, i = t.adaptor, o = i.SceneAdaptor, r = i.perfectMeta.perfectMeta;
                new o(n).addMetaFn(r).start(), E.map = n.map;
                var a = E.meta = n.meta;
                delete a.property.wxAuth;
                var s = t.core.scene.EqxScene;
                return _ = new s(E, {
                    mode: "edit",
                    disablePageEffect: !0,
                    disableCompEvent: !0,
                    disableTrigger: !0,
                    disableArrow: !0,
                    disableCompAnim: !0,
                    disableCommentManager: !0,
                    initManagers: !1,
                    disableQiniuZoom: !0,
                    EqxGravity: {disableGravityMotion: !0}
                }), u.getCurrentUserPromise().then(function (e) {
                    return "" + e.type != "99" && "" + e.type != "4" || !_.meta.property.editorModel || l.setEditorModel(_.meta.property.editorModel), _
                })
            })
        }

        function g(e) {
            var t = e.data.obj, n = t.property;
            return "string" == typeof n && (n = JSON.parse(t.property)), 1 === t.status && 1 === t.isExpedited ? h() : n && n.lock && n.lock.length ? h(n.lock[0].msg) : c.resolve(e)
        }

        function h() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "此场景正在审核中，不能编辑";
            return a.openMsgDialog({msg: e, btn: "确定"}).then(function () {
                window.open(s.HOST + "h5/list", "_self")
            }), c.reject()
        }

        function v(e) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            return n.getAllPageList(e, P).then(function (e) {
                _.setPageList(e), "app" === l.getEditorModel() && (_ = p.deleteComp(_));
                var n = t.adaptor, o = n.SceneAdaptor, r = n.perfectPage.perfectPage, a = n.perfectComp.perfectComp;
                new o(E).addPageFn(r).addEleFn(a).start(), _.initManagers();
                var s = E.list.length;
                return i === -1 ? i = s : (!i || i < 0 || i > s) && (i = 1), q = i - 1, _
            })
        }

        function y() {
            var e = _.meta.id, t = _.getMetaWx(), n = _.calMetaWx();
            return t.wxClickFarmerCount !== n.wxClickFarmerCount || t.wxCount !== n.wxCount ? i.saveWx(e, n.wxCount, n.wxClickFarmerCount).then(function () {
                _.syncMetaWx()
            }) : c.resolve()
        }

        function b(e, t, i) {
            return n.publishScene(e, t, i)
        }

        function x(e) {
            var t = _.getEqxPageByIndex(e);
            if (t.isAd) return c.resolve();
            var n = t.toPageJson();
            return o.savePage(n).then(function () {
                return y()
            })["catch"](function (e) {
                var t = e.data.code;
                return 120307 === t ? h() : 120310 === t ? h(e.data.msg) : c.reject()
            })
        }

        function w(t, n) {
            var i = _.sceneJson.list, r = i[t].id;
            return o.createPage(r, n).then(function (n) {
                var i = _.insertPage(t, n.data.obj);
                return e.addPageHistory(i.pageJson, "初始化:创建页"), i
            })
        }

        function S(t) {
            var n = _.getEqxPageByIndex(t), i = n.toPageJson(), a = i.id, s = i.properties.longPage;
            return o.createPage(a, s).then(function (n) {
                var o = n.data.obj;
                r({
                    pageId: o.id,
                    sceneId: o.sceneId,
                    maxIndex: 0,
                    pageJson: i
                }), o.properties = i.properties, delete o.properties.platform, delete o.properties.applyTemplate, delete i.properties.platform, delete i.properties.applyTemplate, i.name = o.name;
                var a = _.insertPage(t, i);
                return e.addPageHistory(a.pageJson, "初始化:创建页"), x(t + 1)["finally"](function () {
                    return a
                })
            })
        }

        function k(t) {
            var n = _.sceneJson.list, i = n[t].id;
            return o.copyPage(i).then(function (n) {
                var i = _.insertPage(t, n.data.obj);
                return e.addPageHistory(i.pageJson, "初始化:复制页"), y().then(function () {
                    return i
                })
            })
        }

        function T(e) {
            var t = _.sceneJson.list, n = t[e].id;
            return o.deletePage(n).then(function () {
                _.deletePage(e);
                var t = _.sceneJson.list.length - 1;
                return y().then(function () {
                    return e < t ? e : t
                })
            })
        }

        function C(e, t) {
            var n = _.sceneJson.list, i = n[e].id;
            return o.sortPage(i, t + 1).then(function () {
                return _.sortPage(e, t)
            })
        }

        function I(e) {
            return o.savePageName(e)
        }

        function $(e) {
            return null !== O ? c.resolve(O) : n.getSceneAddAdType(e).then(function (e) {
                return O = e.data.obj, e.data.obj
            })
        }

        var E = {meta: {}, map: {}, list: []}, P = 0, _ = null, q = -1, O = null;
        return {
            get currentPageIndex() {
                return q
            },
            set currentPageIndex(e) {
                q = e
            },
            get eqxScene() {
                return _
            },
            initSceneMeta: f,
            initScene: v,
            getCurrentPage: d,
            getCompById: m,
            createPage: w,
            copyPage: k,
            copyPage2: S,
            savePage: x,
            publishScene: b,
            deletePage: T,
            sortPage: C,
            savePageName: I,
            getSceneAddAdType: $
        }
    }

    i.$inject = ["historyService", "EqxCore", "sceneAPI", "sceneMetaAPI", "pageAPI", "modalService", "HOST", "$q", "urlParameterService", "appDeleteCompService", "userService"];
    var o = n(875), r = o.replaceIds;
    e.exports = i
}, function (e, t) {
    "use strict";

    function n() {
        return Math.ceil(1e10 * Math.random())
    }

    function i(e) {
        function t(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "id";
            if (g[e[t]]) return e[t] = g[e[t]], !0
        }

        var i = e.pageId, o = e.sceneId, r = e.maxIndex, a = void 0 === r ? 0 : r, s = e.pageJson;
        s.id = i, s.sceneId = o;
        var c = s.properties, l = s.groups, p = s.elements, u = s.extend;
        u = u || {}, s.extend = u, l = l || [], s.grous = l;
        var d = c.groupSettings, m = void 0 === d ? [] : d, f = c.triggerGroup;
        f = f || [], m.constructor != Array && (m = []), c.triggerGroup = f;
        var g = {};
        return p.forEach(function (e) {
            var t = n();
            g[e.id] = t, e.id = t, e.pageId = i, e.sceneId = o, e.css.zIndex += a
        }), l.forEach(function (e) {
            var t = "group:" + n();
            g[e.id] = t, e.id = t
        }), l.forEach(function (e) {
            e.compIds.forEach(function (n, i) {
                t(e.compIds, i)
            })
        }), m.forEach(function (e) {
            e.comps.forEach(function (e) {
                return t(e)
            })
        }), f.forEach(function (e) {
            t(e, "sourceId") && t(e, "targetId")
        }), p.forEach(function (e) {
            var n = e.properties;
            if (n) {
                var i = n["var"];
                i && t(i, "comp")
            }
        }), u.screens && u.screens.forEach(function (e) {
            e.compIds.forEach(function (n, i) {
                return t(e.compIds, i)
            })
        }), s
    }

    e.exports = {randomId: n, replaceIds: i}
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        "ngInject";

        function i(e) {
            var t = e.id, n = e.cover, i = e.name, o = e.description, r = e.pageMode, a = e.type, s = e.status,
                c = e.accessCode, l = e.property, p = l.autoFlip, u = l.autoFlipTime, d = l.forbidHandFlip,
                m = l.shareDes, f = l.slideNumber, g = l.triggerLoop;
            return m && (m.title && !m.title.type && delete m.title, m.description && !m.description.type && delete m.description, m.title || m.description || m.avatar || (m = null)), {
                id: t,
                cover: n || "",
                name: i,
                description: o,
                pageMode: r,
                type: a,
                status: s,
                accessCode: c || "",
                autoFlip: p || !1,
                autoFlipTime: u,
                forbidHandFlip: d || !1,
                shareDes: m || {},
                slideNumber: f,
                triggerLoop: g
            }
        }

        function r() {
            return t.eqxScene.meta.id
        }

        function a(e) {
            var n = t.eqxScene;
            if (!e.data || !e.data.obj) throw new Error("Invalid Meta");
            n.updateMeta(e.data.obj)
        }

        function s(e) {
            var n = t.eqxScene.meta;
            return !o(i(n), i(e))
        }

        function c(t) {
            return e.saveCommonSetting(i(t)).then(function (e) {
                a(e)
            })
        }

        function l(n) {
            return e.saveBgAudio(r(), n).then(function () {
                t.eqxScene.setProps({bgAudio: n})
            })
        }

        function p() {
            return e.applyCompanyTpl(r()).then(function () {
                t.eqxScene.setProps({isTpl: 3})
            })
        }

        function u() {
            return e.cancelCompanyTpl(r()).then(function () {
                t.eqxScene.setProps({isTpl: 0})
            })
        }

        function d(n) {
            return e.joinShow(r(), n).then(function () {
                t.eqxScene.setProps({isShow: 1, tagId: n})
            })
        }

        function m() {
            return e.cancelShow(r()).then(function () {
                t.eqxScene.setProps({isShow: 0, tagId: null})
            })
        }

        function f(n, i) {
            return e.joinActivity(r(), n, i).then(function () {
                t.eqxScene.setProps({promIds: n, property: {activityPageId: i}})
            })
        }

        return {
            needSaveCommonSetting: s,
            saveCommonSetting: c,
            saveBgAudio: l,
            joinShow: d,
            cancelShow: m,
            joinActivity: f,
            applyCompanyTpl: p,
            cancelCompanyTpl: u
        }
    }

    i.$inject = ["sceneMetaAPI", "sceneService", "$q"];
    var o = n(93).isSameValue;
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";

        function e(e) {
            t(), (e.list || []).forEach(function (e) {
                return i(e, "初始化")
            })
        }

        function t() {
            r = {}
        }

        function n(e) {
            return r[e]
        }

        function i(e, t) {
            var n = r[e.id];
            return n || (n = r[e.id] = new o), n.addHistory(e, t), n
        }

        var r = {};
        return {clearHistory: t, initSceneHistory: e, getPageHistory: n, addPageHistory: i}
    }

    var o = n(878);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), r = n(879).getHash, a = console.log.bind(console, "[PageHistory]"), s = function () {
        function e() {
            i(this, e), this.histories = [], this.index = -1
        }

        return o(e, [{
            key: "toString", value: function () {
                var e = this.histories.map(function (e) {
                    return e.json.elements.length
                });
                return "[" + e + "] len " + e.length + " index: " + this.index
            }
        }, {
            key: "pushHistory", value: function (t, n) {
                var i = (this.toString(), e.newHistory(t, n)), o = this.histories[this.histories.length - 1];
                if (!o || o.hash !== i.hash) {
                    this.histories.length = this.index + 1, this.histories.push(i);
                    this.toString();
                    return i
                }
            }
        }, {
            key: "addHistory", value: function (e, t) {
                var n = this.pushHistory(e, t);
                if (n) return a("addHistory", n.reason, n.json, n.hash), this.index += 1, n
            }
        }, {
            key: "back", value: function () {
                var e = this.histories[this.index - 1];
                return e && (a("backHistory", e.reason, e.json, e.hash), this.index -= 1), e
            }
        }, {
            key: "forward", value: function () {
                var e = this.histories[this.index + 1];
                return e && (a("forwardHistory", e.reason, e.json, e.hash), this.index += 1), e
            }
        }, {
            key: "canBack", value: function () {
                return this.index > 0
            }
        }, {
            key: "canForward", value: function () {
                return this.index < this.histories.length - 1
            }
        }, {
            key: "nowHistory", value: function () {
                return this.histories[this.index]
            }
        }], [{
            key: "newHistory", value: function (e, t) {
                return {reason: t, time: (new Date).getTime(), json: JSON.parse(JSON.stringify(e)), hash: r(e)}
            }
        }]), e
    }();
    e.exports = s
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 24, n = 2 * t,
            i = e.replace(/\n|\r/g, " ");
        i = i.replace(/[^\x00-\xff]/g, "xx");
        var o = i.substring(0, n).replace(/xx/g, "中").length;
        return i = e.substring(0, o)
    }

    function o(e) {
        var t = a(e), n = JSON.stringify(t), i = 0;
        if (0 === n.length) return i;
        for (var o = 0; o < n.length; o++) {
            var r = n.charCodeAt(o);
            i = (i << 5) - i + r, i &= i
        }
        return i
    }

    function r(e) {
        var t = 0;
        if (!e) return 0;
        for (var n = 0; n < e.length; n++) {
            var i = e.charCodeAt(n);
            i >= 1 && i <= 126 || i >= 65376 && i <= 65439 ? t++ : t += 2
        }
        return t
    }

    var a = n(93).remove$key;
    e.exports = {maxLength: i, getHash: o, countCharacters: r}
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e, t, i, o, r, a, s) {
        "ngInject";

        function c(e) {
            return {key: e, isBusy: !1, isLastPage: !1, pageNo: 0, list: []}
        }

        function l(e) {
            if (!e) throw new Error("invalid tpl key!");
            var t = w.find(function (t) {
                return t.key == e
            });
            return t || (t = c(e), w.push(t)), t
        }

        function p(o, r) {
            var a = l(o);
            if (a && !a.isLastPage && !a.isBusy) {
                a.isBusy = !0;
                var s, c = r ? 1 : a.pageNo + 1, p = i.getCurrentUser();
                if (!p.property.myTplId && "myTpl" === o || !p.property.myFunctionTplId && "myFunctionTpl" === o || !p.companyTplId && "company" === o) s = t.resolve({data: {list: []}}); else switch (o) {
                    case"myTpl":
                        s = e.getCustomerPageTpls(p.property.myTplId, c, b);
                        break;
                    case"myFunctionTpl":
                        s = e.getCustomerPageTpls(p.property.myFunctionTplId, c, b);
                        break;
                    case"company":
                        s = e.getCustomerPageTpls(p.companyTplId, c, b);
                        break;
                    case"applying":
                        s = e.getApplyTpls("", c, b);
                        break;
                    case"applied":
                        s = e.getApplyTpls(0, c, b);
                        break;
                    case"recently":
                        s = t.resolve({data: {list: m()}});
                        break;
                    default:
                        s = e.getPageTpls(o, c, b)
                }
                return s.then(function (e) {
                    var t, i = e.data.list, o = e.data.map;
                    return o && Math.ceil(o.count / o.pageSize) !== c || (a.isLastPage = !0), a.pageNo = c, (t = a.list).push.apply(t, n(i)), a.isBusy = !1, i
                })["catch"](function (e) {
                    a.isBusy = !1
                })
            }
        }

        function u(e, t) {
            "recently" === t && (d(e), g());
            var n = l(t), i = n.list, o = e.id;
            return r.deletePage(o).then(function () {
                var t = i.indexOf(e);
                t > -1 && i.splice(t, 1)
            })
        }

        function d(e) {
            var t = l("recently"), n = t.list.findIndex(function (t) {
                return t.id === e.id
            });
            n > -1 && t.list.splice(n, 1)
        }

        function m() {
            var e = i.getCurrentUser();
            return a.getItem("tpl-recently-" + e.id) || []
        }

        function f(e) {
            var t = l("recently");
            d(e), t.list.unshift(e), g()
        }

        function g(e) {
            if (e || (e = l("recently").list), e) {
                e.length >= 18 && (e.length = 18);
                var t = i.getCurrentUser();
                a.setItem("tpl-recently-" + t.id, e)
            }
        }

        function h(t) {
            if (x) {
                var n = x.property;
                return n && n.myTplId ? t.sceneId = n.myTplId : t.sceneId = null, e.saveMyTpl(t).then(function (e) {
                    return n.myTplId = e.data.obj, y("myTpl")
                })
            }
        }

        function v(t) {
            if (x) {
                var n = parseInt(x.companyTplId);
                return n ? t.sceneId = n : t.sceneId = null, e.saveCompanyTpl(t).then(function (e) {
                    x.companyTplId = e.data.obj, y("company")
                })
            }
        }

        function y(e) {
            var t = l(e);
            if (t) return t.isBusy = !1, t.isLastPage = !1, t.pageNo = 0, t.list.length = 0, t
        }

        var b = 21, x = i.getCurrentUser(), w = [];
        return {
            getTplGroupByKey: l,
            $getMoreTpls: p,
            clearTplGroup: y,
            deleteTpl: u,
            saveMyTpl: h,
            saveCompanyTpl: v,
            addRecently: f,
            deleteRecently: d,
            updateRecently: g
        }
    }

    i.$inject = ["tplAPI", "$q", "userService", "sceneService", "pageAPI", "storageService", "modalService"], e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";

        function r(e) {
            return "string" == typeof e.property && (e.property = JSON.parse(e.property)), e.property = e.property || {}, u = e
        }

        function a() {
            return c() ? t.resolve(u) : d ? d : d = e.login().then(function (e) {
                return e.data.obj ? r(e.data.obj) : (alert("系统出现故障，跳转到列表场景！"), void window.open(i.HOST + "h5/list", "_self"))
            }).then(function (e) {
                return [2, 21].indexOf(e.type) > -1 && (i.SERVER_0 = i.SERVER_0_VIP), e
            })["catch"](function (e) {
                return console.error("login", e), t.reject(e)
            })["finally"](function () {
                d = null
            })
        }

        function s() {
            return u
        }

        function c() {
            return !!u
        }

        function l() {
            return n.get(i.SERVER_0 + "m/e/scene/redpacket/validauth").then(function (e) {
                return e.data.obj ? t.resolve() : t.reject()
            })
        }

        function p() {
            var e = o.APP_ID;
            return /edit\.html/.test(location.pathname) && (e = o.APP_ID_WAP), u && u.property["openId_" + e]
        }

        var u = null, d = null;
        return {isBindWeiXinPublicId: l, getCurrentUser: s, getOpenId: p, isAuthenticated: c, getCurrentUserPromise: a}
    }

    n.$inject = ["userAPI", "$q", "$http", "HOST", "WX"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {
            sceneSetting: {show: !1, showWx: !1, settingTab: "常用", flagEqAdType: !1, unSLPBL: !0},
            workspace: {preview: !1, pageSetting: !1, compSettingShow: !0, funTplSettingShow: !0, layerBgSetting: !0}
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(e) {
            var t = localStorage.getItem(e);
            if ("string" == typeof t) try {
                return t = JSON.parse(t), a(t), t
            } catch (n) {
                console.warn(n)
            }
        }

        function n(e, t) {
            return a(t), localStorage.setItem(e, JSON.stringify(t)), t
        }

        function o(e) {
            var n = t(e) || {};
            return n[c]
        }

        function r(e, n) {
            a(n);
            var i = t(e) || {};
            i[c] = n, localStorage.setItem(e, JSON.stringify(i))
        }

        function a(e) {
            Array.isArray(e) ? e.forEach(s) : "object" === ("undefined" == typeof e ? "undefined" : i(e)) && s(e)
        }

        function s(e) {
            delete e.$$hashKey
        }

        var c = e.getCurrentUser().id;
        return {getItem: t, setItem: n, getItemByUser: o, setItemByUser: r}
    }

    n.$inject = ["userService"];
    var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    e.exports = n
}, function (e, t) {
    "use strict";
    e.exports = function () {
        function e(e) {
            n(e);
            var t = sessionStorage.getItem(e);
            return JSON.parse(t)
        }

        function t(e, t) {
            n(e), sessionStorage.setItem(e, JSON.stringify(t))
        }

        function n(e) {
            if (!i.includes(e)) throw"custom error: [" + e + "] not reg in sessionStorageService"
        }

        var i = ["editor_bg_selected_tab", "editor_image_selected_tab", "editor_music_selected_tab", "editor_sound_selected_tab"];
        return {getItem: e, setItem: t}
    }
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i() {
            return e.getUserXd().then(function (e) {
                return e.data.obj
            })
        }

        function o(t, n, i) {
            return e.getPayXdQrCode(t, n, i)
        }

        function r() {
            n.buy()
        }

        return {userXd: i, buyXd: r, getPayXdQrCode: o}
    }

    n.$inject = ["XDAPI", "buyXdModal", "eqxNgPay"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o() {
            if (!d || !m || !f) {
                d = !u.memberType || "2" !== u.type.toString() && "21" !== u.type.toString() ? u.type : "" + u.type + "0" + u.memberType, d = parseInt(d);
                var e = "normal";
                "" + u.type != "99" && "" + u.type != "4" || (e = t.getEditorModel()), m = "normal" === e ? 601 : "app" === e ? 602 : "function" === e ? 603 : 601, f.push(m)
            }
        }

        function r(e) {
            var t = !0;
            return g[e] ? (o(), t = g[e].indexOf(d) !== -1 || g[e].indexOf(m) !== -1) : void console.error("不存在该能力", e)
        }

        function a(e) {
            if ("joint" != e || 99 == u.type) {
                if (!h[e]) return void console.error(e + "不存在");
                o();
                var t = !1;
                if (f) for (var n = f, i = 0; i < n.length; i++) if (h[e].indexOf(n[i]) !== -1) {
                    t = !0;
                    break
                }
                return t
            }
        }

        function s(e) {
            return r(e)
        }

        function c(e) {
            return !r(e)
        }

        function l() {
            return 3 === i.eqxScene.meta.property.editorModel
        }

        function p(e) {
            return g[e].indexOf(d) >= 0
        }

        var u = e.getCurrentUser(), d = null, m = null, f = [];
        u.roleIdList && (f = u.roleIdList.concat());
        var g = n.authority, h = {
            fillSampleCompSetting: [17, 16, 4, 12, 602],
            selectThumbnail: [12, 15, 13, 4, 18, 22, 602, 138358],
            settingElementCharacter: [15, 13, 4, 602],
            groupTemplateEditor: [138358],
            adComp: [4, 12, 13, 15, 18],
            joint: [4, 12, 13, 14]
        };
        return {checkAccount: p, permission: r, forbid: s, allow: c, assignDesignerAuthority: a, functionEditor: l}
    }

    n.$inject = ["userService", "urlParameterService", "AUTHORITY", "sceneService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            var t = e.getCurrentPage().pageJson.elements;
            return n(), $.each(t, function (e, t) {
                var n = Object.assign([], t);
                o[n.type] ? (n.name = n.name || o[n.type].des + o[n.type].num, o[n.type].num++, r.push(n)) : (n.name = "组件", r.push(n), console.error("组件类型为: " + n.type + "的还没有添加到数组labels中"))
            }), r
        }

        function n() {
            r = [], $.each(o, function (e, t) {
                t.num = 1
            })
        }

        function i(e) {
            return t().find(function (t) {
                return t.id === e
            })
        }

        var o = {
            2: {des: "文本", num: 1},
            201: {des: "文本", num: 1},
            3: {des: "背景", num: 1},
            x: {des: "秀字体", num: 1},
            4: {des: "图片", num: 1},
            401: {des: "微信头像", num: 1},
            403: {des: "微信上传替换图片", num: 1},
            h: {des: "图形", num: 1},
            5: {des: "输入框", num: 1},
            501: {des: "输入框", num: 1},
            502: {des: "输入框", num: 1},
            503: {des: "输入框", num: 1},
            504: {des: "输入框", num: 1},
            r: {des: "单选", num: 1},
            c: {des: "多选", num: 1},
            p: {des: "图集", num: 1},
            6: {des: "按钮", num: 1},
            601: {des: "按钮", num: 1},
            i: {des: "计数器", num: 1},
            m: {des: "地图", num: 1},
            w: {des: "微信音频", num: 1},
            w01: {des: "微信播放语音", num: 1},
            w02: {des: "微信录音", num: 1},
            t: {des: "图表", num: 1},
            z: {des: "下拉列表", num: 1},
            b: {des: "留言板", num: 1},
            v: {des: "视频", num: 1},
            a: {des: "评分", num: 1},
            n: {des: "随机图片", num: 1},
            8: {des: "电话", num: 1},
            l: {des: "链接", num: 1},
            s: {des: "音效", num: 1},
            d: {des: "统计", num: 1},
            g: {des: "广告", num: 1},
            e: {des: "倒计时", num: 1},
            f: {des: "计时", num: 1},
            k: {des: "投票", num: 1},
            7: {des: "新文本", num: 1},
            1: {des: "爆款文本", num: 1},
            14: {des: "日期", num: 1}
        }, r = [];
        return {getPageElementById: i}
    }

    n.$inject = ["sceneService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            a = e
        }

        function t() {
            return a
        }

        function n(e) {
            s = e
        }

        function i() {
            return s
        }

        function o(e) {
            "2" === e || 2 === e ? c = "app" : 3 === e && (c = "function")
        }

        function r() {
            return c
        }

        var a = null, s = !1, c = "normal";
        return {
            setYQCAcceptId: e,
            getYQCAcceptId: t,
            setYQCMakeOrderTpl: n,
            getYQCMakeOrderTpl: i,
            setEditorModel: o,
            getEditorModel: r
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t) {
            return t.sceneJson.list.forEach(function (n, r) {
                var a = [];
                if ((n.properties.oneShot || n.properties.pip || n.properties.flash) && (n.elements = [], n.extend.screens = [{compIds: []}], delete n.properties.oneShot, delete n.properties.pip, delete n.properties.flash), n.elements.length > 0) {
                    n.elements.forEach(function (e) {
                        var t = ["p", "d", "e", "f", "j", "k", "401", "403", "w01", "w02", "201", "r", "c", "z", "a", "t", "b", "v", "g", "7"];
                        if (!(t.indexOf(e.type) > -1 || "h" === e.type && e.properties.items && e.properties.items.length > 1)) {
                            e.css.opacity && (e.css.opacity = 1), !e.css.backgroundColor || ["6", "601", "5", "501", "502", "503", "504", "8", "l"].indexOf("" + e.type) > -1 || (e.css.backgroundColor = "rgba(255,255,255,0)"), e.css.transform && (e.css.transform = "rotateZ(0deg)"), e.css.borderRadius && (e.css.borderRadius = "0px"), e.css.borderRadiusPerc && (e.css.borderRadiusPerc = 0), e.css.borderBottomLeftRadius && (e.css.borderBottomLeftRadius = 0), e.css.borderBottomRightRadius && (e.css.borderBottomRightRadius = 0), e.css.borderTopLeftRadius && (e.css.borderTopLeftRadius = 0), e.css.borderTopRightRadius && (e.css.borderTopRightRadius = 0), e.css.boxShadow && (e.css.boxShadow = "0px 0px 0px rgba(0,0,0,0.5)"), e.css.boxShadowDirection && (e.css.boxShadowDirection = 0), e.css.boxShadowSize && (e.css.boxShadowSize = 0), e.css.borderStyle && (e.css.borderStyle = "solid"), delete e.css.letterSpacing, e.properties && delete e.properties.url, delete e.trigger;
                            var n = [];
                            if (e.properties.anim && e.properties.anim[0] && (n.push(e.properties.anim[0]), e.properties.anim = n, "typer" === e.properties.anim[0].type && (e.properties.anim = [])), "2" === e.type || 2 === e.type) {
                                var r = /font-size:(| )(\w|\.)+;?/.exec(e.content);
                                if (r && /(\d|\.)+px?/.exec(r[0])) var s = /(\d|\.)+px?/.exec(r[0])[0];
                                var c = /font-family:[^;]+;?/.exec(e.content);
                                if (c && c[0].match(/font-family:(.*);$/)) var l = c[0].match(/font-family:(.*);$/)[1];
                                var p = /[^-]color:[^;]+;?/.exec(e.content);
                                if (p && p[0].match(/color:(.*);$/)) var u = p[0].match(/color:(.*);$/)[1];
                                if (e.content.indexOf("<span") > -1) var d = $(e.content.substr(e.content.indexOf("<span"), e.content.lastIndexOf("</span>") + 3));
                                if (e.content = e.content.replace(/<div/g, "663a23421213cd959216de83274b6c907173c7db"), e.content = e.content.replace(/<\/div>/g, "e63ba1e20f1f516189c89eacd38fe411af3ea2c4"), e.content = e.content.replace(/<br>/g, "b5f937804bbe1ca271055c3ed5af47803c6fc327"), e.content = $("<span>" + e.content + "</span>").text(), e.content = e.content.replace(/663a23421213cd959216de83274b6c907173c7db/g, "<div"), e.content = e.content.replace(/e63ba1e20f1f516189c89eacd38fe411af3ea2c4/g, "</div>"), e.content = e.content.replace(/b5f937804bbe1ca271055c3ed5af47803c6fc327/g, "<br>"), d) {
                                    var m = $("<div>" + e.content + "</div>");
                                    $("#nr").append(m), m[0].setAttribute("contenteditable", "true"), m[0].focus(), document.execCommand("styleWithCSS", 0, !0), window.getSelection().selectAllChildren(m[0]), document.execCommand("fontName", 0, l), document.execCommand("fontSize", 0, s || d.css("fontSize"));
                                    var f = m.find('[style*="font-size: -webkit-xxx-large"]');
                                    f && $(f).css({fontSize: s || d.css("fontSize")}), m.removeAttr("contenteditable"), u && "inherit" !== u && (e.css.color = u)
                                }
                                m && (e.content = m[0].innerHTML, $("#nr")[0].removeChild(m[0]))
                            }
                            if (3 == e.type && e.properties.bgColor && /^rgba/.test(e.properties.bgColor)) {
                                var g = i(e.properties.bgColor), h = o(g);
                                e.properties.bgColor = h
                            }
                            4 == e.type && delete e.properties.maskSrc, a.push(e)
                        }
                    }), n.elements = a;
                    var s = t.getEqxPageByIndex(r), c = s.toPageJson();
                    e.savePage(c)
                }
            }), t
        }

        return {deleteComp: t}
    }

    function i(e) {
        var t = e.split(","), n = {}, i = {}, o = {red: 255, green: 255, blue: 255};
        return n.red = parseFloat(t[0].split("(")[1]), n.green = parseFloat(t[1]), n.blue = parseFloat(t[2]), n.alpha = parseFloat(t[3].split(")")[0]), i.red = Math.round(255 * (n.alpha * (n.red / 255) + (1 - n.alpha * (o.red / 255)))), i.green = Math.round(255 * (n.alpha * (n.green / 255) + (1 - n.alpha * (o.green / 255)))), i.blue = Math.round(255 * (n.alpha * (n.blue / 255) + (1 - n.alpha * (o.blue / 255)))), [i.red, i.green, i.blue]
    }

    function o(e) {
        return "#" + ("0" + Number(e[0]).toString(16)).slice(-2) + ("0" + Number(e[1]).toString(16)).slice(-2) + ("0" + Number(e[2]).toString(16)).slice(-2)
    }

    n.$inject = ["pageAPI"], e.exports = n, e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function n() {
            return o.delayLoadJSAndCSS(e.qiniu, "js").then(i)
        }

        function i() {
            return o.delayLoadJSAndCSS(e.plupload, "js")
        }

        function r() {
            return o.delayLoadJSAndCSS(e.datePickerCss, "css").then(function () {
                return o.delayLoadJSAndCSS(e.moment, "js", "moment")
            }).then(function () {
                return o.delayLoadJSAndCSS(e.datePicker, "js", "datePicker")
            })
        }

        function a() {
            return o.delayLoadJSAndCSS(e.imgJcropCss, "css").then(function () {
                return o.delayLoadJSAndCSS(e.imgJcropJs, "js", "imgJcropJs")
            })
        }

        function s() {
            return u ? t.resolve() : u = t(function (e) {
                window.qqMapCallback = function () {
                    return e()
                }
            })
        }

        function c() {
            return t.all([o.delayLoadJSAndCSS(e.QQMap, "js", "QQMap"), s()])
        }

        function l() {
            return o.delayLoadJSAndCSS(e.canvg, "js")
        }

        function p() {
            return o.delayLoadJSAndCSS(e.canvg, "js").then(function () {
                return o.delayLoadJSAndCSS(e.html2canvas, "js", "html2canvasJs")
            })
        }

        var u = null;
        return {qiniu: n, datePicker: r, imgJcrop: a, qqMap: c, canvg: l, loadHtml2Canvas: p}
    }

    i.$inject = ["CDN", "$q"];
    var o = n(891);
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        return new Promise(function (o) {
            var r = null, a = null, s = null, c = 0;
            if (t || (t = e.substr(e.lastIndexOf(".") + 1)), "js" === t) {
                var l = document.getElementsByTagName("script");
                for (c = 0; c < l.length; c++) (l[c].src && l[c].src.indexOf(e) != -1 || l[c].title == n) && (a = l[c], o(l[c]));
                a || (r = document.createElement("script"), r.type = "text/javascript", r.src = e, i && i(r), n && (r.title = n))
            } else if ("css" === t) {
                var p = document.getElementsByTagName("link");
                for (c = 0; c < p.length; c++) (p[c].href && p[c].href.indexOf(e) != -1 || p[c].title == n) && (s = p[c], o(p[c]));
                s || (r = document.createElement("link"), r.rel = "stylesheet", r.type = "text/css", r.href = e, n && (r.title = n), r.disabled = !1)
            } else o(!1);
            if (r) {
                var u = document.getElementsByTagName("head")[0];
                u.appendChild(r), r.onload = function () {
                    o(r)
                }
            }
        })
    }

    e.exports = {delayLoadJSAndCSS: n}
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o(o) {
            return o.orderAppId = o.orderAppId || t.MALL_BUY_ID, o.signUrl = o.signUrl || t.MALL_HOST + "api/m/order/sign", e.payMulti(o).then(function (e) {
                if ("errorInfo" === e.value.msgType) return i.reject();
                var t = {
                    productId: o.buyItems[0].id,
                    totalFee: o.buyItems[0].price,
                    outOrderId: e.value.data.obj.merchantOrderNo,
                    channel: "EDITOR"
                };
                return n.saveOrderToBusinessCity(t)
            })
        }

        return {buyMaterial: o}
    }

    n.$inject = ["eqxNgPay", "HOST", "materialAPI", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(e) {
            s.push(e)
        }

        function n(e) {
            s.filter(function (t) {
                return t.type == e
            });
            s = s.filter(function (t) {
                return t.type != e
            })
        }

        function i() {
            console.log("remove all reports", s), s.length = 0
        }

        function o(e) {
            var t = s.filter(function (t) {
                return t.type == e
            });
            if (t.length) return s = s.filter(function (t) {
                return t.type != e
            }), a(t)
        }

        function r() {
            var e = a(s);
            return i(), e
        }

        function a(t) {
            return console.log("emit reports", t), e({
                method: "POST",
                url: "//client-report.eqxiu.com/client/report",
                withCredentials: !1,
                headers: {"Content-Type": "application/json; charset=UTF-8"},
                data: t
            })
        }

        var s = [];
        return {add: t, remove: n, removeAll: i, emit: o, emitAll: r}
    }

    n.$inject = ["$http"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(n) {
            return i.imgList.length > 0 ? t.resolve(i.imgList) : e.getSysMaterialItems(n).then(function (e) {
                return i.imgList = e.data.list, e.data.list
            })
        }

        var i = {imgList: []};
        return {getGravityImg: n}
    }

    n.$inject = ["fileAPI", "$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t) {
            return e.createRedPacket(t).then(function (e) {
                return 200 === e.code ? Promise.resolve() : Promise.reject(e)
            })
        }

        return {createRedPacket: t}
    }

    n.$inject = ["redPacketAPI"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(n) {
            return e.loadHtml2Canvas().then(function () {
                var e = [], i = [], o = n.find("svg");
                o.each(function (t, n) {
                    var o = n.parentNode, r = document.createElement("canvas");
                    canvg(r, o, {ignoreMouse: !0, ignoreAnimation: !0}), e.push({
                        parent: o,
                        child: n
                    }), o.removeChild(n), i.push({parent: o, child: r}), o.appendChild(r)
                });
                var r = $(".comp-icon");
                return r.hide(), html2canvas(n, {useCORS: !0, tainttest: !0}).then(function (n) {
                    var o = n.toDataURL("image/png").substring(22);
                    return t.getUploadToken("image").then(function (n) {
                        return i.forEach(function (e) {
                            e.parent.removeChild(e.child)
                        }), e.forEach(function (e) {
                            e.parent.appendChild(e.child)
                        }), r.show(), t.uploadBase64(n, o)
                    })
                })
            })
        }

        return {html2Img: i}
    }

    n.$inject = ["delayLoadService", "uploaderService", "$q"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("common.ui", [n(898), n(900), n(912), n(915), n(919), n(924), n(926), n(927), n(928), n(933), n(936), n(938), n(941), n(944), n(946)]).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.clickFarmer", []).directive("clickFarmerSetting", ["$rootScope", "userService", "modalService", "XDService", "sceneService", "notifier", "materialAPI", "HOST", function (e, t, i, o, r, a, s, c) {
        return {
            restrict: "AE", template: n(899), scope: {obj: "="}, link: function (n) {
                var l = r.eqxScene;
                n.timeSetting = [{key: 30, value: "30分钟"}, {key: 60, value: "1小时"}, {
                    key: 360,
                    value: "6小时"
                }, {key: 1440, value: "1天"}, {key: 4320, value: "3天"}, {key: 10080, value: "7天"}, {
                    key: 1e6,
                    value: "永久"
                }];
                var p = t.getCurrentUser();
                n.clickInterval = {}, n.buyXd = o.buyXd, l.sceneJson.meta.property.clickFarmerStatus && l.sceneJson.meta.property.clickFarmerStatus > 0 ? n.clickFarmerStatus = l.sceneJson.meta.property.clickFarmerStatus : [3, 99].indexOf(p.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(p.memberType) > -1 ? n.clickFarmerStatus = 2 : n.clickFarmerStatus = null, n.obj.properties.clickFarmer ? n.clickFarmer = n.obj.properties.clickFarmer : n.clickFarmer = n.obj.properties.clickFarmer = !1, n.obj.properties.clickInterval ? angular.forEach(n.timeSetting, function (e) {
                    e.key === n.obj.properties.clickInterval && (n.clickInterval = e)
                }) : (n.obj.properties.clickInterval = 1440, n.clickInterval = {
                    key: 1440,
                    value: "1天"
                }), n.setClickFarming = function () {
                    !n.clickFarmerStatus && n.clickFarmer ? o.userXd().then(function (t) {
                        var o = t || 0;
                        o >= 18 ? i.openConfirmDialog({
                            msg: "当前选择需要消耗秀点18个<br>秀点余额" + o + "个，是否使用？",
                            confirmName: "确定",
                            cancelName: "取消"
                        }).then(function () {
                            s.buyClickFarmer(l.sceneJson.meta.id, n.obj.id, 1).then(function () {
                                n.obj.properties.clickFarmer = n.clickFarmer = !0, n.clickFarmerStatus = 1, l.sceneJson.meta.property.clickFarmerStatus = 1, a.success("购买成功"), e.$broadcast("confirmClickFarmer")
                            })
                        }) : i.openMsgDialog({msg: '当前选择需要消耗秀点18个<br>秀点余额不足(<font color="#ff6e6e">' + (o || 0) + "</font>个)，请先充值？"})
                    }) : s.buyClickFarmer(l.sceneJson.meta.id, n.obj.id, n.clickFarmerStatus).then(function () {
                        n.obj.properties.clickFarmer = n.clickFarmer, e.$broadcast("confirmClickFarmer")
                    })
                }, n.convertClickFarmer = function () {
                    1 === p.type ? i.openConfirmDialog({
                        msg: "企业付费用户功能， 是否升级？",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(c.HOST + "site/privilege", "_blank")
                    }) : (n.clickFarmer = !n.clickFarmer, n.obj.properties.clickFarmer = n.clickFarmer)
                }, n.$on("confirmCompCreate", function () {
                    n.setClickFarming()
                }), n.changeTimeSetting = function () {
                    n.obj.properties.clickInterval = n.clickInterval.key
                }
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<span class="title">禁止重复提交</span><div class="rating-choice" style="line-height: 36px;display:inline-block;margin-left: 10px"><div class="fl switch" style="margin-top: 7px" ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click="convertClickFarmer()"><div class="circle-con"><i class="circle"></i></div></div><a class="bbs-help-tip-media hint--top hint--rounded hint--large" data-hint="注：开启限制后，只能在微信环境下使用，可设置同一微信账号在30分钟、1小时、6小时、1天、3天、7天、永久7种时间间隔中使用。" style="margin: 0 10px"><span class="eqf-why-f" style="color: #ff6e6e"></span></a><div class="fl title" ng-show="clickFarmer"><span class="fl" style="margin: 0 10px">提交间隔</span><eqx-select class="select-sm select-contain border-width fl" model="clickInterval" change="changeTimeSetting()" style="margin-top: 3px" ng-show="clickFarmer"><eqx-select-option value="myGroup" ng-repeat="myGroup in timeSetting">{{myGroup.value}}</eqx-select-option></eqx-select></div></div>'
}, function (e, t, n) {
    "use strict";
    n(901), n(903), n(909), e.exports = angular.module("colorpicker.module", []).factory("Helper", function () {
        return {
            closestSlider: function (e) {
                var t = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector;
                return t.bind(e)("I") ? e.parentNode : e
            },
            getOffset: function (e, t) {
                for (var n = 0, i = 0, o = 0, r = 0; e && !isNaN(e.offsetLeft) && !isNaN(e.offsetTop);) n += e.offsetLeft, i += e.offsetTop, t || "BODY" !== e.tagName ? (o += e.scrollLeft, r += e.scrollTop) : (o += document.documentElement.scrollLeft || e.scrollLeft, r += document.documentElement.scrollTop || e.scrollTop), e = e.offsetParent;
                return {top: i, left: n, scrollX: o, scrollY: r}
            },
            stringParsers: [{
                re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (e) {
                    return [e[1], e[2], e[3], e[4]]
                }
            }, {
                re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (e) {
                    return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
                }
            }, {
                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/, parse: function (e) {
                    return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
                }
            }, {
                re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/, parse: function (e) {
                    return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
                }
            }]
        }
    }).factory("Color", ["Helper", function (e) {
        "ngInject";
        return {
            value: {h: 1, s: 1, b: 1, a: 1}, rgb: function t() {
                var t = this.toRGB();
                return "rgb(" + t.r + "," + t.g + "," + t.b + ")"
            }, rgba: function () {
                var e = this.toRGB();
                return "rgba(" + e.r + "," + e.g + "," + e.b + "," + e.a + ")"
            }, hex: function () {
                return this.toHex()
            }, RGBtoHSB: function (e, t, n, i) {
                e /= 255, t /= 255, n /= 255;
                var o, r, a, s;
                return a = Math.max(e, t, n), s = a - Math.min(e, t, n), o = 0 === s ? null : a === e ? (t - n) / s : a === t ? (n - e) / s + 2 : (e - t) / s + 4, o = (o + 360) % 6 * 60 / 360, r = 0 === s ? 0 : s / a, {
                    h: o || 1,
                    s: r,
                    b: a,
                    a: i || 1
                }
            }, setColor: function (t) {
                t = t.toLowerCase();
                for (var n in e.stringParsers) if (e.stringParsers.hasOwnProperty(n)) {
                    var i = e.stringParsers[n], o = i.re.exec(t), r = o && i.parse(o);
                    if (r) return this.value = this.RGBtoHSB.apply(null, r), !1
                }
            }, setHue: function (e) {
                this.value.h = 1 - e
            }, setSaturation: function (e) {
                this.value.s = e
            }, setLightness: function (e) {
                this.value.b = 1 - e
            }, setAlpha: function (e) {
                this.value.a = parseInt(100 * (1 - e)) / 100
            }, toRGB: function (e, t, n, i) {
                e || (e = this.value.h, t = this.value.s, n = this.value.b), e *= 360;
                var o, r, a, s, c;
                return e = e % 360 / 60, c = n * t, s = c * (1 - Math.abs(e % 2 - 1)), o = r = a = n - c, e = ~~e, o += [c, s, 0, 0, s, c][e], r += [s, c, c, s, 0, 0][e], a += [0, 0, s, c, c, s][e], {
                    r: Math.round(255 * o),
                    g: Math.round(255 * r),
                    b: Math.round(255 * a),
                    a: i || this.value.a
                }
            }, toHex: function (e, t, n, i) {
                var o = this.toRGB(e, t, n, i);
                return "#" + (1 << 24 | parseInt(o.r) << 16 | parseInt(o.g) << 8 | parseInt(o.b)).toString(16).substr(1)
            }
        }
    }]).factory("Slider", ["Helper", function (e) {
        "ngInject";
        var t = {maxLeft: 0, maxTop: 0, callLeft: null, callTop: null, knob: {top: 0, left: 0}}, n = {};
        return {
            getSlider: function () {
                return t
            }, getLeftPosition: function (e) {
                return Math.max(0, Math.min(t.maxLeft, t.left + ((e.pageX || n.left) - n.left)))
            }, getTopPosition: function (e) {
                return Math.max(0, Math.min(t.maxTop, t.top + ((e.pageY || n.top) - n.top)))
            }, setSlider: function (i, o) {
                var r = e.closestSlider(i.target), a = e.getOffset(r, o);
                t.knob = r.children[0].style, t.left = i.pageX - a.left - window.pageXOffset + a.scrollX, t.top = i.pageY - a.top - window.pageYOffset + a.scrollY, n = {
                    left: i.pageX,
                    top: i.pageY
                }
            }, setSaturation: function (e, n) {
                t = {
                    maxLeft: 100,
                    maxTop: 100,
                    callLeft: "setSaturation",
                    callTop: "setLightness"
                }, this.setSlider(e, n)
            }, setHue: function (e, n) {
                t = {maxLeft: 0, maxTop: 100, callLeft: !1, callTop: "setHue"}, this.setSlider(e, n)
            }, setAlpha: function (e, n) {
                t = {maxLeft: 0, maxTop: 100, callLeft: !1, callTop: "setAlpha"}, this.setSlider(e, n)
            }, setKnob: function (e, n) {
                t.knob.top = e + "px", t.knob.left = n + "px"
            }
        }
    }]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper", function (e, t, n, i, o) {
        "ngInject";
        return {
            scope: {disable: "@", y: "@"}, require: "?ngModel", restrict: "A", link: function (r, a, s, c) {
                var l, p = {x: parseInt(s.x) || 0, y: parseInt(r.y) || 0}, u = s.colorpicker ? s.colorpicker : "hex",
                    d = angular.isDefined(s.colorpickerPosition) ? s.colorpickerPosition : "bottom",
                    m = !!angular.isDefined(s.colorpickerInline) && s.colorpickerInline,
                    f = !!angular.isDefined(s.colorpickerFixedPosition) && s.colorpickerFixedPosition,
                    g = angular.isDefined(s.colorpickerParent) ? a.parent() : angular.element(document.body),
                    h = !!angular.isDefined(s.colorpickerWithInput) && s.colorpickerWithInput,
                    v = h ? '<input type="text" name="colorpicker-input">' : "",
                    y = m ? "" : '<button type="button" class="close close-colorpicker">&times;</button>',
                    b = '<div class="colorpicker dropdown" ng-click="$event.stopPropagation();"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + v + y + "</div></div>",
                    x = angular.element(b), w = n, S = x.find("colorpicker-hue"), k = x.find("colorpicker-saturation"),
                    T = x.find("colorpicker-preview"), C = x.find("i");
                if (t(x)(r), r.disable && r.$watch("disable", function (e, t) {
                    e !== t && "false" === e && F()
                }), r.$watch("y", function (e, t) {
                    e && e !== t && (p.y = parseInt(e))
                }), h) {
                    var I = x.find("input");
                    I.on("mousedown", function (e) {
                        e.stopPropagation()
                    }).on("keyup", function (e) {
                        var t = this.value;
                        a.val(t), c && r.$apply(c.$setViewValue(t)), e.stopPropagation(), e.preventDefault()
                    }), a.on("keyup", function () {
                        I.val(a.val())
                    })
                }
                var E = function () {
                    e.on("mousemove", _), e.on("mouseup", q)
                };
                "rgba" === u && (x.addClass("alpha"), l = x.find("colorpicker-alpha"), l.on("click", function (e) {
                    i.setAlpha(e, f), _(e)
                }).on("mousedown", function (e) {
                    i.setAlpha(e, f), E()
                })), S.on("click", function (e) {
                    i.setHue(e, f), _(e)
                }).on("mousedown", function (e) {
                    i.setHue(e, f), E()
                }), k.on("click", function (e) {
                    i.setSaturation(e, f), _(e)
                }).on("mousedown", function (e) {
                    i.setSaturation(e, f), E()
                }), f && x.addClass("colorpicker-fixed-position"), x.addClass("colorpicker-position-" + d), "true" === m && x.addClass("colorpicker-inline"), g.append(x), c && (c.$render = function () {
                    a.val(c.$viewValue)
                }, r.$watch(s.ngModel, function () {
                    O()
                })), a.on("$destroy", function () {
                    x.remove()
                });
                var P = function () {
                    try {
                        T.css("backgroundColor", w[u]())
                    } catch (e) {
                        T.css("backgroundColor", w.toHex())
                    }
                    k.css("backgroundColor", w.toHex(w.value.h, 1, 1, 1)), "rgba" === u && (l.css.backgroundColor = w.toHex())
                }, _ = function (e) {
                    var t = i.getLeftPosition(e), n = i.getTopPosition(e), o = i.getSlider();
                    i.setKnob(n, t), o.callLeft && w[o.callLeft].call(w, t / 100), o.callTop && w[o.callTop].call(w, n / 100), P();
                    var s = w[u]();
                    return a.val(s), c && r.$apply(c.$setViewValue(s)), h && I.val(s), !1
                }, q = function M() {
                    e.off("mousemove", _), e.off("mouseup", M)
                }, O = function () {
                    w.setColor(a.val()), C.eq(0).css({
                        left: 100 * w.value.s + "px",
                        top: 100 - 100 * w.value.b + "px"
                    }), C.eq(1).css("top", 100 * (1 - w.value.h) + "px"), C.eq(2).css("top", 100 * (1 - w.value.a) + "px"), P()
                }, A = function () {
                    var e, t = o.getOffset(a[0]);
                    return angular.isDefined(s.colorpickerParent) && (t.left = 0, t.top = 0), "top" === d ? e = {
                        top: t.top - 147 + p.y,
                        left: t.left + p.x
                    } : "right" === d ? e = {
                        top: t.top + p.y,
                        left: t.left + 126 + p.x
                    } : "bottom" === d ? (e = {
                        top: t.top + a[0].offsetHeight + 2 + p.y,
                        left: t.left + p.x
                    }, "grid.color" === s.ngModel && (e.top = $(a[0]).offset().top + 30, e.left = $(a[0]).offset().left)) : "left" === d ? e = {
                        top: t.top + p.y,
                        left: t.left - 150 + p.x
                    } : "sceneToobar" === d && (e = {
                        top: t.top + p.y - 110,
                        left: t.left - 150 + p.x + 40
                    }), {top: e.top + "px", left: e.left + "px"}
                }, j = function () {
                    F()
                };
                m === !1 ? a.on("click", function () {
                    O(), x.addClass("colorpicker-visible").css(A()), e.on("mousedown", j)
                }) : (O(), x.addClass("colorpicker-visible").css(A())), x.on("mousedown", function (e) {
                    e.stopPropagation(), e.preventDefault()
                });
                var L = function (e) {
                    c && r.$emit(e, {name: s.ngModel, value: c.$modelValue})
                }, F = function () {
                    x.hasClass("colorpicker-visible") && (x.removeClass("colorpicker-visible"), L("colorpicker-closed"), e.off("mousedown", j))
                };
                x.find("button").on("click", function () {
                    F()
                })
            }
        }
    }]).factory("colorService", function () {
        "ngInject";

        function e() {
            return s
        }

        function t(e) {
            s = e
        }

        function n() {
            return angular.copy(c)
        }

        function i(e) {
            a.indexOf(e) > -1 && a.splice(a.indexOf(e), 1), a.unshift(e), a.length > 7 && a.pop(), window.localStorage.setItem("historyColor", a.join(","))
        }

        function o() {
            return a ? a : (a = window.localStorage.getItem("historyColor"), a = a ? a.split(",") : [])
        }

        function r(e, t) {
            var n = e.$root.$$phase;
            "$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
        }

        var a = null, s = "",
            c = ["eef1f6", "ffcbd0", "bde6ff", "97ecb9", "ffc36d", "95f4e2", "ccd0ff", "eccaf1", "ffbed0", "ffffff", "a8b8d0", "e87474", "59c7f9", "56b786", "ea9924", "2ecbbe", "8d91ff", "c277d0", "ff79a2", "000000", "7a90b2", "c4433c", "2196ed", "48916c", "d67b03", "23a193", "696cb4", "a158b3", "bf4c76"];
        return {
            getCustomColor: e,
            setCustomColor: t, safeApply: r, getColors: n, setHistoryColors: i, getHistoryColors: o
        }
    }).directive("eqdColorMore", ["$rootScope", "colorService", "authorityService", function (e, t, n) {
        "ngInject";

        function i(i, r) {
            var a = i.colorpicker = r.closest(".eqc-colorpicker");
            a.mousedown(function (e) {
                if (e.stopPropagation(), $(e.target).hasClass("eqc-colorpicker")) {
                    var t = a.get(0).style.transform;
                    t = /translate3d/.test(t) ? t : "translate3d(0,0,0)", t = /translate3d\((-?\d+)(px)?,\s*(-?\d+)(px)?,\s*(-?\d+)(px)?\)/.exec(t);
                    var n = {pageX: e.pageX, pageY: e.pageY, translateX: parseInt(t[1]), translateY: parseInt(t[3])};
                    o.mousemove(function (e) {
                        var t = e.pageX - n.pageX, i = e.pageY - n.pageY;
                        a.css("transform", "translate3d(" + (n.translateX + t) + "px," + (n.translateY + i) + "px,0")
                    }), o.mouseup(function () {
                        o.unbind("mousemove mouseup")
                    })
                }
            });
            var s = i.picker = r.colorpicker({
                inline: !0,
                format: "rgba",
                container: a.find(".more"),
                customClass: "colorpicker-2x",
                sliders: {saturation: {maxLeft: 150, maxTop: 150}, hue: {maxTop: 150}, alpha: {maxTop: 150}}
            });
            a.find(".colorpicker").removeClass("dropdown-menu"), n.permission("disableColorPickerOpacity") && a.find(".colorpicker-alpha").css({display: "none"}), a.click(function (e) {
                e.stopPropagation()
            }), s.on("changeColor", function (e) {
                t.safeApply(i, function () {
                    var t = e.color.toRGB();
                    i.selectColor = "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")"
                })
            }), s.on("completeColor", function (n) {
                e.$broadcast("completeColor", i.notify);
                var o = n.color.toHex();
                t.setCustomColor(o)
            }), r.on("$destroy", function () {
                s.colorpicker("destroy")
            }), i.$on("colorpicker.hide", function () {
                t.safeApply(i, function () {
                    i.visible = !1
                })
            }), i.chooseColor = function (n) {
                n.stopPropagation();
                var o = $(n.target);
                if (o.is("li")) {
                    var r = o.attr("color");
                    if (r) {
                        var a = "#" + r;
                        i.selectColor = a, t.setCustomColor(a), s.colorpicker("setValue", a)
                    } else i.selectColor = "", s.colorpicker("setValue", "transparent");
                    setTimeout(function () {
                        e.$broadcast("completeColor", i.notify), i.$apply()
                    }, 10)
                }
            }, i.setColorpickerPos = function (e, t, n) {
                var i = {}, o = {width: 228, height: 330}, r = t.offset(),
                    a = {top: r.top, left: r.left, width: t.width(), height: t.height()};
                switch (e.direction) {
                    case"top":
                        i.top = a.top - o.height, i.left = a.left;
                        break;
                    case"bottom":
                        i.top = a.top + a.height, i.left = a.left;
                        break;
                    case"left":
                        i.top = a.top, i.left = a.left - o.width;
                        break;
                    case"right":
                        i.top = a.top, i.left = a.left + a.width
                }
                i.top + o.height > document.body.clientHeight && (i.top = document.body.clientHeight - o.height), i.left + o.width > document.body.clientWidth && (i.left = document.body.clientWidth - o.width), i.top < 0 && (i.top = a.top + a.height), i.left < 0 && (i.left = a.left + a.width), n.css({
                    top: i.top + parseInt(e.y),
                    left: i.left + parseInt(e.x)
                })
            }
        }

        var o = $(document);
        return {restrict: "EA", link: i}
    }]).directive("eqdInputColor", function () {
        "ngInject";
        return {
            restrict: "E", template: n(910), replace: !0, controller: ["$scope", "$attrs", function (e, t) {
                e.x = t.x || 151, e.y = t.y || -2, e.w = t.w || 144, e.h = t.h || 28, e.colorMode = t.colorMode || "rgba", e.direction = t.direction || "right", e.theme = t.theme || "", e.notify = t.notify || "", e.idName = t.toolcolorpicker || "normalColorPicker", e.isConvertTransparent = t.isconverttransparent || "false"
            }], scope: {selectColor: "=", defaultColor: "=", theme: "@"}
        }
    }).directive("eqdColorpicker", ["$compile", "colorService", "$timeout", function (e, t, n) {
        "ngInject";

        function i(i, a) {
            var s = angular.element(document.getElementById("btn-toolbar"));
            i.direction = i.direction || "right", i.x = i.x || 0, i.y = i.y || 0;
            var c = t.getColors();
            i.greyColors = c.slice(0, 9), i.richColors = c.slice(9), i.historyColors = t.getHistoryColors();
            var l = e(r)(i);
            $("body").append(l), a.on("$destroy", function () {
                l && l.remove()
            }), a.click(function () {
                if (!i.visible) {
                    t.safeApply(i, function () {
                        i.visible = !0
                    }), i.colorpicker.css("transform", ""), i.picker.colorpicker("setValue", i.selectColor || "transparent"), i.setColorpickerPos(i, a, i.colorpicker), o.bind("mousedown", function () {
                        t.safeApply(i, function () {
                            i.visible = !1;
                            var e = t.getCustomColor();
                            e && t.setHistoryColors(e.slice(1))
                        }), o.unbind("mousedown")
                    }), s.bind("mousedown", function () {
                        t.safeApply(i, function () {
                            i.visible = !1;
                            var e = t.getCustomColor();
                            e && t.setHistoryColors(e.slice(1))
                        })
                    });
                    var e = $(".eqc-colorpicker .content input");
                    e.keydown(function (e) {
                        8 !== e.keyCode && 37 !== e.keyCode && 38 !== e.keyCode && 39 !== e.keyCode && 40 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation(), n(function () {
                            e.target.focus()
                        }, 200)
                    })
                }
            })
        }

        var o = $(document),
            r = '<div class="eqc-colorpicker {{isToolbarColorPicker}}" ng-show="visible" ><div class="content"><div class="color"><ul ng-click="chooseColor($event)"><li class="clear"></li><li ng-repeat="color in greyColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li><li ng-repeat="color in richColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li></ul></div><div class="history"><span>最近使用</span><ul class="fr" ng-click="chooseColor($event)"><li ng-repeat="color in historyColors track by $index" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}" ></li></ul></div><div class="more"></div><div class="sub-history"><ul ng-click="chooseColor($event)"><li ng-style="{backgroundColor: \'#\' + selectColor}" color="{{selectColor}}" ></li><li ng-style="{backgroundColor: \'#\' + historyColors[0]}" color="{{historyColors[0]}}" ></li></ul><input class="fr" eqd-color-more /></div></div></div>';
        return {
            scope: {
                selectColor: "=",
                notify: "@",
                direction: "@",
                isToolbarColorPicker: "=",
                x: "@",
                y: "@",
                isConvertTransparent: "@"
            }, link: i
        }
    }]).directive("eqdInputColor2", function () {
        return {
            restrict: "E",
            template: n(911),
            replace: !0,
            scope: {selectColor: "=", defaultColor: "=", theme: "@"},
            link: function (e, t, n) {
                function i(e) {
                    var t = void 0;
                    if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) return t = e.substring(1).split(""), 3 === t.length && (t = [t[0], t[0], t[1], t[1], t[2], t[2]]), t = "0x" + t.join(""), "rgba(" + [t >> 16 & 255, t >> 8 & 255, 255 & t].join(",") + ",1)";
                    throw new Error("Bad Hex")
                }

                e.x = n.x || 151, e.y = n.y || -2, e.w = n.w || 70, e.h = n.h || 30, e.colorMode = n.colorMode || "rgba", e.direction = n.direction || "right", e.theme = n.theme || "", e.notify = n.notify || "", e.idName = n.toolcolorpicker || "normalColorPicker", e.isConvertTransparent = n.isconverttransparent || "false", e.colors = [i("#ffffff"), i("#ff5448"), i("#f2a653"), i("#ffca28"), i("#18cfa1"), i("#59c7f9"), i("#4d8ff3"), i("#7171ef"), i("#4f5975"), i("#000000")], e.setColor = function (t) {
                    e.selectColor = t
                }
            }
        }
    }).name
}, function (e, t, n) {
    var i, o, r, a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    /*!
	 * Bootstrap Colorpicker
	 * http://mjolnic.github.io/bootstrap-colorpicker/
	 *
	 * Originally written by (c) 2012 Stefan Petre
	 * Licensed under the Apache License v2.0
	 * http://www.apache.org/licenses/LICENSE-2.0.txt
	 *
	 * @todo Update DOCS
	 */
    !function (s) {
        "use strict";
        "object" === a(t) ? e.exports = s(window.jQuery) : (o = [n(902)], i = s, r = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== r && (e.exports = r)))
    }(function (e) {
        "use strict";
        var t = function (t, n) {
            this.value = {
                h: 0,
                s: 0,
                b: 0,
                a: 1
            }, this.origFormat = null, n && e.extend(this.colors, n), t && (void 0 !== t.toLowerCase ? (t += "", this.setColor(t)) : void 0 !== t.h && (this.value = t))
        };
        t.prototype = {
            constructor: t,
            colors: {
                aliceblue: "#f0f8ff",
                antiquewhite: "#faebd7",
                aqua: "#00ffff",
                aquamarine: "#7fffd4",
                azure: "#f0ffff",
                beige: "#f5f5dc",
                bisque: "#ffe4c4",
                black: "#000000",
                blanchedalmond: "#ffebcd",
                blue: "#0000ff",
                blueviolet: "#8a2be2",
                brown: "#a52a2a",
                burlywood: "#deb887",
                cadetblue: "#5f9ea0",
                chartreuse: "#7fff00",
                chocolate: "#d2691e",
                coral: "#ff7f50",
                cornflowerblue: "#6495ed",
                cornsilk: "#fff8dc",
                crimson: "#dc143c",
                cyan: "#00ffff",
                darkblue: "#00008b",
                darkcyan: "#008b8b",
                darkgoldenrod: "#b8860b",
                darkgray: "#a9a9a9",
                darkgreen: "#006400",
                darkkhaki: "#bdb76b",
                darkmagenta: "#8b008b",
                darkolivegreen: "#556b2f",
                darkorange: "#ff8c00",
                darkorchid: "#9932cc",
                darkred: "#8b0000",
                darksalmon: "#e9967a",
                darkseagreen: "#8fbc8f",
                darkslateblue: "#483d8b",
                darkslategray: "#2f4f4f",
                darkturquoise: "#00ced1",
                darkviolet: "#9400d3",
                deeppink: "#ff1493",
                deepskyblue: "#00bfff",
                dimgray: "#696969",
                dodgerblue: "#1e90ff",
                firebrick: "#b22222",
                floralwhite: "#fffaf0",
                forestgreen: "#228b22",
                fuchsia: "#ff00ff",
                gainsboro: "#dcdcdc",
                ghostwhite: "#f8f8ff",
                gold: "#ffd700",
                goldenrod: "#daa520",
                gray: "#808080",
                green: "#008000",
                greenyellow: "#adff2f",
                honeydew: "#f0fff0",
                hotpink: "#ff69b4",
                indianred: "#cd5c5c",
                indigo: "#4b0082",
                ivory: "#fffff0",
                khaki: "#f0e68c",
                lavender: "#e6e6fa",
                lavenderblush: "#fff0f5",
                lawngreen: "#7cfc00",
                lemonchiffon: "#fffacd",
                lightblue: "#add8e6",
                lightcoral: "#f08080",
                lightcyan: "#e0ffff",
                lightgoldenrodyellow: "#fafad2",
                lightgrey: "#d3d3d3",
                lightgreen: "#90ee90",
                lightpink: "#ffb6c1",
                lightsalmon: "#ffa07a",
                lightseagreen: "#20b2aa",
                lightskyblue: "#87cefa",
                lightslategray: "#778899",
                lightsteelblue: "#b0c4de",
                lightyellow: "#ffffe0",
                lime: "#00ff00",
                limegreen: "#32cd32",
                linen: "#faf0e6",
                magenta: "#ff00ff",
                maroon: "#800000",
                mediumaquamarine: "#66cdaa",
                mediumblue: "#0000cd",
                mediumorchid: "#ba55d3",
                mediumpurple: "#9370d8",
                mediumseagreen: "#3cb371",
                mediumslateblue: "#7b68ee",
                mediumspringgreen: "#00fa9a",
                mediumturquoise: "#48d1cc",
                mediumvioletred: "#c71585",
                midnightblue: "#191970",
                mintcream: "#f5fffa",
                mistyrose: "#ffe4e1",
                moccasin: "#ffe4b5",
                navajowhite: "#ffdead",
                navy: "#000080",
                oldlace: "#fdf5e6",
                olive: "#808000",
                olivedrab: "#6b8e23",
                orange: "#ffa500",
                orangered: "#ff4500",
                orchid: "#da70d6",
                palegoldenrod: "#eee8aa",
                palegreen: "#98fb98",
                paleturquoise: "#afeeee",
                palevioletred: "#d87093",
                papayawhip: "#ffefd5",
                peachpuff: "#ffdab9",
                peru: "#cd853f",
                pink: "#ffc0cb",
                plum: "#dda0dd",
                powderblue: "#b0e0e6",
                purple: "#800080",
                red: "#ff0000",
                rosybrown: "#bc8f8f",
                royalblue: "#4169e1",
                saddlebrown: "#8b4513",
                salmon: "#fa8072",
                sandybrown: "#f4a460",
                seagreen: "#2e8b57",
                seashell: "#fff5ee",
                sienna: "#a0522d",
                silver: "#c0c0c0",
                skyblue: "#87ceeb",
                slateblue: "#6a5acd",
                slategray: "#708090",
                snow: "#fffafa",
                springgreen: "#00ff7f",
                steelblue: "#4682b4",
                tan: "#d2b48c",
                teal: "#008080",
                thistle: "#d8bfd8",
                tomato: "#ff6347",
                turquoise: "#40e0d0",
                violet: "#ee82ee",
                wheat: "#f5deb3",
                white: "#ffffff",
                whitesmoke: "#f5f5f5",
                yellow: "#ffff00",
                yellowgreen: "#9acd32",
                transparent: "transparent"
            },
            _sanitizeNumber: function (e) {
                return "number" == typeof e ? e : isNaN(e) || null === e || "" === e || void 0 === e ? 1 : void 0 !== e.toLowerCase ? parseFloat(e) : 1
            },
            isTransparent: function (e) {
                return !!e && (e = e.toLowerCase().trim(), "transparent" === e || e.match(/#?00000000/) || e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))
            },
            rgbaIsTransparent: function (e) {
                return 0 === e.r && 0 === e.g && 0 === e.b && 0 === e.a
            },
            setColor: function (e) {
                e = e.toLowerCase().trim(), e && (this.isTransparent(e) ? this.value = {
                    h: 0,
                    s: 0,
                    b: 0,
                    a: 0
                } : this.value = this.stringToHSB(e) || {h: 0, s: 0, b: 0, a: 1})
            },
            stringToHSB: function (t) {
                t = t.toLowerCase();
                var n;
                "undefined" != typeof this.colors[t] && (t = this.colors[t], n = "alias");
                var i = this, o = !1;
                return e.each(this.stringParsers, function (e, r) {
                    var a = r.re.exec(t), s = a && r.parse.apply(i, [a]), c = n || r.format || "rgba";
                    return !s || (o = c.match(/hsla?/) ? i.RGBtoHSB.apply(i, i.HSLtoRGB.apply(i, s)) : i.RGBtoHSB.apply(i, s), i.origFormat = c, !1)
                }), o
            },
            setHue: function (e) {
                this.value.h = 1 - e
            },
            setSaturation: function (e) {
                this.value.s = e
            },
            setBrightness: function (e) {
                this.value.b = 1 - e
            },
            setAlpha: function (e) {
                this.value.a = parseInt(100 * (1 - e), 10) / 100
            },
            toRGB: function (e, t, n, i) {
                e || (e = this.value.h, t = this.value.s, n = this.value.b), e *= 360;
                var o, r, a, s, c;
                return e = e % 360 / 60, c = n * t, s = c * (1 - Math.abs(e % 2 - 1)), o = r = a = n - c, e = ~~e, o += [c, s, 0, 0, s, c][e], r += [s, c, c, s, 0, 0][e], a += [0, 0, s, c, c, s][e], {
                    r: Math.round(255 * o),
                    g: Math.round(255 * r),
                    b: Math.round(255 * a),
                    a: i || this.value.a
                }
            },
            toHex: function (e, t, n, i) {
                var o = this.toRGB(e, t, n, i);
                return this.rgbaIsTransparent(o) ? "transparent" : "#" + (1 << 24 | parseInt(o.r) << 16 | parseInt(o.g) << 8 | parseInt(o.b)).toString(16).substr(1)
            },
            toHSL: function (e, t, n, i) {
                e = e || this.value.h, t = t || this.value.s, n = n || this.value.b, i = i || this.value.a;
                var o = e, r = (2 - t) * n, a = t * n;
                return a /= r > 0 && r <= 1 ? r : 2 - r, r /= 2, a > 1 && (a = 1), {
                    h: isNaN(o) ? 0 : o,
                    s: isNaN(a) ? 0 : a,
                    l: isNaN(r) ? 0 : r,
                    a: isNaN(i) ? 0 : i
                }
            },
            toAlias: function (e, t, n, i) {
                var o = this.toHex(e, t, n, i);
                for (var r in this.colors) if (this.colors[r] === o) return r;
                return !1
            },
            RGBtoHSB: function (e, t, n, i) {
                e /= 255, t /= 255, n /= 255;
                var o, r, a, s;
                return a = Math.max(e, t, n), s = a - Math.min(e, t, n), o = 0 === s ? null : a === e ? (t - n) / s : a === t ? (n - e) / s + 2 : (e - t) / s + 4, o = (o + 360) % 6 * 60 / 360, r = 0 === s ? 0 : s / a, {
                    h: this._sanitizeNumber(o),
                    s: r,
                    b: a,
                    a: this._sanitizeNumber(i)
                }
            },
            HueToRGB: function (e, t, n) {
                return n < 0 ? n += 1 : n > 1 && (n -= 1), 6 * n < 1 ? e + (t - e) * n * 6 : 2 * n < 1 ? t : 3 * n < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e
            },
            HSLtoRGB: function (e, t, n, i) {
                t < 0 && (t = 0);
                var o;
                o = n <= .5 ? n * (1 + t) : n + t - n * t;
                var r = 2 * n - o, a = e + 1 / 3, s = e, c = e - 1 / 3, l = Math.round(255 * this.HueToRGB(r, o, a)),
                    p = Math.round(255 * this.HueToRGB(r, o, s)), u = Math.round(255 * this.HueToRGB(r, o, c));
                return [l, p, u, this._sanitizeNumber(i)]
            },
            toString: function (e) {
                e = e || "rgba";
                var t = !1;
                switch (e) {
                    case"rgb":
                        return t = this.toRGB(), this.rgbaIsTransparent(t) ? "transparent" : "rgb(" + t.r + "," + t.g + "," + t.b + ")";
                    case"rgba":
                        return t = this.toRGB(), "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")";
                    case"hsl":
                        return t = this.toHSL(), "hsl(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%)";
                    case"hsla":
                        return t = this.toHSL(), "hsla(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%," + t.a + ")";
                    case"hex":
                        return this.toHex();
                    case"alias":
                        return this.toAlias() || this.toHex();
                    default:
                        return t
                }
            },
            stringParsers: [{
                re: /rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,
                format: "rgb",
                parse: function (e) {
                    return [e[1], e[2], e[3], 1]
                }
            }, {
                re: /rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
                format: "rgb",
                parse: function (e) {
                    return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], 1]
                }
            }, {
                re: /rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                format: "rgba",
                parse: function (e) {
                    return [e[1], e[2], e[3], e[4]]
                }
            }, {
                re: /rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                format: "rgba",
                parse: function (e) {
                    return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
                }
            }, {
                re: /hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
                format: "hsl",
                parse: function (e) {
                    return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
                }
            }, {
                re: /hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                format: "hsla",
                parse: function (e) {
                    return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
                }
            }, {
                re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/, format: "hex", parse: function (e) {
                    return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16), 1]
                }
            }, {
                re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/, format: "hex", parse: function (e) {
                    return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16), 1]
                }
            }],
            colorNameToHex: function (e) {
                return "undefined" != typeof this.colors[e.toLowerCase()] && this.colors[e.toLowerCase()]
            }
        };
        var n = {
            horizontal: !1,
            inline: !1,
            color: !1,
            format: !1,
            input: "input",
            container: !1,
            component: ".add-on, .input-group-addon",
            sliders: {
                saturation: {maxLeft: 100, maxTop: 100, callLeft: "setSaturation", callTop: "setBrightness"},
                hue: {maxLeft: 0, maxTop: 100, callLeft: !1, callTop: "setHue"},
                alpha: {maxLeft: 0, maxTop: 100, callLeft: !1, callTop: "setAlpha"}
            },
            slidersHorz: {
                saturation: {maxLeft: 100, maxTop: 100, callLeft: "setSaturation", callTop: "setBrightness"},
                hue: {maxLeft: 100, maxTop: 0, callLeft: "setHue", callTop: !1},
                alpha: {maxLeft: 100, maxTop: 0, callLeft: "setAlpha", callTop: !1}
            },
            template: '<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',
            align: "right",
            customClass: null,
            colorSelectors: null
        }, i = function (i, o) {
            if (this.element = e(i).addClass("colorpicker-element"), this.options = e.extend(!0, {}, n, this.element.data(), o), this.component = this.options.component, this.component = this.component !== !1 && this.element.find(this.component), this.component && 0 === this.component.length && (this.component = !1), this.container = this.options.container === !0 ? this.element : this.options.container, this.container = this.container !== !1 && e(this.container), this.input = this.element.is("input") ? this.element : !!this.options.input && this.element.find(this.options.input), this.input && 0 === this.input.length && (this.input = !1), this.color = new t(this.options.color !== !1 ? this.options.color : this.getValue(), this.options.colorSelectors), this.format = this.options.format !== !1 ? this.options.format : this.color.origFormat, this.options.color !== !1 && (this.updateInput(this.color), this.updateData(this.color)), this.picker = e(this.options.template), this.options.customClass && this.picker.addClass(this.options.customClass), this.options.inline ? this.picker.addClass("colorpicker-inline colorpicker-visible") : this.picker.addClass("colorpicker-hidden"), this.options.horizontal && this.picker.addClass("colorpicker-horizontal"), "rgba" !== this.format && "hsla" !== this.format && this.options.format !== !1 || this.picker.addClass("colorpicker-with-alpha"), "right" === this.options.align && this.picker.addClass("colorpicker-right"), this.options.inline === !0 && this.picker.addClass("colorpicker-no-arrow"), this.options.colorSelectors) {
                var r = this;
                e.each(this.options.colorSelectors, function (t, n) {
                    var i = e("<i />").css("background-color", n).data("class", t);
                    i.click(function () {
                        r.setValue(e(this).css("background-color"))
                    }), r.picker.find(".colorpicker-selectors").append(i)
                }), this.picker.find(".colorpicker-selectors").show()
            }
            this.picker.on("mousedown.colorpicker touchstart.colorpicker", e.proxy(this.mousedown, this)), this.picker.appendTo(this.container ? this.container : e("body")), this.input !== !1 && (this.input.on({"keyup.colorpicker": e.proxy(this.keyup, this)}), this.input.on({"change.colorpicker": e.proxy(this.change, this)}), this.component === !1 && this.element.on({"focus.colorpicker": e.proxy(this.show, this)}), this.options.inline === !1 && this.element.on({"focusout.colorpicker": e.proxy(this.hide, this)})), this.component !== !1 && this.component.on({"click.colorpicker": e.proxy(this.show, this)}), this.input === !1 && this.component === !1 && this.element.on({"click.colorpicker": e.proxy(this.show, this)}), this.input !== !1 && this.component !== !1 && "color" === this.input.attr("type") && this.input.on({
                "click.colorpicker": e.proxy(this.show, this),
                "focus.colorpicker": e.proxy(this.show, this)
            }), this.update(), e(e.proxy(function () {
                this.element.trigger("create")
            }, this))
        };
        i.Color = t, i.prototype = {
            constructor: i, destroy: function () {
                this.picker.remove(), this.element.removeData("colorpicker").off(".colorpicker"), this.input !== !1 && this.input.off(".colorpicker"), this.component !== !1 && this.component.off(".colorpicker"), this.element.removeClass("colorpicker-element"), this.element.trigger({type: "destroy"})
            }, reposition: function () {
                if (this.options.inline !== !1 || this.options.container) return !1;
                var e = this.container && this.container[0] !== document.body ? "position" : "offset",
                    t = this.component || this.element, n = t[e]();
                "right" === this.options.align && (n.left -= this.picker.outerWidth() - t.outerWidth()), this.picker.css({
                    top: n.top + t.outerHeight(),
                    left: n.left
                })
            }, show: function (t) {
                return !this.isDisabled() && (this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"), this.reposition(), e(window).on("resize.colorpicker", e.proxy(this.reposition, this)), !t || this.hasInput() && "color" !== this.input.attr("type") || t.stopPropagation && t.preventDefault && (t.stopPropagation(), t.preventDefault()), this.options.inline === !1 && e(window.document).on({"mousedown.colorpicker": e.proxy(this.hide, this)}), void this.element.trigger({
                    type: "showPicker",
                    color: this.color
                }))
            }, hide: function () {
                this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"), e(window).off("resize.colorpicker", this.reposition), e(document).off({"mousedown.colorpicker": this.hide}), this.update(), this.element.trigger({
                    type: "hidePicker",
                    color: this.color
                })
            }, updateData: function (e) {
                return e = e || this.color.toString(this.format), this.element.data("color", e), e
            }, updateInput: function (e) {
                if (e = e || this.color.toString(this.format), this.input !== !1) {
                    if (this.options.colorSelectors) {
                        var n = new t(e, this.options.colorSelectors), i = n.toAlias();
                        "undefined" != typeof this.options.colorSelectors[i] && (e = i)
                    }
                    this.input.prop("value", e)
                }
                return e
            }, updatePicker: function (e) {
                void 0 !== e && (this.color = new t(e, this.options.colorSelectors));
                var n = this.options.horizontal === !1 ? this.options.sliders : this.options.slidersHorz,
                    i = this.picker.find("i");
                if (0 !== i.length) return this.options.horizontal === !1 ? (n = this.options.sliders, i.eq(1).css("top", n.hue.maxTop * (1 - this.color.value.h)).end().eq(2).css("top", n.alpha.maxTop * (1 - this.color.value.a))) : (n = this.options.slidersHorz, i.eq(1).css("left", n.hue.maxLeft * (1 - this.color.value.h)).end().eq(2).css("left", n.alpha.maxLeft * (1 - this.color.value.a))), i.eq(0).css({
                    top: n.saturation.maxTop - this.color.value.b * n.saturation.maxTop,
                    left: this.color.value.s * n.saturation.maxLeft
                }), this.picker.find(".colorpicker-saturation").css("backgroundColor", this.color.toHex(this.color.value.h, 1, 1, 1)), this.picker.find(".colorpicker-alpha").css("backgroundColor", this.color.toHex()), this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor", this.color.toString(this.format)), e
            }, updateComponent: function (e) {
                if (e = e || this.color.toString(this.format), this.component !== !1) {
                    var t = this.component.find("i").eq(0);
                    t.length > 0 ? t.css({backgroundColor: e}) : this.component.css({backgroundColor: e})
                }
                return e
            }, update: function (e) {
                var t;
                return this.getValue(!1) === !1 && e !== !0 || (t = this.updateComponent(), this.updateInput(t), this.updateData(t), this.updatePicker()), t
            }, setValue: function (e) {
                this.color = new t(e, this.options.colorSelectors), this.update(!0), this.element.trigger({
                    type: "changeColor",
                    color: this.color,
                    value: e
                })
            }, getValue: function (e) {
                e = void 0 === e ? "#000000" : e;
                var t;
                return t = this.hasInput() ? this.input.val() : this.element.data("color"), void 0 !== t && "" !== t && null !== t || (t = e), t
            }, hasInput: function () {
                return this.input !== !1
            }, isDisabled: function () {
                return !!this.hasInput() && this.input.prop("disabled") === !0
            }, disable: function () {
                return !!this.hasInput() && (this.input.prop("disabled", !0), this.element.trigger({
                    type: "disable",
                    color: this.color,
                    value: this.getValue()
                }), !0)
            }, enable: function () {
                return !!this.hasInput() && (this.input.prop("disabled", !1), this.element.trigger({
                    type: "enable",
                    color: this.color,
                    value: this.getValue()
                }), !0)
            }, currentSlider: null, mousePointer: {left: 0, top: 0}, mousedown: function (t) {
                t.pageX || t.pageY || !t.originalEvent || (t.pageX = t.originalEvent.touches[0].pageX, t.pageY = t.originalEvent.touches[0].pageY), t.stopPropagation(), t.preventDefault();
                var n = e(t.target), i = n.closest("div"),
                    o = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;
                if (!i.is(".colorpicker")) {
                    if (i.is(".colorpicker-saturation")) this.currentSlider = e.extend({}, o.saturation); else if (i.is(".colorpicker-hue")) this.currentSlider = e.extend({}, o.hue); else {
                        if (!i.is(".colorpicker-alpha")) return !1;
                        this.currentSlider = e.extend({}, o.alpha)
                    }
                    var r = i.offset();
                    this.currentSlider.guide = i.find("i")[0].style, this.currentSlider.left = t.pageX - r.left, this.currentSlider.top = t.pageY - r.top, this.mousePointer = {
                        left: t.pageX,
                        top: t.pageY
                    }, e(document).on({
                        "mousemove.colorpicker": e.proxy(this.mousemove, this),
                        "touchmove.colorpicker": e.proxy(this.mousemove, this),
                        "mouseup.colorpicker": e.proxy(this.mouseup, this),
                        "touchend.colorpicker": e.proxy(this.mouseup, this)
                    }).trigger("mousemove")
                }
                return !1
            }, mousemove: function (e) {
                e.pageX || e.pageY || !e.originalEvent || (e.pageX = e.originalEvent.touches[0].pageX, e.pageY = e.originalEvent.touches[0].pageY), e.stopPropagation(), e.preventDefault();
                var t = Math.max(0, Math.min(this.currentSlider.maxLeft, this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left))),
                    n = Math.max(0, Math.min(this.currentSlider.maxTop, this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)));
                return this.currentSlider.guide.left = t + "px", this.currentSlider.guide.top = n + "px", this.currentSlider.callLeft && this.color[this.currentSlider.callLeft].call(this.color, t / this.currentSlider.maxLeft), this.currentSlider.callTop && this.color[this.currentSlider.callTop].call(this.color, n / this.currentSlider.maxTop), "setAlpha" === this.currentSlider.callTop && this.options.format === !1 && (1 !== this.color.value.a ? (this.format = "rgba", this.color.origFormat = "rgba") : (this.format = "hex", this.color.origFormat = "hex")), this.update(!0), this.element.trigger({
                    type: "changeColor",
                    color: this.color
                }), !1
            }, mouseup: function (t) {
                return t.stopPropagation(), t.preventDefault(), e(document).off({
                    "mousemove.colorpicker": this.mousemove,
                    "touchmove.colorpicker": this.mousemove,
                    "mouseup.colorpicker": this.mouseup,
                    "touchend.colorpicker": this.mouseup
                }), this.element.trigger({type: "completeColor", color: this.color}), !1
            }, change: function (e) {
                this.keyup(e)
            }, keyup: function (e) {
                38 === e.keyCode ? (this.color.value.a < 1 && (this.color.value.a = Math.round(100 * (this.color.value.a + .01)) / 100), this.update(!0)) : 40 === e.keyCode ? (this.color.value.a > 0 && (this.color.value.a = Math.round(100 * (this.color.value.a - .01)) / 100), this.update(!0)) : (this.color = new t(this.input.val(), this.options.colorSelectors), this.color.origFormat && this.options.format === !1 && (this.format = this.color.origFormat), this.getValue(!1) !== !1 && (this.updateData(), this.updateComponent(), this.updatePicker())), this.element.trigger({
                    type: "changeColor",
                    color: this.color,
                    value: this.input.val()
                })
            }
        }, e.colorpicker = i, e.fn.colorpicker = function (t) {
            var n, o = arguments, r = this.each(function () {
                var r = e(this), s = r.data("colorpicker"),
                    c = "object" === ("undefined" == typeof t ? "undefined" : a(t)) ? t : {};
                s || "string" == typeof t ? "string" == typeof t && (n = s[t].apply(s, Array.prototype.slice.call(o, 1))) : r.data("colorpicker", new i(this, c))
            });
            return "getValue" === t ? n : r
        }, e.fn.colorpicker.constructor = i
    })
}, function (e, t) {
    e.exports = jQuery
}, function (e, t) {
}, , , , , , function (e, t) {
}, function (e, t) {
    e.exports = '<div class="content-color"><div class="eqc-input-color {{theme}}" ng-style="{backgroundColor: selectColor, width: w - 2, height: h}"><div x="{{x}}" y="{{y}}" ng-style="{width: w - 2, height: h}" select-color="selectColor" notify="{{notify}}" eqd-colorpicker="{{colorMode}}" direction="{{direction}}" colorpicker-with-input="true" is-toolbar-color-picker="idName" istoolbarcolor="{{idName}}" is-convert-transparent="{{isConvertTransparent}}"></div></div><em class="clear-color" ng-click="selectColor = \'rgba(0,0,0,0)\'"></em></div>'
}, function (e, t) {
    e.exports = '<div class="content-color2"><div class="eqc-input-color {{theme}}" ng-style="{width: w, height: h}"><div x="{{x}}" y="{{y}}" ng-style="{backgroundColor: selectColor}" select-color="selectColor" notify="{{notify}}" class="color-bg" eqd-colorpicker="{{colorMode}}" direction="{{direction}}" colorpicker-with-input="true" is-toolbar-color-picker="idName" istoolbarcolor="{{idName}}" is-convert-transparent="{{isConvertTransparent}}"></div></div><ul class="colors"><li class="color" ng-repeat="color in colors track by $index" ng-style="{backgroundColor: color}" ng-click="setColor(color)"></li></ul></div>'
}, function (e, t, n) {
    "use strict";
    n(913), e.exports = angular.module("eqx.ui.dropDown", []).directive("eqdSelect", ["$rootScope", function (e) {
        "ngInject";

        function t(t, n) {
            function i() {
                r.unbind("click", i), a.removeClass("visible")
            }

            function o(e) {
                var n = e.index();
                t.current = t.list[n], a.removeClass("visible")
            }

            var r = $(document), a = n.find(".eqc-drop-down-list"), s = a.find(".iScrollIndicator");
            n.on("$destroy", function () {
                r.unbind("click", i)
            }), t.showList = function (n) {
                return n.stopPropagation(), a.hasClass("visible") ? void i() : (e.$broadcast("iscroll.refresh." + t.scrollType), $(".eqc-drop-down-list").removeClass("visible"), a.addClass("visible"), r.click(i), void s.click(function (e) {
                    e.stopPropagation()
                }))
            }, t.selectItem = function (e) {
                e.stopPropagation();
                var t = e.target, n = t.tagName.toLowerCase(), i = $(t);
                "li" == n ? o(i) : "div" == n && (i = i.closest("li"), o(i))
            }
        }

        return {
            restrict: "E",
            replace: !0,
            template: n(914),
            scope: {list: "=", current: "=", scrollType: "@", fontFamily: "=", isBorder: "@", x: "@"},
            link: t
        }
    }]).controller("SimpleSelectController", ["$scope", "$element", "$attrs", "$parse", "$timeout", function (e, t, n, i, o) {
        "ngInject";
        var r = this;
        e.list = [], e.current = null, r.addSelectChoice = function (t) {
            e.list.push(t)
        }, r.removeSelectChoice = function (t) {
            var n = e.list.indexOf(t);
            n !== -1 && e.list.splice(n, 1)
        };
        var a;
        r.setObjectConfig = function (e) {
            void 0 === a && (a = e)
        }, e.setDefaultSelectedValue = function () {
            angular.forEach(e.list, function (t) {
                t.value == e.model && (e.current = t)
            })
        };
        var s = e.$watchCollection("list", function () {
            e.setDefaultSelectedValue()
        }), c = e.$watch("current", function (t, i) {
            if (t && e.model != t.value) {
                var r = !0;
                if (n.beforeChange && (r = e.$parent.$eval(n.beforeChange)), !r) return e.model = i.value, void(e.current = i);
                e.model = t.value, o(function () {
                    n.change && e.$parent.$eval(n.change)
                }, 100)
            }
        }), l = e.$watch("model", function (t) {
            t && e.setDefaultSelectedValue()
        });
        e.$on("$destroy", function () {
            s(), c(), l()
        }), e.$watch("model", function (t, n) {
            t != n && angular.forEach(e.list, function (t) {
                t.value == e.model && (e.current = t)
            })
        })
    }]).directive("eqxSelect", ["$compile", function (e) {
        "ngInject";
        var t = '<eqd-select list="list" class="select-contain" current="current"></eqd-select>';
        return {
            restrict: "E", scope: {model: "="}, controller: "SimpleSelectController", compile: function (n, i) {
                var o = i["class"];
                return n.removeClass(o), function (n, i) {
                    i.append(e(angular.element(t).addClass(o))(n))
                }
            }
        }
    }]).directive("eqxSelectOption", ["$parse", "$interpolate", function (e, t) {
        "ngInject";
        return {
            restrict: "E", require: "^eqxSelect", compile: function (n, i) {
                var o, r;
                return i.ngRepeat && (o = e(i.value), r = t(n.html())), function (e, t, n, i) {
                    t.css("display", "none");
                    var a;
                    if (o) {
                        var s = o(e);
                        i.setObjectConfig(angular.isObject(s)), a = {name: r(e), value: s}
                    } else a = {name: t.html(), value: e.$parent.$eval(n.value)};
                    i.addSelectChoice(a), t.on("$destroy", function () {
                        i.removeSelectChoice(a)
                    })
                }
            }
        }
    }]).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="clearfix"><div class="eqc-mask clearfix" ng-click="showList($event)"><div class="eqc-name">{{current.name}}</div><span class="more eqf-menu-down"></span></div><div class="eqc-drop-down-list transform-change"><div class="list"><div class="eqc-scroll" eqd-scroll="{{scrollType}}"><ul class="clearfix" ng-click="selectItem($event)"><li ng-repeat="item in list" ng-class="{active: item == current}" ng-style="{fontFamily: item.fontFamily}" class="eqc-target">{{item.name}}</li></ul></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.modal", []).factory("modalService", n(916)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";

        function t(t) {
            return e.open(t).result
        }

        function i(e) {
            return "string" == typeof e && (e = {msg: e}), t({
                backdrop: "static",
                keyboard: !1,
                backdropClick: !1,
                windowClass: "confirm-dialog",
                template: n(917),
                controller: ["$scope", "confirmObj", "$sce", function (e, t, n) {
                    e.confirmObj = t, e.ok = function () {
                        e.$close()
                    }, e.cancel = function () {
                        e.$dismiss()
                    }, e.confirmObj.msg = n.trustAsHtml(e.confirmObj.msg)
                }],
                resolve: {
                    confirmObj: function () {
                        return e
                    }
                }
            })
        }

        function o(e) {
            return "string" == typeof e && (e = {msg: e}), t({
                backdrop: "static",
                keyboard: !1,
                backdropClick: !1,
                windowClass: "message-dialog",
                template: n(918),
                controller: ["$scope", "msgObj", function (e, t) {
                    e.msgObj = t, e.close = function () {
                        e.$close()
                    }, e.cancel = function () {
                        e.$dismiss()
                    }
                }],
                resolve: {
                    msgObj: function () {
                        return e
                    }
                }
            })
        }

        return {open: t, openConfirmDialog: i, openMsgDialog: o}
    }

    i.$inject = ["$modal"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-body" ng-if="confirmObj.msg"><div class="confirm-msg" compile ng-bind-html="confirmObj.msg"></div></div><div class="btn-contain btn-small"><a ng-click="ok();" class="btn-main" ng-class="{deletePage: confirmObj.delete}">{{confirmObj.confirmName || (\'确定\')}} </a><a ng-click="cancel();" class="btn-grey0" ng-class="{cancelDeletePage:confirmObj.delete}">{{confirmObj.cancelName || (\'取消\')}}</a></div>'
}, function (e, t) {
    e.exports = '<div class="modal-header"><span class="glyphicon glyphicon-exclamation-sign"></span> <span>{{msgObj.title || (\'提示\')}}</span></div><div class="modal-body" ng-if="msgObj.msg"><div class="msg" ng-class="msgObj.title ? \'\' : \'msg-padding\'" ng-bind-html="msgObj.msg"></div></div><div class="modal-footer"><a ng-click="close();" class="btn btn-primary" style="width: 88px">{{msgObj.btn || (\'关闭\')}}</a></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.dialog", []).factory("dialogService", n(920)).directive("eqdDialogConfirm", n(921)).name
}, function (e, t) {
    "use strict";
    e.exports = ["eqxNgDialog", function (e) {
        "ngInject";

        function t() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return t.plain = !0, e.open(t)
        }

        function n(t) {
            var n = t.msg, i = void 0 === n ? "" : n, o = t.confirmName, r = void 0 === o ? "" : o, a = t.cancelName,
                s = void 0 === a ? "" : a;
            return e.open({
                template: '<eqd-dialog-confirm msg="' + i + '" confirm-name="' + r + '" cancel-name="' + s + '"></eqd-dialog-confirm>',
                plain: !0
            })
        }

        return {open: t, openConfirmDialog: n}
    }]
}, function (e, t, n) {
    "use strict";
    n(922), e.exports = ["$sce", function (e) {
        "ngInject";
        return {
            replace: !0, template: n(923), link: function (t, n, i) {
                t.vm = {
                    msg: e.trustAsHtml(i.msg),
                    confirmName: i.confirmName || "确定",
                    cancelName: i.cancelName || "取消"
                }, t.ok = function () {
                    t.closeThisDialog({})
                }, t.cancel = function () {
                    t.closeThisDialog()
                }
            }
        }
    }]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-dialog eqc-dialog-confirm"><div class="content">{{vm.msg}}</div><div class="foot"><span class="eqc-btn blue h34 ok" ng-click="ok()">{{vm.confirmName}}</span> <span class="eqc-btn white h34 cancel" ng-click="cancel()">{{vm.cancelName}}</span></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {
            require: "ngModel",
            template: '<div class="slider-con-left"></div><div class="slider-con-right"></div><div class="slider-con"><div class="slider-con-point"></div></div>',
            link: function (e, t, n, i) {
                var o = $(document);
                t.on("$destroy", function () {
                    t.unbind("mousedown")
                });
                var r = "string" == typeof n.min ? parseFloat(n.min) : -Number.MAX_VALUE,
                    a = "string" == typeof n.max ? parseFloat(n.max) : Number.MAX_VALUE,
                    s = "string" == typeof n.step ? parseFloat(n.step) : 1, c = a / 100,
                    l = "string" == typeof n.max ? parseFloat(n.fixed) : 1, p = "string" == typeof n.integer;
                i.$render = function () {
                    if ("n" === n.type) {
                        var e = parseFloat(t.css("width")) || 80,
                            o = parseFloat(t.find(".slider-con").css("width")) || 16;
                        t.find(".slider-con").css("left", (i.$viewValue || 0) / a * e - o / 2);
                        var r = t.find(".slider-con").css("left");
                        "-8px" == r ? t.find(".slider-con-point").css("display", "none") : t.find(".slider-con-point").css("display", "block"), t.find(".slider-con-left").css({
                            width: r,
                            "background-color": "#1593FF"
                        }), t.find(".slider-con-right").css("width", e - o / 2 - parseFloat(r) + "px")
                    } else t.find(".slider-con").css("width", 100 * (i.$viewValue || 0) / a + "%")
                }, "n" !== n.type && t.mousedown(function (t) {
                    t.stopPropagation();
                    var n, u = t.pageX, d = t.offsetX, m = function (t) {
                        t.stopPropagation(), n = t.pageX - u;
                        var o = (d + n) * c / s;
                        o = parseFloat(o.toFixed(l)), p && (o = Math.round(o)), o > a ? o = a : o < r && (o = r), i.$viewValue !== o && (i.$setViewValue(o), i.$render(), e.$apply())
                    }, f = function g() {
                        o.unbind("mouseup", g), o.unbind("mousemove", m)
                    };
                    o.mousemove(m), o.mouseup(f)
                }), "n" === n.type && t.on("mousedown", ".slider-con", function (n) {
                    n.stopPropagation();
                    var u, d = n.pageX,
                        m = $(this).offset().left - t.offset().left + parseFloat($(this).css("left") || 16) / 2,
                        f = function (t) {
                            t.stopPropagation(), u = t.pageX - d;
                            var n = (m + u) * c / s;
                            n = parseFloat(n.toFixed(l)), p && (n = Math.round(n)), n > a ? n = a : n < r && (n = r), i.$viewValue !== n && (i.$setViewValue(n), i.$render(), e.$apply())
                        }, g = function h() {
                            o.unbind("mouseup", h), o.unbind("mousemove", f)
                        };
                    o.mousemove(f), o.mouseup(g)
                }), "n" !== n.type && t.click(function (t) {
                    t.stopPropagation();
                    var n = Math.abs(t.offsetX * a / 100 / s).toFixed(l) * s;
                    p && (n = Math.round(n)), n > a ? n = Math.abs(a) : n < r && (n = Math.abs(r)), i.$setViewValue(n), i.$render(), e.$apply()
                }), e.$watch(n.ngModel, function (e) {
                    i.$setViewValue(e), i.$render()
                }, !0)
            }
        }
    }

    n(925), e.exports = angular.module("ui.slider", []).directive("uiSliderT", i).name
}, function (e, t) {
}, function (e, t) {
    "use strict";
    e.exports = angular.module("ui.uiSlider", []).directive("uiSlider", ["$timeout", function (e) {
        var t = {};
        return {
            require: "ngModel", compile: function () {
                return function (n, i, o, r) {
                    function a(e, t) {
                        return t ? parseFloat(e) : parseInt(e, 10)
                    }

                    function s() {
                        i.slider("destroy")
                    }

                    var c = angular.extend(n.$eval(o.uiSlider) || {}, t), l = {min: null, max: null},
                        p = ["min", "max", "step"], u = !angular.isUndefined(o.useDecimals), d = function () {
                            angular.isArray(r.$viewValue) && c.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."), c.range = !0), angular.forEach(p, function (e) {
                                angular.isDefined(o[e]) && (c[e] = a(o[e], u))
                            }), i.slider(c), d = angular.noop
                        };
                    angular.forEach(p, function (e) {
                        o.$observe(e, function (t) {
                            t && (d(), c[e] = a(t, u), i.slider("option", e, a(t, u)), r.$render())
                        })
                    }), o.$observe("disabled", function (e) {
                        d(), i.slider("option", "disabled", !!e)
                    }), n.$watch(o.uiSlider, function (e) {
                        d(), void 0 !== e && i.slider("option", e)
                    }, !0), e(d, 0, !0), i.bind("slide", function (e, t) {
                        r.$setViewValue(t.values || t.value), n.$apply()
                    }), r.$render = function () {
                        d();
                        var e = c.range === !0 ? "values" : "value";
                        c.range || !isNaN(r.$viewValue) || r.$viewValue instanceof Array ? c.range && !angular.isDefined(r.$viewValue) && (r.$viewValue = [0, 0]) : r.$viewValue = 0, c.range === !0 && (angular.isDefined(c.min) && c.min > r.$viewValue[0] && (r.$viewValue[0] = c.min), angular.isDefined(c.max) && c.max < r.$viewValue[1] && (r.$viewValue[1] = c.max), r.$viewValue[0] > r.$viewValue[1] && (l.min >= r.$viewValue[1] && (r.$viewValue[0] = l.min), l.max <= r.$viewValue[0] && (r.$viewValue[1] = l.max)), l.min = r.$viewValue[0], l.max = r.$viewValue[1]), i.slider(e, r.$viewValue)
                    }, n.$watch(o.ngModel, function () {
                        c.range === !0 && r.$render()
                    }, !0), i.bind("$destroy", s);
                    var m = $('<div class="ui-slider-progress-bar"></div>');
                    i.append(m);
                    var f = n.$watch(o.ngModel, function () {
                        setTimeout(function () {
                            m.css("width", $(".ui-slider-handle", i).css("left"))
                        })
                    }, !0);
                    i.bind("$destroy", function () {
                        f()
                    })
                }
            }
        }
    }]).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("ui.switch", []).directive("switchBtn", function () {
        return {
            require: "ngModel",
            restrict: "AE",
            template: '<div class="switch" ng-click="switch()"><div class="circle-con"><i class="circle"></i></div></div>',
            link: function (e, t, n, i) {
                var o = t.find(".switch");
                i.$render = function () {
                    o.toggleClass("switch-open", angular.equals(i.$modelValue, "enable")), o.toggleClass("switch-close", angular.equals(i.$modelValue, "disable"))
                }, o.bind("click", function () {
                    var t = o.hasClass("switch-open");
                    e.$apply(function () {
                        i.$setViewValue(t ? "disable" : "enable"), i.$render()
                    })
                })
            }
        }
    }).name
}, function (e, t, n) {
    "use strict";
    var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, o = n(929), r = n(930);
    e.exports = angular.module("ui.notify", []).directive("notificationFadeout", o).directive("eqxNotification", r).factory("notifications", function () {
        "ngInject";
        var e = [], t = {notifyList: e}, n = function (t) {
            if (!angular.isObject(t)) throw new Error("Only object can be added to the notification service");
            return e.push(t), t
        };
        return t.add = function (e) {
            return n(e)
        }, t.pushForCurrentRoute = function (e) {
            return n(e)
        }, t.remove = function (t) {
            var n = e.indexOf(t);
            n > -1 && e.splice(n, 1)
        }, t.removeAll = function () {
            e.length = 0
        }, t
    }).factory("notifier", ["notifications", function (e) {
        "ngInject";

        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "服务器异常";
            return "string" == typeof e ? e : "object" === ("undefined" == typeof e ? "undefined" : i(e)) && e.data && e.data.msg ? e.data.msg : e
        }

        return {
            success: function (n) {
                return e.add({
                    message: t(n), type: "success"
                })
            }, warn: function (n) {
                return e.add({message: t(n), type: "warn"})
            }, danger: function (n) {
                return e.add({message: t(n), type: "danger"})
            }, error: function (n) {
                return e.add({message: t(n), type: "danger"})
            }
        }
    }]).name
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            restrict: "EA", link: function (t, n) {
                n.fadeOut(4e3, function () {
                    e.remove(t.notify)
                })
            }
        }
    }

    n.$inject = ["notifications"], e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = n(931);
    n(932), e.exports = function () {
        return {
            restrict: "EA", template: i, controller: ["$scope", "$element", "notifications", function (e, t, n) {
                "ngInject";
                e.notifyList = n.notifyList, e.remove = function (e) {
                    n.remove(e)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="position:relative"><div class="notify-box" ng-if="notifyList.length"><div ng-repeat="notify in notifyList" ng-class="[\'notify-content\', \'notify-\' + notify.type]" notification-fadeout><button class="close" ng-click="remove(notify)">×</button> {{notify.message}}</div></div></div>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return ("0" + e).slice(-2)
    }

    var o = n(934);
    n(935), e.exports = angular.module("time2.directive", []).directive("datePicker", function () {
        "ngInject";

        function e(e, t, n, r) {
            function a(n) {
                var r = n.enableClear, a = n.startDate, p = n.format, u = n.singleDatePicker, d = n.drops,
                    m = n.timePicker, f = void 0 === m || m, g = n.timePicker24Hour, h = n.timePickerIncrement,
                    v = n.startDateDefault, y = void 0 === v ? o.nowTime() : v, b = !1;
                a || (b = !0, a = y);
                var x = {
                    singleDatePicker: u || !0,
                    timePicker: f,
                    timePicker24Hour: g || !0,
                    timePickerIncrement: h || 1,
                    startDate: new Date(a),
                    drops: d || "down",
                    linkedCalendars: !1,
                    locale: {
                        format: p || l,
                        applyLabel: "确定",
                        cancelLabel: "取消",
                        daysOfWeek: ["日", "一", "二", "三", "四", "五", "六"],
                        monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"]
                    }
                };
                r && (x.locale.cancelLabel = "清除"), e.loadDatePicker().then(function () {
                    if (t.daterangepicker) t.daterangepicker(x); else {
                        var e = x.startDate.getFullYear(), n = i(x.startDate.getMonth() + 1),
                            o = i(x.startDate.getDate()), a = i(x.startDate.getHours()),
                            l = i(x.startDate.getMinutes());
                        t.val(e + "-" + n + "-" + o + " " + a + ":" + l)
                    }
                    b && c(), r && t.on("cancel.daterangepicker", function (e, t) {
                        s()
                    })
                })
            }

            function s() {
                e.$apply(function () {
                    c()
                })
            }

            function c() {
                t.val(""), r.$setViewValue("")
            }

            var l = "YYYY-MM-DD HH:mm";
            e.$watchCollection("timeConfig", function (e) {
                a(e)
            }), t.on("$destroy", function () {
                t.data("daterangepicker") && t.data("daterangepicker").remove()
            })
        }

        return e.$inject = ["$scope", "$ele", "$attr", "ngModel"], {
            restrict: "A",
            require: "ngModel",
            scope: {timeConfig: "=datePicker"},
            controller: ["$scope", "delayLoadService", function (e, t) {
                e.loadDatePicker = t.datePicker
            }],
            link: e
        }
    }).name
}, function (e, t) {
    "use strict";

    function n() {
        var e = new Date;
        return e.setHours(23, 59, 59, 999), e
    }

    function i() {
        var e = new Date;
        return e.setHours(0, 0, 0, 0), e
    }

    function o() {
        return n().getTime()
    }

    function r() {
        return i().getTime()
    }

    function a() {
        return (new Date).getTime()
    }

    e.exports = {nowTime: a, endDateOfToday: n, startDateOfToday: i, endTimeOfToday: o, startTimeOfToday: r}
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.clickFarmerInPanel", []).directive("clickFarmerInPanel", ["userService", "modalService", "XDService", "sceneService", "materialAPI", "HOST", "notifier", "$q", "eqxNgPay", "payMessageType", "sceneMetaAPI", function (e, t, i, o, r, a, s, c, l, p, u) {
        "ngInject";
        return {
            restrict: "E", template: n(937), scope: {compJson: "="}, link: function (n) {
                function d() {
                    t.openConfirmDialog({
                        msg: "企业付费用户功能， 是否升级？",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(a.HOST + "site/privilege", "_blank")
                    })
                }

                function m(e) {
                    var t = e.sceneId, n = e.orderAppId, i = e.buyItem, o = e.description, r = e.orderTradeId,
                        s = e.signParam, d = e.functionName;
                    return l.payMulti({
                        orderAppId: n,
                        buyItems: [i],
                        returnUrl: "http://www.eqxiu.com/",
                        description: o,
                        signUrl: a.SERVER_0 + "m/scene/pay/order/sign",
                        orderTradeId: r,
                        jsonPros: JSON.stringify(s)
                    }).then(function (e) {
                        var n = e.value.msgType;
                        return "close" === n ? (console.log("用户关闭"), c.reject("用户关闭")) : n !== p.PAY_SUCCESS ? c.reject("支付失败") : u.polling(r, t, d)
                    })["catch"](function (e) {
                        return console.error(e), c.reject()
                    })
                }

                var f = n.compJson, g = e.getCurrentUser(), h = o.eqxScene;
                h.sceneJson.meta.property.clickFarmerStatus && h.sceneJson.meta.property.clickFarmerStatus > 0 ? n.clickFarmerStatus = h.sceneJson.meta.property.clickFarmerStatus : [3, 99].indexOf(g.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(g.memberType) > -1 ? n.clickFarmerStatus = 2 : n.clickFarmerStatus = null, f.properties.clickFarmer ? n.clickFarmer = f.properties.clickFarmer : n.clickFarmer = f.properties.clickFarmer = !1, n.timeSetting = [{
                    key: 30,
                    value: "30分钟"
                }, {key: 60, value: "1小时"}, {key: 360, value: "6小时"}, {key: 1440, value: "1天"}, {
                    key: 4320,
                    value: "3天"
                }, {key: 10080, value: "7天"}, {
                    key: 1e6,
                    value: "永久"
                }], f.properties.clickInterval = f.properties.clickInterval || 1440, n.convertClickFarmer = function () {
                    if (n.clickFarmer) n.clickFarmer = f.properties.clickFarmer = !1; else if (1 === g.type) d(); else {
                        var e = h.sceneJson.meta.id, t = {id: e, status: n.clickFarmerStatus || 1, elementId: f.id};
                        r.checkBuyFarmer(t).then(function (t) {
                            var i = t.data.map, o = i.isPaying, a = i.isPurchase, l = i.subXd, p = i.orderTradeId;
                            n.clickFarmerStatus = i.clickFarmerStatus || n.clickFarmerStatus;
                            var u = "preventResubmit";
                            if (o) {
                                var d = "有正在处理的请求; 请稍候再试";
                                return s(d), c.reject(d)
                            }
                            if (a) var g = r.saveClickFarmer(e, n.clickFarmerStatus || 1); else g = m({
                                orderAppId: 100004,
                                buyItem: {id: 1, name: "微信防刷单", price: l, type: 11},
                                description: "微信防刷单",
                                orderTradeId: p,
                                sceneId: e,
                                signParam: {sceneId: e, functionName: u},
                                functionName: u
                            });
                            return g.then(function (e) {
                                s.success("微信防刷单支付成功"), n.clickFarmer = f.properties.clickFarmer = !0
                            })
                        })["catch"](function (e) {
                            return s.error("微信防刷单设置失败"), c.reject(e)
                        })
                    }
                }, n.buyXd = i.buyXd
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-style="{true:{\'border\': \'none\'}}[clickFarmer]"><label>微信防刷</label><div class="fl switch" style="margin-top: 3px" ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click="convertClickFarmer()"><div class="circle-con"><i class="circle"></i></div></div><a class="bbs-help-tip-media hint--bottom hint--rounded hint--panel" data-hint="注：开启限制后，只能在微信环境下使用，可设置同一微信账号在30分钟、1小时、6小时、1天、3天、7天、永久7种时间间隔中使用。" style="margin: 0px 10px 0px 10px;line-height: 25px"><span class="eqf-why-f" style="color: #ff6e6e"></span></a><div style="display: inline-block;margin-left: 10px;line-height: 25px" ng-show="!clickFarmerStatus"><span>18秀点</span> <a ng-click="buyXd()" style="color:#a3afb7;padding-left:5px"><ins>充值</ins></a></div></div><div class="style_list_angel clearfix" style="border-bottom: 1px solid #ccd5db" ng-show="clickFarmer"><label>提交间隔</label><div class="clearfix"><select style="border:1px solid #ccc;height:20px;width:155px;margin-top: 3px" ng-model="compJson.properties.clickInterval" ng-options="item.key as item.value for item in timeSetting"></select></div></div>'
}, function (e, t, n) {
    "use strict";
    n(939), e.exports = angular.module("ui.checkbox", []).directive("uiCheckbox", function () {
        "ngInject";

        function e(e, t, n) {
            n.id && (t.find("input").attr("id", n.id), t.removeAttr("id"))
        }

        return {template: n(940), replace: !0, link: e, scope: {value: "=", allowed: "=", change: "&"}}
    }).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-input-checkbox" ng-class="{active: value}"><input type="checkbox" ng-model="value" ng-class="{inactive: allowed === false}" ng-disabled="allowed === false" ng-change="change()"/> <span class="box eqf-yes"></span></div>'
}, function (e, t, n) {
    "use strict";
    n(942), e.exports = angular.module("ui.radio", []).directive("uiRadio", function () {
        "ngInject";

        function e(e, t, n) {
            n.id && (t.find("input").attr("id", n.id), t.removeAttr("id"))
        }

        return {
            template: n(943),
            replace: !0,
            link: e,
            scope: {name: "@", value: "=", defaultValue: "@", allowed: "=", mode: "@"}
        }
    }).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-input-radio" ng-class="{active: value === defaultValue}"><input type="radio" name="{{name}}" value="{{defaultValue}}" ng-model="value" ng-class="{inactive: allowed === false}" ng-disabled="allowed === false"/> <span class="{{mode === \'2\' ? \'box eqf-yes\' : \'circle\'}}"></span></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.wordCount", []).directive("wordCount", function () {
        return {
            restrict: "E", replace: !0, template: n(945), scope: {words: "=", count: "="}, link: function (e, t) {
            }
        }
    }).name
}, function (e, t) {
    e.exports = "<span>{{words.length ? words.length : 0}}/{{count ? count : 12}}</span>"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.commitLimit", []).directive("commitLimit", ["sceneService", "sceneAPI", "$rootScope", function (e, t, i) {
        "ngInject";
        return {
            restrict: "E", scope: {compJson: "="}, template: n(947), link: function (e) {
                function n() {
                    t.commitTimeSetting(r.sceneId, r.pageId, r.id, r.type, a.commitTimes, a.commitFlag).then(function () {
                        r.properties.commitFlag = a.commitFlag, r.properties.commitTimes = a.commitTimes, i.$broadcast("savePage", function () {
                        })
                    })["catch"](function (e) {
                        alert(e.data.msg)
                    })
                }

                function o(e, t) {
                    clearTimeout(e.tId), e.tId = setTimeout(function () {
                        e()
                    }, t)
                }

                var r = e.compJson,
                    a = e.vm = {commitFlag: r.properties.commitFlag || !1, commitTimes: r.properties.commitTimes || 0};
                e.commitSetting = function () {
                    a.commitFlag = !a.commitFlag, o(n, 500)
                }, e.$watch("vm.commitTimes", function (e, t) {
                    e != t && o(n, 2e3)
                })
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label>提交限制</label><div class="fl switch" style="margin-top: 3px" ng-class="vm.commitFlag ? \'switch-open\' : \'switch-close\'" ng-click="commitSetting()"><div class="circle-con"><i class="circle"></i></div></div><a class="bbs-help-tip-media hint--bottom hint--rounded hint--panel" data-hint="开启限制后，最多只能提交100次—提交次数提示" style="margin: 0px 10px 0px 10px;line-height: 25px"><span class="eqf-why-f" style="color: #ff6e6e"></span></a></div><div class="style_list_angel line-height clearfix" style="border-bottom: 1px solid #ccd5db" ng-show="vm.commitFlag"><label style="width: 70px !important">总提交次数</label><div class="clearfix"><p class="num" style="float: right"><input limit-input type="number" step="1" min="1" max="100" style="padding-right: 0" ng-model="vm.commitTimes"/></p><div ui-slider-t class="slider" style="width: 80px" fixed="1" min="1" max="100" ng-model="vm.commitTimes"></div></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(949), o = n(950);
    e.exports = angular.module("common.filter", []).filter("validCharacterNum", function () {
        return i
    }).filter("qiniuZoom", o).filter("formatTime", n(951)).name
}, function (e, t) {
    "use strict";

    function n(e) {
        var t = 0;
        if (!e) return 0;
        for (var n = 0; n < e.length; n++) {
            var i = e.charCodeAt(n);
            i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++ : t += 2
        }
        return t
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        "ngInject";
        return n(165).qiniuZoom
    }
}, function (e, t) {
    "use strict";
    e.exports = function () {
        "ngInject";
        return function (e) {
            var t = "0" + Math.floor(e / 60), n = "0" + Math.round(e % 60);
            return t.slice(-2) + ":" + n.slice(-2)
        }
    }
}, function (e, t, n) {
    "use strict";
    var i = n(953), o = n(954), r = n(955), a = n(956), s = n(957), c = n(958), l = n(959), p = n(960), u = n(961),
        d = n(962), m = n(963), f = n(964);
    e.exports = angular.module("app.config", []).factory("loadingService", n(965)).config(i).config(r).config(s).config(a).config(d).config(m).config(["$httpProvider", function (e) {
        "ngInject";
        e.interceptors.push(p), e.interceptors.push(c), e.interceptors.push(l), e.interceptors.push(u)
    }]).run(o).run(["$rootScope", "HOST", function (e, t) {
        "ngInject";
        e.HOST = t, window.$rootScope = e
    }]).run(function () {
        "ngInject";
        var e = /\w+\.\w+$/.exec(location.hostname);
        if (e) {
            e = [0];
            var t = "/", n = 604800;
            f.setItem("_ver", window.__version, n, t, e)
        }
    }).name
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = t.HOST, i = n.length;
        "/" === n[i - 1] && (n = n.slice(0, i - 1)), e.setConfig({host: n})
    }

    n.$inject = ["eqxNgAuthProvider", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(e) {
            e = e || "/", window.location.href = e
        }

        function i() {
            o || (o = t.showAuth({type: "login"}).then(function () {
                e.retryAll()
            }, function () {
                e.cancelAll(), n()
            })["finally"](function () {
                o = null
            }), $("#loading").hide())
        }

        var o = null;
        e.onItemAddedCallbacks.push(function () {
            e.hasMore() && i()
        })
    }

    n.$inject = ["securityRetryQueue", "eqxNgAuth"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        t.html5Mode(!0), e.when("/support", {template: "<editor-support></editor-support>"}).when("/:sceneId", {
            reloadOnSearch: !1,
            template: "<editor-scene></editor-scene>",
            resolve: {
                user: ["userService", function (e) {
                    return e.getCurrentUserPromise()
                }], eqxScene: ["sceneService", "$route", "$q", "$location", "loadingService", function (e, t, n, i, o) {
                    function r() {
                        var e = navigator.userAgent;
                        return !window.sessionStorage || "false" !== sessionStorage.getItem("h5editor.needsSupport") && (!(document.documentMode >= 11) && !/chrome|safari/i.test(e))
                    }

                    var a = t.current.params.sceneId;
                    return a = parseInt(a), r() ? (window.sessionStorage.setItem("h5editor.sceneId", a), i.path("support"), n.reject("")) : e.initSceneMeta(a)["catch"](function (e) {
                        return o.hide(), n.reject(e)
                    })
                }]
            }
        }).otherwise({redirectTo: "/support"})
    }

    n.$inject = ["$routeProvider", "$locationProvider"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = t.$get(), i = "application/x-www-form-urlencoded";
        e.defaults.withCredentials = !0, e.defaults.headers.post["Content-Type"] = i, e.defaults.transformRequest.unshift(function (e, t) {
            return t("content-type") == i ? n(e) : e
        })
    }

    n.$inject = ["$httpProvider", "$httpParamSerializerProvider"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        e.httpOptions({_isTemplate: !0}), t.decorator("$templateCache", ["$delegate", function (e) {
            var t = e.get;
            return e.get = function (e) {
                var n;
                if (n = t(e), !n) throw new Error("Wrong Template URL " + e);
                return n
            }, e
        }])
    }

    n.$inject = ["$templateRequestProvider", "$provide"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            response: function (t) {
                if (t.config._isTemplate) return t;
                if (t.data.constructor === Object) {
                    var n = t.data;
                    if ("list" in n && (n.list = n.list || []), n.success === !1) return n.msg = n.msg || "无错误信息", n.code = n.code || 500, e.reject(t)
                }
                return t
            }, responseError: function (t) {
                return null === t.data && (t.data = {success: !1, code: 500, msg: "服务器未响应"}), e.reject(t)
            }
        }
    }

    n.$inject = ["$q"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o(t) {
            return n.pushRetryFn(function () {
                return e.get("$http")(t.config)
            }, "unauthorized-server")
        }

        return {
            response: function (e) {
                var t = e.data.code;
                return 1001 == t || 1002 == t ? o(e) : e
            }, responseError: function (e) {
                return 401 === e.status ? o(e) : (403 === e.status && (alert("对不起，您没有查看此内容的权限"), i.path("/home")), t.reject(e))
            }
        }
    }

    n.$inject = ["$injector", "$q", "securityRetryQueue", "$location"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(e) {
            e.loading && t.show()
        }

        function i(e) {
            e.config.loading && t.hide()
        }

        return {
            request: function (e) {
                return n(e), e
            }, responseError: function (t) {
                return i(t), e.reject(t)
            }, response: function (e) {
                return i(e), e
            }
        }
    }

    n.$inject = ["$q", "loadingService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n(e) {
            return JSON.parse(JSON.stringify(e))
        }

        function i(e) {
            var i = e.config.url;
            if (o(i) || r(i)) {
                var a = t.get("userService"), s = t.get("clientReportService"), c = n(a.getCurrentUser()),
                    l = n(e.config);
                delete l.withCredentials, delete l.headers, delete l.transformResponse, delete l.transformRequest;
                var p = {
                    type: "h5editor.sceneDataError",
                    priority: 10,
                    content: "编辑器场景数据异常",
                    ext: {user: c, ua: window.navigator.userAgent, href: window.location.href, httpReq: l}
                }, u = n(e.data);
                o(i) && u.list.forEach(function (e) {
                    delete e.elements
                }), p.ext.httpRes = u, s.add(p)
            }
        }

        var o = function (e) {
            return e.indexOf("m/scene/pages/") > -1
        }, r = function (e) {
            return e.indexOf("m/scene/detail/") > -1
        };
        return {
            response: function (e) {
                return i(e), e
            }, responseError: function (t) {
                return i(t), e.reject(t)
            }
        }
    }

    n.$inject = ["$q", "$injector"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = t.PAY_HOST, i = n.length;
        "/" === n[i - 1] && (n = n.slice(0, i - 1)), e.setConfig({host: n})
    }

    n.$inject = ["eqxNgPayProvider", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = t.HOST, i = n.length;
        "/" === n[i - 1] && (n = n.slice(0, i - 1)), e.setConfig({host: n})
    }

    n.$inject = ["eqxNgMaterialProvider", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";
    var n = {
        getItem: function (e) {
            return e ? decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(e).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null : null
        }, setItem: function (e, t, n, i, o, r) {
            if (!e || /^(?:expires|max\-age|path|domain|secure)$/i.test(e)) return !1;
            var a = "";
            if (n) switch (n.constructor) {
                case Number:
                    a = n === 1 / 0 ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT" : "; max-age=" + n;
                    break;
                case String:
                    a = "; expires=" + n;
                    break;
                case Date:
                    a = "; expires=" + n.toUTCString()
            }
            return document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + a + (o ? "; domain=" + o : "") + (i ? "; path=" + i : "") + (r ? "; secure" : ""), !0
        }, removeItem: function (e, t, n) {
            return !!this.hasItem(e) && (document.cookie = encodeURIComponent(e) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT" + (n ? "; domain=" + n : "") + (t ? "; path=" + t : ""), !0)
        }, hasItem: function (e) {
            return !!e && new RegExp("(?:^|;\\s*)" + encodeURIComponent(e).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(document.cookie)
        }, keys: function () {
            for (var e = document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g, "").split(/\s*(?:\=[^;]*)?;\s*/), t = e.length, n = 0; n < t; n++) e[n] = decodeURIComponent(e[n]);
            return e
        }
    };
    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";

        function e() {
            $("#loading").show(), n++
        }

        function t() {
            n--, n || $("#loading").hide()
        }

        var n = 1;
        return {show: e, hide: t}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    n(967);
    var i = [n(968), n(1195), n(1706), n(1946), n(2007), n(2017), n(2078), n(2087), n(2141), n(2145)];
    e.exports = angular.module("app.scene", i).directive("editorScene", ["loadingService", "$timeout", "authorityService", "sceneService", "$route", "$rootScope", "$location", "$q", function (e, t, i, o, r, a, s, c) {
        "ngInject";
        return {
            restrict: "EA", template: n(2154), link: function () {
                t(function () {
                    function n() {
                        var e = r.current.params, t = e.sceneId, n = e.i;
                        return o.initScene(parseInt(t), parseInt(n) || 1)
                    }

                    c.all([n()]).then(function () {
                        a.$broadcast("eqxScene.ready"), t(function () {
                            e.hide()
                        }, 500)
                    })
                })
            }
        }
    }]).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.workspace", [n(969), n(973), n(1049), n(1057), n(1062), n(1070), n(1089), n(1095), n(1099), n(1109), n(1117), n(1121), n(1125), n(1130)]).factory("compService", n(1137)).factory("disableService", n(1138)).factory("selectService", n(1139)).factory("wsHelper", n(1140)).factory("copyService", n(1141)).factory("copyAnimService", n(1142)).factory("copyTriggerService", n(1143)).factory("workspaceService", n(1144)).factory("warnService", n(1145)).factory("zoomService", n(1146)).factory("pipService", n(1147)).factory("funTemplateService", n(1148)).factory("operateLayer", n(1149)).directive("operateLayer", n(1162)).directive("eqxWorkspace", n(1164)).directive("eqxWsScroll", n(1173)).directive("panelDraggable", n(1174)).directive("eqxKeymap", n(1175)).directive("eqxWsPhone", n(1176)).directive("disableContextMenu", n(1181)).directive("eqxThumbnail", n(1182)).directive("eqxSettingTpl", n(1185)).directive("eqxToolPreview", n(1188)).directive("jointDirective", n(1192)).directive("limitInput", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                var o = parseFloat(n.max), r = parseFloat(n.min);
                isNaN(o) || isNaN(r) || o <= r || e.$watch(function () {
                    return $(t).val()
                }, function (e) {
                    if (!isNaN(parseFloat(e))) {
                        var t = Number(e);
                        t > o ? (i.$setViewValue(o), i.$render()) : t < r ? (i.$setViewValue(r), i.$render()) : (i.$setViewValue(t), i.$render())
                    }
                })
            }
        }
    }).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.compSetting", []).directive("eqxCompSetting", n(970)).name
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, r) {
        "ngInject";
        return {
            restrict: "AE",
            scope: {},
            template: n(972),
            link: function (n, i) {
                function o() {
                    var t = e.getItem("compSettingCss") || {top: 100, left: 180};
                    t.top < 61 && (t.top = 61), t.left < 0 && (t.left = 0), i.css(t)
                }

                o(), n.accessStyleTrigger = t.permission("styleTrigger"), n.newAnimSetting = t.permission("newAnimSetting"), n.newPageManageUi = t.permission("newPageAndCompManage"), n.updatePosition = function () {
                    var t = parseFloat(i.css("top") || 100), n = parseFloat(i.css("left") || 180);
                    e.setItem("compSettingCss", {top: t, left: n})
                }
            },
            controller: ["$rootScope", "selectService", "flagService", "$scope", "authorityService", function (t, n, i, a, s) {
                function c() {
                    if (!f) {
                        if (1 !== n.comps.length) m.comp = null; else {
                            var e = n.comps[0], t = e.findTopGroup();
                            t && t.isFunTemplate() ? m.comp = null : e !== m.comp && r(function () {
                                m.comp = e, m.show = !0, a.setTab(o)
                            })
                        }
                        u()
                    }
                }

                function l(e) {
                    t.$broadcast("compStyle.save", e || m.comp)
                }

                function p() {
                    u(), m.comp = null
                }

                function u() {
                    a.updatePosition && a.updatePosition()
                }

                var d = a.TAB = {style: 1, anim: 2, trigger: 3}, m = a.vm = {
                    tab: o, show: !0, color: "#FFFFFF", comp: null, count: 1, get compSettingShow() {
                        return i.workspace.compSettingShow
                    }
                };
                a.themeSkin = e.getItem("themeSkin") || "white", a.setTab = function (e) {
                    if (m.comp) {
                        var t = m.comp.$ability;
                        (!t.anim && e === d.anim || !t.trigger.self && e === d.trigger) && (e = d.style)
                    }
                    m.show || (m.show = !0), m.tab = e, o = e
                }, a.showCompSetting = function () {
                    var e = !!m.comp && m.comp.$ability.style.self && m.show && 0 === n.groups.length;
                    return e
                }, a.safeApply = function (e) {
                    var t = this.$root.$$phase;
                    "$apply" === t || "$digest" == t ? e && "function" == typeof e && e() : this.$apply(e)
                }, c(), a.cancel = function () {
                    m.show = !1
                }, a.close = function () {
                    i.workspace.compSettingShow = !1, i.workspace.layerBgSetting = !1, t.$broadcast("selectBox.end")
                }, a.confirm = function () {
                    m.show = !1
                }, a.$watch("vm.comp", function (e, t) {
                    t && !e && l(t)
                }), a.$watch("vm.show", function (e, t) {
                    t && !e && l()
                });
                var f = !1;
                a.$on("replacePage", c), a.$on("selectService.add", c), a.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.includes(m.comp) && p()
                }), a.$on("selectBox.end", function () {
                    f = !1, c()
                }), a.$on("selectBox.start", function () {
                    f = !0
                }), a.$on("contextMenu.style", function () {
                    return a.setTab(d.style)
                }), a.$on("contextMenu.anim", function () {
                    return a.setTab(d.anim)
                }), a.$on("contextMenu.trigger", function () {
                    return a.setTab(d.trigger)
                }), a.$on("closeCompSetting", function (e, t) {
                    t && m.comp && t == m.comp && p()
                }), a.$on("change.theme", function (e, t) {
                    t && (a.themeSkin = t)
                })
            }]
        }
    }

    i.$inject = ["storageService", "authorityService", "selectService", "$timeout"], n(971);
    var o = 1;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-workspace comp-setting-workspace2" ng-class="{\'theme-black\' : themeSkin == \'black\'}" panel-draggable=".cancel" ng-show="showCompSetting()"><div class="cancel"><span class="set-title">组件设置</span> <span class="set-close eqf-no" ng-click="cancel()"></span> <span class="fr hint--bottom hint--rounded" data-hint="点击收起组件属性面板" ng-click="close()"><em class="eqf-arrow-bigger"></em></span></div><ul class="nav nav-tabs"><li ng-class="{active: vm.tab == TAB.style}" ng-click="setTab(TAB.style)">样式</li><li ng-class="{active: vm.tab == TAB.anim}" ng-if="vm.comp.$ability.anim" ng-click="setTab(TAB.anim);">动画</li><li ng-class="{active: vm.tab == TAB.trigger}" ng-if="vm.comp.$ability.trigger.self && !accessStyleTrigger" ng-click="setTab(TAB.trigger)">触发</li></ul><div class="style_content manager-comp-setting" style="height: calc(100% - 85px)" ng-if="vm.comp"><comp-setting-style ng-if="vm.tab == TAB.style" eqx-comp="vm.comp"></comp-setting-style><comp-setting-anim ng-if="vm.tab == TAB.anim && !newAnimSetting" eqx-comp="vm.comp"></comp-setting-anim><comp-setting-anim2 ng-if="vm.tab == TAB.anim && newAnimSetting" eqx-comp="vm.comp"></comp-setting-anim2><comp-trigger2 ng-if="vm.tab == TAB.trigger && vm.compSettingShow" eqx-comp="vm.comp"></comp-trigger2><eqd-drop-down></eqd-drop-down></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.groupSetting", [n(974), n(978), n(1022), n(1032), n(1037)]).directive("eqxGroupSetting", n(1041)).directive("eqxUseFunTpl", n(1046)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.style", []).directive("groupSettingStyle", n(975)).name
}, function (e, t, n) {
    "use strict";
    n(976), e.exports = function () {
        return {restrict: "EA", replace: !1, scope: {ftRules: "="}, template: n(977)}
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="style-setting" eqd-scroll disable-mouse="true" prevent-exception="true"><div><ul><settings-color ng-if="ftRule.type === \'color\'" ft-rule="ftRule" ng-repeat-start="ftRule in ftRules"></settings-color><settings-image ng-if="ftRule.type === \'image\'" ft-rule="ftRule"></settings-image><settings-text ng-if="ftRule.type === \'content\'" ft-rule="ftRule"></settings-text><settings-link ng-if="ftRule.type === \'link\'" ft-rule="ftRule"></settings-link><settings-sound ng-if="ftRule.type === \'sound\'" ft-rule="ftRule"></settings-sound><settings-time ng-if="ftRule.type === \'time\'" ft-rule="ftRule"></settings-time><settings-internal-link ng-if="ftRule.type === \'internalLink\'" ft-rule="ftRule"></settings-internal-link><settings-telephone ng-if="ftRule.type === \'telephone\'" ft-rule="ftRule"></settings-telephone><settings-input ng-if="ftRule.type === \'input\'" ft-rule="ftRule"></settings-input><settings-video ng-if="ftRule.type === \'video\'" ft-rule="ftRule"></settings-video><settings-random ng-if="(ftRule.type === \'tRandom\' || ftRule.type === \'iRandom\')" ft-rule="ftRule"></settings-random><settings-code ng-if="ftRule.type === \'code\'" ft-rule="ftRule"></settings-code><settings-group ng-if="ftRule.type == \'addGroup\' || ftRule.type == \'deleteGroup\' || ftRule.type === \'moveGroup\'" ft-rule="ftRule" ng-repeat-end></settings-group></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.settings", [n(979), n(980)]).directive("ruleName", n(981)).directive("settingsImage", n(983)).directive("settingsColor", n(987)).directive("settingsText", n(990)).directive("settingsLink", n(993)).directive("settingsTelephone", n(996)).directive("settingsSound", n(999)).directive("settingsTime", n(1002)).directive("settingsInternalLink", n(1005)).directive("settingsInput", n(1007)).directive("settingsVideo", n(1010)).directive("settingsGroup", n(1013)).directive("settingsRandom", n(1015)).directive("settingsCode", n(1018)).directive("textFormat", n(1021)).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("eqx.directive.contentEditable", []).directive("contentEditable", ["$rootScope", "$timeout", "authorityService", function (e, t, n) {
        "ngInject";

        function i(i, o, r, a) {
            var s = n.assignDesignerAuthority("groupTemplateEditor"), c = n.functionEditor(), l = i.ftRule;
            o.text(i.ftRule.name), r.$set("contenteditable", !1), a.render = function (e) {
                o.text(e)
            }, a.$setViewValue(o.text()), o.bind("dblclick", function () {
                (s || c) && (r.contenteditable || (r.$set("contenteditable", !0), o[0].focus()))
            }), o.bind("click", function () {
                if ((s || c) && !r.contenteditable) {
                    if (i.clicked) return void(i.cancelClick = !0);
                    i.clicked = !0, t(function () {
                        return i.cancelClick ? (i.cancelClick = !1, void(i.clicked = !1)) : (e.$broadcast("groupProperty", l), i.cancelClick = !1, void(i.clicked = !1))
                    }, 200)
                }
            }), o.bind("blur", function () {
                r.$set("contenteditable", !1), i.$apply(function () {
                    a.$setViewValue(o.text())
                })
            }), o.bind("keydown", function (e) {
                var t = 27 === e.which, n = 13 === e.which;
                (t || n) && (e.preventDefault(), o[0].blur())
            })
        }

        return {restrict: "A", require: "ngModel", link: i}
    }]).name
}, function (e, t) {
    "use strict";
    e.exports = angular.module("eqx.directive.compHoverMark", []).directive("compHoverMark", ["authorityService", "selectService", function (e, t) {
        "ngInject";
        return {
            restrict: "EA", scope: {ftRuleData: "=", compRuleData: "="}, link: function (n, i) {
                var o = n.ftRuleData, r = n.compRuleData;
                if (e.functionEditor()) r ? r.$li && i.hover(function () {
                    var e = $('<div class="hover-element-flash"><div class="red-border" style="background-color:rgba(0,0,0,.5);"></div></div>');
                    r.$li.append(e)
                }, function () {
                    $(".hover-element-flash").remove()
                }) : i.hover(function () {
                    o.forEach(function (e) {
                        var t = $('<div class="hover-element-flash"><div class="red-border" style="background-color:rgba(0,0,0,.5);"></div></div>');
                        e.eqxItem.$li.append(t)
                    })
                }, function () {
                    $(".hover-element-flash").remove()
                }); else {
                    var a = [], s = t.groups[0], c = s ? s.zIndex : 0;
                    i.hover(function () {
                        o.forEach(function (e) {
                            var t = e.eqxItem.$li.css("z-index");
                            a.push(t), e.eqxItem.$li.css({
                                animation: "fadeIn 1s ease 0s 1 normal both",
                                "box-shadow": "0 0 16px rgba(21,147,255,1)",
                                border: "solid 1px #1593ff",
                                "z-index": c + t
                            })
                        })
                    }, function () {
                        o.forEach(function (e, t) {
                            e.eqxItem.$li.css({
                                animation: "none",
                                "box-shadow": "none",
                                border: "none",
                                "z-index": a[t]
                            })
                        })
                    })
                }
            }
        }
    }]).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(982), scope: {ftRule: "="}, controller: ["$scope", function (e) {
                "ngInject"
            }], link: function (e, t) {
                e.onFocus = function () {
                    document.execCommand("selectAll", !1, null)
                }, e.onBlur = function (t) {
                    var n = $(t.target).text(), i = e.ftRule;
                    n && (n = n.substr(0, 20)), i.calName(n), $(t.target).text(i.name)
                }
            }
        }
    }
}, function (e, t) {
    e.exports = '<div class="setting-title clearfix"><div class="setting-name" content-editable ng-model="ftRule.name" ng-change="onChange($event)" ng-focus="onFocus($event)" ng-blur="onBlur($event)">{{ftRule.name}}</div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    n(984);
    var o = n(985).FILE;
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(986),
            controller: ["$scope", "$rootScope", "imageModalFactory", "imageEditService", function (e, t, n, r) {
                "ngInject";

                function a(e) {
                    c.value = e, p.src = "url(" + (o + e) + ")"
                }

                function s(e) {
                    var n = e.src || e.path, o = [{src: n, originSrc: n, cropSize: void 0}, e.shape],
                        r = c.apply.apply(c, o);
                    t.$broadcast.apply(t, ["wsComp.add"].concat(i(r))), a(e.src || e.path)
                }

                var c = e.ftRule, l = "" === c.value ? "" : "url(" + (o + c.value) + ")", p = e.vm = {src: l};
                e.edit = function () {
                    n.getImage().then(function (e) {
                        s(e)
                    })
                }, e.crop = function () {
                    var e = c.ftTerms[0].eqxItem;
                    r._crop(e.compJson).then(function (e) {
                        c.apply(e.properties);
                        var t = e.properties.src;
                        a(t)
                    })
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        return e && e.startsWith("//") ? r + e : e
    }

    var o = n(115), r = window.location.protocol;
    "file:" === r && (r = "http:"), Object.keys(o).forEach(function (e) {
        var t = o[e];
        "string" == typeof t && (o[e] = i(t)), Array.isArray(e) && t.forEach(function (e, n) {
            "string" == typeof e && (t[n] = i(e))
        })
    });
    var a = o.HOST, s = o.EQX, c = o.WAP_HOST, l = o.SERVER_0, p = o.SERVER_0_VIP, u = o.SERVER_1, d = o.SERVER_2,
        m = o.FLOW_SERVER, f = o.WAP_SERVER, g = o.PAY_HOST, h = o.MALL_HOST, v = o.QUERY_SERVER, y = o.BIG_DATA,
        b = o.FILE, x = o.MALL_BUY_ID, w = o.MALL_PIC_ID, S = o.MALL_MUSIC_ID, k = o.MALL_SOUND_ID, T = o.MALL_FONT_ID,
        C = o.VIDEO;
    if (!(a && l && p && u && d && m && g && h && v && b && x && w && S && k && T)) throw new Error("lack of some HOST url");
    var I = {
        QQMap: "//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",
        moment: "//lib.eqh5.com/moment.js/2.15.2/moment.min.js",
        datePickerCss: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",
        datePicker: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",
        imgJcropJs: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",
        imgJcropCss: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",
        plupload: "//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",
        qiniu: "//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",
        canvg: "//lib.eqh5.com/canvg/0.0.1/canvg.min.js",
        html2canvas: "//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js"
    }, $ = {
        HOST: a,
        EQX: s,
        WAP_HOST: c,
        SERVER_0: l,
        SERVER_0_VIP: p,
        SERVER_1: u,
        SERVER_2: d,
        FLOW_SERVER: m,
        WAP_SERVER: f,
        PAY_HOST: g,
        MALL_HOST: h,
        QUERY_SERVER: v,
        BIG_DATA: y,
        FILE: b,
        MALL_BUY_ID: x,
        MALL_PIC_ID: w,
        MALL_MUSIC_ID: S,
        MALL_SOUND_ID: k,
        MALL_FONT_ID: T,
        PATH: I,
        VIDEO: C
    };
    e.exports = $
}, function (e, t) {
    e.exports = '<li class="group-setting-image clearfix" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="image-preview" ng-style="{backgroundImage: vm.src}"></div><div class="image-btn"><div class="change-img" ng-click="edit()"><em class="eqf-refresh-ccw"></em> 更换图片</div><div class="clip-img" ng-click="crop()"><em class="eqf-cutpic"></em> 裁切图片</div></div></li>'
}, function (e, t, n) {
    "use strict";
    n(988), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(989),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(t) {
                    e.ftRule.apply(t)
                }

                e.$watch("ftRule.value", function (e, n) {
                    e && e !== n && t(e)
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-color" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><eqd-input-color select-color="ftRule.value" direction="left" theme="flo_lef" notify="grid" x="-1" w="196" h="24" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></li>'
}, function (e, t, n) {
    "use strict";
    n(991), e.exports = function () {
        return {
            restrict: "EA", replace: !1, scope: {ftRule: "="}, template: n(992),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    n.apply(e)
                }

                var n = e.ftRule;
                e.$watch("ftRule.value", function (e, n) {
                    e && e !== n && t(e)
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-text" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><textarea rows="3" placeholder="请输入文本" ng-model="ftRule.value" ng-trim="false" text-format></textarea></li>'
}, function (e, t, n) {
    "use strict";
    n(994), e.exports = function () {
        return {
            restrict: "AE",
            replace: !1,
            scope: {ftRule: "="},
            template: n(995),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    n.apply(e)
                }

                var n = e.ftRule;
                e.$watch("ftRule.value", function (e, n) {
                    e && e !== n && t(e)
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-link" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><textarea placeholder="http://" rows="3" ng-model="ftRule.value" ng-trim="false" text-format></textarea><div class="short-link"><a href="http://dwz.cn/" target="_blank">生成短链接</a></div></li>'
}, function (e, t, n) {
    "use strict";
    n(997), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(998),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    n.apply(e)
                }

                var n = e.ftRule;
                e.$watch("ftRule.value", function (e, n) {
                    e && e !== n && t(e)
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-telephone clearfix" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="color_select"><input class="flo_right num-content" ng-model="ftRule.value" maxlength="20" type="text" placeholder="010-88888888"/> <span str="inputJson.title" class="strlen">{{ftRule.value.length}}/20</span></div></li>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    n(1e3), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1001),
            controller: ["$rootScope", "$scope", "authorityService", "sceneService", "musicModal", function (e, t, n, o, r) {
                "ngInject";

                function a(t) {
                    var n = s.apply(t);
                    e.$broadcast.apply(e, ["wsComp.add"].concat(i(n)))
                }

                var s = t.ftRule;
                t.openSoundModal = function () {
                    r.open(s.value, 4).then(function (e) {
                        var t = {id: e.id, name: e.name, src: e.path};
                        a(t)
                    })
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-sound" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="choose-sound-file clearfix"><span class="sound-name" ng-click="openSoundModal()" ng-if="ftRule.value.name">{{ftRule.value.name}}</span> <a class="add-btn" ng-click="openSoundModal()"><em class="eqf-plus" ng-if="!ftRule.value.name"></em> <em class="eqf-refresh-ccw" ng-if="ftRule.value.name"></em> 更换音效</a></div></li>'
}, function (e, t, n) {
    "use strict";
    n(1003);
    var i = n(934);
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1004),
            controller: ["$rootScope", "$scope", "authorityService", "sceneService", "$timeout", function (e, t, n, o, r) {
                "ngInject";

                function a(e) {
                    s.apply(e)
                }

                var s = t.ftRule;
                t.timeConfig = {startDate: parseInt(s.value) || i.nowTime()}, t.$watch("vm.time", function (e, t) {
                    e && t && a(e)
                }), Date.prototype.Format = function (e) {
                    var t = {
                        "M+": this.getMonth() + 1,
                        "d+": this.getDate(),
                        "h+": this.getHours(),
                        "m+": this.getMinutes(),
                        "s+": this.getSeconds(),
                        "q+": Math.floor((this.getMonth() + 3) / 3),
                        S: this.getMilliseconds()
                    };
                    /(y+)/.test(e) && (e = e.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
                    for (var n in t) new RegExp("(" + n + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? t[n] : ("00" + t[n]).substr(("" + t[n]).length)));
                    return e
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-time clearfix" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="time-select clearfix"><div class="form-input" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" name="daterange" ng-model="vm.time" class="btn-name count-date" type="text" ng-readonly="true"/> <i class="eqf-calendar-l"></i></div></div></li>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1006),
            controller: ["$scope", "authorityService", "sceneService", function (e, t, n) {
                "ngInject";

                function i(e) {
                    o.value = e, o.apply(e)
                }

                var o = e.ftRule, r = n.eqxScene;
                e.vm = {pageNum: o.value || ""}, e.pageList = r.eqxPageList.map(function (e) {
                    return e.pageJson
                }), e.selectPageNum = function (e) {
                    i(e)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<li class="group-setting-internalLink" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="page-select clearfix"><div class="i_link clearfix"><select ng-model="vm.pageNum" ng-options="page.id as (page.name || \'第\' + page.num + \'页\') for page in pageList" ng-change="selectPageNum(vm.pageNum)" style="width: 220px"><option value="">选择场景页面</option></select></div></div></li>'
}, function (e, t, n) {
    "use strict";
    n(1008), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1009),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    n.value = e, n.apply(e)
                }

                var n = e.ftRule;
                e.inputJson = {type: n.value || ""}, e.inputTypes = [{value: "501", name: "姓名"}, {
                    value: "502",
                    name: "电话"
                }, {value: "503", name: "邮箱"}, {value: "504", name: "文本"}], e.changeInputType = function (e) {
                    t(e)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-input" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="type-select clearfix"><select class="flo_right" ng-model="inputJson.type" style="width:220px;border:1px solid #ccd5db" ng-change="changeInputType(inputJson.type)" ng-options="type.value as type.name for type in inputTypes"><option value="">选择输入框类型</option></select></div></li>'
}, function (e, t, n) {
    "use strict";
    n(1011), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1012),
            controller: ["$scope", "authorityService", "sceneService", "fileAPI", "HOST", function (e, t, n, i, o) {
                "ngInject";

                function r(e) {
                    a.apply(e)
                }

                var a = e.ftRule, s = a.value ? "更换视屏" : "添加视屏", c = e.vm = {
                    uploadOptions: {
                        tokenType: "video",
                        extensions: "mp4",
                        maxFileSize: 5,
                        uploadBtn: "group-upload-video",
                        uploadCon: "group-setting-video",
                        maxCount: 1,
                        uploadTips: s,
                        msg: "",
                        success: function (e) {
                            i.videoCodec(e.path).then(function (e) {
                                return c.uploadOptions.uploadTips = "视频转码中...", i.pollingStatus(e.data.obj)
                            }).then(function (t) {
                                var n = Object.assign({}, e, {fileType: 5, bizType: 0, tagId: 0});
                                n.path = t, i.saveFileInfo(n);
                                var a = o.VIDEO + n.path;
                                r(a), c.uploadOptions.uploadTips = "更换视屏"
                            }, function () {
                                c.uploadOptions.uploadTips = "上传失败"
                            })
                        }
                    }
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-video" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div class="upload_video clearfix" id="group-setting-video"><a class="flo_right" id="group-upload-video" eqx-upload="vm.uploadOptions"><em class="eqf-plus" ng-if="vm.uploadOptions.uploadTips == \'添加视频\'"></em> <em class="eqf-refresh-ccw" ng-if="vm.uploadOptions.uploadTips == \'更换视频\'"></em> {{vm.uploadOptions.uploadTips}}</a></div></li>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1014),
            controller: ["$scope", function (e) {
                "ngInject";
                var t = e.ftRule;
                e.vm = {number: t.value || 10}, e.verifyNumber = function (n) {
                    isNaN(n) ? n = 0 : "" == n ? n = 0 : n > 100 && (n = 100), t.value = e.vm.number = n
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<li class="group-setting-group" style="border: 0;display: none"><rule-name ft-rule="ftRule"></rule-name><div class="setting-title group-operate clearfix"><label>组合间隔</label><input type="text" class="num" ng-model="vm.number" ng-blur="verifyNumber(vm.number)"></div></li>'
}, function (e, t, n) {
    "use strict";
    n(1016), e.exports = function () {
        return {
            restrict: "EA",
            scope: {ftRule: "="},
            template: n(1017),
            controller: ["$scope", "authorityService", "sceneService", "randomContentFactory", "imageModalFactory", "HOST", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    s.apply(e)
                }

                e.FILE = r.FILE;
                var s = e.ftRule, c = s.value = s.value || [], l = s.type;
                if (!c.length) if ("tRandom" === l) c[0] = "请输入文本"; else {
                    var p = i.getImgJson();
                    c[0] = p.properties.imgs[0]
                }
                e.addTextItem = function (e) {
                    c.splice(e + 1, 0, "请输入文本")
                }, e.rmTextItem = function (e) {
                    c.length > 1 && c.splice(e, 1)
                }, e.textareaKeyUp = function (e, t) {
                    e ? c[t] = e.replace(/(\n|\r)/g, "<br>") : (c[t] = "", c[t] = "")
                }, e.addImgItem = function () {
                    o.getImage().then(function (e) {
                        var t = e.src || e.path, n = e.shape,
                            i = {src: t, originSrc: t, cropSize: void 0, width: n.width, height: n.height};
                        c.unshift(i)
                    })
                }, e.rmImgItem = function (e) {
                    c.length > 1 && c.splice(e, 1)
                }, e.$watch("ftRule.value", function (e, t) {
                    e && e !== t && a(e)
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-random" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><div ng-if="ftRule.type === \'tRandom\'"><div class="clearfix random-item" ng-repeat="text in ftRule.value track by $index"><textarea rows="1" placeholder="请输入文本" ng-model="text" ng-keyup="textareaKeyUp(text, $index)" style="float: left; width: 208px"></textarea><div class="op"><span class="add" ng-click="addTextItem($index)"><i class="eqf-plus-l"></i> </span><span class="rm" ng-click="rmTextItem($index)"><i class="eqf-minus-l"></i></span></div></div></div><div ng-if="ftRule.type === \'iRandom\'"><ul class="random-images"><li class="add-btn" ng-click="addImgItem()"><i class="eqf-plus"></i></li><li ng-repeat="img in ftRule.value track by $index" ng-mouseover="isItemHovered = true;" ng-mouseleave="isItemHovered = false;" ng-class="{\'right\': ($index + 2) % 3 === 0}" ng-style="{\n                \'background-image\': \'url(\' + FILE + img.src + \')\',\n                \'background-position\': \'center\',\n                \'background-size\': \'contain\',\n                \'background-repeat\': \'no-repeat\'\n                }"><div class="rm-btn" ng-show="isItemHovered" ng-click="rmImgItem($index)"><i class="eqf-minus-l"></i></div></li></ul></div></li>'
}, function (e, t, n) {
    "use strict";
    n(1019), e.exports = function () {
        return {
            restrict: "EA",
            replace: !1,
            scope: {ftRule: "="},
            template: n(1020),
            controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    n.apply(e)
                }

                var n = e.ftRule;
                e.$watch("ftRule.value", function (e, n) {
                    e && e !== n && t(e)
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<li class="group-setting-code" comp-hover-mark ft-rule-data="ftRule.ftTerms"><rule-name ft-rule="ftRule"></rule-name><textarea placeholder="请输入代码" rows="5" ng-model="ftRule.value" ng-trim="false" text-format>\n    </textarea></li>'
}, function (e, t) {
    "use strict";
    e.exports = function () {
        function e(e, t, n, i) {
            function o(e) {
                return e ? e.replace(/(\n|\r)/g, "<br>") : ""
            }

            function r(e) {
                return e ? e.replace(/<br>/g, "\n") : ""
            }

            i.$parsers.push(o), i.$formatters.push(r)
        }

        return {require: "ngModel", link: e}
    }
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.elementsSetting", [n(1023), n(1026)]).directive("editableProps", n(1029)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.elementsSetting.group", []).directive("elementsSettingGroup", n(1024)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "E",
            scope: {group: "=", toggleProp: "=", toggleAllProps: "="},
            replace: !1,
            template: n(1025),
            controller: function () {
                "ngInject"
            }
        }
    }
}, function (e, t) {
    e.exports = '<div class="elements-setting-group"><div class="group-name"><input type="checkbox" ng-model="group.ft.selectAll" ng-click="toggleAllProps(group)"><div class="items-collapse" ng-init="collapse=false" ng-click="$event.stopPropagation();collapse=!collapse"><span class="caret" ng-class="{\n              \'on\': !collapse,\n              \'off\': collapse}"></span></div><span class="icon"><i class="eqf-file-f" style="color: #FFB243"></i></span><div class="name" ng-click="group.ft.hide = !group.ft.hide" ng-bind="group.getName()"></div><div class="attrs-collapse"><em class="eqf-down" ng-class="{\n                \'on\': !group.ft.hide,\n                \'off\': group.ft.hide}"></em></div></div><ul class="editable-attrs" ng-class="{\n        \'hide\':group.ft.hide,\n        \'show\': !group.ft.hide}"><li ng-repeat="prop in group.ft.props"><input type="checkbox" ng-model="prop.select" ng-click="toggleProp(group, prop)"> <span ng-bind="prop.name"></span></li></ul><div class="elements-setting-item" ng-repeat="item in group.eqxItems track by item.id" ng-class="{\n         \'hide\': collapse,\n         \'show\': !collapse}"><elements-setting-comp ng-if="!item.isGroupItem()" comp="item" toggle-prop="toggleProp" toggle-all-props="toggleAllProps"></elements-setting-comp><elements-setting-group ng-if="item.isGroupItem()" group="item" toggle-prop="toggleProp" toggle-all-props="toggleAllProps"></elements-setting-group></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.elementsSetting.comp", []).directive("elementsSettingComp", n(1027)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "E",
            scope: {comp: "=", toggleProp: "=", toggleAllProps: "="},
            replace: !1,
            template: n(1028),
            controller: ["$scope", function (e) {
                "ngInject";
                e.$watch("comp.eqxPage.pageJson.properties.triggerGroup", function () {
                    e.comp.ft.updatePropsState()
                }, !0)
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="elements-setting-comp" comp-hover-mark comp-rule-data="comp"><div class="comp-name"><div ng-click="comp.ft.hide = !comp.ft.hide"><span class="name" ng-bind="comp.getName()"></span><div class="attrs-collapse"><em class="eqf-down" ng-class="{\n                \'on\': !comp.ft.hide,\n                \'off\': comp.ft.hide}"></em></div></div><input type="checkbox" ng-model="comp.ft.selectAll" ng-click="toggleAllProps(comp)"></div><ul class="editable-attrs" ng-class="{\n        \'hide\':comp.ft.hide,\n        \'show\': !comp.ft.hide}"><li ng-repeat="prop in comp.ft.props" ng-show="prop.show"><input type="checkbox" ng-model="prop.select" ng-click="toggleProp(comp, prop)"> <span ng-bind="prop.name"></span></li></ul></div>'
}, function (e, t, n) {
    "use strict";
    n(1030), e.exports = function () {
        return {
            restrict: "EA", replace: !1, template: n(1031), controller: ["$scope", function (e) {
                "ngInject";
                e.search = {name: "", searchResult: []}, e.$on("ftManager.updateEditProps", function () {
                    e.items.forEach(function (e) {
                        return e.ft.updatePropsState()
                    })
                }), e.toggleAllProps = function (e) {
                    e.ft.toggleAllProps()
                }, e.toggleProp = function (e, t) {
                    e.ft.toggleProp(t)
                }, e.searchProp = function () {
                    e.search.searchResult.length = 0;
                    var t = e.search.name;
                    "" !== t.trim() && e.items.forEach(function (n) {
                        var i, o = [];
                        if (n.getName().indexOf(t) > -1) n.ft.props.forEach(function (e) {
                            e.show && o.push({comp: n, newProps: e})
                        }); else {
                            var r = n.ft.props.filter(function (e) {
                                return e.name.indexOf(t) > -1 && e.show
                            });
                            r.forEach(function (e) {
                                o.push({comp: n, newProps: e})
                            })
                        }
                        (i = e.search.searchResult).push.apply(i, o)
                    })
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="elements-setting" class="ele-choose"><div class="search"><input type="text" placeholder="搜索" ng-model="search.name" ng-change="searchProp()"> <em class="eqf-search-l"></em></div><div class="ele-choose-list" style="min-height: 168px;max-height: 658px" eqd-scroll><div class="ele-choose-list-wrapper"><div class="elements-setting-item" ng-repeat="item in items track by item.id"><elements-setting-comp ng-if="!item.isGroupItem() && !search.name" comp="item" toggle-prop="toggleProp" toggle-all-props="toggleAllProps"></elements-setting-comp><elements-setting-group ng-if="item.isGroupItem() && !search.name" group="item" toggle-prop="toggleProp" toggle-all-props="toggleAllProps"></elements-setting-group></div></div><ul class="editable-attrs-new"><li ng-repeat="prop in search.searchResult" comp-hover-mark comp-rule-data="prop.comp"><input type="checkbox" ng-model="prop.newProps.select" ng-click="toggleProp(prop.comp, prop.newProps)"> <span ng-bind="prop.newProps.name"></span></li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.mergeProperty", []).directive("mergeProperty", n(1033)).directive("mergePropertyDrag", n(1036)).name
}, function (e, t, n) {
    "use strict";
    n(1034), e.exports = function () {
        return {
            restrict: "EA", template: n(1035), controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    e.ft.updatePropsState()
                }

                e.deleteFtTerm = function (e, n) {
                    e.stopPropagation(), n.deleteSelf(), t(n.eqxItem)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="merge-box"><div class="merge-list" eqd-scroll><div class="wrapper"><div class="ft-rules" merge-property-drag><div class="ft-rule" ng-repeat="ftRule in vm.ftManager.ftRules track by $index" ng-class="{\n                 \'ft-terms-wrapper\': ftRule.ftTerms.length>1,\n                 \'merge-disabled\': ftRule.disableMerge\n                 }"><ul class="ft-terms cross-sortable"><li class="ft-term" ng-repeat="ftTerm in ftRule.ftTerms" comp-hover-mark comp-rule-data="ftTerm.eqxItem"><input type="checkbox" checked="checked" ng-click="deleteFtTerm($event, ftTerm)"> <span>{{ftTerm.eqxItem.getName()+\' - \'+ftTerm.name}}</span></li></ul></div></div></div></div><div class="text-tip"><p>1. 鼠标长按属性项拖动属性可调整属性位置</p><p>2. 拖动相同类型的属性到同一个属性框可合并属性</p></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    var o = n(521), r = n(522);
    e.exports = function () {
        return {
            restrict: "A", link: function (e, t) {
                function n(t) {
                    e.$apply(function () {
                        k.forEach(function (e) {
                            e.disableMerge = !S.ftManager.canMerge([e, t])
                        })
                    })
                }

                function a() {
                    e.$apply(function () {
                        k.forEach(function (e) {
                            delete e.disableMerge
                        })
                    })
                }

                function s() {
                    for (var e in C) C.hasOwnProperty(e) && C[e] && C[e].hide()
                }

                function c() {
                    for (var e in C) C.hasOwnProperty(e) && C[e] && (C[e].remove(), C[e] = null)
                }

                function l(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                    k && k.length && (null === t ? (C.$rule = C.$rule || $('<div class="ft-rule ft-placeholder"></div>'), C.$rule.show(), e > 0 ? $(k[e - 1].node.$node).after(C.$rule) : $(k[e].node.$node).before(C.$rule)) : (C.$term = C.$term || $('<li class="ft-term ft-placeholder"> </li>'), C.$term.show(), e > 0 ? $(t.ftTerms[e - 1].node.$node).after(C.$term) : $(t.ftTerms[e].node.$node).before(C.$term)))
                }

                function p(e) {
                    if (e) switch (e.op) {
                        case 1:
                            var t = e.term, n = e.rule, i = e.index;
                            S.ftManager.extractFtTermIntoFtRule(t, n, i);
                            break;
                        case 2:
                            var o = e.term, r = e.index;
                            S.ftManager.sortFtTerm(o, r);
                            break;
                        case 3:
                            var a = e.term, s = void 0 === a ? null : a, c = e.rule, l = void 0 === c ? null : c,
                                p = e.index;
                            s && S.ftManager.sortFtRule(s.ftRule, p), l && S.ftManager.sortFtRule(l, p);
                            break;
                        case 4:
                            var u = e.term, d = e.index;
                            S.ftManager.convertFtTermToFtRule(u, d);
                            break;
                        case 5:
                            var m = e.rules;
                            S.ftManager.mergeFtRules(m)
                    }
                }

                function u(e) {
                    for (var t = e.node.rect.center().y, n = T[0], i = T[T.length - 1], o = n.node.rect.center().y, r = i.node.rect.center().y, a = 0; a < T.length - 1; a++) {
                        var s = T[a], c = T[a + 1], l = s.node.rect.center().y, p = c.node.rect.center().y;
                        if (l <= t && p >= t) return {prev: s, next: c}
                    }
                    return t <= o ? {next: n} : t >= r ? {prev: i} : null
                }

                function d(e) {
                    for (var t = 0; t < k.length; t++) {
                        var n = k[t], i = e.node.rect, o = n.node.rect;
                        if (o.containsPoint(i.center())) return n
                    }
                    return null
                }

                function m(e) {
                    for (var t = 0; t < T.length; t++) {
                        var n = T[t], i = n.ftRule;
                        if (n.node.$node === e) return 1 === i.ftTerms.length ? f(i.node.$node).ftTerms[0] : T.splice(t, 1)[0]
                    }
                    return null
                }

                function f(e) {
                    for (var t = 0; t < k.length; t++) {
                        var n = k[t];
                        if (n.node.$node === e) return n.ftTerms.forEach(function (e) {
                            return g(e.node.$node)
                        }), k.splice(t, 1)[0]
                    }
                    return null
                }

                function g(e) {
                    for (var t = 0; t < T.length; t++) if (T[t].node.$node === e) return T.splice(t, 1)[0];
                    return null
                }

                function h() {
                    T.length = 0, k.length = 0, k.push.apply(k, i(S.ftManager.ftRules)), x.children(".ft-rule").each(function (e, t) {
                        var n = $(t), r = n.offset(), a = r.top, s = r.left, c = n.width(), l = n.height(), p = k[e];
                        console.log(p, p.ftTerms), T.push.apply(T, i(p.ftTerms)), p.node = {
                            $node: n[0],
                            rect: new o(s, a, c, l)
                        }
                    })
                }

                function v() {
                    x.find(".ft-term").each(function (e, t) {
                        var n = $(t), i = n.offset(), r = i.top, a = i.left, s = n.width(), c = n.height();
                        T[e].node = {$node: n[0], rect: new o(a, r, s, c)}
                    })
                }

                function y() {
                    k.forEach(function (e) {
                        var t = e.node, n = $(t.$node), i = n.offset(), r = i.top, a = i.left, s = n.width(),
                            c = n.height();
                        t.rect = new o(a, r, s, c)
                    })
                }

                function b() {
                    T.forEach(function (e) {
                        var t = e.node, n = $(t.$node), i = n.offset(), r = i.top, a = i.left, s = n.width(),
                            c = n.height();
                        t.rect = new o(a, r, s, c)
                    })
                }

                var x = $(t), w = $(document), S = e.vm, k = [], T = [], C = {}, I = null, E = -1;
                x.on("mousedown.ft-rule", ".ft-rule", function (e) {
                    e.stopPropagation(), h(), v();
                    var t = x.offset(), i = e.pageX, o = e.pageY, m = new r(i, o), g = $(this), S = f(g[0]),
                        T = S.node.rect, P = new r(i, o), _ = g.offset(), q = _.top, O = _.left,
                        A = {x: O - t.left, y: q - t.top}, j = g.css("marginTop"), L = g.height(),
                        F = 2 * parseFloat(g.css("paddingTop")), M = 2 * parseFloat(g.css("borderWidth"));
                    n(S), g.css({
                        position: "absolute",
                        top: A.y,
                        left: A.x,
                        margin: 0
                    }), l(g.index()), C.$rule.css({height: L + F + M + "px"}), S && (w.on("mousemove.ft-rule", function (e) {
                        function t() {
                            v.ftRule ? (E = k.findIndex(function (e) {
                                return e === v.ftRule
                            }), E = E >= 0 ? E + 1 : 0) : w.ftRule && (E = k.findIndex(function (e) {
                                return e === w.ftRule
                            }), E = E >= 1 ? E - 1 : 0)
                        }

                        e.stopPropagation(), I = null;
                        var n = e.pageX, i = e.pageY, o = new r(n, i), a = P.offset(o), c = m.offset(o);
                        P.move(a.x, a.y), T.move(a.x, a.y), g.css({top: A.y + c.y, left: A.x + c.x}), b(), y();
                        var p = d(S), f = u(S) || {}, h = f.prev, v = void 0 === h ? {} : h, x = f.next,
                            w = void 0 === x ? {} : x;
                        if (E = -1, s(), p) I = {op: 5, rules: [p, S]}; else {
                            if (t(), E < 0) return;
                            I = {op: 3, rule: S, index: E}, l(E)
                        }
                    }), w.on("mouseup.ft-rule", function (e) {
                        e.stopPropagation(), w.off(".ft-rule"), g.css({
                            position: "static",
                            top: 0,
                            left: 0,
                            margin: j + " auto 0 auto"
                        }), p(I), c(), a()
                    }))
                }), x.on("mousedown.ft-term", ".ft-term", function (e) {
                    e.stopPropagation(), h(), v();
                    var t = x.offset(), i = e.pageX, o = e.pageY, f = new r(i, o), g = $(this), S = m(g[0]),
                        T = S.node.rect, C = new r(i, o), P = g.offset(), _ = P.top, q = P.left,
                        O = {x: q - t.left, y: _ - t.top}, A = S.ftRule, j = $(A.node.$node);
                    n(S.ftRule), g.css({
                        position: "absolute",
                        top: O.y,
                        left: O.x
                    }), S && (A.ftTerms.length > 1 ? l(g.index(), A) : l(j.index()), w.on("mousemove.ft-term", function (e) {
                        function t() {
                            x.ftRule ? (E = k.findIndex(function (e) {
                                return e === x.ftRule
                            }), E = E >= 0 ? E + 1 : 0) : $.ftRule && (E = k.findIndex(function (e) {
                                return e === $.ftRule
                            }), E = E >= 1 ? E - 1 : 0)
                        }

                        function n() {
                            x.ftRule === m ? (E = m.ftTerms.findIndex(function (e) {
                                return e === x
                            }), E = E >= 0 ? E + 1 : 0) : $.ftRule === m && (E = m.ftTerms.findIndex(function (e) {
                                return e === $
                            }), E = E >= 1 ? E - 1 : 0)
                        }

                        e.stopPropagation(), I = null;
                        var i = e.pageX, o = e.pageY, a = new r(i, o), c = C.offset(a), p = f.offset(a);
                        C.move(c.x, c.y), T.move(c.x, c.y), g.css({top: O.y + p.y, left: O.x + p.x}), b(), y();
                        var m = d(S), h = u(S) || {}, v = h.prev, x = void 0 === v ? {} : v, w = h.next,
                            $ = void 0 === w ? {} : w;
                        if (E = -1, s(), m && m !== A) {
                            if (n(), E < 0) return;
                            I = {op: 1, term: S, rule: m, index: E}, l(E, m)
                        } else if (m === A) {
                            if (n(), E < 0) return;
                            I = {op: 2, term: S, index: E}, l(E, m)
                        } else if (1 === A.ftTerms.length) {
                            if (t(), E < 0) return;
                            I = {op: 3, term: S, index: E}, l(E)
                        } else {
                            if (t(), E < 0) return;
                            I = {op: 4, term: S, index: E}, l(E)
                        }
                    }), w.on("mouseup.ft-term", function (e) {
                        e.stopPropagation(), w.off(".ft-term"), g.css({
                            position: "static",
                            top: 0,
                            left: 0
                        }), p(I), c(), a()
                    }))
                })
            }
        }
    }
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("groupSetting.funApply", []).directive("funApply", n(1038)).name
}, function (e, t, n) {
    "use strict";
    n(1039), e.exports = function () {
        return {
            restrict: "EA",
            template: n(1040),
            controller: ["$rootScope", "$scope", "tagAPI", "sceneService", "notifier", "pageCategoryAPI", "HOST", "sceneCategoryAPI", function (e, t, n, i, o, r, a, s) {
                "ngInject";

                function c(e, t) {
                    r.getCategories(e, t).then(function (e) {
                        v.category.list = e.data.list
                    })
                }

                function l() {
                    return [g.APPLYING, g.APPLIED].indexOf(t.$parent.vm.pageJson.properties.applyTemplate)
                }

                function p(e) {
                    l() >= 0 ? (v.isApplied = !0, v.submitInfo = e.properties.applyTemplate === g.APPLYING ? "申请中" : "审核通过", r.getCategoriesChoose(e.id, e.properties.platform).then(function (e) {
                        var t = e.data.obj;
                        v.platform = t.platform + "", v.price = t.price, v.title = t.title, v.desc = t.description, v.category.list.length = 0, v.setType = t.setType, e.data.list.forEach(function (e) {
                            e.children.forEach(function (t) {
                                v.category.list.push(e.name + "-" + t.name)
                            })
                        }), y.price = t.price ? t.price + "秀点" : "免费", y.applyType = 2 == t.platform ? "申请为APP功能模版" : "申请为PC端功能模版", y.setType = (0 == t.setType, "当前页面添加"), y.hasCollection = 1 == t.source
                    })) : (v = t.vmPc = {
                        isApplied: !1,
                        submitInfo: "提交审核",
                        editorModel: m.property.editorModel,
                        platform: 1,
                        price: 0,
                        setType: null,
                        category: {selected: [], list: []},
                        title: "",
                        desc: ""
                    }, u(f.NORMAL_FUNCTION_TPL), c(2, 1))
                }

                function u(e) {
                    var t = null;
                    e === f.NORMAL_SINGLE_TPL ? t = r.getSingleTplPrice() : e === f.NORMAL_FUNCTION_TPL && (t = r.getFunctionTplPrice()), t.then(function (e) {
                        y.priceList = e.data.list
                    })
                }

                function d() {
                    s.getFunSources().then(function (e) {
                        var n = e.data.list.find(function (e) {
                            return "功能模版征集" === e.name
                        });
                        n ? t.showCollection = !0 : t.showCollection = !1
                    })
                }

                var m = i.eqxScene.meta, f = {NORMAL_FUNCTION_TPL: 2, COLLECT_FUNCTION_TPL: 4},
                    g = {REFUSE: -1, NORMAL: 0, APPLYING: 1, APPLIED: 2}, h = f.NORMAL_FUNCTION_TPL, v = t.vmPc = {
                        isApplied: !1,
                        submitInfo: "提交审核",
                        editorModel: m.property.editorModel,
                        platform: 1,
                        price: 0,
                        category: {selected: [], list: []},
                        setType: null,
                        title: "",
                        desc: "",
                        source: 0
                    }, y = t.applyFun = {
                        show: !1,
                        isSetTypeShow: !1,
                        price: "免费",
                        priceList: [],
                        applyType: "申请为PC功能模板",
                        selectTags: [],
                        setType: "请选择类型",
                        funType: [{type: 1, name: "申请为PC端功能模板", select: !0, tagList: []}, {
                            type: 2,
                            name: "申请为APP功能模板",
                            select: !1,
                            tagList: []
                        }],
                        showPrice: !1,
                        titleBlur: !0,
                        desBlur: !0,
                        setTypeBlur: !0,
                        hasCollection: !1
                    };
                p(t.$parent.vm.pageJson), angular.forEach(["groupSetting.show", "pageManager.changePage"], function (e) {
                    t.$on(e, function () {
                        p(t.$parent.vm.pageJson)
                    })
                }), d(), t.addTag = function (e, t) {
                    var n = v.category.selected.length;
                    if (t.children && 0 == t.children.length) return y.selectTags.push(t.name), console.log(v.category), v.category.selected.push({
                        id: t.id,
                        name: t.name
                    });
                    if (n < 2 && e) {
                        var i = [], o = void 0;
                        if (v.category.selected.forEach(function (e) {
                            i.push(e.id)
                        }), o = i.indexOf(e.id), y.selectTags.indexOf(e.name + "-" + t.name) == -1 && y.selectTags.push(e.name + "-" + t.name), 0 == n || o == -1) v.category.selected.push({
                            id: e.id,
                            name: e.name,
                            children: [{id: t.id, name: t.name}]
                        }); else {
                            var r = [], a = void 0;
                            v.category.selected[o].children.forEach(function (e) {
                                r.push(e.id)
                            }), a = r.indexOf(t.id), a == -1 && v.category.selected[o].children.push({
                                name: t.name,
                                id: t.id
                            })
                        }
                    }
                }, t.deleteTag = function (e) {
                    var t = e.split("-");
                    if (t.length > 1) {
                        for (var n = 0; n < v.category.selected.length && t[0] != v.category.selected[n].name; n++) ;
                        for (var i = 0; i < v.category.selected[n].children.length; i++) if (t[1] == v.category.selected[n].children[i].name) {
                            v.category.selected[n].children.splice(i, 1);
                            break
                        }
                        0 == v.category.selected[n].children.length && v.category.selected.splice(n, 1)
                    } else v.category.selected.splice(v.category.selected.indexOf(e), 1);
                    y.selectTags.splice(y.selectTags.indexOf(e), 1)
                }, t.toggle = function (e) {
                    "type" == e ? y.show = !y.show : y.showPrice = !y.showPrice
                }, t.changeSetType = function (e) {
                    y.setType = e.currentTarget.innerHTML, y.isSetTypeShow = !y.isSetTypeShow, v.setType = "新增页面添加" == y.setType ? 1 : 0, y.setTypeBlur = !0
                }, t.textChange = function (e, t) {
                    "title" == t && (y.titleBlur = !!t), "des" == t && (y.desBlur = !!t)
                }, t.changeType = function (e) {
                    y.applyType = e.name, y.funType.forEach(function (t) {
                        t.select = t.name == e.name
                    }), y.selectTags.length = 0, v.category.selected.length = 0, v.platform = e.type, c(2, v.platform), t.toggle("type")
                }, t.changePrice = function (e) {
                    v.price = e.value, y.price = e.name, y.showPrice = !y.showPrice
                }, t.submit = function () {
                    var t = i.getCurrentPage().pageJson;
                    return null == v.setType ? void(y.setTypeBlur = !1) : v.category.selected.length ? v.title.length ? v.desc.length ? (y.hasCollection === !0 ? v.source = 1 : v.source = 0, void e.$broadcast("savePage", function () {
                        r.applyTpl(m.id, t.id, v.price, h, v.platform, v.category.selected, v.title, v.desc, v.setType, v.source).then(function () {
                            o.success("申请模板成功"), $(".apply-item .item-title span:nth-of-type(2)").hide(), v.isApplied = !0, v.submitInfo = "申请中", v.category.list = y.selectTags, y.selectTags = [], t.properties.applyTemplate = g.APPLYING, t.properties.platform = v.platform
                        }, function () {
                            o.error("申请模板失败")
                        })
                    })) : void(y.desBlur = !1) : void(y.titleBlur = !1) : void $(".apply-item .item-title span:nth-of-type(2)").show()
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="apply-box" eqd-scroll ng-class="{\'applied\' : vmPc.isApplied}"><div class="mask" ng-if="vmPc.isApplied"></div><div style="padding-bottom: 12px"><div class="apply-type item"><p>选择申请类型</p><div class="clearfix apply-type-box" ng-class="{\'applied\': vmPc.isApplied}"><div ng-click="toggle(\'type\')"><span>{{applyFun.applyType}}</span> <em class="eqf-menu-down"></em></div><ul ng-class="{\'show\': applyFun.show, \'hide\': !applyFun.show}"><li ng-class="{\'selected\': item.select}" ng-click="changeType(item)" ng-repeat="item in applyFun.funType">{{item.name}}</li></ul></div></div><div class="apply-price item"><p>设置价格</p><div class="clearfix apply-price-box" ng-class="{\'applied\': vmPc.isApplied}"><div ng-click="toggle(\'price\')"><span>{{applyFun.price}}</span> <em class="eqf-menu-down"></em></div><ul ng-class="{\'show\': applyFun.showPrice, \'hide\': !applyFun.showPrice}"><li ng-class="{\'selected\': item.select}" ng-click="changePrice(item)" ng-repeat="item in applyFun.priceList">{{item.name}}</li></ul></div></div><div class="apply-genre item"><div style="height: 36px;line-height: 36px"><span>设置类型</span> <span ng-show="!applyFun.setTypeBlur" style="display: inline-block;float: right;color: #FF2A6A">请设置类型</span></div><div class="clearfix apply-genre-box" ng-class="{\'applied\': vmPc.isApplied}"><div ng-click="applyFun.isSetTypeShow = !applyFun.isSetTypeShow"><span>{{applyFun.setType}}</span> <em class="eqf-menu-down"></em></div><ul ng-show="applyFun.isSetTypeShow"><li ng-click="changeSetType($event)">新增页面添加</li><li ng-click="changeSetType($event)">当前页面添加</li></ul></div></div><div class="apply-item item"><div class="item-title"><span>选择分类</span> <span ng-show="!applyFun.selectTags.length">请选择分类</span></div><div class="tag-box" ng-if="applyFun.selectTags.length"><ul class="clearfix"><li ng-repeat="tag in applyFun.selectTags track by $index"><span>{{tag}}</span> <em class="eqf-minus-f" ng-click="deleteTag(tag)"></em></li></ul></div><div class="tag-classify"><ul class="clearfix choose-tags" ng-if="!vmPc.isApplied"><li ng-repeat="list in vmPc.category.list"><div class="tag-name" ng-click="addTag(null, list)">{{list.name}}</div><div class="tag-list" ng-if="list.children.length > 0"><a ng-click="addTag(list, tags)" ng-repeat="tags in list.children">{{tags.name}}</a></div></li></ul><ul class="clearfix" ng-class="{\'apply-tags\': vmPc.isApplied}" ng-if="vmPc.isApplied"><li ng-repeat="list in vmPc.category.list track by $index"><div class="tag-name">{{list}}</div></li></ul></div></div><div class="apply-title item"><div class="item-title"><span>设置标题</span> <span ng-show="!applyFun.titleBlur" style="display: inline-block">请设置标题</span></div><div><textarea ng-class="{\'text-blur\': !applyFun.titleBlur, \'applied\': vmPc.isApplied}" rows="2" ng-model="vmPc.title" check-count="40" ng-change="textChange(vmPc.title, \'title\')"></textarea><span>{{vmPc.title | validCharacterNum}}/40</span></div></div><div class="apply-des item"><div class="item-title"><span>设置描述</span> <span ng-show="!applyFun.desBlur" style="display: inline-block">请设置描述</span></div><div><textarea ng-class="{\'text-blur\': !applyFun.desBlur, \'applied\': vmPc.isApplied}" style="height: 72px" rows="3" ng-model="vmPc.desc" check-count="60" ng-change="textChange(vmPc.desc, \'des\')"></textarea><span>{{vmPc.desc | validCharacterNum}}/60</span></div></div><div class="apply-Collection item" ng-show="showCollection"><div class="checkbox-square" ng-class="{checked: applyFun.hasCollection}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="applyFun.hasCollection"></div><em>设为征集</em></div></div></div><div class="fun-apply-submit" ng-class="{\'applying\': vmPc.isApplied}"><a ng-click="submit()">{{vmPc.submitInfo}}</a><div ng-if="vmPc.isApplied"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "AE",
            replace: !1,
            scope: {},
            template: o,
            link: function (t, n) {
                function i() {
                    var t = e.getItem("groupSettingCss") || {top: 100, left: 180};
                    t.top < 51 && (t.top = 51), t.left < 0 && (t.left = 0), n.css(t)
                }

                i(), t.updatePosition = function () {
                    var t = parseFloat(n.css("top") || 100), i = parseFloat(n.css("left") || 180);
                    e.setItem("groupSettingCss", {top: t, left: i})
                }
            },
            controller: ["$rootScope", "$scope", "$location", "selectService", "sceneService", "authorityService", "historyService", "storageService", "sceneCategoryAPI", function (e, t, n, i, o, s, c, l, p) {
                function u() {
                    var e = m();
                    e.ftRules.length && e.filterValidFtRules()
                }

                function d() {
                    return o.getCurrentPage()
                }

                function m() {
                    return d().ftManager
                }

                function f() {
                    return [v.APPLYING, v.APPLIED].indexOf(y.pageJson.properties.applyTemplate) > -1
                }

                function g() {
                    var e = l.getItem(r) || [], t = {
                        sceneId: y.sceneId
                    };
                    t[y.pageJson.id] = y.step;
                    for (var n = 0; n < e.length; n++) if (e[n].sceneId == t.sceneId) return e[n][y.pageJson.id] = t[y.pageJson.id], void l.setItem(r, e);
                    n != e.length && 0 != e.length || (e.push(t), l.setItem(r, e))
                }

                function h() {
                    var e = l.getItem(r) || [];
                    if (f()) return y.step = 3, y.titleArr = b[2], void console.log(y, t.vm);
                    for (var n = 0; n < e.length; n++) if (e[n].sceneId == y.sceneId && e[n][y.pageJson.id]) return y.step = e[n][y.pageJson.id], void(y.titleArr = b[y.step - 1]);
                    y.step = 1, y.titleArr = b[0]
                }

                var v = {REFUSE: -1, NORMAL: 0, APPLYING: 1, APPLIED: 2}, y = t.vm = {
                    show: !1,
                    tipShow: !1,
                    tipShowCache: l.getItem("funTemplateTip") || !1,
                    groupSettings: null,
                    elements: null,
                    sceneId: null,
                    step: 1,
                    pageJson: null,
                    ftManager: null
                }, b = [{title: "可编辑元素属性列表", operate: "下一步"}, {
                    title: "设置可编辑元素属性",
                    operate: "申请功能模板"
                }, {title: "功能模板申请"}], x = null;
                t.themeSkin = l.getItem("themeSkin") || "white", t.cancel = function () {
                    y.show = !1, t.updatePosition();
                    var e = o.getCurrentPage();
                    e && c.addPageHistory(e.pageJson)
                }, t.$on("change.theme", function (e, n) {
                    n && (t.themeSkin = n)
                }), t.go = function (e) {
                    if (y.step < 4 && !f()) {
                        if (2 == y.step && e > 0 && !y.tipShow && !l.getItem("funTemplateTip")) return void(y.tipShow = !0);
                        console.log(t), y.tipShow = !1, y.step += e, y.titleArr = b[y.step - 1], g(), u()
                    }
                }, t.changeTip = function (e) {
                    l.setItem("funTemplateTip", !!e)
                }, function () {
                    function e(e) {
                        a(e.name, "updateDirectEqxItems");
                        var n = o.getCurrentPage();
                        x && x(), x = t.$watch(function () {
                            var e = d();
                            return e ? e.pageJson.properties.triggerGroup : ""
                        }, function (e) {
                            e && u()
                        }, !0), t.items = n.getDirectEqxItems().filter(function (e) {
                            return e.getFtEditableProps().length
                        })
                    }

                    var n = s.assignDesignerAuthority("groupTemplateEditor"), i = s.functionEditor();
                    (n || i) && (t.$on("groupSetting.show", function () {
                        y.show = !0, y.ftManager = m(), y.sceneId = o.getCurrentPage().pageJson.sceneId, y.pageJson = o.getCurrentPage().pageJson, h()
                    }), t.$on("pageManager.changePage", function () {
                        y.ftManager = m(), y.pageJson = o.getCurrentPage().pageJson, h()
                    })), angular.forEach(["workspace.forward", "workspace.back", "pageManager.changePage", "wsComp.add", "wsComp.delete.end", "group.combine.end", "group.breakup.end", "ftManager.update"], function (n) {
                        t.$on(n, e)
                    })
                }()
            }]
        }
    }

    i.$inject = ["storageService"], n(1042), n(1043);
    var o = n(1044), r = "ftStep2", a = console.log.bind(console, "[func-tpl]");
    e.exports = i
}, function (e, t) {
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="group-setting" ng-class="{\'theme-black\' : themeSkin == \'black\'}" panel-draggable=".header" ng-show="vm.show"><div class="header"><span class="set-title">功能设置</span> <span class="set-close eqf-no" ng-click="cancel()"></span></div><div class="ele-setting" ng-if="items.length"><span>{{vm.titleArr.title}} </span><em ng-click="go(-1)" ng-if="vm.step == \'2\' || vm.step == \'3\'" class="eqf-left"></em></div><div class="not-editable" ng-if="!items.length"><div><img src="' + n(1045) + '" alt=""></div><p>暂无可编辑元素</p><p>请先设计好要申请为功能模板的单页</p><p>再进行功能模板设置</p></div><editable-props ng-if="vm.step == 1 && items.length"></editable-props><merge-property ng-if="vm.step == 1 && vm.ftManager.ftRules.length"></merge-property><group-setting-style ng-if="vm.step == 2" ft-rules="vm.ftManager.ftRules"></group-setting-style><fun-apply ng-if="vm.step == 3 && vm.ftManager.ftRules.length"></fun-apply><div class="handle" ng-if="vm.step == 1 || vm.step == 2" ng-class="{\'handle-hidden\': !vm.ftManager.ftRules.length}"><a ng-click="go(1)">{{vm.titleArr.operate}}</a><div class="tip" ng-if="vm.tipShow"><p>申请前请仔细核对元素的可编辑属性的设置，申请后模板将不能再编辑</p><div class="tip-bottom"><div><input value="{{vm.tipShowCache}}" type="checkbox" ng-model="vm.tipShowCache" ng-change="changeTip(vm.tipShowCache)"><label>不再提醒</label></div><span ng-click="go(1)">知道了</span></div></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/empty-box-011e53.svg"
}, function (e, t, n) {
    "use strict";
    n(1047), e.exports = function () {
        return {
            template: n(1048),
            scope: {},
            controller: ["$rootScope", "$scope", "authorityService", "selectService", "sceneService", "flagService", "storageService", function (e, t, n, i, o, r, a) {
                "ngInject";

                function s() {
                    function e() {
                        t && t.ftManager.filterValidFtRules()
                    }

                    var t = o.getCurrentPage(), n = c.ftRules.length;
                    c.ftRules = [];
                    var r = i.items.length;
                    if (1 === r) {
                        var a = i.items[0];
                        if (!a.isFunTemplate()) return;
                        e(), c.ftRules = a.eqxPage.ftManager.getEqxItemRelativeFtRules(a).slice()
                    }
                    0 === r && t && t.isFunTemplate() && (e(), c.ftRules = t.ftManager.ftRules.slice()), !n && c.ftRules.length && (c.show = !0), c.ftRules = c.ftRules.filter(function (e) {
                        return !e.isGroupRule()
                    })
                }

                var c = t.vm = {ftEditor: n.functionEditor(), ftRules: [], show: !0};
                t.themeSkin = a.getItem("themeSkin") || "white", c.ftEditor || (t.cancel = function () {
                    c.show = !1
                }, t.$on("selectService.add", function () {
                    s()
                }), t.$on("changePage.end", s), t.$on("selectService.remove", s), t.$on("workSpace.funTpl", s()), t.$on("change.theme", function (e, n) {
                    n && (t.themeSkin = n)
                }), angular.forEach(["workspace.forward", "workspace.back", "wsComp.delete.end", "ftManager.update"], function (e) {
                    t.$on(e, s)
                }), t.close = function () {
                    r.workspace.compSettingShow = !1, r.workspace.pageSetting = !1, r.workspace.layerBgSetting = !1, e.$broadcast("selectBox.end")
                }, t.funTplShow = function () {
                    var e = c.show;
                    return e
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="group-setting group-setting-use" ng-class="{\'theme-black\' : themeSkin == \'black\'}" panel-draggable=".header" ng-if="!vm.ftEditor && vm.ftRules && vm.ftRules.length" ng-show="funTplShow()"><div class="header"><span class="set-title">模板设置</span> <span class="set-close eqf-no" ng-click="cancel()"></span> <span class="fun-use-up fr hint--bottom hint--rounded" data-hint="点击收起功能模板属性面板" ng-click="close()"><em class="eqf-arrow-bigger"></em></span></div><group-setting-style ft-rules="vm.ftRules"></group-setting-style></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.assist", []).directive("eqxAssistLines", n(1050)).directive("eqxAssistGrid", n(1054)).factory("assistLineService", n(1055)).factory("assistGridService", n(1056)).name
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i) {
        "ngInject";

        function o(e, t) {
            var n = e.left, i = e.top, o = e.width, c = e.height, l = e.transform, p = t.x, u = t.y,
                d = new a(n + p, i + u), m = new a(d.x + o, d.y + c), f = new r(d, m);
            if (l) {
                var g = s.parseTransform(l);
                if (g && g.rotate) return f.rotate(g.rotate)
            }
            return f
        }

        return {
            template: '<div class="assist-lines"></div>', replace: !0, link: function (s, d) {
                function m() {
                    for (var s = arguments.length, c = Array(s), l = 0; l < s; l++) c[l] = arguments[l];
                    if (t.getAssistLineState()) {
                        x = !1;
                        var p = y.$ele, m = d;
                        h = m[0].getBoundingClientRect(), v = p[0].getBoundingClientRect(), g = new a(h.left, h.top).offset(new a(v.left, v.top));
                        var f = i.getScale(), w = g.x, S = g.y;
                        w /= f, S /= f, t.setOffset(g), g.x = w, g.y = S, u(g);
                        var k = new r((v.left - h.left) / f, (v.top - h.top) / f, v.width / f, v.height / f);
                        u(k.p1.x, k.p1.y, k.width, k.height, k.center()), t.addPoints(k.p1, k.p2, k.center()), b = e.getCurrentPage(), b.eqxCompList.filter(function (e) {
                            return c.indexOf(e) === -1
                        }).filter(function (e) {
                            return !e.isSubItemOf.apply(e, c)
                        }).forEach(function (e) {
                            var n = e.compJson.css, i = o(n, g);
                            t.addPoints(i.p1, i.p2, i.center())
                        });
                        var T = b.pageJson.properties, C = 320, I = T.longPage || 486, $ = n.getXsYs(C, I, 1), E = $.xs,
                            P = $.ys;
                        t.addXs(E.map(function (e) {
                            return e + g.x
                        })), t.addYs(P.map(function (e) {
                            return e + g.y
                        }));
                        var _ = t.$vLineMap, q = t.$hLineMap;
                        t.xs.forEach(function (e) {
                            if (!_[e]) {
                                var n = t.get$vLine(e);
                                _[e] = n, n.appendTo(d)
                            }
                        }), t.ys.forEach(function (e) {
                            if (!q[e]) {
                                var n = t.get$hLine(e);
                                q[e] = n, n.appendTo(d)
                            }
                        })
                    }
                }

                function f(e) {
                    if (e === w.id) {
                        var n = w.p1, i = w.p2, o = w.comps;
                        if (t.hide$vLines(), t.hide$hLines(), o && o.length) {
                            var a = p.calItemsBoundingRect(o);
                            a.left += g.x, a.top += g.y, a = new r(a);
                            var s = a.center(), u = t.nearXs(a.p1.x, a.p2.x, s.x), d = t.nearYs(a.p1.y, a.p2.y, s.y),
                                m = t.hintMaxLines;
                            u.length > m && (u.length = m), d.length > m && (d.length = m);
                            var f = t.minDiff(u, [a.p1.x, a.p2.x, s.x]), h = t.minDiff(d, [a.p1.y, a.p2.y, s.y]);
                            t.show$vLines(u), t.show$hLines(d), f = c(f), h = c(h);
                            var v = l(f) <= t.attractThreshold ? f : 0, y = l(h) <= t.attractThreshold ? h : 0;
                            !t.getAttractState() || 0 === v && 0 === y || o.forEach(function (e) {
                                e.onMove(i.x - n.x + v, i.y - n.y + y)
                            })
                        }
                    }
                }

                var g, h, v, y = e.eqxScene, b = null, x = !0, w = {p1: null, p2: null, comps: null, id: 0};
                s.$on("compDrag.end", function () {
                    t.getAssistLineState() && (x = !0, t.clear())
                }), s.$on("compDrag.move", function (e, n, i) {
                    for (var o = arguments.length, r = Array(o > 3 ? o - 3 : 0), a = 3; a < o; a++) r[a - 3] = arguments[a];
                    if (t.getAssistLineState()) {
                        if (x) return m.apply(void 0, r);
                        var s = w.id + 1;
                        w.id = s, w.p1 = n, w.p2 = i, w.comps = r, f(s)
                    }
                })
            }
        }
    }

    i.$inject = ["sceneService", "assistLineService", "assistGridService", "zoomService"], n(1051);
    var o = n(1052), r = o.Rect, a = o.Point, s = n(520), c = n(249).toInt, l = Math.abs, p = n(519),
        u = console.log.bind(console, "[assistLine]");
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, o) {
        var r = l(n, i) / 2, s = g(p(i / n)), m = f(s + o), h = f(s - o), v = r * d(m), y = r * u(m), b = r * d(h),
            x = r * u(h);
        switch (e) {
            case"nw":
                var w = t.x + v, S = t.y + y;
                return new a(c(w - n / 2), c(S - i / 2));
            case"se":
                return w = t.x - v, S = t.y - y, new a(c(w - n / 2), c(S - i / 2));
            case"ne":
                return w = t.x - b, S = t.y + x, new a(c(w - n / 2), c(S - i / 2));
            case"sw":
                return w = t.x + b, S = t.y - x, new a(c(w - n / 2), c(S - i / 2))
        }
    }

    var o = n(521), r = n(772), a = n(522), s = n(1053), c = n(249).toInt, l = Math.hypot, p = Math.atan, u = Math.sin,
        d = Math.cos, m = n(526), f = m.deg2arc, g = m.arc2deg;
    e.exports = {Point: a, Line: r, Rect: o, Vector: s, fixedPointToNW: i}
}, function (e, t, n) {
    "use strict";

    function i() {
        2 === arguments.length && (this.p1 = new o(arguments[0]), this.p2 = new o(arguments[1]))
    }

    var o = n(522);
    i.prototype.toString = function () {
    }, i.prototype.weight = function (e) {
        var t = (this.angle() - (e || 0) + 360) % 360, n = this.norm(), i = t * Math.PI / 180;
        return {x: n * Math.cos(i), y: n * Math.sin(i)}
    }, i.prototype.norm = function () {
        return this.p1.distance2Point(this.p2)
    }, i.prototype.angle = function () {
        return this.p1.angle2Point(this.p2)
    }, window.Vector = i, e.exports = i
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t, n, i, o) {
            if (t) {
                var r = e.getXsYs(n, i, o), a = r.xs, s = r.ys,
                    c = {width: Math.round(n * o), height: Math.round(i * o)};
                t.css(c).attr(c);
                var l = t.get(0).getContext("2d");
                l.clearRect(0, 0, c.width, c.height), l.fillStyle = e.getColor(), a.forEach(function (e) {
                    l.fillRect(e, -20, .5, c.height + 40)
                }), s.forEach(function (e) {
                    l.fillRect(0, e, c.width, .5)
                })
            }
        }

        return {
            scope: {eqxPage: "="}, link: function (n, i) {
                function o(e) {
                    var i = n.eqxPage;
                    if (i && a) {
                        var o = i.getPageWidth(), r = e || i.getPageHeight(), s = 1;
                        t(a, o, r, s)
                    }
                }

                function r(e) {
                    var t = n.eqxPage;
                    s.css({width: t.getPageWidth(), height: e || t.getPageHeight()})
                }

                var a = null,
                    s = $('<div style="background-color: #FFFFFF;z-index: -1;position:absolute;"></div>').appendTo(i.siblings(".nr"));
                n.$watch("eqxPage", function (e) {
                    e && (o(), r())
                }), n.$on("longPageAdjust.move", function (e, t) {
                    o(t), r(t)
                }), n.$watch(function () {
                    return e.getColor() + e.getGridState()
                }, function () {
                    o()
                }), a = $('<canvas class="eqx-assist-grid">').appendTo(i)
            }
        }
    }

    n.$inject = ["assistGridService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t.forEach(function (e) {
                T.some(function (t) {
                    return t.equals(e)
                }) || (T.push(e), i(C, e.x), i(I, e.y))
            })
        }

        function r(e) {
            e.forEach(function (e) {
                return i(C, e)
            })
        }

        function a(e) {
            e.forEach(function (e) {
                return i(I, e)
            })
        }

        function s() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            return p(C, t)
        }

        function c(e, t) {
            var n = Number.MAX_SAFE_INTEGER, i = 100;
            return e.forEach(function (e) {
                t.forEach(function (t) {
                    i = t - e, o(i) < o(n) && (n = i)
                })
            }), n
        }

        function l() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            return p(I, t)
        }

        function p(e, t) {
            var n = e.filter(function (e) {
                return t.some(function (t) {
                    return o(e - t) < S
                })
            });
            return n
        }

        function u() {
            var e = t.getScale(), n = 1, i = n * e;
            return i < n && (i = n), i
        }

        function d(e) {
            var t = u(), n = $("<div></div>").css({
                display: "none",
                position: "absolute",
                left: e,
                height: "100%",
                "border-right-width": t + "px",
                "border-right-style": "solid",
                "border-right-color": "rgba(255,227,0,1)"
            });
            return n
        }

        function m(e) {
            var t = u(), n = $("<div></div>").css({
                display: "none",
                position: "absolute",
                top: e,
                width: "100%",
                "border-top-width": t + "px",
                "border-top-style": "solid",
                "border-top-color": "rgba(255,227,0,1)",
                fontSize: 9,
                color: "red"
            });
            return n
        }

        function f() {
            y(E)
        }

        function g() {
            y(P)
        }

        function h(e) {
            b(E, e)
        }

        function v(e) {
            b(P, e)
        }

        function y(e) {
            Object.keys(e).forEach(function (t) {
                return e[t].hide()
            })
        }

        function b(e, t) {
            t.forEach(function (t) {
                return e[t] && e[t].show()
            })
        }

        function x() {
            T.length = 0, C.forEach(function (e) {
                var t = E[e];
                t && (t.remove(), delete E[e])
            }), I.forEach(function (e) {
                var t = P[e];
                t && (t.remove(), delete P[e])
            }), C.length = 0, I.length = 0
        }

        var w = 5, S = 3, k = 5, T = [], C = [], I = [], E = {}, P = {}, _ = null;
        return {
            setOffset: function (e) {
                _ = e
            },
            getAssistLineState: function () {
                var t = e.getItem("assistLineState");
                return void 0 !== t && null !== t || (t = !0), t
            },
            setAssistLineState: function (t) {
                return e.setItem("assistLineState", t)
            },
            getAttractState: function () {
                var t = e.getItem("attractState");
                return void 0 !== t && null !== t || (t = !0), t
            },
            setAttractState: function (t) {
                return e.setItem("attractState", t)
            },
            attractThreshold: w,
            hintThreshold: S,
            hintMaxLines: k,
            points: T,
            xs: C,
            ys: I,
            $vLineMap: E,
            $hLineMap: P,
            clear: x,
            addPoints: n,
            addXs: r,
            addYs: a,
            nearXs: s,
            nearYs: l,
            show$vLines: h,
            show$hLines: v,
            hide$vLines: f,
            hide$hLines: g,
            get$vLine: d,
            get$hLine: m,
            minDiff: c
        }
    }

    function i(e, t) {
        for (var n = e.length, i = 0; i < n; i++) {
            var o = e[i];
            if (t < o) return e.splice(i, 0, t), t;
            if (t === o) return -1
        }
        e.push(t)
    }

    n.$inject = ["storageService", "zoomService"];
    var o = Math.abs;
    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t) {
            e.setItem("grid.state", t)
        }

        function n() {
            var t = e.getItem("grid.state");
            return void 0 !== t && null !== t || e.setItem("grid.state", !0), e.getItem("grid.state")
        }

        function i(t) {
            e.setItem("grid.color", t)
        }

        function o() {
            return e.getItem("grid.color") || "rgba(150, 150, 150, 0.2)"
        }

        function r() {
            return parseInt(e.getItem("grid.cellSize") || "36")
        }

        function a(t) {
            e.setItem("grid.cellSize", t)
        }

        function s(e, t, i) {
            var o = [], a = [];
            if (!n()) return {xs: o, ys: a};
            for (var s = {
                width: Math.round(e * i),
                height: Math.round(t * i)
            }, c = r(), l = Math.ceil(s.height / c / 2), p = Math.ceil(s.width / c / 2), u = 0; u < p; u++) {
                var d = Math.round(s.width / 2 - u * c);
                o.push(d), u > 0 && (d = Math.round(s.width / 2 + u * c), o.push(d))
            }
            for (var m = 0; m < l; m++) {
                var f = Math.round(s.height / 2 - m * c);
                a.push(f), m > 0 && (f = Math.round(s.height / 2 + m * c), a.push(f))
            }
            return {xs: o, ys: a}
        }

        return {setGridState: t, getGridState: n, setColor: i, getColor: o, getCellSize: r, setCellSize: a, getXsYs: s}
    }

    n.$inject = ["storageService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.contextMenu", []).directive("eqxContextMenu", n(1058)).directive("eqxContextMenuTrigger", n(1061)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e) {
        "ngInject";
        return {
            restrict: "E",
            template: n(1060),
            replace: !0,
            scope: {},
            controller: ["$scope", "$rootScope", "selectService", "sceneService", "copyService", "copyAnimService", "copyTriggerService", "$timeout", "authorityService", "EqxCore", "storageService", function (e, t, n, o, r, a, s, c, l, p, u) {
                function d() {
                    var e = [];
                    return r.get().forEach(function (t) {
                        m(t) && e.push(t)
                    }), !(n.groups.length > 0 || e.length > 0) && r.get().length > 0
                }

                function m(e) {
                    return e && !e.compJson && e.id && e.id.toString().indexOf("group") !== -1
                }

                function f() {
                    return !!a.getCopyAnim()
                }

                function g() {
                    return !!s.getCopyTrigger()
                }

                var h = {none: 0, single: 1, multi: 2}, v = {
                    edit: [!1, !0, !1],
                    style: [!1, !0, !1],
                    anim: [!1, !0, !1],
                    sound: [!1, !0, !1],
                    trigger: [!1, !0, !1],
                    link: [!1, !0, !1],
                    copy: [!1, !0, !0],
                    "delete": [!1, !0, !0],
                    paste: [!0, !0, !0],
                    cut: [!1, !0, !1],
                    copyAnim: [!1, !0, !1],
                    pasteAnim: [!1, !0, !0],
                    deleteAnim: [!1, !0, !0],
                    copyTrigger: [!1, !0, !1],
                    pasteTrigger: [!1, !0, !0],
                    deleteTrigger: [!1, !0, !0],
                    zIndex: [!1, !0, !1]
                }, y = e.vm = {show: !1, mode: h.none};
                e.GroupManagerAuthority = !l.permission("groupManage"), e.accessContextMenuLink = l.permission("contextMenuLink"), e.accessContextMenuTrigger = l.permission("contextMenuTrigger"), e.themeSkin = u.getItem("themeSkin") || "white", e.edit = function () {
                    if (y.mode === h.single) {
                        var i = n.comps[0];
                        i && t.$broadcast("wsComp.edit", i)
                    }
                    e.hide()
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                }), e.openAnim = function () {
                    t.$broadcast("contextMenu.anim"), e.hide()
                }, e.openStyle = function () {
                    t.$broadcast("contextMenu.style"), e.hide()
                }, e.openTrigger = function () {
                    t.$broadcast("contextMenu.trigger"), e.hide()
                }, e.openSound = function () {
                    if (y.mode === h.single) {
                        var i = n.comps[0];
                        i && t.$broadcast("wsComp.edit.sound", i)
                    }
                    e.hide()
                }, e.openLink = function () {
                    if (y.mode === h.single) {
                        var i = n.comps[0];
                        i && t.$broadcast("wsComp.edit.link", i)
                    }
                    e.hide()
                }, e.copyComps = function () {
                    t.$broadcast("contextMenu.copy"), e.hide()
                }, e.pasteComps = function () {
                    t.$broadcast("contextMenu.paste"), e.hide()
                }, e.copyTrigger = function () {
                    var t = o.getCurrentPage().pageJson, i = n.comps[0].compJson,
                        r = t.properties.triggerGroup.filter(function (e) {
                            return e.sourceId == i.id && "e" == e.sourceType
                        });
                    r.length && (s.setCopyTrigger(r), e.openTrigger())
                }, e.pasteTrigger = function () {
                    var i = s.getCopyTrigger(), r = p.event.RAW_EVENT, a = p.event.EQX_EVENT;
                    if (i) {
                        var c = o.getCurrentPage().pageJson;
                        n.comps.forEach(function (e) {
                            if (e.$ability.trigger.self) {
                                var n = JSON.parse(JSON.stringify(i));
                                n = n.filter(function (t) {
                                    var n = Object.keys(r)[Object.values(r).indexOf(t.eventType)];
                                    return t.sourceId != e.compJson.id && e.$ability.trigger[n]
                                }), n.forEach(function (t) {
                                    t.targetState != a.link && t.targetState != a.page && t.targetState != a.phone || t.sourceId !== t.targetId || (t.targetId = e.compJson.id), t.sourceId = e.compJson.id;
                                    var n = -1;
                                    n = t.targetState == a.play ? c.properties.triggerGroup.findIndex(function (e) {
                                        return e.sourceId == t.sourceId && e.eventType == t.eventType && e.targetState == a.play
                                    }) : c.properties.triggerGroup.findIndex(function (e) {
                                        return e.sourceId == t.sourceId && e.targetId == t.targetId && e.eventType == t.eventType
                                    }), n == -1 && c.properties.triggerGroup.push(t)
                                }), t.$broadcast("compTrigger.past")
                            }
                        })
                    }
                    e.openTrigger()
                }, e.deleteTrigger = function () {
                    var i = o.getCurrentPage().pageJson, r = i.properties.triggerGroup;
                    r && 0 != r.length && (n.comps.forEach(function (e) {
                        for (var t = 0; t < r.length; t++) e.compJson.id == r[t].sourceId && r.splice(t--, 1)
                    }), t.$broadcast("compTrigger.past"), e.hide(), e.openTrigger())
                }, e.copyAnim = function () {
                    a.setCopyAnim(n.comps[0].compJson.properties.anim), e.hide(), e.openAnim()
                }, e.deleteAnim = function () {
                    n.comps.forEach(function (e) {
                        e.stopAnimation(), e.compJson.properties.anim.length = 0
                    }), e.hide(), e.openAnim()
                }, e.pasteAnim = function () {
                    var t = a.getCopyAnim();
                    t && n.comps.forEach(function (e) {
                        var n = JSON.parse(JSON.stringify(t));
                        e.stopAnimation(), c(function () {
                            var t, o = e.compJson.properties;
                            o.anim.length = 0, (t = o.anim).push.apply(t, i(n)), e.startAnimation({
                                maxCount: 1,
                                reset: !0
                            })
                        }, 0)
                    }), e.openAnim(), e.hide()
                }, e.updateIndex = function (e) {
                    var i = o.getCurrentPage(), r = n.comps[0];
                    i.updateItemIndex(e, r), t.$broadcast("contextMenu.zIndex", e, r)
                }, e["delete"] = function () {
                    var i = n.comps[0];
                    i && t.$broadcast("wsComp.delete", i), e.hide()
                }, e.cropComp = function () {
                    var i = n.comps[0];
                    i && t.$broadcast("wsComp.crop", i), e.hide()
                }, e.group = function () {
                    t.$broadcast("group.combine")
                }, e.showFeature = function (e) {
                    var t = v[e][y.mode];
                    if (t) {
                        if ("paste" === e) return d();
                        if ("pasteAnim" === e) return f();
                        if ("pasteTrigger" === e) return g();
                        if (n.groups.length > 0) return !1;
                        if (y.mode === h.single) {
                            var i = n.comps[0];
                            if (i) {
                                var r = i.compJson.type, a = i.$ability;
                                if (["anim", "trigger"].includes(e)) return "boolean" == typeof a[e] ? !!a[e] : !!a[e].self;
                                if (["sound", "link"].includes(e)) {
                                    var s = l.permission("disableSoundAndLink");
                                    return !!a[e] && !s
                                }
                                if ("copyAnim" === e) {
                                    var c = n.comps[0].compJson.properties.anim;
                                    return c && c.length > 0
                                }
                                if ("copyTrigger" === e) {
                                    var p = o.getCurrentPage().pageJson, u = n.comps[0].compJson;
                                    return p.properties.triggerGroup && p.properties.triggerGroup.some(function (e) {
                                        return e.sourceId === u.id
                                    })
                                }
                                if ("style" === e) return a.style && a.style.self && Object.keys(a.style).length;
                                if ("cut" === e) return "4" === r.toString()
                            }
                        }
                    }
                    return t
                }, e.showGroup = function () {
                    return e.GroupManagerAuthority && n.comps.length && !n.groups.length
                }, e.update = function () {
                    var t = n.comps.length;
                    return y.mode = t > 1 ? 2 : t, Object.keys(v).some(function (t) {
                        return e.showFeature(t)
                    })
                }
            }],
            link: function (t, n) {
                function i(n, i, o) {
                    function r(e) {
                        return e - d.p1.x
                    }

                    function s() {
                        return o - d.p1.y
                    }

                    var c = n.parent().parent(), l = c.offset(), p = c.scrollTop(), u = c.scrollLeft();
                    l = {left: l.left - u, top: l.top - p};
                    var d = new a(l.left, l.top, c.width(), c.height());
                    e(function () {
                        var e = {width: n.width(), height: n.height()};
                        i = r(i), o = s(o), n.css({
                            left: i,
                            top: o
                        }), o + e.height > d.height - 10 && n.css("top", o - e.height - 2), i + e.width > d.width + 40 && n.css("left", i - e.width - 2), t.show(), c.on("mousemove.contextMenu", function (i) {
                            var o = n.offset();
                            (i.pageX < o.left - 20 || i.pageX > o.left + e.width + 20 || i.pageY < o.top - 20 || i.pageY > o.top + e.height + 20) && (t.hide(), c.off(".contextMenu"))
                        })
                    }, 0)
                }

                function o() {
                    n.on("mousedown.contextMenu", function (e) {
                        e.stopPropagation(), e.preventDefault()
                    }), n.on("$destroy", function (e) {
                        return n.off(".contextMenu")
                    }), t.hide()
                }

                t.show = function () {
                    n.css("visibility", "visible")
                }, t.hide = function () {
                    n.css("visibility", "hidden")
                }, t.$on("contextMenu", function (o, r) {
                    t.update() && e(function () {
                        return i(n, r.pageX, r.pageY)
                    }, 0)
                }), t.$on("selectBox.start", function () {
                    t.hide()
                }), o()
            }
        }
    }

    o.$inject = ["$timeout"];
    var r = n(1052), a = r.Rect;
    n(1059), e.exports = o
}, function (e, t) {
}, function (e, t) {
    e.exports = '<ul class="context-menu-box" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><div class="dropdown-menu-border"><li ng-click="group()" ng-if="showGroup()"><a role="menuitem" tabindex="-1">组合</a></li><li ng-click="edit()" ng-if="showFeature(\'edit\')"><a role="menuitem" tabindex="-1">编辑</a></li><li ng-click="cropComp()" ng-if="showFeature(\'cut\')"><a role="menuitem" tabindex="-1">裁切</a></li><li ng-click="copyComps()" ng-if="showFeature(\'copy\')"><a role="menuitem" tabindex="-1">复制 <span>Ctrl+C</span></a></li><li ng-click="pasteComps()" ng-if="showFeature(\'paste\')"><a role="menuitem" tabindex="-1">粘贴 <span>Ctrl+V</span></a></li><li ng-click="delete()" class="context-menu-delete" ng-if="showFeature(\'delete\')"><a>删除 <span>Delete</span></a></li></div><div class="dropdown-menu-border"><li ng-click="openStyle()" ng-if="showFeature(\'style\')"><a role="menuitem" tabindex="-1">样式</a></li><li ng-click="openAnim()" ng-if="showFeature(\'anim\')"><a role="menuitem" tabindex="-1">动画</a></li><li ng-click="openTrigger()" ng-if="showFeature(\'trigger\') && !accessContextMenuTrigger"><a role="menuitem" tabindex="-1">触发</a></li></div><div class="dropdown-menu-border"><li ng-click="openSound()" eqx-comp-sound ng-if="showFeature(\'sound\')"><a role="menuitem" tabindex="-1">添加音效</a></li><li ng-click="openLink()" eqx-comp-link ng-if="showFeature(\'link\') && !accessContextMenuLink"><a role="menuitem" tabindex="-1">添加链接</a></li></div><div class="dropdown-menu-border"><li ng-click="copyAnim()" ng-if="showFeature(\'copyAnim\')"><a role="menuitem" tabindex="-1">复制动画</a></li><li class="dropdown-menu-border" ng-click="pasteAnim()" ng-if="showFeature(\'pasteAnim\')"><a role="menuitem" tabindex="-1">粘贴动画</a></li><li class="context-menu-delete" ng-click="deleteAnim()" ng-if="showFeature(\'copyAnim\')"><a role="menuitem" tabindex="-1">删除动画</a></li></div><div class="dropdown-menu-border"><li ng-click="copyTrigger()" ng-if="showFeature(\'copyTrigger\')"><a role="menuitem" tabindex="-1">复制触发</a></li><li class="dropdown-menu-border" ng-click="pasteTrigger()" ng-if="showFeature(\'pasteTrigger\')"><a role="menuitem" tabindex="-1">粘贴触发</a></li><li class="context-menu-delete" ng-click="deleteTrigger()" ng-if="showFeature(\'copyTrigger\')"><a role="menuitem" tabindex="-1">删除触发</a></li></div><li class="bottom_bar" ng-if="showFeature(\'zIndex\')"><a title="置顶" ng-click="updateIndex(\'++\')">置顶 </a><a title="置底" ng-click="updateIndex(\'--\')">置底 </a><a title="上移一层" ng-click="updateIndex(\'+1\')">上移 </a><a title="下移一层" ng-click="updateIndex(\'-1\')">下移</a></li></ul>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            restrict: "A", priority: 0, link: function (t, n) {
                $(document).contextmenu(function (e) {
                    e.preventDefault(), e.stopPropagation()
                }), n.contextmenu(function (t) {
                    t.preventDefault(), t.stopPropagation(), e.$broadcast("contextMenu", t)
                })
            }
        }
    }

    n.$inject = ["$rootScope"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.multiSelect", []).directive("eqxMultiSelectPanel", n(1063)).directive("eqxMultiSelect", n(1068)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !1, scope: {}, template: n(1067), controller: o}
    }

    n(1064), n(1065);
    var o = n(1066);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t, n, o, c, l, d, m, f, g, h, v, y, b) {
        "ngInject";

        function x() {
            q = e.items = n.items, q.length < 2 || (_ = g.getCurrentPage(), P = _.groupManager, q = e.items = P.filterNestedItems(n.items), O = e.comps = P.extractComps(q), T(), k(), S(), w())
        }

        function w() {
            for (var t = 0; t < O.length; t++) if (7 != O[t].compJson.type) {
                e.flagCompsNewText = !1;
                break
            }
            if (t === O.length) {
                e.flagCompsNewText = !0, I().then(function () {
                    e.vm.fontsLoaded = !0;
                    var t = void 0, n = [];
                    O.forEach(function (t) {
                        var i = t.compJson.css.fontFamily, o = e.vm.fonts.find(function (e) {
                            return e.fontFamily === i
                        });
                        o = o || F, n.push(o.name)
                    }), t = r(n), e.setFontStyle.selectedFontName = L = t || null
                });
                var n = void 0, i = [];
                O.forEach(function (e) {
                    i.push(parseInt(e.compJson.css.fontSize || 16))
                }), n = r(i), e.setFontStyle.inputFontSize = n || 0 === parseInt(n) ? n : null;
                var o = void 0, a = [];
                O.forEach(function (e) {
                    a.push(e.compJson.css.lineHeight || 1.5)
                }), o = r(a), e.vm.lineHeight = o || 0 === parseInt(o) ? o : null;
                var s = void 0, c = [];
                O.forEach(function (e) {
                    c.push(parseInt(100 * parseFloat(e.compJson.css.letterSpacing || "0")))
                }), s = r(c), e.setFontStyle.inputLetterSpace = s || 0 === parseInt(s) ? s : null;
                var l = void 0, p = [];
                O.forEach(function (e) {
                    p.push(e.compJson.css.color)
                }), l = r(p), e.vm.color = l || null;
                var u = void 0, d = [];
                O.forEach(function (e) {
                    d.push(e.compJson.css.backgroundColor)
                }), u = r(d), e.vm.backgroundColor = u || null
            }
        }

        function S() {
            var e = void 0, t = [];
            O.forEach(function (e) {
                t.push(parseInt(e.compJson.css.left) || 0)
            }), e = r(t), A.x = e || 0 === parseInt(e) ? e : null, t = [], O.forEach(function (e) {
                t.push(parseInt(e.compJson.css.top) || 0)
            }), e = r(t), A.y = e || 0 === parseInt(e) ? e : null
        }

        function k() {
            var e = void 0, t = [];
            O.forEach(function (e) {
                t.push(a(e.compJson.css.transform) || 0)
            }), e = r(t), A.rotate = e || 0 === parseInt(e) ? e : null
        }

        function T() {
            var e = void 0, t = [];
            O.forEach(function (e) {
                t.push(e.compJson.css.opacity || 1)
            }), e = r(t), A.opacity = e || 0 === parseInt(e) ? 100 - 100 * e : null
        }

        function C(t, n) {
            if ("默认字体" === t) E(F, n), e.setFontStyle.selectedFontName = t; else {
                var i = e.vm.fonts.find(function (e) {
                    return e.name === t
                });
                if (0 == i.expStatus) v.getFontStatus(i.id, i.productId).then(function (e) {
                    var t = e.data.map;
                    1 === t.status ? l.openConfirmDialog({
                        msg: "当前字体已过期，是否重新购买？",
                        confirmName: "立即购买",
                        cancelName: "取消"
                    }).then(function () {
                        c.buyFont(i).then(function () {
                            c.myFont.myFontLists = []
                        })
                    }) : y.danger("当前字体已下架，请使用其他字体")
                }); else {
                    if (2 == j.type && 0 == i.license && c.myFont.personFontNoTip.indexOf(i.name) == -1) {
                        var o = '<div class="upgrade-font-box">\n                                        当前字体<span class="color-blue">' + i.name + '</span>\n                                        是个人授权版，不可用于商业用途是否购买企业授权版。\n                                        <div class="upgrade-font-tips">\n                                            <input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>\n                                            当前字体不再提示并已知晓版权风险。\n                                        </div>\n                                   </div>',
                            r = {msg: o, confirmName: "坚持使用", cancelName: "去购买", noTips: !1};
                        return l.openConfirmDialog(r).then(function () {
                            r.noTips && c.myFont.personFontNoTip.push(i.name), E(i, n), e.setFontStyle.selectedFontName = t
                        }, function () {
                            r.noTips && c.myFont.personFontNoTip.push(i.name), c.buyFont(i).then(function () {
                                c.myFont.myFontLists = []
                            })
                        })
                    }
                    E(i, n), e.setFontStyle.selectedFontName = t
                }
            }
        }

        function I() {
            return c.getMyFontList().then(function (t) {
                e.vm.fonts = t
            })["catch"](function (e) {
                l.openMsgDialog({msg: e.data.msg})
            })
        }

        function $() {
            c.openFontShopping()
        }

        function E(e, t) {
            var n = {fontFamily: e.fontFamily};
            c.editFontList.indexOf(e.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + e.fontFamily + "';src: url('" + m.FILE + e.woffPath + "') format('woff'), url('" + m.FILE + e.ttfPath + "') format('truetype');;}")), c.editFontList.push(e.fontFamily)), t.$context.css(n), t.updateCss(n), L = e.name
        }

        var P, _ = void 0, q = e.items = [], O = e.comps = [], A = e.vm = {
            canPaste: !1, get groups() {
                return []
            }
        };
        e.themeSkin = b.getItem("themeSkin") || "white", e.test = function () {
            s("test")
        }, e.$watch(function () {
            return n.items.map(function (e) {
                return e.id
            }).join(",")
        }, function () {
            s("selectService.items.change"), x()
        }), e.$watch(function () {
            return o.get().length > 0
        }, function (e) {
            A.canPaste = e
        }), e.close = function () {
            h.workspace.compSettingShow = !1, h.workspace.layerBgSetting = !1
        }, e.copyComps = function () {
            o.add.apply(o, i(n.comps))
        }, e.pasteComps = function () {
            t.$broadcast("multiSelect.paste")
        }, e["delete"] = function () {
            t.$broadcast.apply(t, ["wsComp.delete"].concat(i(n.items)))
        }, e.$on("change.theme", function (t, n) {
            n && (e.themeSkin = n)
        });
        var j = d.getCurrentUser(), L = null,
            F = {name: "默认字体", fontFamily: "Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif"};
        e.vm.fontSizes = p, e.vm.letterSpaces = u, e.flagCompsNewText = !1, e.setFontStyle = {}, e.setFontStyle.selectedFontName = null, e.setFontStyle.inputFontSize = null, e.$watch("vm.opacity", function (e, t) {
            !e && 0 != e || e == t || O.forEach(function (t) {
                t.update$li({opacity: (100 - e) / 100})
            })
        }), e.$watch("vm.rotate", function (e, n) {
            !e && 0 != e || e == n || q.forEach(function (n) {
                n.instantRotate(e), t.$broadcast("compSetting.rotate", n)
            })
        }), e.moveX = function (e) {
            O.forEach(function (t) {
                t.moveToX(e)
            })
        }, e.moveY = function (e) {
            O.forEach(function (t) {
                t.moveToY(e)
            })
        }, e.align = function (e) {
            _.alignItems(q, e)
        }, e.$on("compDrag.move", function (e, t, n) {
            if (O.length > 1) {
                var i = n.x - t.x, o = n.y - t.y, a = void 0, s = [];
                O.forEach(function (e) {
                    s.push(parseInt(e.compJson.css.left) || 0)
                }), a = r(s), A.x = a || 0 === parseInt(a) ? a + i : null, s = [], O.forEach(function (e) {
                    s.push(parseInt(e.compJson.css.top) || 0)
                }), a = r(s), A.y = a || 0 === parseInt(a) ? a + o : null
            }
        }), e.changeFontFamily = function (t) {
            "+1" === t ? ($(), e.setFontStyle.selectedFontName = L) : O.forEach(function (e) {
                C(t, e)
            })
        }, e.changeFontSize = function (t) {
            if (t) e.setFontStyle.inputFontSize = t; else {
                var n = void 0;
                t = e.setFontStyle.inputFontSize.replace(/[^\d]/g, ""), n = parseInt(t), t = n ? n < 12 ? 12 : n > 96 ? 96 : n : 12, e.setFontStyle.inputFontSize && f(function () {
                    e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96)
                }, 750)
            }
            var i = {fontSize: t + "px"};
            O.forEach(function (e) {
                e.$context.css(i), e.updateCss(i), e.autoAdjustSize()
            })
        }, e.zoomFontSize = function (t) {
            var n = void 0;
            e.setFontStyle.inputFontSize ? (e.setFontStyle.inputFontSize = parseInt(e.setFontStyle.inputFontSize) + parseInt(t), e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96), n = {fontSize: e.setFontStyle.inputFontSize + "px"}, O.forEach(function (e) {
                e.$context.css(n), e.updateCss(n), e.autoAdjustSize()
            })) : O.forEach(function (e) {
                n = {fontSize: parseInt(e.compJson.css.fontSize || 16) + parseInt(t) + "px"}, e.$context.css(n), e.updateCss(n), e.autoAdjustSize()
            })
        }, e.$watch("vm.lineHeight", function (e, t) {
            e != t && O.forEach(function (t) {
                t.update$boxDiv({lineHeight: e}), t.autoAdjustSize()
            })
        }), e.$watch("vm.letterSpace", function (t, n) {
            t != n && O.forEach(function (n) {
                e.changeLetterSpace(t)
            })
        }), e.changeLetterSpace = function (t) {
            if (t || 0 == t) e.setFontStyle.inputLetterSpace = parseInt(t); else {
                var n = void 0;
                t = e.setFontStyle.inputLetterSpace.toString().replace(/[^\d]/g, ""), n = parseInt(t), t = n ? n > 100 ? 100 : n : 0, e.setFontStyle.inputLetterSpace ? f(function () {
                    e.setFontStyle.inputLetterSpace > 100 && (e.setFontStyle.inputLetterSpace = 100)
                }, 750) : f(function () {
                    e.setFontStyle.inputLetterSpace = e.setFontStyle.inputLetterSpace || 0
                }, 750)
            }
            var i = {letterSpacing: parseInt(t) / 100 + "em"};
            O.forEach(function (e) {
                e.$context.css(i), e.updateCss(i), e.autoAdjustSize()
            })
        }, e.$watch("vm.color", function (e, t) {
            e != t && O.forEach(function (t) {
                t.update$boxDiv({color: e})
            })
        }), e.$watch("vm.backgroundColor", function (e, t) {
            e != t && O.forEach(function (t) {
                t.update$boxDiv({backgroundColor: e})
            })
        }), e.refreshScroll = function (t) {
            e.$broadcast("scroll.refresh." + t)
        }, e.updateIndex = function (e) {
            var n = g.getCurrentPage();
            n.updateItemsIndex(e, q), t.$broadcast("comp.updateIndex")
        }, e.toolFuncs = function (t) {
            O.forEach(function (n) {
                var i = {};
                switch (t) {
                    case"bold":
                        i = {fontWeight: "bold" === n.compJson.css.fontWeight ? "normal" : "bold"};
                        break;
                    case"italic":
                        i = {fontStyle: "italic" === n.compJson.css.fontStyle ? "normal" : "italic"};
                        break;
                    case"underline":
                        i = {textDecoration: "underline" === n.compJson.css.textDecoration ? "none" : "underline"};
                        break;
                    case"left":
                        i = {textAlign: "left"};
                        break;
                    case"center":
                        i = {textAlign: "center"};
                        break;
                    case"right":
                        i = {textAlign: "right"};
                        break;
                    case"clear":
                        C("默认字体", n), e.changeFontSize(16), e.vm.lineHeight = 1.5, e.changeLetterSpace(0), e.vm.color = "#676767", e.vm.backgroundColor = "rgba(0,0,0,0)", i = {
                            fontWeight: "normal",
                            fontStyle: "normal",
                            textDecoration: "none",
                            textAlign: "center"
                        }
                }
                n.$context.css(i), n.update$boxDiv(i), n.autoAdjustSize()
            })
        }
    }

    function r(e) {
        for (var t = e[0], n = 1; n < e.length; n++) if (e[n] != t) return !1;
        return t
    }

    function a(e) {
        var t = c.parseTransform(e || "");
        return l(t.rotate) || 0
    }

    o.$inject = ["$scope", "$rootScope", "selectService", "copyService", "fontService", "modalService", "userService", "HOST", "$timeout", "sceneService", "flagService", "fontAPI", "notifier", "storageService"], n(1064);
    var s = console.log.bind(console, "[multiSelectPanel]"), c = n(520), l = n(249).toInt,
        p = [{name: "fontSizeList1", value: "96"}, {name: "fontSizeList2", value: "64"}, {
            name: "fontSizeList3",
            value: "48"
        }, {name: "fontSizeList4", value: "32"}, {name: "fontSizeList5", value: "24"}, {
            name: "fontSizeList6",
            value: "20"
        }, {name: "fontSizeList7", value: "18"}, {name: "fontSizeList8", value: "16"}, {
            name: "fontSizeList9",
            value: "14"
        }, {name: "fontSizeList10", value: "13"}, {name: "fontSizeList11", value: "12"}],
        u = [{name: "0%", scale: "0"}, {name: "10%", scale: "10em"}, {name: "25%", scale: "25em"}, {
            name: "50%",
            scale: "50em"
        }, {name: "75%", scale: "75em"}, {name: "100%", scale: "100em"}];
    e.exports = o
}, function (e, t) {
    e.exports = '<div class="select-panel" panel-draggable=".modal-header" ng-if="items && items.length > 1" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="modal-header"><button ng-if="!ability" type="button" class="close" style="margin-top:2px" data-dismiss="modal" ng-click="close()"><span aria-hidden="true" class="fr hint--bottom hint--rounded" data-hint="点击收起多选操作面板"><em class="eqf-arrow-bigger"></em></span></button><div class="modal-title h4"><span>多选操作</span></div></div><div class="select-content"><eqx-multi-select></eqx-multi-select></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !1, template: n(1069)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<ul class="align-btns"><li><a class="hint--bottom hint--rounded" ng-click="align(\'左对齐\')" eqx-align data-hint="左对齐"><span class="eqf-putleft"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'水平居中对齐\')" eqx-align data-hint="水平居中对齐"><span class="eqf-putmiddle"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'右对齐\')" eqx-align data-hint="右对齐"><span class="eqf-putright"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'上对齐\')" eqx-align data-hint="上对齐"><span class="eqf-puttop"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'垂直居中对齐\')" eqx-align data-hint="垂直居中对齐"><span class="eqf-putcenter"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'下对齐\')" eqx-align data-hint="下对齐"><span class="eqf-putunder"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'竖直均分\')" eqx-align data-hint="竖直均分"><span class="eqf-chuizhijunfen"></span></a></li><li><a class="hint--bottom hint--rounded" ng-click="align(\'水平均分\')" eqx-align data-hint="水平均分"><span class="eqf-shuipingjunfen"></span></a></li></ul><ul class="func-btns" style="margin-bottom: 8px"><li ng-click="updateIndex(\'++\')" ng-if="!ability"><a class="hint--bottom hint--rounded" data-hint="置顶"><span class="eqf-ontop up-all"></span></a></li><li ng-click="updateIndex(\'+1\')" ng-if="!ability"><a class="hint--bottom hint--rounded" data-hint="上移一层"><span class="eqf-putup up"></span></a></li><li ng-click="updateIndex(\'-1\')" ng-if="!ability"><a class="hint--bottom hint--rounded" data-hint="下移一层"><span class="eqf-putdown down"></span></a></li><li ng-click="updateIndex(\'--\')" ng-if="!ability"><a class="hint--bottom hint--rounded" data-hint="置底"><span class="eqf-onground down-all"></span></a></li><li ng-click="copyComps()"><a class="hint--bottom hint--rounded" data-hint="复制"><span class="eqf-copy-f"></span></a></li><li ng-click="pasteComps()"><a class="hint--bottom hint--rounded" data-hint="粘贴" ng-class="{disabled: !vm.canPaste}"><span class="eqf-print-f"></span></a></li><li ng-click="delete()"><a class="hint--bottom hint--rounded" data-hint="删除" eqx-delete-more><span class="eqf-delete-f"></span></a></li></ul><div ng-if="comps.length > 1 && flagCompsNewText && !ability"><div class="style_list_item clearfix" ng-if="vm.fontsLoaded"><label>字体</label><div class="font-family clearfix"><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontFamily\')"><span ng-bind="setFontStyle.selectedFontName"></span> <b class="caret"></b></a><div class="dropdown-menu"><div eqd-scroll scroll="fontFamily"><ul><li class="dropdown-item"><a ng-click="changeFontFamily(\'默认字体\');">默认字体</a></li><li class="dropdown-item" ng-repeat="font in vm.fonts" ng-if="font.status == 1"><a ng-click="changeFontFamily(font.name);" ng-class="{\'fontDisable\': font.expStatus == 0}" ng-bind="font.name"></a></li><li class="dropdown-item"><a class="more-btn" ng-click="changeFontFamily(\'+1\');">更多字体</a></li></ul></div></div></div></div></div><div class="style_list_item clearfix"><label>字号</label><div class="font-size clearfix"><div class="func-btns"><a class="btn zoom-in" ng-click="zoomFontSize(+2)">A+</a> <a class="btn zoom-out" ng-click="zoomFontSize(-2)">A-</a></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontSize\')"><span>{{setFontStyle.inputFontSize ? setFontStyle.inputFontSize + \'px\' : \'\'}}</span> <b class="caret"></b></a><div class="dropdown-menu" style="min-width:100px"><div eqd-scroll scroll="fontSize" style="max-height: 120px"><ul><li><a class="input-selection"><input type="text" ng-change="changeFontSize()" ng-model="setFontStyle.inputFontSize"></a></li><li class="dropdown-item" ng-repeat="fontSize in vm.fontSizes"><a ng-click="changeFontSize(fontSize.value);">{{::fontSize.value}}px</a></li></ul></div></div></div></div></div><div class="style_list_item clearfix"><label>行高</label><div class="line-height clearfix"><div class="slider2" type="n" fixed="1" min="0" max="3" ng-model="vm.lineHeight" ui-slider-t></div><p class="num"><input type="number" step="0.1" min="0" max="3" ng-model="vm.lineHeight" limit-input/></p></div></div><div class="style_list_item clearfix"><label>字距</label><div class="letter-space clearfix"><div class="slider2" type="n" fixed="1" min="0" max="100%" ng-model="vm.letterSpace" ui-slider-t></div><p class="num"><input type="number" step="0.1" min="0" max="100%" ng-model="vm.letterSpace" limit-input/></p></div></div><div class="style_list_item clearfix"><label>文字颜色</label><div class="color clearfix"><eqd-input-color2 select-color="vm.color" direction="left" theme="flo_left" notify="grid" x="-1" w="70" h="30" toolcolorpicker="styleColorPicker" isconverttransparent="true" style=""></eqd-input-color2></div></div><div class="style_list_item clearfix"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 style="margin-top: 3px" select-color="vm.backgroundColor" direction="left" theme="flo_left" notify="grid" x="-1" w="70" h="30" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color2></div></div><div class="style_list_item clearfix"><div class="tool-btns clearfix"><div class="group"><a class="hint--bottom hint--rounded tool-bold" data-hint="加粗" ng-click="toolFuncs(\'bold\');"><i class="eqf-b"></i> </a><a class="hint--bottom hint--rounded italic" data-hint="倾斜" ng-click="toolFuncs(\'italic\');"><i class="eqf-i"></i> </a><a class="hint--bottom hint--rounded underline" data-hint="下划线" ng-click="toolFuncs(\'underline\');"><i class="eqf-u"></i> </a><a class="hint--bottom hint--rounded" data-hint="居左" ng-click="toolFuncs(\'left\')"><i class="eqf-align-left"></i> </a><a class="hint--bottom hint--rounded" data-hint="居中" ng-click="toolFuncs(\'center\')"><i class="eqf-align-center"></i></a><a class="hint--bottom hint--rounded" data-hint="居右" ng-click="toolFuncs(\'right\')"><i class="eqf-align-right"></i> </a><a class="hint--bottom hint--rounded" data-hint="清除样式" ng-click="toolFuncs(\'clear\')"><i class="eqf-clear-f"></i></a></div></div></div></div><div class="style_list_item clearfix" ng-if="!ability"><label>位置</label><div class="position clearfix"><span>X</span> <input type="number" min="-1000" max="1000" ng-model="vm.x" ng-change="moveX(vm.x)" limit-input/> <span>Y</span> <input type="number" min="-1000" ng-model="vm.y" ng-change="moveY(vm.y)" limit-input/></div></div><div class="style_list_item clearfix" ng-if="!ability"><div><label>旋转</label><div class="rotate clearfix"><div class="slider2" type="n" ng-model="vm.rotate" min="0" max="360" ui-slider-t></div><p class="num"><input class="short" type="number" min="0" max="359" step="1" ng-model="vm.rotate" limit-input/></p></div></div></div><div class="style_list_item clearfix" ng-if="!ability"><label>透明度</label><div class="opacity clearfix"><div class="slider2" type="n" ng-model="vm.opacity" min="0" max="100" ui-slider-t></div><p class="num"><input class="short" type="number" min="0" max="100" ng-model="vm.opacity" limit-input/></p></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.tool", []).directive("eqxWsTool", n(1071)).directive("eqxToolBg", n(1074)).directive("eqxToolEffect", n(1076)).directive("eqxToolBgm", n(1078)).directive("eqxToolGrid", n(1080)).directive("eqxToolZoom", n(1082)).directive("eqxZoomTip", n(1084)).directive("eqxZoomWs", n(1087)).directive("fixedTool", n(1088)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            replace: !0,
            scope: {showPhone: "=", eqxPage: "="},
            template: n(1073),
            controller: ["$scope", "$rootScope", "$q", "$timeout", "selectService", "historyService", "workspaceService", "warnService", "flagService", "authorityService", "storageService", "modalService", "pipService", function (e, t, n, i, o, r, a, s, c, l, p, u, d) {
                "ngInject";

                function m() {
                    if (f) {
                        var e = f.pageJson.id;
                        g = r.getPageHistory(e)
                    } else g = null
                }

                e.themeSkin = p.getItem("themeSkin") || "white";
                var f = null, g = null;
                e.vm = {
                    get showPhone() {
                        if (f) {
                            var e = f.pageJson.properties;
                            if (e.longPage) return !1
                        }
                        return a.showPhone
                    }, get warn() {
                        return s.state
                    }
                }, e.canBack = function () {
                    return !!g && g.canBack()
                }, e.canForward = function () {
                    return !!g && g.canForward()
                }, e.back = function () {
                    t.$broadcast("tool.back")
                }, e.forward = function () {
                    t.$broadcast("tool.forward")
                }, e.preview = function () {
                    function e() {
                        l.permission("preview") ? (f.eqxCompList.forEach(function (e) {
                            return e.stopAnimation()
                        }), i(function () {
                            f.eqxCompList.forEach(function (e) {
                                return e.startAnimation({maxCount: 1, reset: !0})
                            })
                        }, 1)) : c.workspace.preview = !0
                    }

                    f && (f.toJson(), d.isCurrentPageGenerated().then(function () {
                        e()
                    })["catch"](function () {
                        u.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            t.$broadcast("pip.generate")
                        })
                    }))
                }, e.copyPage = function () {
                    t.$broadcast("tool.copyPage")
                }, e.togglePhone = function () {
                    if (f) {
                        var e = f.pageJson.properties;
                        if (e.longPage) return
                    }
                    a.showPhone = !a.showPhone
                }, e.$watch("eqxPage", function () {
                    f = e.eqxPage, m()
                }), e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                }), e.openRemind = function () {
                    t.$broadcast("psd.open")
                }
            }]
        }
    }

    n(1072), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="help-tool all-change"><div class="ws-tool" fixed-tool panel-draggable=".ws-tool-note-top" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><div class="ws-tool-note-top"><span>=</span></div><a data-hint="撤消(ctrl+z)" ng-class="{active: canBack()}" class="hint--right hint--rounded" ng-click="back()"><i class="eqf-back"></i> </a><a data-hint="恢复(ctrl+y)" ng-class="{active: canForward()}" class="hint--right hint--rounded" ng-click="forward()"><i class="eqf-rework"></i> </a><a data-hint="刷新预览" class="active hint--right hint--rounded" ng-click="preview()"><i class="eqf-play"></i> </a><a data-hint="复制当前页" class="active hint--right hint--rounded" ng-click="copyPage()"><i class="eqf-copy-l"></i></a><eqx-tool-bg></eqx-tool-bg><eqx-tool-bgm></eqx-tool-bgm><eqx-tool-effect></eqx-tool-effect><eqx-tool-grid></eqx-tool-grid><eqx-tool-zoom></eqx-tool-zoom><a data-hint="手机边框" class="hint--right hint--rounded" ng-click="togglePhone()" ng-class="{active: vm.showPhone}"><i class="eqf-phone-l"></i></a><div class="psdTool" ng-click="openRemind();"><i class="eqf-ps" style="font-size:18px"></i></div><a id="warn" data-hint="{{vm.warn == \'warning\' ? \'超出虚线内边框的内容，在部分老机型手机中将无法看到\' : \'超出虚线外边框的内容，将无法在手机中被看到\'}}" class="hint--bottom hint--rounded" ng-class="vm.warn"><i class="eqf-alert-l"></i></a></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1075),
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "flagService", "authorityService", "selectService", function (e, t, n, i, o, r) {
                "ngInject";

                function a() {
                    var e = n.getCurrentPage();
                    if (e) return e.pageJson.elements.find(function (e) {
                        return "3" === e.type
                    })
                }

                e.vm = {
                    get bgJson() {
                        return a()
                    }
                }, e.toggle = function () {
                    r.removeAll(), o.permission("pageSetting") && !i.workspace.compSettingShow ? t.$broadcast("open.pageSetting") : i.workspace.pageSetting = !0, t.$broadcast("bgEdit.done")
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<a data-hint="页面设置" ng-click="toggle()" class="hint--right hint--rounded" ng-class="{active: !!vm.bgJson}"><i class="eqf-backgroud-l"></i></a>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1077),
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", function (e, t, n) {
                "ngInject";
                var i = e.vm = {
                    get showEffect() {
                        var e = n.getCurrentPage();
                        if (e) return !!e.pageJson.properties.effect
                    }, showPanel: !1
                };
                e.toggle = function () {
                    i.showEffect ? i.showPanel = !0 : (e.changeEffect(), i.showPanel = !1)
                }, e.closePanel = function () {
                    i.showPanel = !1
                }, e.changeEffect = function () {
                    i.showPanel = !1, t.$broadcast("pageEffect.edit")
                }, e.removeEffect = function () {
                    i.showPanel = !1, t.$broadcast("pageEffect.delete")
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<a data-hint="特效" class="hint--right hint--rounded" ng-click="toggle()" ng-class="{active: vm.showEffect}"><i class="eqf-specialsence-f" style="font-size:16px"></i></a><div class="effects-container" ng-if="vm.showPanel" ng-class="{\'on\':vm.showPanel}" outside-click="closePanel()"><div class="effects-panel"><div class="setting-group" ng-click="changeEffect()" data-event="12033"><div class="setting-btn"><span class="eqf-refresh-ccw"></span></div><span>更换</span></div><div class="setting-group" ng-click="removeEffect()" data-event="12033"><div class="setting-btn"><span class="eqf-delete-l"></span></div><span>删除</span></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1079),
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", function (e, t, n) {
                "ngInject";
                var i = n.eqxScene, o = e.vm = {
                    get showBgm() {
                        return !!i.sceneJson.meta.bgAudio
                    }, showPanel: !1
                };
                e.toggle = function () {
                    o.showBgm ? o.showPanel = !0 : (e.changeBgm(), o.showPanel = !1)
                }, e.closePanel = function () {
                    o.showPanel = !1
                }, e.changeBgm = function () {
                    o.showPanel = !1, t.$broadcast("bgm.edit")
                }, e.removeBgm = function () {
                    o.showPanel = !1, t.$broadcast("bgm.delete")
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<a data-hint="音乐" class="hint--right hint--rounded" ng-click="toggle()" ng-class="{active: vm.showBgm}"><i class="eqf-music-l"></i></a><div class="music-container" ng-class="{\'on\': vm.showPanel }" ng-if="vm.showPanel" outside-click="closePanel()"><div class="music-panel"><div class="setting-group" ng-click="changeBgm()" data-event="12032"><div class="setting-btn"><span class="eqf-refresh-ccw"></span></div><span>更换</span></div><div class="setting-group" ng-click="removeBgm()" data-event="12032"><div class="setting-btn"><span class="eqf-delete-l"></span></div><span>删除</span></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1081),
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "assistLineService", "assistGridService", function (e, t, n, i, o) {
                "ngInject";
                var r = o, a = i, s = e.vm = {
                    get gridState() {
                        return r.getGridState() ? "enable" : "disable"
                    }, set gridState(e) {
                        return r.setGridState("enable" == e)
                    }, get gridColor() {
                        return r.getColor()
                    }, set gridColor(e) {
                        r.setColor(e)
                    }, get attractState() {
                        return a.getAttractState() ? "enable" : "disable"
                    }, set attractState(e) {
                        a.setAttractState("enable" == e), a.getAttractState() && a.setAssistLineState(!0)
                    }, get assistLineState() {
                        return a.getAssistLineState() ? "enable" : "disable"
                    }, set assistLineState(e) {
                        a.setAssistLineState("enable" == e), a.getAssistLineState() || a.setAttractState(!1)
                    }, get showGrid() {
                        return a.getAttractState() || a.getAssistLineState() || r.getGridState()
                    }, showPanel: !1
                };
                e.toggle = function () {
                    s.showPanel = !0
                }, e.closePanel = function () {
                    s.showPanel = !1
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<a data-hint="网格设置" class="hint--right hint--rounded grid-guide" ng-click="toggle()" ng-class="{active: vm.showGrid}"><i class="eqf-net"></i></a><div class="grid-guide-container on" ng-if="vm.showPanel" outside-click="closePanel()"><div class="grid-guide-setting"><div class="setting-group"><span>网格开关</span><div class="setting-choice"><switch-btn ng-model="vm.gridState"></switch-btn></div></div><div class="setting-group"><span style="height:18px">网格颜色</span><div class="setting-group" style="margin-left: 40px"><eqd-input-color select-color="vm.gridColor" direction="left" theme="flo_lef" notify="grid" x="-18" w="40" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="setting-group"><span>智能参考</span><div class="setting-choice"><switch-btn ng-model="vm.assistLineState"></switch-btn></div></div><div class="setting-group"><span>吸附效果</span><div class="setting-choice"><switch-btn ng-model="vm.attractState"></switch-btn></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            scope: {},
            template: o,
            controller: ["$scope", "zoomService", "$rootScope", "authorityService", function (e, t, n, i) {
                "ngInject";
                var o = e.vm = {scale: 1, showPanel: !1};
                e.showPanel = function () {
                    o.showPanel = !0
                }, e.closePanel = function () {
                    o.showPanel = !1
                }, e.update = function () {
                    n.$broadcast("updateScale", t.getScale())
                }, e.setDefault = function () {
                    t.setDefault(), e.update(), e.closePanel()
                }, e.zoomOut = function () {
                    t.zoomOut(), e.update(), e.closePanel()
                }, e.zoomIn = function () {
                    t.zoomIn(), e.update(), e.closePanel()
                }, e.$on("keymap.zoomout", function () {
                    e.zoomOut()
                }), e.$on("keymap.zoomin", function () {
                    e.zoomIn()
                })
            }]
        }
    }

    var o = n(1083);
    e.exports = i
}, function (e, t) {
    e.exports = '<a data-hint="编辑区域缩放" ng-if="!toolZoomAccessController" ng-click="showPanel()" eqx-red-dot-trigger="redDotZoom" class="hint--right hint--rounded active"><em eqx-red-dot="redDotZoom"></em> <i class="eqf-search-l"></i></a><div class="zoom-container on" ng-if="vm.showPanel" outside-click="closePanel()"><div class="zoom-panel"><a ng-click="zoomOut()"><i class="eqf-zoom-out"></i></a> <a ng-click="zoomIn()"><i class="eqf-zoom-in"></i></a> <a ng-click="setDefault()">默认</a></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            scope: {}, replace: !0, template: o, link: function (e, t) {
                e.$on("updateScale", function () {
                    e.showZoomTip(t)
                })
            }, controller: ["$scope", "zoomService", function (e, t) {
                "ngInject";

                function n(e) {
                    return parseInt(100 * e, 10) + "%"
                }

                e.vm = {tip: n(t.getScale())};
                var i = null;
                e.showZoomTip = function (e) {
                    e.html(n(t.getScale())), e.fadeIn(800), i && clearTimeout(i), i = setTimeout(function () {
                        e.fadeOut(800)
                    }, 2500)
                }
            }]
        }
    }

    n(1085);
    var o = n(1086);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="zoom-tip">{{vm.tip}}</div>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        return {
            scope: {}, link: function (n, i) {
                function o(e) {
                    i.css("transform", "scale(" + e + ")"), setTimeout(function () {
                        var t = c.getBoundingClientRect(), n = t.left + t.width / 2, o = t.top + t.height / 2,
                            r = i[0].getBoundingClientRect(), a = r.left + r.width / 2, s = r.top + r.height / 2,
                            l = a - n, p = s - o;
                        e > 1 && (p /= 2), l >= 0 ? c.scrollLeft = l : c.scrollLeft = 0, p >= 0 ? c.scrollTop = p : c.scrollTop = 0
                    }), e < 1 ? i.css({height: s}) : 1 === e ? i.css({height: s}) : i.css({height: s * e})
                }

                var r = 0;
                i.parent().scroll(function () {
                    var e = $(this).scrollLeft();
                    r !== e && (r = e, n.$apply(function () {
                        t.$broadcast("wsHorizontal")
                    }))
                });
                var a = 60, s = $(document).height() - a;
                i.css({height: s});
                var c = i.parent()[0];
                n.$watch(function () {
                    return e.getScale()
                }, function (e, t) {
                    e !== t && o(e)
                }), o(e.getScale())
            }
        }
    }

    n.$inject = ["zoomService", "$rootScope"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        return {
            restrict: "A", link: function (n, i) {
                function o(e) {
                    var n = $("#containment").width();
                    $(".help-tool").css({right: n});
                    var o = $(".workspace")[0], r = o.offsetWidth, a = o.clientWidth, s = r - a, c = o.scrollLeft,
                        l = $(".eqx-assist-grid")[0], p = l.getBoundingClientRect(), u = p.width;
                    if (e) u += 6; else {
                        var d = t.getScale();
                        u += 54 * d, d > 1 && (u += 2 * d)
                    }
                    i.css({transform: "translate(" + (u / 2 - s / 2 - c) + "px, -50%)"})
                }

                n.$watch("showPhone", function (e) {
                    o(e)
                }), n.$watch("eqxPage", function () {
                    e(function () {
                        return o(n.showPhone)
                    })
                }), ["compDrag.move", "selectBox.move", "wsComp.add", "wsComp.delete.end", "compResize.move", "wsHorizontal"].forEach(function (e) {
                    n.$on(e, function () {
                        o(n.showPhone)
                    })
                }), $(window).resize(function () {
                    o(n.showPhone)
                }), n.$on("panel.change", function () {
                    e(function () {
                        o(n.showPhone)
                    }, 100)
                }), n.$on("updateScale", function () {
                    e(function () {
                        o(n.showPhone)
                    }, 0)
                })
            }
        }
    }

    n.$inject = ["$timeout", "zoomService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.outbox", []).directive("eqxWsOutbox", n(1090)).directive("middleboxCss", n(1093)).directive("outboxCss", n(1094)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1092),
            scope: {eqxPage: "="},
            controller: ["$scope", "warnService", "$timeout", "WARN_TYPE", function (e, t, n, i) {
                "ngInject";

                function r() {
                    if (!c) {
                        var n = e.eqxPage;
                        if (!n) return void t.updateState(i.normal);
                        var r = n.pageJson.properties, s = r.longPage, l = 374, p = 320;
                        if (s) u = s, d = u + 17; else var u = 486, d = 520;
                        var m = new a(0, 0, p, u), f = new a((-27), (-17), l, d), g = !1, h = !1;
                        n.eqxCompList.forEach(function (e) {
                            var t = e.compJson.css, n = o(t, {x: 0, y: 0});
                            m.contains(n) || (g = !0), f.contains(n) || (h = !0)
                        }), t.updateState(h ? i.alert : g ? i.warn : i.normal), c = !1
                    }
                }

                var s = e.vm = {
                    get state() {
                        return t.state
                    }, get outboxClass() {
                        return s.state === i.alert ? "alerting" : ""
                    }, get inboxClass() {
                        return s.state === i.warn ? "warning" : ""
                    }
                }, c = !1;
                ["compResize.end", "compRotate.end", "keymap.dirMove", "compDrag.end", "wsComp.delete", "keymap.delete", "wsComp.add", "align", "pageManager.changePage", "tool.forward", "tool.back", "keymap.forward", "keymap.back", "longPageAdjust.up"].forEach(function (t) {
                    return e.$on(t, function () {
                        return n(r)
                    })
                })
            }]
        }
    }

    function o(e, t) {
        var n = e.left, i = e.top, o = e.width, r = e.height, l = e.transform, p = new s(n + t.x, i + t.y),
            u = new s(p.x + o, p.y + r), d = new a(p, u);
        if (l) {
            var m = c.parseTransform(l);
            if (m && m.rotate) return d.rotate(m.rotate)
        }
        return d
    }

    n(1091);
    var r = n(1052), a = r.Rect, s = r.Point, c = n(520);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div outbox-css box-css class="outer-box"><span class="phone-tip">iPhone X</span><div middlebox-css class="middle-box" ng-class="vm.outboxClass"><div class="internal-box" ng-class="vm.inboxClass"></div></div></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A", link: function (e, t) {
                function n(t) {
                    var n = e.eqxPage;
                    if (n) {
                        if (!t) {
                            var r = n.pageJson.properties;
                            t = r.longPage
                        }
                        t ? (i.css({height: t + 17, "margin-bottom": 230}), o.css({
                            "border-bottom": "none",
                            height: t
                        })) : (i.css({height: 520, "margin-bottom": 50}), o.css({
                            height: 486,
                            border: "1px dashed #586077"
                        }))
                    }
                }

                var i = t, o = t.find(".internal-box");
                e.$on("longPageAdjust.move", function (e, t) {
                    n(t)
                }), e.$watch("eqxPage", function () {
                    n()
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A", link: function (e, t) {
                function n(t) {
                    var n = e.eqxPage;
                    if (n) {
                        if (!t) {
                            var o = n.pageJson.properties;
                            t = o.longPage
                        }
                        t ? i.css({height: t + 66, "margin-bottom": 230, "border-bottom": "none"}) : i.css({
                            height: 620,
                            "margin-bottom": 50,
                            border: "1px dashed #a3afb7"
                        })
                    }
                }

                var i = t;
                e.$on("longPageAdjust.move", function (e, t) {
                    n(t)
                }), e.$watch("eqxPage", function () {
                    n()
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.longPageAdjust", []).directive("eqxLongPageAdjust", n(1096)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "E", template: n(1098), scope: {eqxPage: "="}, replace: !0, link: function (t, n) {
                function i() {
                    for (var n = arguments.length, i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                    t.$apply(function () {
                        e.$broadcast.apply(e, i)
                    })
                }

                function o(e) {
                    return e + p
                }

                var r = t.vm = {show: !1, move: !1, showTip: !1}, a = $(document), s = 4860, c = 554, l = 0, p = 16;
                t.$watch("eqxPage", function () {
                    r.move = !1;
                    var e = t.eqxPage;
                    if (e) {
                        e.$newPageHeight && (r.showTip = !0), r.show = e.isLongPage();
                        var i = l = e.getPageHeight();
                        i > c || i == c || (i += 52), n.css("top", o(i))
                    } else r.show = !1, r.showTip = !1
                }), n.on("mousedown.adjust", function (e) {
                    e.stopPropagation();
                    var p = t.eqxPage, u = p.getPageHeight(), d = e.pageY, m = e.pageY, f = 0;
                    r.move = !0, i("longPageAdjust.start", l, f), a.on("mousemove.adjust", function (e) {
                        delete p.$newPageHeight, r.showTip = !1, m = e.pageY, f = m - d, l = u + f, l < c ? l = c : l > s && (l = s), i("longPageAdjust.move", l, f), n.css("top", o(l))
                    }), a.on("mouseup.adjust", function () {
                        a.off(".adjust"), r.move = !1, i("longPageAdjust.move", l, f), i("longPageAdjust.up", l, f)
                    })
                })
            }
        }
    }

    i.$inject = ["$rootScope"], n(1097), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="long-page-adjust" ng-show="vm.show" ng-class="{\'move\': vm.move}"><div class="adjust-line"></div><div class="adjust-button"><div></div></div><div class="adjust-tip" ng-show="vm.showTip">可拖拽调整页面长度</div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.pageSetting", [n(1100)]).directive("eqxPageSetting", n(1106)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageSetting.style", []).directive("pageSettingStyle", n(1101)).directive("pageSettingBg", n(1103)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            scope: {eqxPage: "=", confirm: "&"},
            template: n(1102),
            controller: ["$scope", "$rootScope", "authorityService", function (e, t, n) {
                "ngInject";
                e.clear = function () {
                    t.$broadcast("bg.delete")
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div><div class="yangshi"><page-setting-bg eqx-page="eqxPage"></page-setting-bg></div><div class="btn-option"><a class="btn btn-sm green" ng-click="confirm()">确定</a> <a class="btn btn-sm out-red" ng-click="clear()">清除背景</a></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            scope: {eqxPage: "="},
            template: n(1105),
            controller: ["$scope", "$rootScope", "authorityService", "sceneService", "historyService", "HOST", function (e, t, n, i, r, s) {
                "ngInject";

                function c(e) {
                    var t = i.getCurrentPage(), n = r.getPageHistory(t.pageJson.id);
                    n.addHistory(t.pageJson, e)
                }

                var l = e.eqxPage, p = e.bgJson = l.eqxBackground ? l.eqxBackground.compJson : o(a);
                p.css.opacity = p.css.opacity || 1, p.effect = p.effect || {type: -1};
                var u = e.ANIMATIONS = [{type: -1, name: "无"}, {type: "scaleUp", name: "放大"}, {
                        type: "scaleDown",
                        name: "缩小"
                    }, {type: 0, name: "淡入"}, {type: 1, name: "移入"}, {type: 2, name: "弹入"}, {
                        type: 3,
                        name: "中心弹入"
                    }, {type: 4, name: "中心放大"}, {type: 12, name: "翻滚进入"}, {type: 13, name: "光速进入"}, {
                        type: 26,
                        name: "魔幻进入"
                    }, {type: 27, name: "缩小进入"}, {type: 31, name: "旋转进入"}], d = e.TAB = {none: 0, base: 1},
                    m = e.vm = {tab: d.base, opacity: 100 - 100 * p.css.opacity, bgPreviewUrl: ""};
                p && p.properties.imgSrc && (m.bgPreviewUrl = s.FILE + p.properties.imgSrc), e.$watch("bgJson.properties.bgColor", function (t, n) {
                    t && n && t != n && (p.properties = {
                        bgColor: p.properties.bgColor,
                        imgSrc: null
                    }, p = e.bgJson = l.addBgJson(p), l.renderBg(l.initEqxBgByJson(p)), l.eqxBackground.updateBgOpacity(p.css.opacity), l.eqxBackground.animate(), c("修改纯色背景 " + t), m.bgPreviewUrl = "")
                }), e.$watch("vm.opacity", function (e, t) {
                    e != t && (p.css.opacity = (100 - m.opacity) / 100, l.eqxBackground.updateBgOpacity(p.css.opacity))
                }), e.editBG = function () {
                    t.$broadcast("bg.edit")
                }, e.addBG = function () {
                    t.$broadcast("bg.edit")
                }, e.$on("bgEdit.done", function () {
                    var t = i.getCurrentPage(), n = t.eqxBackground;
                    n && (p = e.bgJson = n.compJson, p.effect = p.effect || {type: -1}, n.updateBgOpacity(p.css.opacity), n.animate(), c("编辑图片背景"), m.bgPreviewUrl = s.FILE + p.properties.imgSrc)
                }), e.$on("tpl.useTpl", function () {
                    var t = i.getCurrentPage(), n = t.eqxBackground;
                    p = e.bgJson = n.compJson
                }), e.cutBG = function () {
                    t.$broadcast("bg.cut", p)
                }, e.rmBgImg = function () {
                    t.$broadcast("bg.delete")
                }, e.$on("bgDelete.done", function () {
                    p = e.bgJson = o(a), m.opacity = 0, c("删除图片背景"), m.bgPreviewUrl = ""
                }), e.setTab = function (e) {
                    m.tab = m.tab === e ? d.none : e
                }, e.onAnimTypeChange = function () {
                    var e = u.find(function (e) {
                        return e.type === p.effect.type
                    });
                    e.type != -1 && ("scaleUp" == e.type || "scaleDown" == e.type ? l.eqxBackground.animate() : l.eqxBackground.animate(), c("修改背景动画 " + e.name))
                }, e.previewAnim = function () {
                    l.eqxBackground.animate()
                }, e.clickBgPreview = function () {
                    p.properties.imgSrc ? e.editBG() : e.addBG()
                }
            }]
        }
    }

    function o(e) {
        var t, n = e.constructor === Array ? [] : {};
        if ("object" === ("undefined" == typeof e ? "undefined" : r(e))) {
            if (window.JSON) t = JSON.stringify(e), n = JSON.parse(t); else for (var i in e) n[i] = "object" === r(e[i]) ? o(e[i]) : e[i];
            return n
        }
    }

    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    n(1104);
    var a = {css: {opacity: null}, properties: {bgColor: "", imgSrc: null}, type: 3, effect: {type: -1}};
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section><div class="style_list border-bottom pl20" ng-click="setTab(TAB.base)"><span>背景样式</span> <b class="caret" ng-class="{\'off\': vm.tab !== TAB.base}"></b></div><div ng-class="{\'h-scroll\': vm.tab == TAB.base}"><div eqd-scroll style="height: 100%;max-height: 260px" disable-mouse="true" prevent-exception="true"><div><div class="style_con_hei" ng-if="vm.tab == TAB.base"><div class="style_list_angel bg-image clearfix"><div class="bg-image-label">图片背景</div><div class="bg-preview" ng-click="clickBgPreview()"><i class="eqf-plus"></i> <img ng-if="vm.bgPreviewUrl" ng-src="{{vm.bgPreviewUrl}}"/></div><div class="btns"><div style="clear: both" ng-if="!bgJson.properties.imgSrc"><a class="btn btn-sm" style="margin: 0;float: right" ng-click="addBG()">添加图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-cut" ng-click="cutBG()">裁切图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-rm" ng-click="rmBgImg()">删除图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-replace" ng-click="editBG()">更换图片</a></div></div></div><div class="style_list_angel clearfix"><label>纯色背景</label><div class="color_select clearfix"><eqd-input-color style="margin-top: 3px" select-color="bgJson.properties.bgColor" default-color="bgJson.properties.bgColor" direction="left" theme="flo_lef" notify="grid" x="-1" w="97" h="20" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="style_list_angel clearfix"><label>透明度</label><div class="touming clearfix"><p class="num"><input style="background-color: #f0f3f4" class="short" type="number" min="0" max="100" limit-input ng-model="vm.opacity"/></p><div class="slider" ui-slider-t ng-model="vm.opacity" min="0" max="100"></div></div></div><div class="style_list_angel clearfix"><label>背景效果</label><div class="flo_lef bg-effect"><select ng-model="bgJson.effect.type" ng-change="onAnimTypeChange()" ng-options="temp.type as temp.name for temp in ANIMATIONS"><option value="-1">无</option></select></div></div><div style="padding: 10px 0px"><a class="btn btn-sm blue" ng-click="previewAnim()"><span class="eqf-play-f"></span>&nbsp;预览动画</a></div></div></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            template: n(1108),
            link: function (t, n) {
                !function () {
                    var t = e.getItem("pageSettingCss") || {top: 100, left: 180};
                    t.top < 51 && (t.top = 51), t.left < 0 && (t.left = 0), n.css(t)
                }(), t.updatePosition = function () {
                    var t = parseFloat(n.css("top") || 100), i = parseFloat(n.css("left") || 180);
                    e.setItem("pageSettingCss", {top: t, left: i})
                }, n.on("mouseup.draggable", function () {
                    t.updatePosition()
                })
            },
            controller: ["$rootScope", "$scope", "selectService", "authorityService", "flagService", "sceneService", function (t, n, i, o, r, a) {
                n.eqxPage = a.getCurrentPage(), n.themeSkin = e.getItem("themeSkin") || "white", n.cancel = function () {
                    r.workspace.pageSetting = !1
                }, n.close = function () {
                    r.workspace.compSettingShow = !1, r.workspace.layerBgSetting = !1
                }, n.newPageManageUi = o.permission("newPageAndCompManage"),
                    n.confirm = function () {
                        r.workspace.pageSetting = !1
                    }, n.$on("page.delete", function () {
                    r.workspace.pageSetting = !1
                }), n.$on("selectService.add", function (e) {
                    0 != (arguments.length <= 1 ? 0 : arguments.length - 1) && (r.workspace.pageSetting = !1)
                }), n.$on("workspace.back", function () {
                    r.workspace.pageSetting = !1
                }), n.$on("workspace.forward", function () {
                    r.workspace.pageSetting = !1
                }), n.$on("change.theme", function (e, t) {
                    t && (n.themeSkin = t)
                })
            }]
        }
    }

    i.$inject = ["storageService", "authorityService"], n(1107);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="page-setting-panel" panel-draggable=".cancel" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="cancel"><span class="set-title">页面设置</span> <span class="set-close eqf-no" ng-click="cancel()"></span> <span class="fr hint--bottom hint--rounded" data-hint="点击收起组件属性面板" ng-click="close()"><em class="eqf-arrow-bigger"></em></span></div><div class="style_content manager-page-setting" style="position: absolute;top: 48px;bottom: 0;background: #FFFFFF"><page-setting-style2 eqx-page="eqxPage" confirm="confirm()" ng-if="vm.tab == TAB.style"></page-setting-style2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.group.panel", []).directive("groupManagePanel", n(1110)).directive("groupManageContent", n(1114)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {template: n(1113), restrict: "EA", scope: {group: "="}, replace: !0, controller: o}
    }

    n(1111);
    var o = n(1112);
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, p, u, d, m, f, g, h, v) {
        "ngInject";

        function y() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
            if (!j.group.hasSubItemsLocked()) {
                var i = ["nw", "ne", "se", "sw"], r = j.group.getAbsolutePos(), p = r.left, u = r.top, d = r.width,
                    m = r.height, f = r.transform, g = o.parseTransform(f).rotate, h = new a(p, u, d, m),
                    v = h.rotate(g), y = i[2], b = v[y], x = i[0], w = v[x], S = new s(w, v[i[3]]),
                    k = new s(b, v[i[1]]), T = new s(w, v[i[1]]), C = new s(b, v[i[3]]), I = b.transform2RotateCoord(g),
                    $ = new l(b).move(e, n), E = new c(I.transform2RotateCoord(-g), $.transform2RotateCoord(-g));
                j.group.onResizeStart(), j.group.onResize(E, e, n, y, S, k, T, C, g), j.group.onResizeEnd(), t.$broadcast("group.resize")
            }
        }

        function b() {
            T(), C(), $(), k(), S(), w()
        }

        function x(e) {
            function t(e) {
                var t = Number.MAX_VALUE;
                return e.forEach(function (e) {
                    var n = parseInt(e.css.top);
                    t = Math.min(t, n)
                }), t
            }

            var n = j.page.groupManager, i = t(e) - 1;
            e.forEach(function (e) {
                var t = ++i;
                e.updateCss({top: t})
            }), n.reLayout(e)
        }

        function w() {
            function t() {
                for (var e = j.group.eqxItems, t = 0; t < e.length; t++) {
                    var i = e[t];
                    if (i.isGroupItem() || !n(i)) return !1
                }
                return !0
            }

            function n(e) {
                var t = e.type.toString();
                return "a" === t || "z" === t || "c" === t || "r" === t || "6" === t || ["5", "501", "502", "503", "504"].indexOf(t) !== -1
            }

            j.form = t(), j.form && (e.forms = j.comps.slice().sort(function (e, t) {
                return e.css.top - t.css.top
            }))
        }

        function S() {
            if (!j.group.onUpdateGroupManagerFn) {
                var e = j.group.onUpdateGroupManagerFn = $;
                j.group.on("autoSizeTopDown.after", e)
            }
        }

        function k() {
            var e = [];
            j.comps.forEach(function (t) {
                e.push(t.css.opacity || 1)
            });
            var t = I(e);
            j.opacity = t || 0 === parseInt(t) ? 100 - 100 * t : null
        }

        function T() {
            var t = 0;
            j.comps.forEach(function (e) {
                var n = e.compJson.properties;
                t += n.initType
            }), t === j.comps.length ? e.vm.displayed = "1" : t === 2 * j.comps.length && (e.vm.displayed = "2")
        }

        function C() {
            j.locked = j.group.isEditLocked ? "1" : "0"
        }

        function I(e) {
            for (var t = e[0], n = 1; n < e.length; n++) if (e[n] !== t) return !1;
            return t
        }

        function $() {
            var e = j.group.getAbsolutePos();
            j.x = Math.floor(e.left), j.y = Math.floor(e.top), j.w = Math.floor(e.width), j.h = Math.floor(e.height)
        }

        function E() {
            var e = g.getDefaultJson(), n = i.getCurrentPage(), o = n.initEqxCompByJson(e);
            return o ? (n.renderEqxComp(o), t.$broadcast("groupComp.add", o), o) : null
        }

        function P() {
            var e = f.getDefaultJson(), n = i.getCurrentPage(), o = n.initEqxCompByJson(e);
            return o ? (n.renderEqxComp(o), t.$broadcast("groupComp.add", o), o) : null
        }

        function _() {
            var e = m.getDefaultJson("c"), n = i.getCurrentPage(), o = n.initEqxCompByJson(e);
            return o ? (n.renderEqxComp(o), t.$broadcast("groupComp.add", o), o) : null
        }

        function q() {
            var e = m.getDefaultJson("r"), n = i.getCurrentPage(), o = n.initEqxCompByJson(e);
            return o ? (n.renderEqxComp(o), t.$broadcast("groupComp.add", o), o) : null
        }

        function O() {
            var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
            return r ? (o.renderEqxComp(r), t.$broadcast("groupComp.add", r), r) : null
        }

        function A() {
            var e = u.getDefaultJson(), n = i.getCurrentPage(), o = n.initStatManager();
            if (o.hasSubmitButtonComp()) return d.openMsgDialog({msg: "当前页面的提交按钮已经存在，请不要重复添加。"});
            var r = n.initEqxCompByJson(e);
            return r ? (n.renderEqxComp(r), t.$broadcast("groupComp.add", r), r) : null
        }

        var j = e.vm = {
            formed: !1, type: "input", displayed: null, locked: null, get group() {
                return e.group
            }, get page() {
                return this.group.eqxPage
            }, get comps() {
                return this.group.getAllSubEqxComps()
            }
        };
        e.themeSkin = v.getItem("themeSkin") || "white", e.sortableOptions = {
            stop: function () {
                x(e.forms)
            }
        }, e.$watch("group", function (t, n) {
            t && t !== n && (r(e.group), b())
        }), e.$on("change.theme", function (t, n) {
            n && (e.themeSkin = n)
        }), e.$watchCollection("group.eqxItems", function (e, t) {
            b()
        }), e.$watch("vm.displayed", function (e, n) {
            if (e && n !== e) {
                var i = parseInt(e);
                1 === i ? j.comps.forEach(function (e) {
                    var t = e.compJson.properties;
                    t.initType = 1, e.eleShow()
                }) : 2 === i && j.comps.forEach(function (e) {
                    var t = e.compJson.properties;
                    t.initType = 2, e.eleHide()
                }), t.$broadcast("properties.initType")
            }
        }), e.$watch("vm.locked", function (e, n) {
            e && n !== e && ("1" === e ? (j.group.isEditLocked = !0, p.remove(j.group)) : "0" === e && (j.group.isEditLocked = !1), t.$broadcast("properties.initType"))
        }), e.$on("$destroy", function () {
            r("destroy"), j.group.onUpdateGroupManagerFn && (j.group.off(j.group.onUpdateGroupManagerFn), delete j.group.onUpdateGroupManagerFn)
        }), b(), e.arrange = function () {
            function t(e) {
                e.forEach(function (e) {
                    var t = e.css, n = o.parseTransform(t.transform);
                    n.rotate = 0, t.transform = o.getTransformStr(n), e.update$li({transform: t.transform})
                })
            }

            function n(e) {
                var t = i(e);
                e.forEach(function (e) {
                    return e.updateCss({left: t})
                })
            }

            function i(e) {
                var t = Number.MAX_VALUE;
                return e.forEach(function (e) {
                    var n = parseInt(e.compJson.css.left);
                    t = Math.min(t, n)
                }), t
            }

            function r(e) {
                var t = a(e);
                e.forEach(function (e) {
                    return e.updateCss({width: t})
                })
            }

            function a(e) {
                var t = Number.MIN_VALUE;
                return e.forEach(function (e) {
                    var n = parseInt(e.compJson.css.width);
                    t = Math.max(t, n)
                }), t
            }

            var s = j.page.groupManager;
            t(e.forms), n(e.forms), r(e.forms), s.reLayout(e.forms)
        }, e.remove = function (e) {
            t.$broadcast("wsComp.delete", e)
        }, e.add = function (n) {
            switch (j.type) {
                case"input":
                    var i = O();
                    break;
                case"submit":
                    i = A();
                    break;
                case"select":
                    i = q();
                    break;
                case"multi":
                    i = _();
                    break;
                case"dropdown":
                    i = P();
                    break;
                case"rate":
                    i = E()
            }
            if (i && i.compJson) {
                var o = j.page.groupManager;
                o.insertItem2Group(i, j.group), e.forms.splice(n + 1, 0, i), x(e.forms), t.$broadcast("group.form.add")
            }
        }, e.switchType = function (t) {
            e.vm.type = t
        }, e.groupAlign = function (e) {
            j.page.alignItem(j.group, e), $()
        }, e.updateIndex = function (e) {
            j.page.updateItemIndex(e, j.group), t.$broadcast("group.updateIndex")
        }, e.updateOpacity = function () {
            var e = parseFloat(j.opacity) || 0;
            j.comps.forEach(function (t) {
                t.update$li({opacity: (100 - e) / 100})
            })
        }, e.updateY = function () {
            var e = j.group.getAbsolutePos(), t = j.y - e.top;
            j.group.instantMove(0, t, !1), $()
        }, e.updateX = function () {
            var e = j.group.getAbsolutePos(), t = j.x - e.left;
            j.group.instantMove(t, 0, !1), $()
        }, e.updateHeight = function () {
            var e = j.group.getAbsolutePos(), t = e.height;
            y(0, Math.ceil(j.h - t))
        }, e.updateWidth = function () {
            var e = j.group.getAbsolutePos(), t = e.width;
            y(Math.ceil(j.w - t), 0)
        }, e.close = function () {
            h.workspace.compSettingShow = !1
        }
    }

    i.$inject = ["$scope", "$rootScope", "inputFactory", "sceneService", "selectService", "buttonFactory", "modalService", "radioFactory", "dropDownFactory", "scoreFactory", "flagService", "storageService"];
    var o = n(520), r = console.log.bind(console, "[group-manage-panel]"), a = n(521), s = n(772), c = n(1053),
        l = n(522);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="group-manage-panel" ng-class="{\'theme-black\' : themeSkin == \'black\'}" panel-draggable=".header"><div class="header"><button type="button" class="close" style="margin-top:2px" data-dismiss="modal" ng-click="close()"><span aria-hidden="true" class="fr hint--bottom hint--rounded" data-hint="点击收起组合操作面板"><em class="eqf-arrow-bigger"></em></span></button><div class="modal-title h4"><span>组合操作</span></div></div><group-manage-content></group-manage-content></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, template: n(1116)}
    }

    n(1115), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="panel-content"><ul class="align-btns"><li><a class="hint--bottom hint--rounded" data-hint="左对齐" ng-click="groupAlign(\'左对齐\')"><span class="eqf-putleft"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="水平居中对齐" ng-click="groupAlign(\'水平居中对齐\')"><span class="eqf-putmiddle"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="右对齐" ng-click="groupAlign(\'右对齐\')"><span class="eqf-putright"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="上对齐" ng-click="groupAlign(\'上对齐\')"><span class="eqf-puttop"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="垂直居中对齐" ng-click="groupAlign(\'垂直居中对齐\')"><span class="eqf-putcenter"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="下对齐" ng-click="groupAlign(\'下对齐\')"><span class="eqf-putunder"></span></a></li></ul><ul class="func-btns"><li ng-click="updateIndex(\'++\')"><a class="hint--bottom hint--rounded" data-hint="置顶"><span class="eqf-ontop up-all"></span></a></li><li ng-click="updateIndex(\'+1\')"><a class="hint--bottom hint--rounded" data-hint="上移一层"><span class="eqf-putup up"></span></a></li><li ng-click="updateIndex(\'-1\')"><a class="hint--bottom hint--rounded" data-hint="下移一层"><span class="eqf-putdown down"></span></a></li><li ng-click="updateIndex(\'--\')"><a class="hint--bottom hint--rounded" data-hint="置底"><span class="eqf-onground down-all"></span></a></li><li ng-click="arrange()" ng-if="vm.form"><a class="hint--bottom hint--rounded" data-hint="排列"><span class="eqf-align-justify down-all"></span></a></li></ul><div class="form-manage" ng-if="vm.form"><ul class="comp-list" ng-model="forms" ui-sortable="sortableOptions"><li ng-repeat="comp in forms track by comp.id"><span class="comp-name" ng-bind="comp.compJson.name"></span> <span class="rm-comp-btn" ng-click="remove(comp)"><i class="eqf-minus"></i> </span><span class="add-comp-btn" ng-click="add($index)"><i class="eqf-plus"></i></span></li></ul><div class="add-comp-btns"><div class="add-input-btn" ng-class="{\'selected\': vm.type === \'input\'}" ng-click="switchType(\'input\')"><span>输入框</span></div><div class="add-submit-btn" ng-class="{\'selected\': vm.type === \'submit\'}" ng-click="switchType(\'submit\')"><span>提交按钮</span></div><div class="add-select-btn" ng-class="{\'selected\': vm.type === \'select\'}" ng-click="switchType(\'select\')"><span>单选</span></div><div class="add-multi-btn" ng-class="{\'selected\': vm.type === \'multi\'}" ng-click="switchType(\'multi\')"><span>多选</span></div><div class="add-dropdown-btn" ng-class="{\'selected\': vm.type === \'dropdown\'}" ng-click="switchType(\'dropdown\')"><span>下拉列表</span></div><div class="add-rate-btn" ng-class="{\'selected\': vm.type === \'rate\'}" ng-click="switchType(\'rate\')"><span>评分</span></div></div></div><div class="group-manage-setting"><div class="comp-display clearfix"><label>显示设置</label><div><div><ui-radio name="display" default-value="1" value="vm.displayed"></ui-radio><label>显示</label></div><div><ui-radio name="display" default-value="2" value="vm.displayed"></ui-radio><label>隐藏</label></div></div></div><div class="comp-lock clearfix"><label>锁定设置</label><div><div><ui-radio name="lock" default-value="1" value="vm.locked"></ui-radio><label>锁定</label></div><div><ui-radio name="lock" default-value="0" value="vm.locked"></ui-radio><label>解锁</label></div></div></div><div class="group-position"><label>位置</label><div><div><span>X</span> <input type="number" min="-1000" max="1000" ng-model="vm.x" ng-change="updateX()" limit-input/></div><div><span>Y</span> <input type="number" min="-1000" ng-model="vm.y" ng-change="updateY()" limit-input/></div></div></div><div class="group-size"><label>大小</label><div><div><span>宽</span> <input type="number" min="0" max="2000" ng-model="vm.w" ng-change="updateWidth()" limit-input/></div><div><span>高</span> <input type="number" min="0" max="10000" ng-model="vm.h" ng-change="updateHeight()" limit-input/></div></div></div><div class="comp-opacity"><label>透明度</label><div><div class="slider2" min="0" max="100" ng-model="vm.opacity" ng-change="updateOpacity()" type="n" ui-slider-t></div><p class="num"><input class="short" type="number" min="0" max="100" ng-model="vm.opacity" ng-change="updateOpacity()" limit-input/></p></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.groupContextMenu", []).directive("eqxGroupContextMenu", n(1118)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t, o, r, s, c, l) {
        "ngInject";
        return {
            restrict: "EA", scope: {}, template: n(1120), replace: !0, link: function (n, p) {
                function u() {
                    p.on("mousedown.groupContextMenu", function (e) {
                        e.stopPropagation(), e.preventDefault()
                    }), p.on("$destroy", function () {
                        p.off(".groupContextMenu")
                    }), n.hide()
                }

                function d(e) {
                    return e && !e.compJson && e.id && e.id.toString().indexOf("group") !== -1
                }

                function m(t, i, o) {
                    function r(e) {
                        return e - d.p1.x
                    }

                    function s() {
                        return o - d.p1.y
                    }

                    var c = t.parent(), l = c.offset(), p = c.scrollTop(), u = c.scrollLeft();
                    l = {left: l.left - u, top: l.top - p};
                    var d = new a(l.left, l.top, c.width(), c.height());
                    e(function () {
                        var e = {width: t.width(), height: t.height()};
                        i = r(i), o = s(o), t.css({
                            left: i,
                            top: o
                        }), o + e.height > d.height - 10 && t.css("top", o - e.height - 2), i + e.width > d.width + 40 && t.css("left", i - e.width - 2), n.show(), c.on("mousemove.groupContextMenu", function (i) {
                            var o = t.offset();
                            (i.pageX < o.left - 20 || i.pageX > o.left + e.width + 20 || i.pageY < o.top - 20 || i.pageY > o.top + e.height + 20) && (n.hide(), c.off(".groupContextMenu"))
                        })
                    }, 0)
                }

                var f = n.GroupManagerAuthority = !c.permission("groupManage");
                n.show = function () {
                    p.css("visibility", "visible")
                }, n.hide = function () {
                    p.css("visibility", "hidden")
                }, n.unGroup = function () {
                    s.$broadcast("group.breakup")
                }, n.group = function () {
                    s.$broadcast("group.combine")
                }, n.themeSkin = l.getItem("themeSkin") || "white", n.$on("change.theme", function (e, t) {
                    t && (n.themeSkin = t)
                }), n.copyGroup = function () {
                    t.add.apply(t, i(o.items)), n.hide()
                }, n.pasteGroup = function () {
                    s.$broadcast("contextMenu.paste"), n.hide()
                }, n.deleteGroup = function () {
                    o.groups.length > 0 && s.$broadcast("delete.comp"), n.hide()
                }, n.updateIndex = function (e) {
                    var t = r.getCurrentPage(), n = o.groups[0];
                    t.updateItemIndex(e, n), s.$broadcast("contextMenu.zIndex")
                }, n.showUnGroup = function () {
                    return !o.comps.length && 1 === o.groups.length
                }, n.showGroup = function () {
                    return o.comps.length || o.groups.length > 1
                }, n.showFeature = function (e) {
                    return !(o.comps.length > 0 && "ZIndex" === e) && o.groups.length > 0
                }, n.showPaste = function () {
                    var e = [];
                    return t.get().forEach(function (t) {
                        d(t) && e.push(t)
                    }), e.length > 0
                }, n.$on("selectBox.start", function () {
                    n.hide()
                }), n.$on("contextMenu", function (n, i) {
                    var r = [];
                    t.get().forEach(function (e) {
                        d(e) && r.push(e)
                    }), (o.groups.length > 0 || r.length > 0 && !o.comps.length) && f && e(function () {
                        return m(p, i.pageX, i.pageY)
                    }, 0)
                }), u()
            }
        }
    }

    o.$inject = ["$timeout", "copyService", "selectService", "sceneService", "$rootScope", "authorityService", "storageService"];
    var r = n(1052), a = r.Rect;
    n(1119), e.exports = o
}, function (e, t) {
}, function (e, t) {
    e.exports = '<ul ng-show="GroupManagerAuthority" class="dropdown-menu group-context-menu" style="min-width: 150px; display: block;z-index: 1042" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><li ng-click="copyGroup()" ng-show="showFeature(\'copy\')"><a role="menuitem" tabindex="-1">复制 <span style="float: right;color: #999">Ctrl+C</span></a></li><li ng-click="pasteGroup()" ng-show="showPaste()"><a role="menuitem" tabindex="-1">粘贴</a></li><li ng-click="group()" ng-show="showGroup()"><a role="menuitem" tabindex="-1">组合</a></li><li ng-click="unGroup()" ng-show="showUnGroup()"><a role="menuitem" tabindex="-1">拆分</a></li><li class="delete"><a ng-click="deleteGroup()">删除 <span style="margin-left: 65px;color: #999">Delete</span></a></li><li class="bottom_bar" ng-show="showFeature(\'ZIndex\')"><a title="置顶" ng-click="updateIndex(\'++\')">置顶 </a><a title="上移一层" ng-click="updateIndex(\'+1\')">上移 </a><a title="下移一层" ng-click="updateIndex(\'-1\')">下移 </a><a title="置底" ng-click="updateIndex(\'--\')">置底</a></li></ul>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.group.toolbar", []).directive("groupFloatingToolbar", n(1122)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t, o) {
        "ngInject";
        return {
            template: n(1124), restrict: "E", scope: {}, replace: !0, link: function (t, n) {
                function r(e) {
                    var t = e.$item[0].getBoundingClientRect(), i = t.left, o = t.top;
                    $(n).css({left: i, top: o - 90})
                }

                function a(e) {
                    if (e) {
                        var t = e.FtEditableProps, n = e.ft;
                        c.hasAdd = n.isPropSelect(t.addGroup.addGroup), c.hasDelete = n.isPropSelect(t.deleteGroup.deleteGroup), c.hasMove = n.isPropSelect(t.moveGroup.moveGroup)
                    } else c.hasDelete = !1, c.hasAdd = !1, c.hasMove = !1
                }

                function s(t) {
                    function n(e, t) {
                        for (var n = 0; n < t.length; n++) if (e.includes(t[n])) return !0
                    }

                    for (var o = [], r = t.toJson(), a = arguments.length, s = Array(a > 1 ? a - 1 : 0), c = 1; c < a; c++) s[c - 1] = arguments[c];
                    s.forEach(function (e) {
                        o.push(e), e.isGroupItem() && o.push.apply(o, i(e.getAllSubEqxItems()))
                    });
                    var l = {};
                    o.forEach(function (e) {
                        var t = e.sourceEqxItem;
                        if (t) {
                            var n = t.id, i = e.id;
                            l[n] = i
                        } else console.error("copies has no source", e)
                    });
                    var p = Object.keys(l), u = r.filter(function (e) {
                        var t = e.comps.map(function (e) {
                            return e.id + ""
                        });
                        return n(t, p)
                    }), d = [], m = [];
                    u.forEach(function (e) {
                        1 === e.comps.length ? d.push(e) : m.push(e)
                    }), d.forEach(function (e) {
                        var t = JSON.parse(JSON.stringify(e)), n = t.comps[0];
                        n.id = l[n.id];
                        var i = r.indexOf(e);
                        r.splice(i + 1, 0, t)
                    }), m.forEach(function (e) {
                        var t = e.comps, n = [];
                        t.forEach(function (e) {
                            var t = l[e.id];
                            if (t) {
                                var i = JSON.parse(JSON.stringify(e));
                                i.id = t, n.push(i)
                            }
                        }), t.push.apply(t, n)
                    }), t.parse(r), e.$broadcast("ftManager.update")
                }

                var c = t.vm = {
                    group: null, hasAdd: !1, hasMove: !1, hasDelete: !1, get show() {
                        return c.hasAdd || c.hasMove || c.hasDelete
                    }
                };
                t.$on("selectService.add", function (e, t) {
                    if (1 === o.items.length && t.isGroupItem() && (c.group = t, a(t), r(t), !t.onUpdateGroupFloatTooBar)) {
                        var n = t.onUpdateGroupFloatTooBar = function () {
                            r(t)
                        };
                        t.on("autoSizeTopDown.after", n)
                    }
                }), t.$on("selectService.remove", function (e, t) {
                    t && t.isGroupItem() && (a(), t.onUpdateGroupFloatTooBar && (t.off(t.onUpdateGroupFloatTooBar), delete t.onUpdateGroupFloatTooBar))
                }), t.addGroup = function () {
                    var e = c.group, t = e.eqxPage, n = t.pageJson, o = n.properties.triggerGroup, r = t.groupManager,
                        a = t.ftManager, l = r.copyItems([e], 1, 2, o);
                    s.apply(void 0, [a].concat(i(l))), r.reLayout(e.group)
                }, t.moveGroup = function (e) {
                    var t = c.group, n = t.eqxPage, i = n.groupManager;
                    i.changeEqxItemVerticalPosition(t, e)
                }, t.deleteItem = function () {
                    var t = c.group, n = t.eqxPage, i = n.groupManager;
                    e.$broadcast("wsComp.delete", function () {
                        if (!t.eqxLayer) return void(c.group = null);
                        var e = t.FtEditableProps, n = t.ftManager.findFtTerm(t, e.deleteGroup.deleteGroup),
                            o = n.value || 10;
                        i.reLayout(t.group, o)
                    })
                }
            }
        }
    }

    o.$inject = ["$rootScope", "authorityService", "selectService"], n(1123), e.exports = o
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="group-floating-toolbar" ng-show="vm.show"><span class="tool-item" ng-click="addGroup()" ng-if="vm.hasAdd">添加 </span><span class="tool-item" ng-click="moveGroup(-1)" ng-if="vm.hasMove">上移 </span><span class="tool-item" ng-click="moveGroup(+1)" ng-if="vm.hasMove">下移 </span><span class="tool-item" ng-click="deleteItem($event)" ng-if="vm.hasDelete">删除</span></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("tool.psd", []).factory("psdValidation", n(1126)).factory("psdService", n(1127)).directive("eqdToolPsd", n(1128)).name
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t) {
            if (t.length > 1) return e.openMsgDialog({msg: "您每次上传只能添加一个PSD格式的图片！"}), !1;
            if (t.length < 1) return e.openMsgDialog({msg: "您还没有添加PSD格式的图片！"}), !1;
            var n = t[0].name.substr(t[0].name.lastIndexOf(".")).toLowerCase();
            return ".psd" !== n ? (e.openMsgDialog({msg: "您上传的不是PSD格式图片，请添加PSD格式的图片！"}), !1) : !(t[0].size > 31457280) || (e.openMsgDialog({msg: "psd文件大小超过30M了，上传文件不可以超过30M。"}), !1)
        }

        function n(t) {
            var n = t.filter(function (e) {
                if ("string" == typeof e) return e
            });
            if (n.length > 0) {
                var i = n.join(",");
                e.openMsgDialog({msg: '图层 "' + i + '" 超过5M，我们已经屏蔽掉了！'})
            }
        }

        return {validationPsd: t, removeLayerWarning: n}
    }

    n.$inject = ["modalService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            function t(e) {
                if (e.childless()) "layer" === e.type && 0 !== e.width && 0 !== e.height && n.push(e); else for (var i = e.children().length - 1; i > -1; i--) e.children()[i].visible() === !0 && t(e.children()[i])
            }

            var n = [];
            return t(e), n
        }

        function t(t) {
            var n = require1("psd");
            return n.fromDroppedFile(t).then(function (t) {
                return e(t.tree())
            })
        }

        function n(e) {
            return t(e[0])
        }

        return {psdDecompose: n}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, r, a, s, c, l) {
        "ngInject";
        return {
            restrict: "EA", template: n(1129), scope: {}, link: function (n) {
                function c() {
                    var e = "//lib.eqh5.com/psd.js/3.1.0/psd.min.js";
                    return new Promise(function (t) {
                        o.delayLoadJSAndCSS(e, "js").then(function (e) {
                            if (e) {
                                var n = document.createElement("script");
                                n.type = "text/javascript", n.text = "var require1 = require";
                                var i = document.getElementsByTagName("head")[0];
                                i.appendChild(n), t()
                            }
                        })
                    })
                }

                function p(e) {
                    return i.psdDecompose(e)
                }

                function u(e) {
                    return e.length > 0 ? r.getUploadToken("image").then(function (t) {
                        return Promise.all(e.map(function (e, n) {
                            var i = e.layer.image.toBase64().substring(22);
                            return i.length > 5242880 ? Promise.resolve(e.name) : r.uploadBase64(t, i).then(function (t) {
                                var n = {
                                    fileType: "1",
                                    bizType: 0,
                                    path: t.key,
                                    tmbPath: t.key,
                                    tagId: 0,
                                    name: e.name.substr(0, 50),
                                    size: Math.ceil(t.size / 1024)
                                };
                                return a.saveFileInfo(n)
                            }).then(function (t) {
                                var i = t.data.obj;
                                return i.top = e.layer.top / 2 - 17, i.left = e.layer.left / 2 - 27, i.width = e.layer.width / 2, i.height = e.layer.height / 2, i.fromSource = "psd", s.setCurrent(n + 1), i
                            })["catch"](function (e) {
                                return e
                            })
                        }))
                    })["catch"](function (e) {
                        return e
                    }) : e
                }

                function d(t) {
                    t.map(function (t) {
                        e.$broadcast("psd.image", t)
                    })
                }

                function m(e) {
                    c().then(function () {
                        return p(e)
                    }).then(function (e) {
                        return s.setTotal(e.length), s.setShowLoading(!0), u(e)
                    }).then(function (e) {
                        s.setShowLoading(!1), d(e), t.removeLayerWarning(e), l.image.clearTag(l.image.ID.my, l.image.ID.my + "-all")
                    })["catch"](function (e) {
                        s.setShowLoading(!1), alert(e)
                    })
                }

                n.reminder = !1, n.openRemind = function () {
                    n.reminder = !n.reminder, s.setTotal(0), s.setCurrent(0)
                }, n.$on("psd.open", function () {
                    n.openRemind()
                }), n.fileNameChanged = function (e) {
                    $(e.target).parent().find("input").remove();
                    var i = $('<input type="file" style="display:none;" accept=".psd" onclick="event.stopPropagation()"/>');
                    $(e.target).parent().append(i), i.trigger("click"), i.change(function () {
                        i.remove(), t.validationPsd(this.files) && m(this.files)
                    }), n.openRemind()
                }
            }
        }
    }

    i.$inject = ["$rootScope", "psdValidation", "psdService", "uploaderService", "fileAPI", "psdLoadingService", "authorityService", "imageService"];
    var o = n(891);
    e.exports = i
}, function (e, t) {
    e.exports = '<div ng-class="{showin:reminder}" class="showxiu psd-open" style="top: 30px;left: calc(50% - 250px)"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="openRemind();"><span aria-hidden="true">×</span></button><h4 class="modal-title">PSD上传</h4></div><div class="modal-body"><p style="line-height: 30px;text-align:left">1. 建议上传单页PSD尺寸为748*1040px。<br/>2. 为保证上传速度，PSD文件大小不超过30M，图层不能超过30个，且每个图层不能够超过5M。<br/>3. 为保证图片质量，建议上传前尽量将效果合并至图层中。</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="fileNameChanged($event);">确定</button></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.funCompSetting", []).directive("funCompSetting", n(1131)).directive("layerPageSetting", n(1135)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, template: n(1134), scope: {}, controller: o}
    }

    n(1132);
    var o = n(1133);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r) {
        "ngInject";
        e.isShow = !1, e.themeSkin = r.getItem("themeSkin") || "white", e.$on("add.funComp.bg", function () {
            i(function () {
                e.isShow = !0, e.eqxLayer = n.getCurrentPage().currentLayer
            })
        }), e.$on("selectService.add", function () {
            e.isShow = !1
        }), e.$on("layer.bgSetting.close", function () {
            e.isShow = !1
        }), e.$on("layerBgSetting.show", function () {
            e.isShow = !0, e.eqxLayer = n.getCurrentPage().currentLayer
        }), e.cancel = function () {
            e.isShow = !1
        }, e.close = function () {
            o.workspace.compSettingShow = !1, o.workspace.layerBgSetting = !1, t.$broadcast("close.layer.setting")
        }, e.$on("change.screen.pageSetting", function () {
            e.isShow && (e.isShow = !1, i(function () {
                e.isShow = !0, e.eqxLayer = n.getCurrentPage().currentLayer
            }, 0))
        }), e.$on("change.theme", function (t, n) {
            n && (e.themeSkin = n)
        })
    }

    n.$inject = ["$scope", "$rootScope", "sceneService", "$timeout", "flagService", "storageService"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="page-setting-panel" panel-draggable=".cancel" ng-class="{\'theme-black\' : themeSkin == \'black\'}" ng-if="isShow"><div class="cancel"><span class="set-title">幕背景</span> <span class="set-close eqf-no" ng-click="cancel()"></span> <span class="fr hint--bottom hint--rounded" data-hint="点击收起组件属性面板" ng-click="close()"><em class="eqf-arrow-bigger"></em></span></div><div class="style_content manager-page-setting layer-bg-setting" style="position: absolute;top: 48px;bottom: 0;background: #FFFFFF;padding-top: 14px"><layer-page-setting eqx-layer="eqxLayer"></layer-page-setting></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1136),
            scope: {eqxLayer: "="},
            controller: ["$scope", "$rootScope", "sceneService", "HOST", function (e, t, n, i) {
                "ngInject";
                var r = e.eqxLayer, s = e.bgJson = r.json.screenBg ? r.json.screenBg : o(a),
                    c = e.vm = {opacity: 100 * s.css.opacity, bgPreviewUrl: ""};
                e.ANIMATIONS = [{type: -1, name: "无"}, {type: "scaleUp", name: "放大"}, {
                    type: "scaleDown",
                    name: "缩小"
                }, {type: 0, name: "淡入"}, {type: 1, name: "移入"}, {type: 2, name: "弹入"}, {
                    type: 3,
                    name: "中心弹入"
                }, {type: 4, name: "中心放大"}, {type: 12, name: "翻滚进入"}, {type: 13, name: "光速进入"}, {
                    type: 26,
                    name: "魔幻进入"
                }, {type: 27, name: "缩小进入"}, {type: 31, name: "旋转进入"}];
                s && s.properties.imgSrc && (c.bgPreviewUrl = i.FILE + s.properties.imgSrc), e.$watch("bgJson.properties.bgColor", function (e, t) {
                    e && t && e != t && (s.properties = {
                        bgColor: e,
                        imgSrc: null
                    }, r.renderBg(r.addBgJson(s)), c.bgPreviewUrl = "")
                }), e.$watch("vm.opacity", function (e, t) {
                    e != t && (s.css.opacity = (100 - c.opacity) / 100, r.layerBg && r.updateBgOpacity(s.css.opacity))
                }), e.addBG = function () {
                    t.$broadcast("layerBg.edit")
                }, e.editBG = function () {
                    t.$broadcast("layerBg.edit")
                }, e.cutBG = function () {
                    t.$broadcast("layerBg.cut")
                }, e.rmBgImg = function () {
                    c.bgPreviewUrl = "", t.$broadcast("layerBg.delete")
                }, e.$on("bgEdit.done", function (t, o) {
                    r = e.eqxLayer = n.getCurrentPage().currentLayer, s = e.bgJson = r.json.screenBg;
                    var a = r.layerBg;
                    a && (r.updateBgOpacity(s.css.opacity), s.properties.imgSrc && (c.bgPreviewUrl = i.FILE + s.properties.imgSrc)), "layer" == o && e.$apply(function () {
                        return c.bgPreviewUrl
                    })
                }), e.clickBgPreview = function () {
                    s.properties.imgSrc ? e.editBG() : e.addBG()
                }
            }]
        }
    }

    function o(e) {
        var t, n = e.constructor === Array ? [] : {};
        if ("object" === ("undefined" == typeof e ? "undefined" : r(e))) {
            if (window.JSON) t = JSON.stringify(e), n = JSON.parse(t); else for (var i in e) n[i] = "object" === r(e[i]) ? o(e[i]) : e[i];
            return n
        }
    }

    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, a = {css: {opacity: null}, properties: {bgColor: "", imgSrc: null}, effect: {type: -1}};
    e.exports = i
}, function (e, t) {
    e.exports = '<section class="screen-bg-setting"><div class="tab-setting-line" style="margin-left: 20px"><div class="tab-setting-line-title">背景</div></div><div><div class="style_con_hei"><div class="style_list_angel bg-image clearfix"><div class="bg-image-label">图片背景</div><div class="bg-preview" ng-click="clickBgPreview()"><i class="eqf-plus"></i> <img ng-if="vm.bgPreviewUrl" ng-src="{{vm.bgPreviewUrl}}"/></div><div class="btns"><div class="clearfix" ng-if="!bgJson.properties.imgSrc"><a class="btn btn-sm" style="margin: 0;float: right;border: none" ng-click="addBG()">添加图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-cut" style="margin-left: 0px" ng-click="cutBG()">裁切图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-rm" ng-click="rmBgImg()">删除图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-replace" style="margin-right:0px;border: none" ng-click="editBG()">更换图片</a></div></div></div><div class="style_list_angel clearfix"><label style="height: 20px;line-height: 20px;margin: 0;padding: 0">纯色背景</label><div class="color_select clearfix"><eqd-input-color select-color="bgJson.properties.bgColor" default-color="bgJson.properties.bgColor" direction="left" theme="flo_lef" notify="grid" x="-1" w="97" h="20" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="style_list_angel clearfix"><label style="height: 30px;line-height: 30px;margin: 0;padding: 0">透明度</label><div class="touming clearfix"><p class="num"><input style="border: 1px solid #ccd5db;border-radius: 3px;width: 60px !important;height: 30px !important;padding: 0 5px !important;box-sizing: border-box" class="short" type="number" min="0" max="100" limit-input ng-model="vm.opacity"/></p><div class="slider2" type="n" style="width: 80px" ui-slider-t ng-model="vm.opacity" min="0" max="100"></div></div></div></div></div></section>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t) {
            return e.getCompById(t)
        }

        return {getCompById: t}
    }

    n.$inject = ["sceneService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            return !!$("#btn-toolbar").length
        }

        function n() {
            return !!$("#btn-toolbar").length
        }

        function i() {
            return !!$("#btn-toolbar").length || document.activeElement !== document.body
        }

        return {disableClick: t, disableDrag: n, disableKeymap: i}
    }

    n.$inject = ["sceneService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e) {
        "ngInject";

        function t(e) {
            return e.ctrlKey || e.metaKey
        }

        function i(e) {
            return e.ctrlKey || e.metaKey || e.shiftKey
        }

        function o(t) {
            var i = [], o = [];
            p.forEach(function (e) {
                var n = t.indexOf(e);
                n === -1 && i.push(e)
            }), t.forEach(function (e) {
                var t = p.indexOf(e);
                t === -1 && o.push(e)
            }), p.length = 0, p.push.apply(p, n(t)), i.length && e.$broadcast.apply(e, ["selectService.remove"].concat(i)), o.length && e.$broadcast.apply(e, ["selectService.add"].concat(o))
        }

        function r(t) {
            var i = p.indexOf(t);
            if (i === -1) {
                var o = p.slice();
                p.length = 0
            } else p.splice(i, 1), o = p.slice(), p.length = 0, p.push(t);
            o.length && e.$broadcast.apply(e, ["selectService.remove"].concat(n(o)))
        }

        function a() {
            if (p.length) {
                var t = p.splice(0, p.length);
                e.$broadcast.apply(e, ["selectService.remove"].concat(n(t)))
            }
        }

        function s() {
            for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
            n.forEach(function (t) {
                var n = p.findIndex(function (e) {
                    return e.id === t.id
                });
                n !== -1 && e.$broadcast("selectService.remove", p.splice(n, 1)[0])
            })
        }

        function c(e) {
            return !(!e || !p.find(function (t) {
                return t.id === e.id
            }))
        }

        function l() {
            for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
            n.forEach(function (t) {
                if (!c(t)) {
                    if (!t.isGroupItem() && t.isFunTemplate()) return;
                    p.push(t), e.$broadcast("selectService.add", t)
                }
            })
        }

        var p = [], u = {
            get comps() {
                return p.filter(function (e) {
                    return !e.isGroupItem()
                })
            },
            get groups() {
                return p.filter(function (e) {
                    return e.isGroupItem()
                })
            },
            get items() {
                return p
            },
            has: c,
            add: l,
            setItems: o,
            remove: s,
            removeAll: a,
            removeOtherItems: r,
            isCtrlOrCommandPressed: t,
            isCtrlOrCommandOrShiftPressed: i
        };
        return window.selectService = u, u
    }

    i.$inject = ["$rootScope"], e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        "ngInject";

        function i(t, n) {
            var i = e.getCurrentPage(), o = i.getTopItems();
            return o.filter(function (e) {
                return e.centerInRect(new r(t, n)) && !e.isEditLocked && e.eqxLayer.allowOperate;
            })
        }

        function a(e) {
            var t = d(e), n = c();
            return s(t, n)
        }

        function s(e, n) {
            return e ? e.group ? n.indexOf(e.group) !== -1 ? e : !e.isGroupItem() && t.has(e) ? e : s(e.group, n) : e : null
        }

        function c() {
            function e(t, n) {
                return t ? (t.isGroupItem() && n.indexOf(t) === -1 && n.push(t), e(t.group, n)) : n
            }

            var n = t.items, i = [];
            return n.forEach(function (t) {
                return e(t, i)
            }), i
        }

        function l(t) {
            var i = n.getScale(), o = e.getCurrentPage();
            if (!o.$section) return null;
            var r = o.$section[0].getBoundingClientRect(), a = t.pageX, s = t.pageY, c = (a - r.left) / i,
                l = (s - r.top) / i;
            return {x: c, y: l}
        }

        function p(e, t) {
            return !!t.length && u(l(e), t)
        }

        function u(e, t) {
            var n = o.calItemsBoundingRect(t);
            return e.x > n.left && e.y > n.top && e.x < n.left + n.width && e.y < n.top + n.height
        }

        function d(t) {
            var n = e.getCurrentPage(), i = l(t);
            return n.getEqxCompByCoord(i.x, i.y)
        }

        return {getPageCoord: l, getEqxItemByEvent: a, eventInItems: p, pointInItems: u, getSelectedItems: i}
    }

    i.$inject = ["sceneService", "selectService", "zoomService"];
    var o = n(519), r = n(521);
    e.exports = i
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";

        function n() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t.forEach(function (e) {
                var t = e.isGroupItem() ? c.findIndex(function (t) {
                    return t.isGroupItem() && t.id === e.id
                }) : c.findIndex(function (t) {
                    return !t.isGroupItem() && t.compJson.id === e.compJson.id
                });
                t > -1 && c.splice(t, 1)
            })
        }

        function i() {
            return c
        }

        function o() {
            return l
        }

        function r() {
            a();
            for (var t = e.getCurrentPage().pageJson, n = arguments.length, i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
            i.forEach(function (e) {
                e.isGroupItem() ? c.push(e) : e.compJson.id.toString().includes("wx") || c.push(e)
            }), l = JSON.parse(JSON.stringify(t.properties.triggerGroup))
        }

        function a() {
            c.splice(0, c.length), l.splice(0, l.length)
        }

        function s() {
            var e = t.event.EQX_EVENT;
            l = l.filter(function (t) {
                return t.targetState == e.link || t.targetState == e.phone || t.targetState == e.page
            })
        }

        var c = [], l = [];
        return {
            get items() {
                return c
            }, add: r, get: i, remove: n, getTriggers: o, clearTriggerComps: s
        }
    }

    n.$inject = ["sceneService", "EqxCore"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";

        function e() {
            i = null
        }

        function t(e) {
            i = e ? JSON.parse(JSON.stringify(e)) : null
        }

        function n() {
            return i
        }

        var i = null;
        return {init: e, setCopyAnim: t, getCopyAnim: n}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            a = null
        }

        function n(e) {
            a = e ? JSON.parse(JSON.stringify(e)) : null
        }

        function i() {
            return a
        }

        function o() {
            a = null
        }

        function r() {
            var t = e.event.EQX_EVENT;
            Array.isArray(a) && (a = a.filter(function (e) {
                return e.targetState == t.link || e.targetState == t.page || e.targetState == t.phone
            }))
        }

        var a = null;
        return {init: t, setCopyTrigger: n, getCopyTrigger: i, clear: o, clearTriggerComps: r}
    }

    n.$inject = ["EqxCore"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        var t = e.getItemByUser("showPhone"), n = 1;
        return {
            get showPhone() {
                return void 0 === t && (t = !0), t
            }, set showPhone(n) {
                t = n, e.setItemByUser("showPhone", n)
            }, get scale() {
                return n
            }
        }
    }

    n.$inject = ["storageService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(e) {
            n = e
        }

        var n = e.normal;
        return {
            get state() {
                return n
            }, updateState: t
        }
    }

    n.$inject = ["WARN_TYPE"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            return l
        }

        function n() {
            l = 1, r()
        }

        function i() {
            var e = a.indexOf(l);
            return e++, e >= s && (e = s), l = a[e], r(), l
        }

        function o() {
            var e = a.indexOf(l);
            return e--, e < 0 && (e = 0), l = a[e], r(), l
        }

        function r() {
            e.setItemByUser(c, l)
        }

        var a = [.5, .75, 1, 1.25, 1.5, 2, 2.5, 3, 3.5, 4], s = a.length - 1, c = "editorScale2",
            l = e.getItemByUser(c) || 1;
        return a.indexOf(l) < 0 && n(), {getScale: t, setDefault: n, zoomOut: i, zoomIn: o}
    }

    n.$inject = ["storageService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = n(879);
    e.exports = ["sceneService", "authorityService", "$q", function (e, t, n) {
        "ngInject";

        function o() {
            var o = e.getCurrentPage(), a = !t.permission("PIPEditor"), s = o.pageJson.properties.pip,
                c = void 0 === s ? {} : s, l = n.defer();
            if (a && c.used) {
                for (var p = o.screenManager || o.addScreenManager(), u = 0; u < p.screens.length; u++) {
                    var d = p.screens[u], m = p.getCompsInScreen(d), f = i.getHash(r(m));
                    if (!d._lastHash || d._lastHash !== f || !d.thumbnail) return l.reject({msg: "current page is not generated."}), l.promise
                }
                l.resolve()
            } else l.resolve();
            return l.promise
        }

        function r(e) {
            return e.map(function (e) {
                var t = e.compJson, n = t.css, i = t.properties, o = i.src;
                return {css: n, properties: {src: o}}
            })
        }

        return {isCurrentPageGenerated: o, getCompsLayoutContent: r}
    }]
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";

        function e() {
            var e = [{name: "文本内容", type: "content", value: "", comps: []}, {
                name: "图片内容",
                type: "image",
                value: "",
                comps: []
            }, {name: "颜色", type: "color", value: "", comps: []}, {
                name: "链接内容",
                type: "link",
                value: "",
                comps: []
            }, {name: "电话内容", type: "telephone", value: "", comps: []}, {
                name: "音效内容",
                type: "sound",
                value: {},
                comps: []
            }, {name: "计时时间", type: "time", value: "", comps: []}, {
                name: "跳转页面",
                type: "internalLink",
                value: "",
                comps: []
            }, {name: "输入框类型", type: "input", value: "", comps: []}, {
                name: "视频内容",
                type: "video",
                value: "",
                comps: []
            }, {name: "随机文字内容", type: "tRandom", value: [], comps: []}, {
                name: "随机图片内容",
                type: "iRandom",
                value: [],
                comps: []
            }, {name: "代码内容", type: "code", value: "", comps: []}];
            return e
        }

        function t(e) {
            var t = [], i = [{
                name: e.name + " 背景颜色",
                id: e.id,
                value: "backgroundColor",
                type: "color",
                elementValue: e.css.backgroundColor,
                select: !1
            }, {
                name: e.name + " 边框颜色",
                id: e.id,
                value: "borderColor",
                type: "color",
                elementValue: e.css.borderColor,
                select: !1
            }, {
                name: e.name + " 阴影颜色",
                id: e.id,
                value: "boxShadowColor",
                type: "color",
                elementValue: o.parseBoxShadow(e.css.boxShadow).color,
                select: !1
            }];
            if (7 == e.type) {
                var r = [{
                    name: e.name + " 文本内容",
                    id: e.id,
                    value: "content",
                    type: "content",
                    elementValue: e.content,
                    select: !1
                }, {
                    name: e.name + " 文字颜色",
                    id: e.id,
                    value: "color",
                    type: "color",
                    elementValue: e.css.color,
                    select: !1
                }, {name: e.name + " 链接内容", id: e.id, value: "url", type: "link", select: !1}, {
                    name: e.name + " 跳转页面",
                    id: e.id,
                    value: "internalLink",
                    type: "internalLink",
                    select: !1
                }];
                e.objList = r.concat(i)
            } else if (4 == e.type) {
                var a = [{
                    name: e.name + " 图片内容",
                    id: e.id,
                    value: "imageSrc",
                    type: "image",
                    elementValue: e.properties.src,
                    select: !1
                }, {name: e.name + " 链接内容", id: e.id, value: "url", type: "link", select: !1}, {
                    name: e.name + " 跳转页面",
                    id: e.id,
                    value: "internalLink",
                    type: "internalLink",
                    select: !1
                }, {
                    name: e.name + " 音效内容",
                    id: e.id,
                    value: "soundSrc",
                    type: "sound",
                    elementValue: e.sound,
                    select: !1
                }];
                e.objList = a.concat(i)
            } else if (["5", "501", "502", "503", "504"].indexOf(e.type) > -1) {
                var s = [{
                    name: e.name + " 类型",
                    id: e.id,
                    value: "input",
                    type: "input",
                    elementValue: e.type,
                    select: !1
                }];
                e.objList = s.concat(i)
            } else if ("8" == e.type) {
                var c = [{
                    name: e.name + " 电话内容",
                    id: e.id,
                    value: "number",
                    type: "telephone",
                    elementValue: n(t, 7, e.id),
                    select: !1
                }];
                e.objList = c.concat(i)
            } else if ("e" == e.type || "f" == e.type) {
                var l = [{
                    name: e.name + " 计时时间",
                    id: e.id,
                    value: "time",
                    type: "time",
                    elementValue: "e" === e.type ? e.properties.endTime : e.properties.startTime,
                    select: !1
                }];
                e.objList = l.concat(i)
            } else if ("g" == e.type) {
                var p = [{
                    name: e.name + "代码内容",
                    id: e.id,
                    value: "code",
                    type: "code",
                    elementValue: e.content,
                    select: !1
                }];
                e.objList = p.concat(i)
            } else if ("o" == e.type) {
                var u = [{
                    name: e.name + "视频内容",
                    id: e.id,
                    value: "video",
                    type: "video",
                    elementValue: e.src,
                    select: !1
                }];
                e.objList = u.concat(i)
            } else if ("10" == e.type && "t" == e.properties.contentType) {
                var d = [{
                    name: e.name + "随机文本内容",
                    id: e.id,
                    value: "tRandom",
                    type: "tRandom",
                    elementValue: e.properties.texts,
                    select: !1
                }];
                e.objList = d.concat(i)
            } else if ("10" == e.type && "i" == e.properties.contentType) {
                var m = [{
                    name: e.name + "随机图片内容",
                    id: e.id,
                    value: "iRandom",
                    type: "iRandom",
                    elementValue: e.properties.imgs,
                    select: !1
                }];
                e.objList = m.concat(i)
            }
            return e
        }

        function n(e, t, n) {
            if (e) {
                var i = "";
                return e.forEach(function (e) {
                    t == e.targetState && n == e.sourceId && (i = e.targetContent)
                }), i
            }
        }

        function i(e, t) {
            e.forEach(function (e) {
                t.forEach(function (t) {
                    for (var n = 0; n < e.comps.length; n++) if (e.comps[n].id == t.id && e.comps[n].properties[0] == t.value) {
                        t.select = !0;
                        break
                    }
                })
            })
        }

        return {getDataList: t, isSelect: i, getProp: e}
    }

    var o = n(525);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function n(e) {
            l = e
        }

        function i(n) {
            if (!n.resizeBox) {
                var o = new r(n);
                l.append(o.$resize), s({item: n, $rootScope: e, compService: t})
            }
            n.group && i(n.group)
        }

        function o(e) {
            for (i(e), e.resizeBox.setState(a.item); e.group;) e.group.resizeBox.setState(a.itemParent), e = e.group
        }

        function c() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t.forEach(function (e) {
                for (e.resizeBox && e.resizeBox.destroy(); e.group;) e.group.resizeBox && e.group.resizeBox.destroy(), e = e.group
            })
        }

        var l = null;
        return {init: n, add: o, remove: c}
    }

    i.$inject = ["$rootScope", "compService"];
    var o = n(1150), r = o.ResizeBox, a = o.state, s = n(1153);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(1151);
    var r = n(1152), a = {inactive: -1, item: 1, itemParent: 2},
        s = {"-1": "resize-inactive", 1: "resize-item", 2: "resize-item-parent"}, c = function () {
            function e(t) {
                var n = this;
                i(this, e), this.item = t, this.state = a.inactive, this.$resize = $(r).attr("item-id", t.id).css(t.getAbsolutePos()), this.fn = function () {
                    n.autoSize()
                }, this.item.on("autoSizeTopDown.after", this.fn), this.autoSize(), this.item.resizeBox = this
            }

            return o(e, [{
                key: "autoSize", value: function () {
                    var e = this.item.getAbsolutePos();
                    this.$resize.css(e)
                }
            }, {
                key: "setState", value: function (e) {
                    this.$resize.removeClass(s[this.state]), this.state = e, this.$resize.addClass(s[this.state])
                }
            }, {
                key: "destroy", value: function () {
                    this.item.resizeBox = null, this.$resize.remove(), this.item.off(this.fn), this.fn = null
                }
            }]), e
        }();
    e.exports = {state: a, ResizeBox: c}
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-select"><div class="rotate-circle" data-dir="r"></div><div class="rotate-line" data-dir="r"></div><div class="bar bar-m-line"></div><div class="line-n line resizable"><div class="circle" data-dir="n"></div></div><div class="line-e line resizable"><div class="circle" data-dir="e"></div></div><div class="line-s line resizable"><div class="circle" data-dir="s"></div></div><div class="line-w line resizable"><div class="circle" data-dir="w"></div></div><div class="circle-nw circle resizable" data-dir="nw"></div><div class="circle-ne circle resizable" data-dir="ne"></div><div class="circle-se circle resizable" data-dir="se"></div><div class="circle-sw circle resizable" data-dir="sw"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        function t() {
            h.addClass(Object.keys(x).join(" ")), h.find(".resizable.circle").toArray().forEach(function (e, t) {
                var n = $(e);
                d(n, x) && o(p, n, t)
            }), h.find(".resizable.line").toArray().forEach(function (e, t) {
                var n = $(e);
                d(n, x) && o(p, n, t, !0)
            }), m({item: p, $rootScope: f, $ele: h})
        }

        function n(e) {
            var t = {
                ".line-n": [".circle-nw", ".circle-ne"],
                ".line-e": [".circle-ne", ".circle-se"],
                ".line-s": [".circle-se", ".circle-sw"],
                ".line-w": [".circle-sw", ".circle-nw"]
            };
            h.find(".resizable.circle").css({"z-index": ""}), h.find(".resizable.line").css({"z-index": ""});
            var n = Object.keys(t).find(function (t) {
                return e.is(t)
            });
            n && t[n].forEach(function (e) {
                return $(e).css({"z-index": parseInt($(e).css("zIndex") + 1)})
            }), e.css({"z-index": parseInt(e.css("z-index")) + 1})
        }

        function i(e, t, n, i, o) {
            var r = Math.abs(e), a = Math.abs(t), s = Math.min(r, a);
            if ("sw" === o || "ne" === o) if (s === r) {
                var c = i / n;
                e = e / r * s || 0, t = -e * c || 0
            } else {
                var l = n / i;
                t = t / a * s || 0, e = -t * l || 0
            } else if (s === r) {
                var p = i / n;
                e = e / r * s || 0, t = e * p || 0
            } else {
                var u = n / i;
                t = t / a * s || 0, e = t * u || 0
            }
            return {cx: e, cy: t}
        }

        function o(e, t, o, p) {
            function u() {
                var s = e;
                t.on("mousedown.compResize", function (e) {
                    e.stopPropagation(), n(t);
                    var u = s.getAbsolutePos(), d = u.left, h = u.top, v = u.width, b = u.height, x = u.transform,
                        w = {width: v, height: b, top: h, left: d}, S = l.parseTransform(x).rotate,
                        k = new a(d, h, v, b), T = k.rotate(S), C = m[o], I = T.p1.transform2RotateCoord(S), $ = I.x,
                        E = I.y, P = {}, _ = new r(e.pageX - y.left, e.pageY - y.top);
                    g.on("mousemove.compResize", function (e) {
                        var t = new r(e.pageX - y.left, e.pageY - y.top), n = new c(_, t), o = n.weight(S), l = o.x,
                            u = o.y;
                        if (!p) {
                            var d = i(l, u, v, b, C), m = d.cx, g = d.cy;
                            l = m, u = g
                        }
                        if (p) switch (C) {
                            case"ne":
                                u = 0;
                                break;
                            case"sw":
                                u = 0;
                                break;
                            case"se":
                                l = 0;
                                break;
                            case"nw":
                                l = 0
                        }
                        switch (C) {
                            case"ne":
                                P.width = v + l, P.top = E + u, P.height = b - u, P.left = $;
                                break;
                            case"sw":
                                P.height = b + u, P.left = $ + l, P.width = v - l, P.top = E;
                                break;
                            case"se":
                                P.width = v + l, P.height = b + u, P.left = $, P.top = E;
                                break;
                            case"nw":
                                P.left = $ + l, P.width = v - l, P.top = E + u, P.height = b - u
                        }
                        var h = new a(P), x = h.p1.transform2RotateCoord(-S), k = h.p2.transform2RotateCoord(-S),
                            T = new a(x, k, S).rotate(-S);
                        P.top = T.p1.y, P.left = T.p1.x, P.height = T.height, P.width = T.width, f.$apply(function () {
                            f.$broadcast("compResize.move", s, w, P)
                        })
                    }), g.on("mouseup.compResize", function () {
                        g.off(".compResize"), f.$apply(function () {
                            f.$broadcast("compResize.move", s, w, P), f.$broadcast("compResize.end", s, P)
                        })
                    })
                })
            }

            function d() {
                var i = e;
                t.on("mousedown.groupResize", function (e) {
                    if (e.stopPropagation(), n(t), !i.hasSubItemsLocked()) {
                        var u = i.getAbsolutePos(), d = u.left, h = u.top, v = u.width, b = u.height, x = u.transform,
                            w = l.parseTransform(x).rotate, S = new a(d, h, v, b), k = S.rotate(w), T = m[o], C = k[T],
                            I = m[(o + 2) % 4], $ = k[I];
                        if ("nw" === T) var E = new s($, k[m[(o + 1) % 4]]), P = new s(C, k[m[(o + 3) % 4]]),
                            _ = new s($, k[m[(o + 3) % 4]]),
                            q = new s(C, k[m[(o + 1) % 4]]); else "ne" === T ? (E = new s($, k[m[(o + 3) % 4]]), P = new s(C, k[m[(o + 1) % 4]]), _ = new s($, k[m[(o + 1) % 4]]), q = new s(C, k[m[(o + 3) % 4]])) : "se" === T ? (E = new s($, k[m[(o + 1) % 4]]), P = new s(C, k[m[(o + 3) % 4]]), _ = new s($, k[m[(o + 3) % 4]]), q = new s(C, k[m[(o + 1) % 4]])) : "sw" === T && (E = new s($, k[m[(o + 3) % 4]]), P = new s(C, k[m[(o + 1) % 4]]), _ = new s($, k[m[(o + 1) % 4]]), q = new s(C, k[m[(o + 3) % 4]]));
                        w && (E = new s(E.p1.transform2RotateCoord(w), E.p2.transform2RotateCoord(w)), P = new s(P.p1.transform2RotateCoord(w), P.p2.transform2RotateCoord(w)), _ = new s(_.p1.transform2RotateCoord(w), _.p2.transform2RotateCoord(w)), q = new s(q.p1.transform2RotateCoord(w), q.p2.transform2RotateCoord(w)));
                        var O = new r(e.pageX - y.left, e.pageY - y.top);
                        i.onResizeStart(), g.on("mousemove.groupResize", function (e) {
                            var t = new r(e.pageX - y.left, e.pageY - y.top), n = new c(O, t), o = n.weight(w), a = o.x,
                                s = o.y;
                            if (p) switch (T) {
                                case"ne":
                                case"sw":
                                    var l = new r(O.x, 0), u = new r(t.x, 0);
                                    n = new c(l, u), s = 0;
                                    break;
                                case"se":
                                case"nw":
                                    var d = new r(0, O.y), m = new r(0, t.y);
                                    n = new c(d, m), a = 0
                            }
                            i.onResize(n, a, s, T, E, P, _, q, w)
                        }), g.on("mouseup.groupResize", function () {
                            g.off(".groupResize"), i.onResizeEnd(), f.$broadcast("group.resize")
                        })
                    }
                })
            }

            var m = ["nw", "ne", "se", "sw"];
            e.isGroupItem() ? d() : u()
        }

        var p = e.item, f = e.$rootScope, g = $(document), h = p.resizeBox.$resize, v = p.eqxScene.$ele, y = v.offset();
        p.$compResize = !0;
        var b = p.findTopGroup(), x = b && b.isFunTemplate() ? {} : u(p.$ability.flexLine || ""), w = p.$item;
        w.css({position: "absolute"}), t()
    }

    n(1154);
    var o = n(1052), r = o.Point, a = o.Rect, s = o.Line, c = o.Vector, l = n(520), p = n(1156), u = p.getResizeShowMap,
        d = p.isEnabled, m = n(1158);
    e.exports = i
}, function (e, t) {
}, , function (e, t, n) {
    "use strict";

    function i(e) {
        var t = {};
        return e.split(",").forEach(function (e) {
            e ? t[e] = !0 : void 0
        }), t
    }

    function o(e) {
        var t = [".line-n", ".circle-ne", ".line-e", ".circle-se", ".line-s", ".circle-sw", ".line-w", ".circle-nw"],
            n = t.find(function (t) {
                return e.is(t)
            });
        if (n) return /-(\w+)$/.exec(n)[1]
    }

    function r(e, t) {
        var n = o(e);
        return !!n && t[n]
    }

    function a(e, t, n) {
        var i = l.parseTransform(t[0].style.transform).rotate, o = e.find(".line.resizable").toArray(),
            a = e.find(".circle.resizable").toArray(), s = parseInt((i + 45 + 360) / 90 % 2);
        c(o, s).forEach(function (e, t) {
            var i = $(e);
            r(i, n) && i.css("cursor", t % 2 ? "ew-resize" : "ns-resize")
        }), c(a, s).forEach(function (e, t) {
            var i = $(e);
            r(i, n) && i.css("cursor", t % 2 ? "nesw-resize" : "nwse-resize")
        })
    }

    function s(e, t) {
        var n = t.x - e.x, i = t.y - e.y, o = Math.abs(n / i), r = Math.atan(o) / (2 * Math.PI) * 360;
        return n > 0 && i < 0 ? r = 360 + r : n > 0 && i > 0 ? r = 180 - r : n < 0 && i > 0 ? r = 180 + r : n < 0 && i < 0 && (r = 360 - r), r > 360 && (r -= 360), p(r)
    }

    var c = n(1157).rotateArray, l = n(520), p = n(249).toInt;
    e.exports = {getResizeShowMap: i, updateCursor: a, calAngle: s, isEnabled: r, getBarDir: o}
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (t > 0) for (; t > 0;) {
            var n = e.pop();
            e.unshift(n), t -= 1
        } else for (; t < 0;) n = e.shift(), e.push(n), t += 1;
        return e
    }

    e.exports = {rotateArray: n}
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        var t = e.item, n = e.$ele, i = e.$rootScope, s = $(document), u = t.$item, d = n.find(".rotate-circle"),
            m = t.eqxScene.$ele, f = n.find(".bar-m-line"), g = l(t.$ability.flexLine || ""), h = m.offset();
        c(n, u, g), i.$on("compSetting.rotate", function (e, i) {
            i === t && c(n, u, g)
        }), d.on("mousedown.itemRotate", function (e) {
            if (e.stopPropagation(), !t.isGroupItem() || !t.hasSubItemsLocked()) {
                var l = t.getAbsolutePos(), d = l.width, m = l.height, v = l.top, y = l.left, b = new r(y, v, d, m),
                    x = b.center(), w = new o(e.pageX - h.left, e.pageY - h.top), S = x.angle2Point(w, -90),
                    k = a.parseTransform(t.onRotateStart()).rotate, T = null, C = null, I = null, $ = new p(t);
                s.on("mousemove.itemRotate", function (e) {
                    T = new o(e.pageX - h.left, e.pageY - h.top), C = x.angle2Point(T, -90), I = parseInt((k + C - S + 360) % 360);
                    var n = I % 45, i = 4;
                    n < i && (I -= n), n > 45 - i && (I += 45 - n), t.onRotate(I), $.update(I), I % 45 ? f.hide() : f.show()
                }), s.on("mouseup.itemRotate", function () {
                    s.unbind(".itemRotate"), f.hide(), t.onRotateEnd(), c(n, u, g), $.destroy(), $ = null, i.$broadcast("item.rotate.end", t)
                })
            }
        })
    }

    i.$inject = ["_ref"];
    var o = n(522), r = n(521), a = n(520), s = n(1156), c = s.updateCursor, l = s.getResizeShowMap, p = n(1159);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var o = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }();
    n(1160);
    var r = n(1161), a = n(526).deg2arc, s = n(521), c = function () {
        function e(t) {
            return i(this, e), t.rotateGuide ? t.rotateGuide : (t.rotateGuide = this, this.item = t, this.$dom = null, this.$rotateTip = null, void this.init())
        }

        return o(e, [{
            key: "update", value: function (e) {
                var t = this.boxWidth, n = this.rect, i = a(e), o = t / 2 + n.height / 1.3 * Math.sin(i),
                    r = t / 2 - n.height / 1.3 * Math.cos(i);
                e > 180 && (o -= 10), this.$rotateTip.css({left: o, top: r}), this.$rotateTip.html(e + "°")
            }
        }, {
            key: "init", value: function () {
                var e = this.item, t = this.rect = new s(e.getAbsolutePos()), n = this.item.getRotate(), i = t.center(),
                    o = e.getZIndex(), a = this.width = Math.max(t.width, t.height), c = this.boxWidth = 1.8 * a,
                    l = i.x - c / 2, p = i.y - c / 2,
                    u = this.$dom = $(r).css({width: c, height: c, left: l, top: p, zIndex: o - 1});
                this.$rotateTip = u.find(".rotate-tip"), window.$rotateGuide = u, this.update(n), e.eqxLayer.$layer.append(u)
            }
        }, {
            key: "destroy", value: function () {
                this.$dom.remove(), this.$dom = null, this.$rotateTip = null, this.item.rotateGuide = null, this.item = null
            }
        }]), e
    }();
    e.exports = c
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="rotate-guide"><div class="rotate-tip">50°</div><div class="h-line"></div><div class="v-line"></div><div class="nw-se-line"></div><div class="ne-sw-line"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            template: '<div class="operate-layer" id="operate-layer"></div>',
            replace: !0,
            scope: {},
            link: function (t, n) {
                e.init(n)
            },
            controller: ["$scope", "$rootScope", function (t, n) {
                n.$on("selectService.add", function (t) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    i.forEach(function (t) {
                        e.add(t)
                    })
                }), n.$on("selectService.remove", function (t) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    e.remove.apply(e, i)
                })
            }]
        }
    }

    i.$inject = ["operateLayer"], n(1163), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e, t, o, r, l, p, u, d, m, f, g, h, v, y, b, x, w, S) {
        "ngInject";
        return {
            restrict: "EA", template: n(1172), link: function (n, k) {
                function T(e) {
                    if (e) {
                        var n = G.eqxPage.eqxLayerList, i = void 0 === n ? [] : n, o = i.findIndex(function (t) {
                            return t.id === e
                        });
                        G.eqxPage.deleteEqxLayer(o), t.$broadcast("eqxLayer.delete.end")
                    }
                }

                function C() {
                    var e = z.back();
                    e && (M(N, e.json, !0), t.$broadcast("workspace.back"))
                }

                function I() {
                    var e = z.forward();
                    e && (M(N, e.json, !0), t.$broadcast("workspace.forward"))
                }

                function E() {
                    var e = h.assignDesignerAuthority("groupTemplateEditor"), t = h.functionEditor();
                    return e || t
                }

                function P(e) {
                    var t = ["5", "501", "502", "503", "504", "c", "r", "z", "a"];
                    return e.some(function (e) {
                        return t.includes(e.compJson.type + "")
                    })
                }

                function _(e) {
                    return e.some(function (e) {
                        var t = e.compJson, n = t.type, i = t.properties, o = "16" === n.toString(),
                            r = "4" === n.toString() && !!i.pip;
                        return o || r
                    })
                }

                function q(e) {
                    var t = ["18", "19"];
                    return e.some(function (e) {
                        return t.includes(e.compJson.type + "")
                    })
                }

                function O(e) {
                    return A(e).then(function (e) {
                        return e && D("删除" + e + "个组件")
                    })
                }

                function A(n) {
                    n && 0 !== n.length || (n = e.items);
                    var o = H.groupManager, a = o.extractComps(n), c = null;
                    return c = P(a) ? r.openConfirmDialog({
                        msg: "将删除已收集的数据",
                        confirmName: "确定",
                        cancelName: "取消"
                    }) : _(a) ? r.openConfirmDialog({
                        msg: "将删除的组件可能导致画中画无法正常使用",
                        confirmName: "确定",
                        cancelName: "取消"
                    }) : q(a) ? r.openConfirmDialog({
                        msg: "将删除已收集的活动数据",
                        confirmName: "确定",
                        cancelName: "取消"
                    }) : l.resolve(), c.then(function () {
                        e.remove.apply(e, i(n));
                        var o = a.length, r = [], c = s.findTopItems(a);
                        a.forEach(function (e) {
                            r.push(e.compJson.id), H.deleteEqxComp(e)
                        });
                        var l = H.groupManager.removeEmptyGroups();
                        return e.remove.apply(e, i(l)), c.filter(function (e) {
                            return H.hasEqxItem(e)
                        }).forEach(function (e) {
                            e.autoSizeTopDown()
                        }), o && t.$broadcast.apply(t, ["wsComp.delete.end"].concat(r)), o
                    })["catch"](function () {
                        return 0
                    })
                }

                function j() {
                    d.add.apply(d, i(e.items))
                }

                function L(n, r) {
                    var a = o.getCurrentPage(), s = a.groupManager, c = d.getTriggers(), l = 1;
                    n[0] && n[0].eqxPage.pageJson.id !== a.pageJson.id && (l = 0);
                    var p = s.copyItems(n, 0, l, c);
                    e.removeAll(), e.add.apply(e, i(p)), t.$broadcast.apply(t, ["wsComp.add"].concat(i(p))), r && r()
                }

                function F() {
                    for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    t.forEach(function (e) {
                        if (!e.isGroupItem()) {
                            if (!e.compJson.css.height) {
                                var t = e.$li.height();
                                e.compJson.css.height = t, e.$li.css({height: t}), e.findTopGroup().autoSizeTopDown()
                            }
                            var n = e.type + "";
                            "4" === n ? c(e) : "n" === e.type && e.showRandomImg()
                        }
                    })
                }

                function M(n, i, o) {
                    if (e.removeAll(), H = B.replaceEqxPage(n, i)) return R(H, o), t.$broadcast("replacePage"), g.editFontFamily(), H
                }

                function J(e) {
                    H && H.destroy(), H = B.getEqxPageByIndex(e), window.eqxPage = H, R(H), m.addPageHistory(H.toJson(), "初始化"), N = e, z = m.getPageHistory(H.pageJson.id), g.editFontFamily();
                    var t = H.triggerManager;
                    t.addTriggers(d.getTriggers())
                }

                function R(n, o) {
                    var r = n.$section;
                    r ? n.eqxBackground && n.eqxBackground.animate() : r = n.create$section(), r.addClass("editor-section"), B.$ele.append(r), F.apply(void 0, i(n.getEqxComps())), a({
                        wsHelper: y,
                        $ele: k.find(".workspace"),
                        eqxPage: n,
                        selectService: e,
                        compService: b,
                        $rootScope: t,
                        authorityService: h,
                        $timeout: u,
                        zoomService: x
                    }), n.active().then(function () {
                        n.show(), o || n.getEqxComps().forEach(function (e) {
                            return e.startAnimation({maxCount: 1, reset: !0})
                        }), t.$broadcast("changePage.end")
                    })
                }

                function D(e) {
                    z.addHistory(H.toJson(), e)
                }

                var B = o.eqxScene, N = null, z = null, H = null, U = n.$on("eqxScene.ready", function () {
                    B = o.eqxScene, B.initContainer(k.find("#nr")), B.initEqxPages(), U()
                });
                n.themeSkin = S.getItem("themeSkin") || "white", n.accessControl = h.assignDesignerAuthority, n.showThumbnail = h.checkAccount("applyPageTpl"), n.newPageManageUi = h.permission("newPageAndCompManage");
                var G = (n.GroupManagerAuthority = !h.permission("groupManage"), n.vm = {
                    get group() {
                        var t = e.items;
                        if (1 === t.length && !t[0].isFunTemplate()) return 1 === t.length && t[0].isGroupItem() ? t[0] : null
                    }, get groups() {
                        return e.groups
                    }, get selectedComps() {
                        return e.comps
                    }, get eqxPage() {
                        return H
                    }, get showPhone() {
                        var e = f.showPhone;
                        if (!H) return e;
                        var t = H.pageJson.properties;
                        return !t.longPage && e
                    }, get preview() {
                        return w.workspace.preview
                    }, get pageSetting() {
                        return w.workspace.pageSetting
                    }, get compSetting() {
                        return w.workspace.compSettingShow
                    }, get layerBgSetting() {
                        return w.workspace.layerBgSetting
                    }, newTextToolbar: h.permission("newTextToolbar"), imageToolbar: h.permission("imageToolbar")
                });
                "app" === v.getEditorModel() && ($(".workspace").css({left: 0}), $(".help-tool").css({left: "0"})), n.$on("change.theme", function (e, t) {
                    t && (n.themeSkin = t)
                }), n.$on("eqxLayer.delete", function () {
                    var e = G.eqxPage.eqxLayerList, t = G.eqxPage.getCurrentLayer() || {};
                    return e.length <= 1 ? void p.success("至少保留一层") : void T(t.id)
                }), n.$on("page.delete", function () {
                    N = null, H = null, z = null
                }), n.$on("longPageAdjust.move", function (e, t) {
                    var n = H.eqxBackground;
                    n && n.updateBgHeight(t)
                }), n.$on("longPageAdjust.up", function (e, t) {
                    t && (H.setProps({longPage: t}), D("调整页面长度"))
                }), n.$on("pageManager.changePage.pre", function () {
                    e.removeAll(), w.workspace.pageSetting = !1
                }), n.$on("pageManager.changePage", function (e, t) {
                    J(t)
                }), n.$on("pageManager.create", function () {
                }), n.$on("selectBox.end", function () {
                    H.eqxCompList.forEach(function (e) {
                        e.$center = null
                    })
                }), n.$on("selectService.add", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.forEach(function (e) {
                        e.$$resize = !0
                    })
                }), n.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.forEach(function (e) {
                        e.$$resize = !1
                    })
                }), n.$on("compDrag.end", function (e, t, n) {
                    t.x === n.x && t.y === n.y || D("拖动组件")
                }), n.$on("item.rotate.end", function () {
                    D("旋转组件")
                }), n.$on("compResize.move", function (e, t, n, i) {
                    t.updateSize(n, i), "m" == t.type && t.updateOmit()
                }), n.$on("compResize.end", function () {
                    D("修改组件尺寸")
                }), n.$on("contextMenu.paste", function () {
                    L(d.items)
                }), n.$on("multiSelect.paste", function () {
                    L(d.items)
                }), n.$on("compManager.copy", function (t, n) {
                    L(e.items, n)
                }), n.$on("contextMenu.copy", function () {
                    j()
                }), n.$on("wsComp.add", function (t) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    e.removeAll(), F.apply(void 0, i), u(function () {
                        return e.add.apply(e, i)
                    }, 0);
                    var r = i.length;
                    i.forEach(function (e) {
                        e.previewAnimation(e.anim[0])
                    }), r && D("增加" + r + "个组件")
                }), n.$on("groupComp.add", function (e) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    F.apply(void 0, i), i.length && D("增加" + i.length + "个组件"), t.$broadcast("groupComp.add.end", i)
                }), n.$on("wsComp.updated", function (e) {
                    var t = arguments.length <= 1 ? 0 : arguments.length - 1;
                    t && D("更新属性: " + t + "个组件")
                }), n.$on("wsComp.updated.style", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    F.apply(void 0, n), n.forEach(function (e) {
                        e.$$resize = !0
                    })
                }), n.$on("compStyle.save", function (e, t) {
                    D("组件样式修改, compId " + t.compJson.id)
                }), n.$on("wsComp.delete", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    if (n.length) var o = n[n.length - 1], r = n.slice(0, n.length - 1); else r = [];
                    O(r).then(function () {
                        o && "function" == typeof o && o()
                    })
                }), n.$on("align", function (e) {
                    for (var t = arguments.length, i = Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++) i[o - 1] = arguments[o];
                    i.length && (i.forEach(function (e) {
                        var t = e.$rect1, n = e.$rect2, i = n.p1.x - t.p1.x, o = n.p1.y - t.p1.y;
                        e.updatePos(i, o)
                    }), n.$broadcast.apply(n, ["align.updatePos"].concat(i)), D("对齐组件"))
                }), n.$on("group.breakup", function () {
                    var n = e.items.slice();
                    1 === n.length && n[0].isGroupItem() && (e.removeAll(), H.groupManager.breakUpGroupItem(n[0].id), D("拆分组合"), t.$broadcast("group.breakup.end"))
                }), n.$on("group.combine", function () {
                    var n = e.items.slice(), i = H.groupManager;
                    if (e.removeAll(), n.length) {
                        var o = E() ? 1 : 2, r = i.combineItems(n.map(function (e) {
                            return e.id
                        }), o);
                        D("合并组件"), r && e.add(r), t.$broadcast("group.combine.end", r)
                    }
                }), n.$on("keymap.reLayout", function () {
                    var t = H.groupManager;
                    if (1 === e.groups.length) {
                        var n = e.groups[0];
                        t.reLayout(n)
                    }
                }), n.$on("keymap.moveUp", function () {
                    var t = H.groupManager;
                    if (1 === e.items.length) {
                        var n = e.items[0];
                        t.changeEqxItemVerticalPosition(n, -1)
                    }
                }), n.$on("keymap.moveDown", function () {
                    var t = H.groupManager;
                    if (1 === e.items.length) {
                        var n = e.items[0];
                        t.changeEqxItemVerticalPosition(n, 1)
                    }
                }), n.$on("keymap.delete", function () {
                    O()
                }), n.$on("keymap.cancel", function () {
                    e.remove.apply(e, i(H.eqxCompList))
                }), n.$on("keymap.reverse", function () {
                    var t = H.eqxCompList, n = e.comps, o = t.filter(function (e) {
                        return n.indexOf(e) === -1
                    });
                    e.remove.apply(e, i(n)), e.add.apply(e, i(o))
                }), n.$on("keymap.selectAll", function () {
                    var t;
                    H && e.add.apply(e, i((t = []).concat.apply(t, i(H.getOperableLayers().map(function (e) {
                        return e.getDirectItems()
                    })))))
                }), n.$on("keymap.paste", function () {
                    L(d.items)
                }), n.$on("keymap.copy", function () {
                    j()
                }), n.$on("keymap.dirMove", function (t, n, i) {
                    e.comps.forEach(function (e) {
                        var t = e.css, o = {};
                        o[n] = t[n] + i, e.update$li(o), e.autoSizeTopDown()
                    })
                }), n.$on("keymap.dirEnd", function () {
                    D("移动组件")
                }), n.$on("keymap.save", function () {
                    t.$broadcast("savePage", function () {
                        p.success("保存成功")
                    })
                }), n.$on("keymap.back", C), n.$on("keymap.forward", I), n.$on("tool.back", C), n.$on("tool.forward", I), n.$on("tpl.useTpl", function (e, t) {
                    var n = H.isLongPage(), i = M(N, t);
                    !n && i.isLongPage() && (i.$newPageHeight = !0), D("替换模板")
                })
            }
        }
    }

    o.$inject = ["selectService", "$rootScope", "sceneService", "modalService", "$q", "notifier", "$timeout", "copyService", "historyService", "workspaceService", "fontService", "authorityService", "urlParameterService", "wsHelper", "compService", "zoomService", "flagService", "storageService"], n(1165), n(1166);
    var r = n(1052), a = (r.Rect, r.Point, n(1167)), s = n(519), c = n(1171);
    e.exports = o
}, function (e, t) {
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i() {
        l = 0
    }

    function o(e) {
        function t(e) {
            if (e.isEditLocked) return !1;
            var t = e.findTopGroup();
            if (e.isGroupItem()) {
                if (t !== e && t.isFunTemplate() && !e.hasFtRules()) return !1
            } else if (t.isFunTemplate()) return !1;
            return !0
        }

        function n(e) {
            if (e.isEditLocked) return !1;
            var t = e.findTopGroup();
            if (t === e) ; else if (t.isFunTemplate()) return !1;
            return !0
        }

        function o(e) {
            return !e.isEditLocked && (!e.isGroupItem() && !e.isFunTemplate())
        }

        var p = e.$ele, u = e.wsHelper, d = e.selectService, m = e.$rootScope, f = e.$timeout, g = $(document),
            h = s({selectService: d, $rootScope: m, wsHelper: u}),
            v = c({$ele: p, wsHelper: u, $timeout: f, $rootScope: m}), y = -1e3, b = 0;
        p.off("mousedown.compClick").on("mousedown.compClick", function (e) {
            function s() {
                return l < 4 && b - y > 300
            }

            function c(e) {
                var t = r;
                return r = u.getEqxItemByEvent(e), l < 4 && !!r && r === t && b - y < 250
            }

            function f(e) {
                c(e) ? w(r) : s() ? x(e) : r = null, y = b
            }

            function x(e) {
                m.$apply(function () {
                    var n = u.getEqxItemByEvent(e);
                    return n ? (r = n, void(t(n) && (d.isCtrlOrCommandOrShiftPressed(e) ? d.has(n) ? d.remove(n) : d.add(n) : (d.removeOtherItems(n), d.add(n))))) : (d.removeAll(), r = null, void m.$broadcast("selectBox.over"))
                })
            }

            function w(e) {
                if (e) {
                    if (!o(e)) return;
                    a("dbClick", e), r = null, m.$broadcast("wsComp.edit", e)
                }
            }

            e.stopPropagation(), b = Date.now();
            var S = d.items, k = 1 === e.which, T = S.length && u.pointInItems(u.getPageCoord(e), S),
                C = u.getEqxItemByEvent(e);
            if (k) if (!C || C.isGroupItem() || C.group || d.has(C)) if (T) {
                if (S = S.filter(function (e) {
                    return n(e)
                }), !S.length) return;
                S = v.onDragStart(e, S), p.on("mousemove.drag", function (e) {
                    l++, v.onDragMove(e, S)
                }), p.on("mouseup.drag", function (e) {
                    v.onDragEnd(e, S), f(e), i()
                })
            } else h.onSelectBoxStart(e), g.on("mousemove.selectBox", function (e) {
                l++, h.onSelectBoxMove(e)
            }), g.on("mouseup.selectBox", function (e) {
                h.onSelectBoxEnd(e), f(e), i()
            }); else {
                if (!n(C)) return;
                var I = v.onDragStart(e, [C]);
                p.on("mousemove.drag", function (e) {
                    l++, v.onDragMove(e, I)
                }), p.on("mouseup.drag", function (e) {
                    v.onDragEnd(e, I), f(e), l > 4 && !S.length && (d.removeAll(), d.add(C)), i()
                })
            } else if (C) {
                for (var $ = !0, E = 0; E < S.length; E++) {
                    var P = S[E];
                    P.isGroupItem() && P.getAllSubEqxItems().includes(C) && ($ = !1)
                }
                $ && x(e)
            }
        })
    }

    n(1168);
    var r, a = console.log.bind(console, "[wsEvent]"), s = n(1169), c = n(1170), l = 0;
    e.exports = o
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = n(1052), o = i.Point, r = n(249).toInt;
    e.exports = function (e) {
        function t(e) {
            d = new o(r(e.pageX), r(e.pageY)), h.$broadcast("selectBox.start", d), m = g.getPageCoord(e), u = $('<div class="select-box">').appendTo($("body"))
        }

        function n(e) {
            var t = new o(a(e), s(e)), n = p(d, t);
            u.css(n), h.$broadcast("selectBox.move", d, t, n);
            var i = g.getPageCoord(e), r = g.getSelectedItems(m, i);
            (r.length || f.items.length) && (f.setItems(r), h.$apply())
        }

        function i(e) {
            v.off(".selectBox"), h.$broadcast("selectBox.end"), u && (u.remove(), u = null)
        }

        function a(e) {
            return e.pageX
        }

        function s(e) {
            return e.pageY
        }

        function c(e) {
            return e
        }

        function l(e) {
            return e
        }

        function p(e, t) {
            var n = {left: c(e.x), top: l(e.y)};
            return n.width = t.x - e.x, n.height = t.y - e.y, n.width < 0 && (n.left = c(t.x), n.width = -n.width), n.height < 0 && (n.top = l(t.y), n.height = -n.height), n
        }

        var u, d, m, f = e.selectService, g = e.wsHelper, h = e.$rootScope, v = $(document);
        return {onSelectBoxStart: t, onSelectBoxMove: n, onSelectBoxEnd: i}
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    e.exports = function (e) {
        function t(e, t) {
            return r = s.getPageCoord(e), t = t.filter(function (e) {
                return e.canMove()
            }), t.forEach(function (e) {
                e.onMoveBefore()
            }), t
        }

        function i(e, t) {
            var i = s.getPageCoord(e), o = i.x - r.x, a = i.y - r.y;
            t.forEach(function (e) {
                e.onMove(o, a)
            }), l.$broadcast.apply(l, ["compDrag.move", r, i].concat(n(t)))
        }

        function o(e, t) {
            a.off("mousemove.drag mouseup.drag");
            var i = s.getPageCoord(e), o = i.x - r.x, p = i.y - r.y;
            t.forEach(function (e) {
                return e.onMove(o, p)
            }), l.$broadcast.apply(l, ["compDrag.move", r, i].concat(n(t))), c(function () {
                t.forEach(function (e) {
                    e.onMoveEnd()
                }), l.$broadcast.apply(l, ["compDrag.end", r, i].concat(n(t)))
            })
        }

        var r, a = e.$ele, s = e.wsHelper, c = e.$timeout, l = e.$rootScope;
        return {onDragStart: t, onDragMove: i, onDragEnd: o}
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        if (!(!e || e.$compImageSize || e.$width && e.$height)) {
            e.$compImageSize = !0;
            var t = e.$context[0].src, n = new Image;
            n.onload = function () {
                e.$width = n.width, e.$height = n.height, e.updateImageSize()
            }, n.src = t
        }
    }

    e.exports = n
}, function (e, t) {
    e.exports = '<eqx-zoom-tip></eqx-zoom-tip><div class="workspace all-change" ng-class="{\'workspace-new-page\' : !newPageManageUi, \'theme-white\' : themeSkin == \'white\', \'theme-black\' : themeSkin == \'black\'}" eqx-context-menu-trigger eqx-ws-scroll eqx-select-box eqx-keymap><div eqx-zoom-ws class="zoom-wrapper"><div class="container"><eqx-ws-phone eqx-page="vm.eqxPage" ng-if="vm.showPhone"></eqx-ws-phone><eqx-assist-grid eqx-page="vm.eqxPage"></eqx-assist-grid><div id="nr" class="nr sortable"><operate-layer></operate-layer></div><eqx-long-page-adjust eqx-page="vm.eqxPage"></eqx-long-page-adjust></div><eqx-ws-outbox eqx-page="vm.eqxPage" ng-show="!vm.showPhone"></eqx-ws-outbox><eqx-assist-lines></eqx-assist-lines></div><eqx-thumbnail eqx-page="vm.eqxPage" ng-if="accessControl(\'selectThumbnail\') || showThumbnail"></eqx-thumbnail><eqx-group-context-menu></eqx-group-context-menu></div><group-floating-toolbar></group-floating-toolbar><eqx-context-menu></eqx-context-menu><eqx-ws-tool show-phone="vm.showPhone" eqx-page="vm.eqxPage"></eqx-ws-tool><eqx-comp-setting ng-if="vm.compSetting" disable-context-menu></eqx-comp-setting><group-manage-panel ng-if="GroupManagerAuthority && vm.group && vm.compSetting" group="vm.group" disable-context-menu></group-manage-panel><eqx-multi-select-panel ng-if="vm.compSetting" disable-context-menu></eqx-multi-select-panel><eqx-setting-tpl eqx-page="vm.eqxPage" disable-context-menu ng-if="accessControl(\'settingElementCharacter\')" style="width:200px"></eqx-setting-tpl><eqx-tool-preview ng-if="vm.preview"></eqx-tool-preview><eqx-group-setting disable-context-menu></eqx-group-setting><eqx-use-fun-tpl ng-if="vm.compSetting && !vm.pageSetting" disable-context-menu></eqx-use-fun-tpl><eqd-tool-psd></eqd-tool-psd><eqx-page-setting disable-context-menu ng-if="vm.pageSetting && vm.compSetting"></eqx-page-setting><joint-directive ng-if="accessControl(\'joint\')"></joint-directive><fun-comp-setting ng-if="vm.layerBgSetting && !vm.pageSetting" disable-context-menu></fun-comp-setting>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A", link: function (e, t) {
                e.$watch("vm.eqxPage", function () {
                    t[0].scrollTop = 0
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            restrict: "A", link: function (t, n, i) {
                function o(e) {
                    l && localStorage.setItem(l, JSON.stringify(e))
                }

                function r() {
                    var e = {left: "", right: 187, top: 57};
                    o(e)
                }

                var a = $(document), s = n, c = !1;
                if (i.panelDraggable) {
                    var l = "panelDraggable" + i.panelDraggable;
                    s = n.find(i.panelDraggable);
                    var p = localStorage.getItem(l);
                    try {
                        p = JSON.parse(p), n.css(p)
                    } catch (u) {
                    }
                }
                e.getItem("toolPosition") && ($(".ws-tool").addClass("ws-tool-move"), $(".ws-tool").css({
                    top: e.getItem("toolPosition").top,
                    left: e.getItem("toolPosition").left
                })), s.on("mousedown.draggable", function (t) {
                    function i(e) {
                        var t = e.pageX, i = e.pageY, a = u.left + t - d, c = u.top + i - m, f = 0, g = 57, h = p - r,
                            v = l - s;
                        a < f && (a = f), a > h && (a = h), c < g && (c = g), c > v && (c = v);
                        var y = {left: a, top: c};
                        n.css(y), o(y)
                    }

                    var r = n.width(), s = n.height(), l = window.innerHeight, p = window.innerWidth, u = n.position(),
                        d = t.pageX, m = t.pageY;
                    t.currentTarget.className.indexOf("ws-tool-note-top") > -1 && ($(".ws-tool").hasClass("ws-tool-move") || (u.top += $(".help-tool").position().top + 57, u.left += $(".help-tool").position().left), c = !0), a.on("mousemove.draggable", function (e) {
                        $(".ws-tool").hasClass("ws-tool-move") || $(".ws-tool").addClass("ws-tool-move"), i(e)
                    }), a.on("mouseup.draggable", function (t) {
                        a.off(".draggable"), i(t), c && (e.setItem("toolPosition", {
                            top: n.css("top"),
                            left: n.css("left")
                        }), c = !1)
                    })
                }), $(window).on("resize", function () {
                    var e;
                    return function () {
                        e && (clearTimeout(e), e = void 0), n[0].className.indexOf("ws-tool") == -1 && (e = setTimeout(r, 1e3))
                    }
                }())
            }
        }
    }

    n.$inject = ["storageService"];
    console.log.bind(console, "[panelDraggable]");
    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = $(document);
        return {
            restrict: "A", link: function (i, o) {
                function r() {
                    for (var t = arguments.length, n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                    i.$apply(function () {
                        return e.$broadcast.apply(e, n)
                    })
                }

                o.on("$destroy", function () {
                    n.off(".keymap")
                });
                var a = !1;
                n.on("keyup.keymap", function () {
                    a && (r("keymap.dirEnd"), a = !1)
                }), n.on("keydown.keymap", function (e) {
                    if (!t.disableKeymap()) {
                        var n = e.ctrlKey || e.metaKey, i = e.shiftKey, o = e.keyCode;
                        if (a = !1, 9 === o && e.preventDefault(), 8 !== o && 46 !== o || (e.preventDefault(), r("keymap.delete")), n && 67 === o && (e.preventDefault(), r("keymap.copy")), 37 === o || 38 === o || 39 === o || 40 === o) {
                            e.preventDefault(), a = !0;
                            var s = i ? 5 : 1;
                            switch (o) {
                                case 37:
                                    r("keymap.dirMove", "left", -s);
                                    break;
                                case 38:
                                    r("keymap.dirMove", "top", -s);
                                    break;
                                case 39:
                                    r("keymap.dirMove", "left", s);
                                    break;
                                case 40:
                                    r("keymap.dirMove", "top", s)
                            }
                        }
                        if (n) switch (o) {
                            case 86:
                                e.preventDefault(), r("keymap.paste");
                                break;
                            case 65:
                                e.preventDefault(), r("keymap.selectAll");
                                break;
                            case 83:
                                e.preventDefault(), r("keymap.save");
                                break;
                            case 90:
                                e.preventDefault(), r(i ? "keymap.forward" : "keymap.back");
                                break;
                            case 89:
                                e.preventDefault(), r("keymap.forward");
                                break;
                            case 68:
                                e.preventDefault(), r("keymap.cancel");
                                break;
                            case 73:
                                i && (e.preventDefault(), r("keymap.reverse"));
                                break;
                            case 187:
                                e.preventDefault(), r("keymap.zoomout");
                                break;
                            case 189:
                                e.preventDefault(), r("keymap.zoomin");
                                break;
                            case 82:
                                i && (e.preventDefault(), r("keymap.reLayout"));
                                break;
                            case 49:
                                i && (e.preventDefault(), r("keymap.moveUp"));
                                break;
                            case 50:
                                i && (e.preventDefault(), r("keymap.moveDown"))
                        }
                    }
                })
            }
        }
    }

    n.$inject = ["$rootScope", "disableService"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1180),
            replace: !0,
            scope: {eqxPage: "="},
            controller: ["$scope", "workspaceService", "sceneService", "storageService", function (e, t, n, i) {
                "ngInject";
                e.themeSkin = i.getItem("themeSkin") || "white", e.vm = {
                    get name() {
                        return n.eqxScene.sceneJson.meta.name
                    }, get showPhone() {
                        var n = e.eqxPage, i = t.showPhone;
                        if (n) {
                            var o = n.pageJson.properties;
                            return !o.longPage && i
                        }
                        return i
                    }
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1177), e.exports = i
}, function (e, t) {
}, , , function (e, t) {
    e.exports = "<div class=\"phone\" ng-class=\"{'theme-white' : themeSkin == 'white','theme-black' : themeSkin == 'black'}\"></div>"
}, function (e, t) {
    "use strict";

    function n() {
        return {
            link: function (e, t) {
                t.contextmenu(function (e) {
                    e.preventDefault(), e.stopPropagation()
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1184),
            replace: !0,
            scope: {eqxPage: "="},
            controller: ["$scope", "HOST", "imageModalFactory", "loadingService", "notifier", "html2ImgService", "$timeout", function (e, t, n, i, o, r, a) {
                "ngInject";
                e.thumbnailSrc = function () {
                    if (e.eqxPage) return t.FILE + e.eqxPage.pageJson.properties.thumbSrc
                }, e.authGenerateThumb = function () {
                    i.show();
                    var t = $("#nr");
                    r.html2Img(t).then(function (t) {
                        a(function () {
                            e.eqxPage.pageJson.properties.thumbSrc = t.key
                        })
                    })["catch"](function () {
                        o.success("生成缩略图失败，请重新生成！")
                    })["finally"](function () {
                        i.hide()
                    })
                }, e.chooseThumb = function () {
                    n.getImage().then(function (t) {
                        e.eqxPage.pageJson.properties.thumbSrc = t.tmbPath
                    }, function () {
                        delete e.eqxPage.pageJson.properties.thumbSrc
                    })
                }
            }]
        }
    }

    n(1183), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="thumbnai-contain"><div class="thumbnai-title" ng-click="authGenerateThumb()">点击生成本页缩略图</div><div ng-if="!eqxPage.pageJson.properties.thumbSrc" class="default-content" ng-click="chooseThumb()">点击手动上传本页缩略图</div><div class="hint--left" ng-click="chooseThumb()" ng-if="eqxPage.pageJson.properties.thumbSrc" data-hint="单击可手动上传缩略图" style="border: 1px solid #F3F3F3"><img width="118" height="180" ng-src="{{thumbnailSrc()}}"/></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1187),
            replace: !0,
            scope: {eqxPage: "="},
            controller: ["$scope", function (e) {
                "ngInject";
                e.vm = {
                    get pageElements() {
                        return e.eqxPage ? (e.eqxPage.getEqxComps() || []).map(function (e) {
                            return e.compJson
                        }).filter(function (e) {
                            var t = e.type + "";
                            return "4" === t || "1" === t || "7" === t ? (1 !== e.isEditable && (e.isEditable = -1), !0) : "2" === t
                        }).sort(function (e, t) {
                            return e.type - t.type
                        }) : []
                    }
                }
            }]
        }
    }

    n(1186), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="page-list-label" panel-draggable=".can-drag"><div class="page-setting"><div class="can-drag"><h4>元素特性设置</h4></div><div eqd-scroll style="height:340px"><div><ul class="tpl-uls" ng-repeat="element in vm.pageElements track by element.id"><li hover-element="{{element.id}}" ng-if="element.type == \'2\'"><span>文字&nbsp;{{$index+1}}</span> <span>类型</span><select ng-model="element.properties.type"><option value="0">无</option><option value="1">收卡人</option><option value="2">发卡人</option><option value="3">祝福语</option></select></li><li hover-element="{{element.id}}" ng-if="element.type == \'4\'" class="setting-tpl-img"><span>图片&nbsp;{{$index+1}}</span> <span>可替换</span> <input type="checkbox" class="is-replace" ng-model="element.isEditable" ng-true-value="1" ng-false-value="-1" ng-checked="element.isEditable == 1"/></li><li hover-element="{{element.id}}" ng-if="element.type == \'1\' || element.type == \'7\' || element.type == \'2\'" class="setting-tpl-img"><span>文本&nbsp;{{$index+1}}</span> <span>可替换</span> <input type="checkbox" class="is-replace" ng-model="element.isEditable" ng-true-value="1" ng-false-value="-1" ng-checked="element.isEditable == 1"/></li></ul></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";
        return {
            restrict: "E", template: n(1191), scope: {}, link: function (n, r) {
                var a = e.getCurrentPage(), s = i.core.scene.EqxScene, c = a.pageJson.num - 1, l = e.eqxScene,
                    p = l.toJson();
                o(p.list, c);
                var u = n.tempScene = new s(p, {mode: "view", disableSubmit: !0, disableReport: !0});
                u.renderScene(r.find(".nr")), n.next = function (e) {
                    e ? u.pageScroll.goToNextPage() : u.pageScroll.goToPrePage()
                }, n.close = function () {
                    t.workspace.preview = !1
                }, n.$on("$destroy", function () {
                    u.destroy()
                })
            }
        }
    }

    function o(e, t) {
        for (var n = 0; n < t; n++) e.push(e.shift())
    }

    i.$inject = ["sceneService", "flagService", "EqxCore"], n(1189), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="tool-preview"><div class="tool-preview-bg"></div><div class="preview" ng-click="close()"><div class="phone-view nr" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"></div><div class="phone" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"><h4 class="name" ng-if="tempScene.meta.name.length > 0">{{tempScene.meta.name}}</h4><h4 class="name" ng-if="tempScene.meta.name.length == 0">正在设置的内容用于场景分享时显示</h4></div><div class="ctrl-panel" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"><a class="next-page" ng-click="next(true)">下一页</a> <a class="pre-page" ng-click="next(false)">上一页</a></div></div><span class="set-close eqf-no" ng-click="close()"></span></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";
        return {
            restrict: "EA", template: n(1194), scope: {}, link: function (n) {
                function o() {
                    f = n.vm = {
                        linkId: void 0,
                        linkType: void 0,
                        showEleBox: !1,
                        showSettingBox: !0,
                        metaScenes: null,
                        metaScene: null,
                        metaPages: null,
                        metaPage: null,
                        isLoading: !0,
                        isLinkPage: !1,
                        metaEle: []
                    }
                }

                function r() {
                    s(m)["catch"](function () {
                        return t.getMetaScene().then(function (e) {
                            f.showEleBox = !1, f.metaScenes = JSON.parse(JSON.stringify(e))
                        })
                    })["finally"](function () {
                        f.isLoading = !1, f.metaPage && l(n.compList, f.metaEle)
                    })
                }

                function a(e) {
                    return t.getMetaPages(e).then(function (e) {
                        return e
                    })
                }

                function s(e) {
                    return t.getMetaSceneById(e).then(function (e) {
                        var t = e.data.obj;
                        return t ? (f.metaScene = t, t) : i.reject([])
                    }).then(function () {
                        return c(d).then(function (e) {
                            e.data.list.length && (f.metaPage = {
                                compTags: e.data.list,
                                pageTag: e.data.obj
                            }, f.metaEle = JSON.parse(JSON.stringify(f.metaPage.compTags)), f.isLinkPage = !0)
                        })
                    }).then(function () {
                        return a(f.metaScene.id).then(function (e) {
                            f.metaPage = e[0], f.metaEle = JSON.parse(JSON.stringify(f.metaPage.compTags)), l(n.compList, f.metaEle)
                        })
                    })
                }

                function c(e) {
                    return t.getMetaByPageId(e)
                }

                function l() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    e.forEach(function (e) {
                        var n = e.properties.metaEle, i = void 0 === n ? {} : n;
                        t.forEach(function (t) {
                            t.id == i.id && (t.linkEle = {id: e.id, name: e.name})
                        })
                    })
                }

                function p(e, n) {
                    t.setScene(e, n).then(function () {
                        return u(f.metaPage.pageTag.id, d, n)
                    }).then(function () {
                        f.isLinkPage = !0
                    })
                }

                function u(e, i, o) {
                    t.setPage({tagId: e, sceneId: o, pageId: i}).then(function () {
                        alert("页面设置成功"), l(n.compList, f.metaEle)
                    })
                }

                var d, m, f = n.vm = {
                    linkId: void 0,
                    linkType: void 0,
                    showEleBox: !1,
                    showSettingBox: !0,
                    metaScenes: null,
                    metaScene: null,
                    metaPages: null,
                    metaPage: null,
                    isLoading: !0
                };
                $(window).on("click.linkData", function () {
                    f.showEleBox = !1
                }), n.settingLink = function () {
                    if (!f.metaScene.id) return void alert("请先选择标签");
                    var e = f.metaScene.id;
                    p(e, m)
                }, n.$watch("vm.showEleBox", function (e) {
                    e || (f.linkId = void 0, $(".hover-element-flash").remove())
                }), n.$on("pageManager.changePage", function () {
                    o();
                    var t = e.getCurrentPage(), i = t.pageJson, a = t.getEqxComps();
                    m = i.sceneId, d = i.id, n.compList = a.map(function (e) {
                        return e.compJson
                    }), r()
                }), n.unsetPage = function () {
                    t.unsetPage({tagId: f.metaPage.pageTag.id, pageId: d}).then(function () {
                        alert("页面解除成功"), o(), r()
                    })
                }, n.unsetScene = function () {
                    t.unsetScene({tagId: f.metaScene.id, sceneId: m}).then(function () {
                        alert("场景解除成功"), o(), r()
                    })
                }, n.addLinkEle = function (e) {
                    var t = e.id, i = e.types;
                    return 0 == n.compList.length ? void alert("请先添加组件") : (f.linkId = t, f.linkType = i, void(f.showEleBox = !0))
                }, n.setEle = function (e) {
                    for (var t = f.metaEle, n = 0; n < t.length; n++) if (t[n].id == f.linkId) {
                        t[n].types.indexOf("" + e.type) == -1 ? alert("不能关联非同类元素") : (t[n].linkEle = {}, t[n].linkEle.id = e.id, t[n].linkEle.name = e.name, e.properties.metaEle = {}, e.properties.metaEle.id = t[n].id, e.properties.metaEle.name = t[n].name);
                        break
                    }
                    f.showEleBox = !1
                }, n.unSetEle = function (e) {
                    var t = e.id;
                    f.linkId = void 0, n.compList.forEach(function (e) {
                        e.properties.metaEle && e.properties.metaEle.id == t && (e.properties.metaEle = {})
                    }), f.metaEle.forEach(function (e) {
                        e.id == t && (e.linkEle = {})
                    })
                }, n.selectMeta = function (e) {
                    n.vm.metaScenes.forEach(function (t) {
                        t.id == e && (f.metaScene = t, a(f.metaScene.id).then(function (e) {
                            f.metaPage = e[0], f.metaEle = JSON.parse(JSON.stringify(f.metaPage.compTags)), l(n.compList, f.metaEle)
                        }))
                    })
                }
            }
        }
    }

    i.$inject = ["sceneService", "jointAPI", "$q"], n(1193), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="meta-link-box" ng-if="!vm.isLoading" panel-draggable ng-click="$event.stopPropagation()"><h6 class="meta-title">打标签</h6><div class="del-link" ng-if="vm.isLinkPage"><span class="del-page-link" ng-click="unsetPage()" ng-if="vm.metaPage">解除页面关联</span> <span class="del-scene-link" ng-click="unsetScene()" ng-if="vm.metaScene">解除场景关联</span></div><div class="handle-btn"><div class="meta-btn" ng-repeat="scene in vm.metaScenes" ng-click="selectMeta(scene.id)" ng-class="{\'link-btn\':vm.metaScene.id == scene.id}" ng-if="!vm.metaScene.id || vm.metaScene.id == scene.id">{{scene.name}}</div></div><span ng-click="vm.showSettingBox = false;vm.showEleBox=false" ng-if="vm.showSettingBox && vm.metaPage" class="show-setting-btn">收起设置</span> <span ng-click="vm.showSettingBox = true;" ng-if="!vm.showSettingBox && vm.metaPage" class="show-setting-btn">展开设置</span><div ng-show="vm.showSettingBox && vm.metaPage.compTags"><ul class="meta-list"><li ng-repeat="ele in vm.metaEle" class="meta-ele"><span class="meta-ele-name">{{ele.name}}: </span><span class="link-meta-name" ng-if="ele.linkEle.name" hover-element="{{ele.linkEle.id}}">{{ele.linkEle.name}}</span> <span class="meta-add" ng-click="addLinkEle(ele)" ng-if="!ele.linkEle.id">{{ele.id == vm.linkId ? \'请选择\' : \'+\'}}</span> <span class="meta-del" ng-click="unSetEle(ele)" ng-if="ele.linkEle.id">删除</span></li></ul><ul class="page-ele-list" ng-if="vm.showEleBox"><li class="page-ele" ng-repeat="ele in compList" hover-element="{{ele.id}}"><input type="checkbox" class="page-ele-select" ng-disabled="ele.properties.metaEle.id || vm.linkType.indexOf(\'\' + ele.type) == -1" ng-checked="ele.properties.metaEle.id" ng-click="setEle(ele)"> {{ele.name}}</li></ul></div><div class="save-btn" ng-if="!vm.isLinkPage" ng-click="settingLink()">保存关联</div></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("scene.page", [n(1196), n(1200)]).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.pageCreate", []).directive("eqxCreatePage", n(1197)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1199),
            scope: {createPage: "&"},
            controller: ["$scope", "storageService", function (e, t) {
                "ngInject";
                var n = e.vm = {
                    hideCreatePageHint: t.getItem("hideCreatePageHint"),
                    showHint: !1,
                    showPageTypePanel: !1
                };
                e.createLongPage = function () {
                    e.createPage({pLen: 502})
                }, e.openHint = function () {
                    n.hideCreatePageHint || (n.showHint = !0), e.createPage()
                }, e.closeHint = function () {
                    n.showHint = !1
                }, e.onToggleHideHint = function () {
                    t.setItem("hideCreatePageHint", n.hideCreatePageHint)
                }, e.closePageTypePanel = function () {
                    n.showPageTypePanel = !1
                }, e.openPageTypePanel = function () {
                    n.showPageTypePanel = !0
                }
            }]
        }
    }

    n(1198), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="nav_bottom"><a class="eqf-menu-down" ng-click="openPageTypePanel()" eqx-red-dot-trigger="redDotNewPage"><div eqx-red-dot="redDotNewPage"></div></a><a ng-click="openHint()" class="insert hint--top hint--rounded fade-color" data-hint="添加一页">+</a><div ng-if="vm.showPageTypePanel" outside-click="closePageTypePanel()"><ul><li ng-click="createPage();closePageTypePanel()">常规页</li><li ng-click="createLongPage();closePageTypePanel()">长页面</li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("manageCtrl", [n(1201), n(1221), n(1233), n(1658), n(1680), n(1686), n(1691), n(1695), n(1700)]).directive("eqxManager", n(1702)).name
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("com.manager", [n(1202), n(1206), n(1210), n(1214)]).directive("eqxComManager", n(1217)).filter("filterPipButtonLayer", function () {
        return function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return e.filter(function (e) {
                return !e.hasPipButton
            })
        }
    }).name
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("comp.action", []).directive("eqxCompAction", n(1203)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: o, controller: ["$rootScope", "$scope", "selectService", function (e, t, n) {
                "ngInject";
                t.opt = function () {
                    var e = n.items.slice();
                    return 1 === e.length && e[0].isGroupItem() ? "unGroup" : "group"
                }, t.$on("copy.comp", function () {
                    t.copyItems()
                }), t.$on("delete.comp", function () {
                    t.deleteItems()
                })
            }]
        }
    }

    var o = n(1204);
    n(1205), e.exports = i
}, function (e, t) {
    e.exports = '<div class="comp-manager-action"><a class="hint--top hint--rounded" data-hint="图层" ng-if="!LayerManagerAuthority" ng-click="addEmptyEqxLayer()"><em class="eqf-plus"></em> <span>图层</span> </a><a class="hint--top hint--rounded" data-hint="分组" ng-click="ops()"><em ng-class="{\n        \'eqf-file-l\': opt() === \'group\',\n        \'eqf-filenone-l\': opt() === \'unGroup\'\n        }"></em> <span ng-if="opt() === \'group\'">分组</span> <span ng-if="opt() === \'unGroup\'">拆分</span> </a><a class="hint--top hint--rounded" data-hint="复制" ng-click="copyItems()"><em class="eqf-copy-l"></em> <span>复制</span> </a><a class="hint--top hint--rounded" data-hint="删除" ng-click="deleteItems()"><em class="eqf-delete-l"></em> <span>删除</span></a></div>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("comp.group", []).directive("compInItems", n(1207)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            replace: !0,
            scope: {comp: "=", compEye: "=", compLock: "=", isSelectedItem: "=", selectItem: "="},
            template: n(1209),
            controller: ["$scope", "$timeout", function (e, t) {
                "ngInject";
                var n = e.vm = {displayed: !1};
                e.showCompInput = function (e) {
                    n.displayed = !0, t(function () {
                        $(e.currentTarget).siblings("input")[0].focus()
                    })
                }, e.onKeydown = function (e) {
                    13 !== e.keyCode && 27 !== e.keyCode || (n.displayed = !1)
                }, e.$on("compManager.changeComp.pre", function () {
                    n.displayed = !1
                })
            }]
        }
    }

    n(1208), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-item" ng-class="{\'current\': isSelectedItem(comp)}" ng-click="selectItem($event, comp)"><em class="eye" ng-click="compEye($event, comp)" ng-class="{\n        \'eqf-eye-l\':comp.initType == 1,\n        \'eqf-hidden-l\': comp.initType == 2\n        }"></em> <em class="lock" ng-click="compLock($event, comp)" ng-class="{\n        \'eqf-lock-l\':comp.isEditLocked,\n        \'eqf-unlock-l\': !comp.isEditLocked\n        }"></em> <span class="comp-name" ng-dblclick="showCompInput($event)" ng-show="!vm.displayed" ng-bind="comp.compJson.name"></span> <input class="comp-input" type="text" ng-model="comp.compJson.name" ng-show="vm.displayed" placeholder="{{comp.compJson.name}}" ng-click="$event.stopPropagation()" ng-keydown="onKeydown($event)" ng-blur="vm.displayed = false;" maxlength="12"/></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("group.group", []).directive("groupInItems", n(1211)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            replace: !0,
            scope: {
                group: "=",
                isSelectedItem: "=",
                selectItem: "=",
                compEye: "=",
                compLock: "=",
                itemsSortableOptions: "=",
                groupDisplayedSetting: "=",
                groupLockedSetting: "="
            },
            template: n(1213),
            controller: ["$scope", "$timeout", "authorityService", function (e, t, n) {
                "ngInject";

                function i() {
                    var e = n.assignDesignerAuthority("groupTemplateEditor"), t = n.functionEditor();
                    return e || t
                }

                var o = i(), r = e.group.isFunTemplate() && !o, a = e.vm = {input: !1, expanded: !r};
                e.toggleExpandGroup = function (e) {
                    e.stopPropagation(), a.expanded = !r && !a.expanded
                }, e.editGroupName = function (e) {
                    a.input = !0;
                    var n = $(e.currentTarget), i = n.siblings("input");
                    t(function () {
                        i[0].focus()
                    })
                }, e.onKeydown = function (e) {
                    13 !== e.keyCode && 27 !== e.keyCode || (a.input = !1)
                }
            }]
        }
    }

    n(1212), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="group-item"><div class="group-name-editor" ng-click="selectItem($event, group)" ng-class="{\'current\': isSelectedItem(group)}"><em class="eye" ng-click="groupDisplayedSetting($event, group)" ng-class="{\n            \'eqf-eye-l\': group.displayed === \'1\',\n            \'eqf-hidden-l\': group.displayed === \'2\'}"></em> <em class="lock" ng-click="groupLockedSetting($event, group)" ng-class="{\n            \'eqf-lock-l\': group.locked,\n            \'eqf-unlock-l\': !group.locked}"></em> <span class="expand" ng-if="!group.isFunTemplate()" ng-class="{\'collapse\': !vm.expanded}" ng-click="toggleExpandGroup($event)"><em class="eqf-play"></em> </span><span class="icon" ng-if="!group.isFunTemplate()"><em class="eqf-file-f"></em> </span><span class="group-name" ng-bind="group.name" ng-show="!vm.input" ng-class="{\'funTemplate\': group.isFunTemplate()}" ng-dblclick="editGroupName($event)"></span> <input class="group-input" type="text" ng-model="group.name" ng-show="vm.input" ng-blur="vm.input = false;" placeholder="{{group.name}}" ng-click="$event.stopPropagation()" ng-keydown="onKeydown($event)" maxlength="12"/></div><ul class="items cross-sortable" ui-sortable="itemsSortableOptions" ng-model="group.eqxItems" ng-if="vm.expanded"><li class="item" ng-repeat="item in group.eqxItems track by item.id"><comp-in-items ng-if="!item.isGroupItem()" comp="item" is-selected-item="isSelectedItem" select-item="selectItem" comp-eye="compEye" comp-lock="compLock"></comp-in-items><group-in-group ng-if="item.isGroupItem()" group="item" is-selected-item="isSelectedItem" select-item="selectItem" group-locked-setting="groupLockedSetting" group-displayed-setting="groupDisplayedSetting" comp-eye="compEye" comp-lock="compLock" items-sortable-options="itemsSortableOptions"></group-in-group></li></ul></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("group.groupInGroup", []).directive("groupInGroup", n(1215)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            replace: !0,
            scope: {
                group: "=",
                isSelectedItem: "=",
                selectItem: "=",
                compEye: "=",
                compLock: "=",
                itemsSortableOptions: "=",
                groupDisplayedSetting: "=",
                groupLockedSetting: "="
            },
            template: n(1216),
            controller: ["$scope", "$timeout", "authorityService", function (e, t, n) {
                "ngInject";

                function i() {
                    var e = n.assignDesignerAuthority("groupTemplateEditor"), t = n.functionEditor();
                    return e || t
                }

                var o = i(), r = e.group.isFunTemplate() && !o, a = e.vm = {input: !1, expanded: !r};
                e.toggleExpandGroup = function (e) {
                    e.stopPropagation(), a.expanded = !r && !a.expanded
                }, e.editGroupName = function (e) {
                    a.input = !0;
                    var n = $(e.currentTarget), i = n.siblings("input");
                    t(function () {
                        i[0].focus()
                    })
                }, e.onKeydown = function (e) {
                    13 !== e.keyCode && 27 !== e.keyCode || (a.input = !1)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="group-item"><div class="group-name-editor" ng-click="selectItem($event, group)" ng-class="{\'current\': isSelectedItem(group)}"><em class="eye" ng-click="groupDisplayedSetting($event, group)" ng-class="{\n            \'eqf-eye-l\': group.displayed === \'1\',\n            \'eqf-hidden-l\': group.displayed === \'2\'}"></em> <em class="lock" ng-click="groupLockedSetting($event, group)" ng-class="{\n            \'eqf-lock-l\': group.locked,\n            \'eqf-unlock-l\': !group.locked}"></em> <span class="expand" ng-class="{\'collapse\': !vm.expanded}" ng-click="toggleExpandGroup($event)"><em class="eqf-play"></em> </span><span class="icon"><em class="eqf-file-f"></em> </span><span class="group-name" ng-bind="group.name" ng-show="!vm.input" ng-dblclick="editGroupName($event)"></span> <input class="group-input" type="text" ng-model="group.name" ng-show="vm.input" ng-blur="vm.input = false;" placeholder="{{group.name}}" ng-click="$event.stopPropagation()" ng-keydown="onKeydown($event)" maxlength="12"/></div><ul class="items cross-sortable" ui-sortable="itemsSortableOptions" ng-model="group.eqxItems" ng-if="vm.expanded"><li class="item" ng-repeat="comp in group.eqxItems track by comp.id"><comp-in-items comp="comp" is-selected-item="isSelectedItem" select-item="selectItem" comp-eye="compEye" comp-lock="compLock"></comp-in-items></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e) {
        "ngInject";
        var t = e.permission("layerManage"), o = n(t ? 1219 : 1220);
        return {
            restrict: "E",
            template: o,
            scope: {},
            controller: ["$scope", "$timeout", "$rootScope", "sceneService", "selectService", function (e, n, o, r, a) {
                function s() {
                    var e = function o(e) {
                        return e.forEach(function (e) {
                            return e.isGroupItem() && o(e.eqxItems)
                        }), e.sort(function (e, t) {
                            return t.zIndex - e.zIndex
                        }), e
                    }, t = m.page.eqxLayerList, n = void 0 === t ? [] : t, i = n.length;
                    m.layers = n.slice().sort(function (e, t) {
                        return t.zIndex - e.zIndex
                    }).map(function (t, n) {
                        var o = t.hasPipButton, r = t.thumbnail, a = t.displayed, s = t.area, c = t.id, l = 0;
                        return t.eqxItems.forEach(function (e) {
                            e.isGroupItem() && (l++, e.name = e.name || "组合" + l)
                        }), {
                            eqxItems: e(t.getDirectItems()),
                            name: t.name || "图层" + (i - n),
                            eqxLayer: t,
                            hasPipButton: o,
                            thumbnail: r,
                            displayed: a,
                            area: s,
                            id: c
                        }
                    })
                }

                function c() {
                    function e(t) {
                        var n = [];
                        return t.forEach(function (t) {
                            return t.isGroupItem() ? n.push.apply(n, i(e(t.eqxItems))) : n.push(t)
                        }), n
                    }

                    for (var t = m.page.eqxLayerList, n = m.layers.length, o = 0; o < n; o++) {
                        var r = e(m.layers[o].eqxItems);
                        t[o].updateCompsIndex(r)
                    }
                }

                function l(e) {
                    for (var t = []; e.group;) t.push(e.group), e = e.group;
                    return t
                }

                function p(e, t) {
                    function n(e, t) {
                        if (e) return i(e, t)
                    }

                    function i(e, t) {
                        if (e) {
                            var n = t.eqxItems, o = n.findIndex(function (t) {
                                return t.id === e.id
                            }), r = o >= 0 ? n.splice(o, 1)[0] : null;
                            return r && r.isGroupItem() && r.eqxItems.forEach(function (e) {
                                i(e, t)
                            }), r
                        }
                    }

                    function o(e, t) {
                        e && r(e, t)
                    }

                    function r(e, t) {
                        if (e) {
                            var n = t.eqxItems;
                            n.push(e), e.eqxLayer = p, e.isGroupItem() && e.eqxItems.forEach(function (e) {
                                r(e, t)
                            })
                        }
                    }

                    var a = m.page.eqxLayerList, s = void 0 === a ? [] : a, c = e.eqxLayer, l = d(t.id),
                        p = s.find(function (e) {
                            return e.id === l.id
                        });
                    if (e.group && e.group.autoSize(), e.group = u(t.id), e.parent = e.group || p || null, e.parent && e.$item.appendTo(e.parent.$ul), e.autoSize(), c !== p) {
                        var f = n(e, c);
                        o(f, p)
                    }
                }

                function u(e) {
                    function t(e, n) {
                        if (!e.isGroupItem()) return null;
                        for (var i = 0; i < e.eqxItems.length; i++) {
                            var o = e.eqxItems[i];
                            if (o.id === n) return e;
                            if (o.isGroupItem()) {
                                var r = t(o, n);
                                if (r) return r
                            }
                        }
                        return null
                    }

                    for (var n = 0; n < m.layers.length; n++) for (var i = 0; i < m.layers[n].eqxItems.length; i++) {
                        var o = m.layers[n].eqxItems[i], r = t(o, e);
                        if (r) return r
                    }
                    return null
                }

                function d(e) {
                    function t(e, n) {
                        if (e.id === n) return e;
                        if (!e.isGroupItem()) return null;
                        for (var i = 0; i < e.eqxItems.length; i++) if (t(e.eqxItems[i], n)) return e.eqxItems[i]
                    }

                    for (var n = 0; n < m.layers.length; n++) for (var i = m.layers[n], o = 0; o < i.eqxItems.length; o++) {
                        var r = m.layers[n].eqxItems[o];
                        if (t(r, e)) return i
                    }
                    return null
                }

                e.LayerManagerAuthority = t;
                var m = e.vm = {
                    get page() {
                        return r.getCurrentPage() || null
                    }, get currentLayer() {
                        return this.page ? this.page.getCurrentLayer() : null
                    }, get groupManager() {
                        return this.page ? this.page.groupManager : null
                    }
                };
                e.layersSortableOptions = {
                    placeholder: "ui-state-highlight ui-sort-position", stop: function () {
                        for (var e = m.layers.length, t = 0; t < e; t++) {
                            var n = m.layers[t].eqxLayer;
                            n.updateEqxLayerIndex(e - t)
                        }
                    }
                }, e.itemsSortableOptions = {
                    placeholder: "ui-state-highlight ui-sort-position",
                    connectWith: ".cross-sortable",
                    update: function (e, t) {
                        var n = t.item.sortable, i = n.model, o = n.droptargetModel[0], r = o.group || o.eqxLayer;
                        i.isFunTemplate() && !r.isEqxLayer() && n.cancel(), i.isEditLocked && n.cancel(), i.isGroupItem() && r && r.group && n.cancel()
                    },
                    stop: function (e, t) {
                        var n = t.item.sortable, i = n.model;
                        if (n.droptargetModel && !n.isCanceled()) {
                            var o = n.droptargetModel[0];
                            a.removeAll(), m.groupManager.removeEmptyGroups(), c(), p(i, o), s()
                        }
                    }
                }, e.layerDisplaySetting = function (e) {
                    var t = m.page.eqxLayerList, n = t.find(function (t) {
                        return t.id === e.id
                    });
                    n && (n.displayed = !n.displayed, e.displayed = n.displayed, n.display())
                }, e.ops = function () {
                    var e = a.items.slice();
                    1 === e.length && e[0].isGroupItem() ? o.$broadcast("group.breakup") : e.length && o.$broadcast("group.combine"), s()
                }, e.isSelectedItem = function (e) {
                    return a.has(e)
                }, e.selectItem = function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments[1];
                    if (t && !t.isEditLocked) {
                        if (a.isCtrlOrCommandPressed(e)) return a.has(t) ? a.remove(t) : a.add(t);
                        if (e.shiftKey && m.page) {
                            var n = m.page.getEaxPageTreeStructureFlatted(), o = a.items,
                                r = Math.min.apply(Math, i(o.map(function (e) {
                                    return n.indexOf(e)
                                }))), s = n.indexOf(t);
                            return r === -1 || s === -1 ? void console.log("这不可能！") : (a.removeAll(), void a.add.apply(a, i(n.slice(r, s + 1))))
                        }
                        a.removeAll(), a.add(t)
                    }
                }, e.groupLockedSetting = function (e, t) {
                    e.stopPropagation(), t.locked = !t.locked, t.locked && a.remove(t), t.getAllSubEqxItems().forEach(function (e) {
                        e.isEditLocked = t.locked, e.isEditLocked && a.remove(e)
                    }), t.locked || l(t).forEach(function (e) {
                        e.isEditLocked = !1
                    })
                }, e.groupDisplayedSetting = function (e, t) {
                    e.stopPropagation(), t.displayed = "1" === t.displayed ? "2" : "1"
                }, e.compLock = function (e, t) {
                    e.stopPropagation(), e.preventDefault();
                    var n = t.compJson || {}, i = n.properties;
                    i.editLock = !i.editLock, i.editLock && a.remove(t), i.editLock || l(t).forEach(function (e) {
                        e.isEditLocked = !1
                    })
                }, e.compEye = function (e, t) {
                    e.stopPropagation(), e.preventDefault();
                    var n = {1: !0, 2: !1}, i = t.compJson || {}, o = i.properties;
                    n[o.initType] ? (o.initType = 2, t.eleHide()) : (o.initType = 1, t.eleShow())
                }, e.deleteItems = function () {
                    a.items.length ? o.$broadcast("wsComp.delete") : o.$broadcast("eqxLayer.delete")
                }, e.copyItems = function () {
                    o.$broadcast("compManager.copy", function () {
                        s()
                    })
                }, e.addEmptyEqxLayer = function () {
                    m.page.addEmptyEqxLayer(), s()
                }, e.editLayerName = function (e, t) {
                    m.layers[t].input = !0;
                    var i = $(e.currentTarget), o = i.siblings("input");
                    n(function () {
                        o[0].focus()
                    })
                }, e.onKeydown = function (e, t) {
                    if (13 === e.keyCode || 27 === e.keyCode) {
                        var n = m.page.eqxLayerList, i = $(e.currentTarget), o = i.val();
                        13 === e.keyCode && o && (n[t].name = o, m.layers[t].name = o), m.layers[t].input = !1, i.val("")
                    }
                }, e.switchCurrentLayer = function (e) {
                    var t = m.page.eqxLayerList, n = t.find(function (t) {
                        return t.id === e
                    });
                    m.page.switchCurrentLayer(n)
                }, e.$on("changePage.end", function () {
                    a.removeAll(), s()
                }), e.$on("selectService.add", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    if (n && n.length) {
                        var o = n[n.length - 1], r = o.eqxPage;
                        "16" !== o.type && r.switchCurrentLayer(o.eqxLayer);
                    }
                }), angular.forEach(["wsComp.add", "screen.add", "screen.remove", "group.breakup.end", "group.combine.end", "group.updateIndex", "comp.updateIndex", "group.form.add", "contextMenu.zIndex", "wsComp.delete.end", "eqxLayer.delete.end"], function (t) {
                    e.$on(t, function () {
                        s()
                    })
                })
            }]
        }
    }

    o.$inject = ["authorityService"], n(1218), e.exports = o
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="nav_content comps-manager" ng-show="vm.tab == TAB.comp"><eqx-comp-action></eqx-comp-action><div class="container" eqd-scroll><div class="wrapper"><section class="layer" ng-repeat="layer in vm.layers | filterPipButtonLayer"><ul class="manager-items manager-comp-items cross-sortable" ui-sortable="itemsSortableOptions" ng-model="layer.eqxItems"><li class="manager-item" ng-repeat="item in layer.eqxItems track by item.id"><comp-in-items ng-if="!item.isGroupItem()" comp="item" is-selected-item="isSelectedItem" select-item="selectItem" comp-eye="compEye" comp-lock="compLock"></comp-in-items><group-in-items ng-if="item.isGroupItem()" group="item" is-selected-item="isSelectedItem" select-item="selectItem" group-locked-setting="groupLockedSetting" group-displayed-setting="groupDisplayedSetting" comp-eye="compEye" comp-lock="compLock" items-sortable-options="itemsSortableOptions"></group-in-items></li></ul></section></div></div></div>'
}, function (e, t) {
    e.exports = '<div class="nav_content comps-manager" ng-show="vm.tab == TAB.comp"><eqx-comp-action></eqx-comp-action><div class="container" eqd-scroll><div class="wrapper" ui-sortable="layersSortableOptions" ng-model="vm.layers"><section class="layer" ng-init="layer.expand=true" ng-repeat="layer in vm.layers | filterPipButtonLayer"><div class="layer-item" ng-click="switchCurrentLayer(layer.id)"><em class="eye" ng-click="layerDisplaySetting(layer)" ng-class="{\n                        \'eqf-eye-l\':layer.displayed,\n                        \'eqf-hidden-l\': !layer.displayed\n                        }"></em><span class="expand" ng-class="{\'collapse\': !layer.expand}" ng-click="layer.expand=!layer.expand"><em class="eqf-play"></em> </span><span class="layer-name" ng-class="{\'current\': layer.id === vm.currentLayer.id}" ng-show="!layer.input" ng-bind="layer.name" ng-dblclick="editLayerName($event, $index)"></span> <input type="text" class="layer-name-editor" placeholder="{{layer.name}}" ng-init="layer.input=false;" ng-show="layer.input" ng-keydown="onKeydown($event, $index)" ng-click="$event.stopPropagation()" ng-blur="layer.input=false" maxlength="12"></div><ul class="manager-items cross-sortable" ng-show="layer.expand" ui-sortable="itemsSortableOptions" ng-model="layer.eqxItems"><li class="manager-item" ng-repeat="item in layer.eqxItems track by item.id"><comp-in-items ng-if="!item.isGroupItem()" comp="item" is-selected-item="isSelectedItem" select-item="selectItem" comp-eye="compEye" comp-lock="compLock"></comp-in-items><group-in-items ng-if="item.isGroupItem()" group="item" is-selected-item="isSelectedItem" select-item="selectItem" group-locked-setting="groupLockedSetting" group-displayed-setting="groupDisplayedSetting" comp-eye="compEye" comp-lock="compLock" items-sortable-options="itemsSortableOptions"></group-in-items></li></ul></section></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageManager2", [n(1222), n(1226)]).directive("eqxPageManager2", n(1230)).name
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = i.module("page.nameEditor", []).directive("eqxPageNameEditor", n(1223)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {page: "="},
            template: o,
            controller: ["$scope", "$timeout", "sceneService", function (e, t, n) {
                "ngInject";
                var i = e.page, o = e.vm = {
                    get currentIndex() {
                        return n.currentPageIndex
                    }, showInput: !1, pageName: i.pageJson.name
                };
                e.showInput = function (e) {
                    o.currentIndex + 1 == i.pageJson.num && e.stopPropagation(), o.showInput = !0, t(function () {
                        var t = e.currentTarget;
                        $(t).siblings("input")[0].focus()
                    }, 0)
                }, e.$on("pageManager.changePage.pre", function (t, n, r) {
                    o.showInput && i.pageJson.num == n + 1 && e.savePageName(i.pageJson.name)
                }), e.savePageName = function (e) {
                    o.showInput && (o.showInput = !1), o.pageName != e && (o.pageName = e, n.savePageName(i.pageJson))
                }, e.stopPropagationFn = function (e) {
                    e.stopPropagation()
                }, e.onEnterFn = function (t) {
                    13 == t.keyCode && e.savePageName(e.page.pageJson.name)
                }
            }]
        }
    }

    var o = n(1224);
    n(1225), e.exports = i
}, function (e, t) {
    e.exports = '<span class="page-name" ng-dblclick="showInput($event)" ng-show="!vm.showInput">{{ page.pageJson.name || \'第\'+page.pageJson.num+\'页\'}}</span> <input class="page-name-input" type="text" ng-model="page.pageJson.name" ng-if="vm.showInput" placeholder="{{::\'第\'+page.pageJson.num+\'页\'}}" ng-blur="savePageName(page.pageJson.name)" ng-click="stopPropagationFn($event)" ng-keydown="onEnterFn($event)" check-count="30"/>'
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageManagerHandle", []).directive("eqxPageManagerHandle", n(1227)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: o, scope: !1}
    }

    n(1228);
    var o = n(1229);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div ng-style="{top: vm.top, left: vm.left}" class="page-manage-handle-content"><ul class="handle-list handle-page-list"><li ng-click="createPage()" class="handle-item"><a>新建常规页</a></li><li ng-click="openSceneSetting()" class="handle-item"><a>页面设置</a></li><li ng-click="copyPage()" class="handle-item"><a>复制页面</a></li><li ng-click="deletePage()" class="handle-item delete"><a>删除页面</a></li></ul><ul class="handle-list handle-save-list"><li authority="company" ng-click="createCompanyTpl()" class="hand-save-item handle-item"><a>存为企业模板</a></li><li ng-click="createMyTpl()" class="hand-save-item handle-item"><a>存为我的模板</a></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: o,
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "$routeParams", "$timeout", "modalService", "$location", "$q", "$interval", "notifier", "authorityService", "HOST", "flagService", "tplService", "copyService", "copyTriggerService", "selectService", "pipService", function (e, t, n, i, o, a, s, c, l, p, u, d, m, f, g, h, v, y) {
                "ngInject";

                function b() {
                    x(), S(e.vm.currentIndex), o(function () {
                        w()
                    })
                }

                function x() {
                    e.vm.pageList = [].concat(E.eqxPageList)
                }

                function w() {
                    o(function () {
                        var e = $(".page-manage-uls").height(), t = $(".page-manage-page-content").height();
                        e >= t && (e = t), q.createPageTop = e + 10 + "px"
                    })
                }

                function S(e) {
                    var i = n.currentPageIndex = e, o = s.search();
                    o.i = i + 1, s.search(o);
                    var a = E.eqxPageList[i];
                    a.$$lastHash = r(a.pageJson), h.clearTriggerComps(), g.clearTriggerComps(), t.$broadcast("pageManager.changePage", i)
                }

                function k() {
                    var t = e.vm.eqxPage.toJson(), n = JSON.parse(JSON.stringify(t));
                    return delete n.sceneId, c.resolve(n)
                }

                function T(i, o) {
                    if (i !== q.currentIndex && (t.$broadcast("pageManager.changePage.pre", e.vm.currentIndex, i), e.closeMenu(), x(), i !== n.currentPageIndex || o)) return e.savePage().then(function () {
                        S(i)
                    })
                }

                function C(e) {
                    var t = e || window.event, n = document.documentElement.scrollLeft || document.body.scrollLeft,
                        i = document.documentElement.scrollTop || document.body.scrollTop, o = t.pageX || t.clientX + n,
                        r = t.pageY || t.clientY + i;
                    return {x: o, y: r}
                }

                function I() {
                    var e = P ? 138 : 116, t = P ? 650 : 600;
                    o(function () {
                        var n = $(".page-manage-handle-content").offset().top;
                        n >= t && (q.top = parseInt(q.top) - e + "px")
                    })
                }

                var E = n.eqxScene, P = !u.permission("company"), _ = 3e5;
                e.longPageAddButton = u.permission("longPageAddButton"), e.disableLongPage = u.permission("disableLongPage");
                var q = e.vm = {
                    createPageIndex: 5, pageList: [], get currentIndex() {
                        return n.currentPageIndex
                    }, get eqxPage() {
                        return n.getCurrentPage()
                    }, get hideDeleteButton() {
                        return q.pageList.length <= 1
                    }
                };
                e.sortableOptions = {
                    placeholder: "ui-state-highlight ui-sort-position",
                    containment: "#containment",
                    update: function (t, i) {
                        var o = i.item.sortable, r = o.index, a = o.dropindex;
                        n.sortPage(r, a).then(function () {
                            var t = n.currentPageIndex;
                            t === r && (n.currentPageIndex = a), t === a && (n.currentPageIndex = r), e.onPageChange(a, !0)
                        })["catch"](function () {
                            p.danger("排序失败"), x()
                        })
                    }
                };
                var O = l(function () {
                    e.savePage()
                }, _);
                window.addEventListener("resize", function () {
                    $(".page-manage-uls").height() && w()
                }, !1);
                var A = e.$on("eqxScene.ready", function () {
                    o(function () {
                        b()
                    }, 200), A()
                });
                e.$on("tool.copyPage", function () {
                    e.copyPage()
                }), e.$on("savePage", function (t, n) {
                    e.savePage().then(function () {
                        n && n()
                    })["catch"](function () {
                        p.danger("页面保存失败")
                    })
                }), e.$on("tpl.useTpl", function () {
                    x()
                }, !0), e.$on("pageManageHandle", function (t, n) {
                    var i = n.event, r = n.$ele.offset(), a = C(i), s = a.x - r.left;
                    s >= 110 && (s = 110), e.vm.left = s + "px", e.vm.top = a.y - r.top + "px", o(function () {
                        q.pageList[q.currentIndex].showMenu = !0, I()
                    })
                }), e.$on("pageManager.create.end", function () {
                }), e.copyPage = function () {
                    e.savePage().then(function () {
                        var t = n.currentPageIndex;
                        n.copyPage2(t).then(function () {
                            e.onPageChange(t + 1), w()
                        })
                    })
                }, e.openSceneSetting = function () {
                    v.removeAll(), u.permission("pageSetting") && !m.workspace.compSettingShow ? t.$broadcast("open.pageSetting") : m.workspace.pageSetting = !0
                }, e.onPageChange = function (e, n) {
                    e !== q.currentIndex && (m.workspace.layerBgSetting && t.$broadcast("layer.bgSetting.close"), y.isCurrentPageGenerated().then(function () {
                        T(e, n)
                    })["catch"](function () {
                        a.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            t.$broadcast("pip.generate")
                        })
                    }))
                }, e.savePage = function () {
                    var t = e.vm.currentIndex, i = E.eqxPageList[t], o = r(i.toJson());
                    return i.$$lastHash || console.error("eqxPage does not have $$lastHash!", i), o === i.$$lastHash ? c.resolve() : n.savePage(t).then(function () {
                        i.$$lastHash = o, l.cancel(O), O = l(function () {
                            e.savePage()
                        }, _)
                    }, function (e) {
                        var t = e.data, n = void 0 === t ? {} : t, i = e.msg, o = void 0 === i ? null : i;
                        p.danger(o || n.msg)
                    })
                }, e.changePageZIndex = function () {
                    q.createPageIndex = 5
                }, e.onMoreHandle = function (n, i, o) {
                    n.stopPropagation(), q.createPageIndex = -1, y.isCurrentPageGenerated().then(function () {
                        T(i), e.toggleMenu(o)
                    })["catch"](function () {
                        a.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            t.$broadcast("pip.generate")
                        })
                    })
                }, e.$on("createPage", function (t, n) {
                    var i = n.cb, o = n.pLen;
                    e.createPage(o).then(function () {
                        i && i()
                    })
                }), e.createPage = function (i) {
                    var o = n.currentPageIndex;
                    return i && u.permission("disableLongPage") ? a.openConfirmDialog({
                        msg: "付费企业功能, 是否升级",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(d.HOST + "site/privilege")
                    }) : y.isCurrentPageGenerated().then(function () {
                        n.createPage(o, i).then(function (t) {
                            return t.$newPageHeight = !!t.isLongPage(), w(), e.onPageChange(o + 1)
                        }, function (e) {
                            return p.danger(e.data.msg), Promise.resolve("danger")
                        })
                    })["catch"](function () {
                        a.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            t.$broadcast("pip.generate")
                        })
                    })
                }, e.updateLongPage = function () {
                    window.open(d.HOST + "site/privilege")
                }, e.createMyTpl = function () {
                    k().then(function (e) {
                        f.saveMyTpl(e).then(function () {
                            p.success("成功生成我的模板"), t.$broadcast("tpl.saveMyTpl")
                        })
                    })
                }, e.createCompanyTpl = function () {
                    k().then(function (e) {
                        f.saveCompanyTpl(e).then(function () {
                            p.success("成功生成企业模板"), t.$broadcast("tpl.saveCompanyTpl")
                        })
                    })
                }, e.openMenu = function (e) {
                    e.showMenu = !0
                }, e.closeMenu = function () {
                    q.pageList.forEach(function (e) {
                        e.showMenu = !1
                    })
                }, e.toggleMenu = function (e) {
                    o(function () {
                        e.showMenu = !e.showMenu, e.showMenu && (q.top = "32px", q.left = "84px", I())
                    })
                }, e.deletePage = function () {
                    a.openConfirmDialog({
                        "delete": !0,
                        msg: "页面删除后无法还原",
                        confirmName: "坚持删除",
                        cancelName: "稍后决定"
                    }).then(function () {
                        n.deletePage(n.currentPageIndex).then(function (e) {
                            x(), w(), t.$broadcast("page.delete"), o(function () {
                                S(e)
                            }, 10)
                        })
                    })["catch"](function () {
                    })
                }
            }]
        }
    }

    n(1231);
    var o = n(1232), r = n(879).getHash;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="page-manage-content"><div class="comp-manager-action"><a ng-click="createPage()" class="hint--top hint--rounded" data-hint="添加一页"><i class="eqf-plus-l"></i> <span>添加</span> </a><a class="hint--top hint--rounded" data-hint="复制当前页" ng-click="copyPage()"><i class="eqf-copy-l"></i> <span>复制</span> </a><a class="hint--top hint--rounded" data-hint="删除当前页" ng-click="deletePage()"><i class="eqf-delete-l"></i> <span>删除</span></a></div><div class="nav_content page-manage-page-content" style="top: 85px"><div style="height: 100%;pointer-events: none" class="scroll-page-uls-content" eqd-scroll><ul class="page-uls page-manage-uls" id="pageList" ui-sortable="sortableOptions" ng-model="vm.pageList"><li class="blurClass page-manage-li" ng-repeat="page in vm.pageList" ng-click="onPageChange($index);" outside-click="closeMenu()" right-click="onPageChange($index);" ng-class="{current: vm.currentIndex == $index, createLongPage: page.pageJson.properties.longPage}"><span class="number"><em>{{ $index + 1}}</em></span><eqx-page-manager-handle ng-if="page.showMenu" ng-mouseleave="page.showMenu = false"></eqx-page-manager-handle><eqx-page-name-editor page="page"></eqx-page-name-editor><span class="more-handle" ng-click="onMoreHandle($event, $index, page)"><i class="eqf-menu-p"></i></span></li></ul></div><ul class="page-manage-create-page" ng-mouseenter="changePageZIndex()" ng-style="{top: vm.createPageTop,\'z-index\':vm.createPageIndex}"><li ng-click="createPage()" class="normal-page"><i>+</i> <span>常规页</span></li><li ng-click="createPage(554)" ng-class="{\'long-page\' : !disableLongPage, \'long-page-default\': disableLongPage}" ng-if="!longPageAddButton"><i>+</i> <span>长页面</span><div class="long-page-tip" ng-click="$event.stopPropagation()"><div>付费企业功能，请<a ng-click="updateLongPage()">升级</a>后使用</div></div></li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.page.compSetting", [n(1234), n(1238), n(1243), n(1463), n(1646)]).directive("eqxCompSetting2", n(1655)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.anim", []).directive("compSettingAnim", n(1235)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {comp: "=eqxComp", confirm: "&"},
            template: n(1237),
            controller: ["$scope", "$timeout", "modalService", "musicModal", "authorityService", "ANIMATIONS", "storageService", function (e, t, n, i, o, r, a) {
                "ngInject";

                function s(e) {
                    var t = e.compJson.properties.anim;
                    return t.forEach(function (e) {
                        e.$show = !0
                    }), t
                }

                function c(e) {
                    var t = f[e], n = 4;
                    i.open(t.sound, n).then(function (e) {
                        if (e.id && e.name && (e.path || e.url)) {
                            var n = e.id, i = e.name, o = e.path || e.url;
                            t.sound = {id: n, name: i, path: o}
                        } else delete t.sound
                    })
                }

                var l = e.comp, p = e.animations = JSON.parse(JSON.stringify(r.compANIMATIONS));
                "4" == l.type && p.push({
                    type: "particles",
                    name: "粒子进入",
                    cat: "进入",
                    direction: !1,
                    duration: !0,
                    delay: !0,
                    countNum: !0,
                    count: !0,
                    sound: !0
                }), o.permission("animationTyper") || p.push({
                    type: "typer",
                    name: "文本: 打字机",
                    cat: "特殊",
                    interval: !0,
                    delay: !0,
                    sound: !0
                });
                var u = r.compDIRECTIONS, d = r.COMP_HINGE_DIRECTIONS, m = l.compJson, f = e.anims = s(l);
                e.themeSkin = a.getItem("themeSkin") || "white", e.getAnimName = function (e) {
                    return p.find(function (t) {
                        return t.type === e
                    }).name
                }, e.showFeature = function (e, t) {
                    return !!p.find(function (t) {
                        return t.type === e
                    })[t]
                }, e.getDirections = function (e) {
                    return "32" != e ? u : d
                }, e.checkboxValue = {"true": 1, "false": 0}, e.toggleCount = function (e) {
                    e.count = !e.count
                }, e.removeAnim = function (e) {
                    f.splice(e, 1)
                }, e.onAnimTypeChange = function (t) {
                    var i = f[t], o = e.getDirections(i.type);
                    o.find(function (e) {
                        return e.type == i.direction
                    }) || (i.direction = o[0].type), "typer" === i.type && 2 != m.type && 7 != m.type ? (n.openMsgDialog({msg: "当前选择仅适用于文本组件!"}), e.removeAnim(t)) : e.previewAnim(t)
                }, e.addAnim = function () {
                    o.permission("styleAnimationOnly") ? f.length < 1 && f.push({
                        type: -1,
                        duration: 1,
                        delay: 0,
                        countNum: 1,
                        interval: 0,
                        count: 0,
                        $show: !0
                    }) : f.push({type: -1, duration: 1, delay: 0, countNum: 1, interval: 0, count: 0, $show: !0})
                }, e.previewAnim = function (e) {
                    l.stopAnimation(), t(function () {
                        return l.startAnimation({index: e, reset: !0, maxCount: 1})
                    }, 0)
                }, e.removeInvalidAnim = function () {
                    f = e.anims = m.properties.anim = f.filter(function (e) {
                        return e.type !== -1
                    })
                }, e.clear = function () {
                    l.stopAnimation(), f.length = []
                }, e.$on("$destroy", function () {
                    e.removeInvalidAnim()
                }), e.confirmAnim = function () {
                    e.removeInvalidAnim(), e.confirm()
                }, e.chooseSound = c, e.verifyDelay = function (e) {
                    null == e.delay && (e.delay = 0)
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1236), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div eqd-scroll style="height: 100%"><div><div class="anim-area" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="add-anim"><a class="add-anim-button" ng-click="addAnim()"><span class="eqf-plus-f"></span>添加动画 </a><a class="preview-anim-button" ng-click="previewAnim()"><span class="eqf-play-f"></span>预览动画</a></div><div class="anim-panels" ng-if="anims.length"><section ng-repeat="anim in anims"><div class="anim-title pr20 pl20" ng-click="anim.$show = !anim.$show"><span class="anim-index"><em>动画</em>&nbsp;{{$index + 1}}</span> <span class="title-anim-name">{{getAnimName(anim.type)}}</span><div class="animation-opera fr"><span title="删除此动画" class="eqf-no" ng-click="removeAnim($index)"></span> <b class="eqf-menu-right" ng-show="!anim.$show"></b> <b class="eqf-menu-down" ng-show="anim.$show"></b></div></div><div class="pl20 pr20" ng-show="anim.$show"><div class="style_list_angel clearfix"><label>方式</label><select ng-model="anim.type" ng-change="onAnimTypeChange($index)" ng-options="temp.type as temp.name group by temp.cat for temp in animations"><option value="-1">无</option></select></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'linear\')"><label>速度</label><div class="clearfix touming"><div class="num" style="text-align:right;margin-top:4px"><input type="checkbox" name="linear" title="linear" ng-model="anim.linear" ng-true-value="1" ng-false-value="0" style="margin-right:2px;margin-top:0px"> <em>匀速</em></div></div></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'direction\')"><label>方向</label><select ng-model="anim.direction" ng-change="previewAnim($index)" ng-options="dir.type as dir.name for dir in getDirections(anim.type)"></select></div><div class="style_list_angel" ng-show="showFeature(anim.type, \'duration\')"><label>动画时间</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="anim.duration" min="0" max="20" fixed="1" type="n"></div><p class="num"><input class="short input_kuang" type="number" ng-model="anim.duration" step="0.1" min="0" max="20" limit-input/></p></div></div><div class="style_list_angel" ng-show="showFeature(anim.type, \'interval\')"><label>间隔时间</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="anim.interval" min="0" max="20" fixed="1" type="n"></div><p class="num"><input class="short input_kuang" type="number" ng-model="anim.interval" step="0.1" min="0" max="20" onfocus="this.select()" limit-input/></p></div></div><div class="style_list_angel" ng-show="showFeature(anim.type, \'delay\')"><label>延迟时间</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="anim.delay" min="0" max="20" fixed="1" type="n"></div><p class="num"><input class="short input_kuang" type="number" ng-model="anim.delay" ng-change="verifyDelay(anim)" step="0.1" min="0" max="20" limit-input/></p></div></div><div class="style_list_angel" ng-show="showFeature(anim.type, \'countNum\')"><label>播放次数</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="anim.countNum" min="1" max="10" type="n"></div><p class="num"><input class="short input_kuang" type="number" ng-model="anim.countNum" step="1" min="1" max="10" limit-input/></p></div></div><div class="style_list_angel" ng-show="showFeature(anim.type, \'countNum\')"><div class="loop"><div class="left"><div class="checkbox-square" ng-class="{checked: anim.count}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="anim.count"></div></div><div class="right"><em ng-click="toggleCount(anim)">循环播放</em></div></div></div></div></section></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.anim2", []).directive("compSettingAnim2", n(1239)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {comp: "=eqxComp"},
            template: n(1241),
            controller: ["$scope", "$timeout", "modalService", "musicModal", "authorityService", "ANIMATIONS", "storageService", function (e, t, i, o, r, a, s) {
                "ngInject";

                function c(e) {
                    var t = e.compJson.properties.anim;
                    return t.forEach(function (e) {
                        e.$show = !0
                    }), t
                }

                function l(e) {
                    var t = h[e], n = 4;
                    o.open(t.sound, n).then(function (e) {
                        if (e.id && e.name && (e.path || e.url)) {
                            var n = e.id, i = e.name, o = e.path || e.url;
                            t.sound = {id: n, name: i, path: o}
                        } else delete t.sound
                    })
                }

                var p = e.comp, u = JSON.parse(JSON.stringify(a.compANIMJSON));
                e.themeSkin = s.getItem("themeSkin") || "white";
                var d = e.TAB = {access: "access", emphasize: "emphasize", exit: "exit"},
                    m = e.vm = {tab: d.access, showList: !1, changeIndex: -1, selectAmine: null, iconPng: n(1242)},
                    f = JSON.parse(JSON.stringify(a.compANIMATIONS2));
                e.setTab = function (t) {
                    if (m.tab = t, e.list = u[t], m.tab === d.access) for (var n = 0, i = !0, o = e.list.length; n < o; i ? n++ : n) e.list[n] && "particles" == e.list[n].type && "4" != p.type ? (e.list.splice(n, 1), i = !1) : e.list[n] && "typer" == e.list[n].type && "2" != p.type && "7" != p.type ? (e.list.splice(n, 1), i = !1) : i = !0
                }, e.setTab(m.tab), e.hoverFlag = !1, e.getAnimName = function (e) {
                    return f.find(function (t) {
                        return t.type === e.type && (t.direction === e.direction || void 0 == t.direction || void 0 == e.direction)
                    }).name
                };
                var g = p.compJson, h = e.anims = c(p);
                e.showFeature = function (e, t) {
                    return !!f.find(function (t) {
                        return t.type === e
                    })[t]
                }, e.toggleCount = function (e) {
                    e.count = !e.count
                }, e.removeAnim = function (e) {
                    h.splice(e, 1)
                }, e.addAnim = function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
                    if (!(r.permission("styleAnimationOnly") && h.length > 0 && t < 0) && (m.changeIndex = t, m.showList = !0, m.selectAmine = h[m.changeIndex], t > -1)) {
                        var n = null;
                        for (var i in d) {
                            for (var o = 0; o < u[d[i]].length; o++) if (m.selectAmine.type == u[d[i]][o].type) {
                                n = d[i];
                                break
                            }
                            if (n) break
                        }
                        m.tab = n, e.setTab(m.tab)
                    }
                }, e.previewAnim = function (e) {
                    p.stopAnimation(), t(function () {
                        return p.startAnimation({index: e, reset: !0, maxCount: 1})
                    }, 0)
                }, e.previewAnimation = function (e) {
                    if ("particles" != e.type || 4 == p.type) {
                        var t = JSON.parse(JSON.stringify(e));
                        t.count = 0, p.previewAnimation(t)
                    }
                }, e.removeInvalidAnim = function () {
                    h = e.anims = g.properties.anim = h.filter(function (e) {
                        return e.type !== -1
                    })
                }, e.$on("$destroy", function () {
                    e.removeInvalidAnim()
                }), e.confirm = function () {
                    var t = m.selectAmine;
                    if (t) if (delete t.icon, delete t.iconHover, delete t.name, m.changeIndex == -1) t.$show = !0, h.push(t); else {
                        for (var n in h[m.changeIndex]) void 0 != t[n] && "type" != n && "direction" != n && (t[n] = h[m.changeIndex][n]);
                        t.$show = !0, h[m.changeIndex] = t
                    }
                    e.reset()
                }, e.selectAnim = function (e) {
                    return "particles" == e.type && 4 != p.type ? void alert("只允许图片使用") : void(m.selectAmine = JSON.parse(JSON.stringify(e)))
                }, e.reset = function () {
                    m.changeIndex = -1, m.selectAmine = null, m.showList = !1
                }, e.chooseSound = l, e.verifyDelay = function (e) {
                    null == e.delay && (e.delay = 0)
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1240), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div ng-if="!vm.showList" eqd-scroll style="height: 100%"><div><div class="anim-area2" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="add-anim"><a class="add-anim-button" ng-click="addAnim()"><span class="eqf-plus"></span>添加动画 </a><a class="preview-anim-button" ng-click="previewAnim()"><span class="eqf-play"></span>预览动画</a></div><div class="anim-panels" ng-if="anims.length"><section ng-repeat="anim in anims track by $index"><div class="anim-title" ng-click="anim.$show = !anim.$show"><span class="anim-index">动画{{$index + 1}}</span> <span ng-click="addAnim($index);$event.stopPropagation();" class="title-anim-name">{{getAnimName(anim)}} <em class="eqf-menu-right more-anim-show"></em></span><div class="animation-opera fr"><span title="播放" class="eqf-play play-anim-btn" ng-click="previewAnimation(anim);$event.stopPropagation();"></span> <span title="删除" class="eqf-delete-l delete-anim-btn" ng-click="removeAnim($index);$event.stopPropagation();"></span> <b class="eqf-right" ng-show="!anim.$show"></b> <b class="eqf-down" ng-show="anim.$show"></b></div></div><div class="anim-setting-box" ng-show="anim.$show"><div class="anim-item" ng-if="showFeature(anim.type, \'duration\')"><label>时间</label><input class="anim-item-setting" type="number" ng-model="anim.duration" step="0.1" min="0" max="20" limit-input/></div><div class="anim-item" ng-if="showFeature(anim.type, \'interval\')"><label>间隔</label><input class="anim-item-setting" type="number" ng-model="anim.interval" step="0.1" min="0" max="20" onfocus="this.select()" limit-input/></div><div class="anim-item" ng-if="showFeature(anim.type, \'delay\')"><label>延迟</label><input class="anim-item-setting" type="number" ng-model="anim.delay" ng-change="verifyDelay(anim)" step="0.1" min="0" max="20" limit-input/></div><div class="anim-item" ng-if="showFeature(anim.type, \'countNum\')"><label>次数</label><input class="anim-item-setting" type="number" ng-model="anim.countNum" step="1" min="1" max="10" limit-input/></div><div class="anim-item" ng-if="showFeature(anim.type, \'countNum\')"><div class="anim-item-border"><div class="checkbox-square fl" ng-class="{checked: anim.count}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="anim.count"></div><em ng-click="toggleCount(anim)" class="fl">循环播放</em></div></div><div class="anim-item" ng-if="showFeature(anim.type, \'linear\')"><div class="anim-item-border"><div class="checkbox-square fl" ng-class="{checked: anim.linear}"><em class="eqf-yes"></em> <input type="checkbox" name="linear" title="linear" ng-model="anim.linear" ng-true-value="1" ng-false-value="0"></div><em class="fl">匀速播放</em></div></div><div class="anim-item" ng-if="anim.type == 33 || anim.type == 1"><div class="anim-item-border"><div class="checkbox-square fl" ng-class="{checked: anim.type == 33}"><em class="eqf-yes"></em> <input type="checkbox" name="linear" title="linear" ng-model="anim.type" ng-true-value="33" ng-false-value="1"></div><em class="fl">恒透明度</em></div></div></div></section></div></div></div></div><div class="anim-setting-container" ng-class="{\'active\': vm.showList, \'theme-black\' : themeSkin == \'black\'}"><ul class="nav"><li ng-class="{active: vm.tab == TAB.access}" ng-click="setTab(\'access\')" class="nav-item">进入</li><li ng-class="{active: vm.tab == TAB.emphasize}" ng-click="setTab(\'emphasize\')" class="nav-item">强调</li><li ng-class="{active: vm.tab == TAB.exit}" ng-click="setTab(\'exit\')" class="nav-item">退出</li></ul><div eqd-scroll style="height: calc(100% - 10px);background-color: #FAFAFA" ng-click="reset()"><div><ul class="anim-list"><li ng-repeat="anim in list" ng-click="selectAnim(anim);previewAnimation(anim);confirm()" ng-mouseenter="hoverFlag = true;previewAnimation(anim);" ng-mouseleave="hoverFlag = false" class="anim-item"><div style="background: url(\'{{vm.iconPng}}\')" ng-style="{\'background-position\': hoverFlag || (vm.selectAmine.type === anim.type && (vm.selectAmine.direction === anim.direction || vm.selectAmine.direction == undefined)) ?\n                          anim.iconHover.left + \'px \' + anim.iconHover.top + \'px\': anim.icon.left + \'px \' + anim.icon.top + \'px\'}" class="anim-icon"></div><span class="anim-name" ng-style="{\'color\': hoverFlag || vm.selectAmine.type === anim.type && (vm.selectAmine.direction === anim.direction || vm.selectAmine.direction == undefined) ? \'#1593ff\' : \'#76838f\'}">{{anim.name}}</span></li></ul></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/use-de7193.png"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.style", [n(1244), n(1248), n(1256), n(1260), n(1266), n(1272), n(1276), n(1283), n(1289), n(1296), n(1303), n(1308), n(1314), n(1319), n(1322), n(1328), n(1331), n(1335), n(1338), n(1341), n(1345), n(1352), n(1356), n(1360), n(1364), n(1368), n(1372), n(1376), n(1379), n(1419), n(1423), n(1427), n(1433), n(1436), n(1439)]).directive("compSettingStyle", n(1443)).directive("styleBorder", n(1447)).directive("styleShadow", n(1449)).directive("styleSizePos", n(1451)).directive("compSettingComment", n(1453)).directive("compSettingMap", n(1455)).directive("compSettingDropDown", n(1458)).directive("fillCompStyle", n(1461)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.photoWall", []).directive("compSettingPhotoWall", n(1245)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1247), controller: o}
    }

    function o(e, t) {
        "ngInject";
        var n = e.comp, i = e.compJson = n.compJson;
        e.vm.boxShadow = r.parseBoxShadow(i.properties.ownerCss.boxShadow, i.properties.ownerCss.boxShadowSize, i.properties.ownerCss.boxShadowDirection), e.$watch("compJson.properties.line", function (e, t) {
            e !== t && n.changePhotoWallLine()
        }), e.$watch("compJson.properties.ownerCss.borderStyle", function (e, t) {
            e !== t && n.changeBorderStyle(e)
        }), e.$watch("compJson.properties.ownerCss.borderColor", function (e, t) {
            e !== t && n.changeBorderColor(e)
        }), e.$watch("compJson.properties.ownerCss.borderWidth", function (e, t) {
            e !== t && n.changeBorderWidth(e)
        }), e.$watch("vm.boxShadow", function (e, t) {
            if (e !== t) {
                var o = r.getBoxShadowStr(e);
                i.properties.ownerCss.boxShadow = o, n.changeBoxshadowColor(o)
            }
        }, !0)
    }

    o.$inject = ["$scope", "authorityService"], n(1246);
    var r = n(525);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="photoWall-box"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>头像行数</label><div class="clearfix"><select class="input152" ng-model="compJson.properties.line"><option value="1">1</option><option value="2">2</option><option value="3" selected="selected">3</option></select></div></div><div class="style_list_angel clearfix"><label>头像边框</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.ownerCss.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    n(1249);
    var i = n(1250), o = n(1255);
    e.exports = angular.module("manager.compSetting.style.chart", []).directive("compSettingChart", i).directive("legendStyle", o).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {restrict: "E", template: n(1254), controller: o}
    }

    var o = n(1251);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function o(e) {
            var t;
            if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) return t = e.substring(1).split(""), 3 == t.length && (t = [t[0], t[0], t[1], t[1], t[2], t[2]]), t = "0x" + t.join(""), "rgba(" + [t >> 16 & 255, t >> 8 & 255, 255 & t].join(",") + ",1)";
            throw new Error("Bad Hex")
        }

        function r() {
            g.destroy(), g = null, f.data("pieChart", ""), delete d.properties.pieChart, d.properties.chartType = "", delete e.comp.pieChart
        }

        function a(t) {
            var n = e.comp.getChartValue(t), i = n.data1.map(function (e, i) {
                if (e) return {value: e, color: t.fillColors[i], label: n.xLabels[i]}
            });
            g = new Chart(e.ctx).Pie(i, t.options), m.find("#legend-" + d.id).html(g.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.chartType = "pie", d.properties.pieChart = t, d.properties.pieChart.options = g.options, f.data("pieChart", g), e.comp.pieChart = g, g.update()
        }

        function s() {
            h.destroy(), h = null, f.data("barChart", ""), delete d.properties.barChart, d.properties.chartType = "", delete e.comp.barChart
        }

        function c(t) {
            var n = e.comp.getChartValue(t);
            t.fillColors = t.fillColors.map(function (e) {
                return e.replace(/[^,]+(?=\))/, "1")
            });
            var i = {
                labels: n.xLabels,
                datasets: [{
                    fillColor: t.fillColors[0],
                    strokeColor: "rgba(0,0,0,0)",
                    data: n.data1,
                    label: t.lengends[0]
                }, {
                    fillColor: t.fillColors[1],
                    strokeColor: "rgba(0,0,0,0)",
                    data: n.data2,
                    label: t.lengends[1]
                }, {fillColor: t.fillColors[2], strokeColor: "rgba(0,0,0,0)", data: n.data3, label: t.lengends[2]}]
            };
            h = new Chart(e.ctx).Bar(i, t.options), m.find("#legend-" + d.id).html(h.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.chartType = "bar",
                d.properties.barChart = t, d.properties.barChart.options = h.options, f.data("barChart", h), e.comp.barChart = h, h.update()
        }

        function l() {
            v.destroy(), v = null, f.data("lineChart", ""), delete d.properties.lineChart, d.properties.chartType = "", delete e.comp.lineChart
        }

        function p(t) {
            var n = e.comp.getChartValue(t), i = [], o = [];
            t.fillColors.forEach(function (t) {
                "line" === e.charts.chartType ? i.push(t.replace(/[^,]+(?=\))/, "0")) : i.push(t.replace(/[^,]+(?=\))/, "0.2")), o.push(t.replace(/[^,]+(?=\))/, "1"))
            });
            var r = {
                labels: n.xLabels,
                datasets: [{
                    label: t.lengends[0],
                    fillColor: i[0],
                    strokeColor: o[0],
                    pointColor: o[0],
                    pointStrokeColor: "#fff",
                    data: n.data1
                }, {
                    label: t.lengends[1],
                    fillColor: i[1],
                    strokeColor: o[1],
                    pointColor: o[1],
                    pointStrokeColor: "#fff",
                    data: n.data2
                }, {
                    label: t.lengends[2],
                    fillColor: i[2],
                    strokeColor: o[2],
                    pointColor: o[2],
                    pointStrokeColor: "#fff",
                    data: n.data3
                }]
            };
            "line" === e.charts.chartType ? t.options.bezierCurve = !1 : t.options.bezierCurve = !0, v = new Chart(e.ctx).Line(r, t.options), v.datasets.forEach(function (e) {
                var t = !0;
                e.points.forEach(function (e) {
                    e.value && (t = !1)
                }), t ? e.points.length = 0 : e.points.forEach(function (e) {
                    e.value || (e.value = 0)
                })
            }), m.find("#legend-" + d.id).html(v.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.lineChart = t, d.properties.lineChart.options = v.options, d.properties.chartType = e.charts.chartType, f.data("lineChart", v), e.comp.lineChart = v, v.update()
        }

        var u = 0;
        if (e.confirm = function () {
            e.$close()
        }, !e.$parent.charts) {
            var d = e.elemDef = e.comp.compJson || {css: {}}, m = e.comp.$context, f = $(e.comp.canvas),
                g = e.comp.pieChart, h = e.comp.barChart, v = e.comp.lineChart;
            if (e.chartTypes = [{name: "饼状图", value: "pie"}, {name: "柱状图", value: "bar"}, {
                name: "折线图",
                value: "line"
            }, {name: "曲线图", value: "curve"}], d.type + "" == "t") {
                e.charts = {}, e.charts.options = {}, e.charts.chartType = d.properties.chartType, e.charts.colors = ["#57c7d4", "#3aa99e", "#f2a654", "#f96868", "#926dde", "#62a8ea", "#F978A6", "#F8E59B"], e.charts.segments = [], e.charts.chartTitle = d.properties.chartTitle, e.ctx = f.get(0).getContext("2d"), d.properties.legPosition ? e.charts.legPosition = d.properties.legPosition : (e.charts.legPosition = "position-left", d.properties.legPosition = "position-left");
                var y = [], b = [], x = [], w = [], S = [], k = [], T = 0, C = [];
                if (g) {
                    if (e.charts.options = g.options, g.segments) {
                        T = g.segments.length;
                        for (var I = 0; I < T; I++) /^#([A-Fa-f0-9]{3}){1,2}$/.test(g.segments[I].fillColor) && (g.segments[I].fillColor = o(g.segments[I].fillColor)), e.charts.segments.push({
                            label: g.segments[I].label,
                            value: g.segments[I].value,
                            color: g.segments[I].fillColor
                        }), x.push(g.segments[I].fillColor), b.push(g.segments[I].label)
                    }
                    d.properties.pieChart = e.charts
                }
                if (h) {
                    if (e.charts.options = h.options, h.datasets) {
                        for (C = h.datasets, T = C[0].bars.length, I = 0; I < T; I++) y.push(C[0].bars[I].label);
                        for (I = 0; I < C.length; I++) {
                            b.push(C[I].label), /^#([A-Fa-f0-9]{3}){1,2}$/.test(C[I].fillColor) && (C[I].fillColor = o(C[I].fillColor)), x.push(C[I].fillColor);
                            for (var E = C[I].bars.length, P = 0; P < E; P++) 0 === I ? w.push(C[I].bars[P].value) : 1 === I ? S.push(C[I].bars[P].value) : k.push(C[I].bars[P].value)
                        }
                    }
                    d.properties.barChart = e.charts
                }
                if (v) {
                    if (e.charts.options = v.options, v.datasets) {
                        for (C = v.datasets, I = 0; I < C.length; I++) if (T = C[I].points.length, 0 !== T) {
                            for (P = 0; P < T; P++) y.push(C[I].points[P].label);
                            break
                        }
                        for (I = 0; I < C.length; I++) {
                            b.push(C[I].label), x.push(C[I].strokeColor);
                            var _ = C[I].points.length;
                            for (P = 0; P < _; P++) 0 === I ? w.push(C[I].points[P].value) : 1 === I ? S.push(C[I].points[P].value) : k.push(C[I].points[P].value)
                        }
                    }
                    d.properties.lineChart = e.charts
                }
                if (e.charts.fillColors = x, e.charts.lengends = b, h || v) {
                    for (var q = 0; q < y.length; q++) e.charts.segments.push({
                        label: y[q],
                        value1: w[q],
                        value2: S[q],
                        value3: k[q]
                    });
                    for (; e.charts.segments.length < 12;) e.charts.segments.push({
                        label: "",
                        value1: "",
                        value2: "",
                        value3: ""
                    })
                }
            }
            e.$watch("charts", function (t, n) {
                if (d.type + "" == "t" && t && t !== n) {
                    m.find(".chart-title").html(t.chartTitle), d.properties.chartTitle = t.chartTitle, "pie" === d.properties.chartType ? r() : "bar" === d.properties.chartType ? s() : "line" !== d.properties.chartType && "curve" !== d.properties.chartType || l();
                    var i = e.charts.options.scaleFontColor;
                    "" + e.charts.chartType == "pie" ? (t.options = e.comp.pieOptions, t.options.scaleFontColor = i, a(t)) : "" + e.charts.chartType == "bar" ? (t.options = e.comp.barOptions, t.options.scaleFontColor = i, c(t)) : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || (t.options = e.comp.lineOptions, t.options.scaleFontColor = i, p(t))
                }
            }, !0), e.maxLength20 = function () {
                for (var t = e.charts.segments, n = 0; n < t.length; n++) t[n].label = e.substtrCharacters(t[n].label);
                e.charts.legendName && (e.charts.legendName = e.substtrCharacters(e.charts.legendName))
            }, e.substtrCharacters = function (e) {
                if (e && (e = e.replace(/\n|\r/g, " ")), e && e.length > 10) {
                    var t = e.replace(/[^\x00-\xff]/g, "xx");
                    if (t.length > 20) {
                        var n = t.substring(0, 20).replace(/xx/g, "中").length;
                        e = e.substring(0, n)
                    }
                }
                return e
            }, e.pieFocus = function (e) {
                u = e
            }, e.addPieCloumn = function () {
                e.charts.fillColors.splice(u, 0, "#F8E59B"), e.charts.segments.splice(u, 0, {
                    value: 10,
                    color: e.charts.fillColors[u],
                    label: u + 1 + "月"
                }), u = 0
            }, e.delePieCloumn = function () {
                e.charts.fillColors.splice(u, 1), e.charts.segments.splice(u, 1), u = 0
            }, e.showEditDataView = function () {
                t.open({windowClass: "six-contain", template: n(1252), controller: i, scope: e})
            }, e.showEditPieData = function () {
                t.open({windowClass: "six-contain pie-data", template: n(1253), controller: i, scope: e})
            }
        }
    }

    i.$inject = ["$scope", "$modal"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="viewData"><div class="explain">表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><table id="chart-table" ng-if="elemDef.properties.chartType!=\'pie\'"><tr><td>图例名</td><td><input type="text" ng-model="charts.lengends[0]" ng-change="maxLength20()"/></td><td><input type="text" ng-model="charts.lengends[1]" ng-change="maxLength20()"/></td><td><input type="text" ng-model="charts.lengends[2]" ng-change="maxLength20()"/></td></tr><tr><td>填充色</td><td><eqd-input-color class="chart-fill-color" select-color="charts.fillColors[0]" direction="left" theme="fl" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></td><td><eqd-input-color class="chart-fill-color" select-color="charts.fillColors[1]" direction="left" theme="fl" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></td><td><eqd-input-color class="chart-fill-color" select-color="charts.fillColors[2]" direction="left" theme="fl" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></td></tr><tr ng-repeat="segment in charts.segments"><td><input type="text" ng-model="segment.label" ng-change="maxLength20()"/></td><td><input class="chart-input" type="number" ng-model="segment.value1"/></td><td><input class="chart-input" type="number" ng-model="segment.value2"/></td><td><input class="chart-input" type="number" ng-model="segment.value3"/></td></tr></table><a class="btn btn-sm btn-chart green" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    e.exports = '<div class="viewData"><div class="explain">表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><div style="width: 550px; overflow-x: scroll"><table id="chart-table"><tr><td ng-repeat="segment in charts.segments"><input type="text" ng-model="segment.label" ng-focus="pieFocus($index)" ng-change="maxLength20()"/></td></tr><tr><td ng-repeat="(index, fillColor) in charts.fillColors track by index"><eqd-input-color select-color="charts.fillColors[index]" direction="left" theme="fl" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></td></tr><tr><td ng-repeat="segment in charts.segments"><input class="chart-input" type="number" ng-focus="pieFocus($index)" ng-model="segment.value"/></td></tr></table></div><a class="btn btn-sm blue" style="margin-top:10px; margin-left: 10px" ng-click="addPieCloumn()">添加列</a> <a class="btn btn-sm gray" style="margin-left: 10px; margin-top: 10px; color: #fff" ng-click="delePieCloumn()">删除列</a> <a class="btn btn-sm btn-chart green" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    e.exports = '<div class="charts_group"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>图标类型</label><select class="input152" ng-model="charts.chartType"><option ng-repeat="chartType in chartTypes" value="{{chartType.value}}">{{::chartType.name}}</option></select></div><div class="style_list_angel clearfix"><label>标题</label><div class="clearfix"><input type="text" class="input228" maxlength="10" ng-model="charts.chartTitle"/><word-count words="charts.chartTitle" count="10" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>图例设置</label><select legend-style class="input152" ng-model="charts.legPosition"><option value="position-align">横向排列</option><option value="position-left">纵向居左</option><option value="position-right">纵向居右</option><option value="position-none">不显示</option></select></div><div class="style_list_angel clearfix"><label>标识颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="charts.options.scaleFontColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix chart-data-setting"><label>图表数据</label><button ng-if="elemDef.properties.chartType === \'pie\'" ng-click="showEditPieData();">编辑表单数据</button> <button ng-if="elemDef.properties.chartType !== \'pie\'" ng-click="showEditDataView();">编辑表单数据</button></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {
            restrict: "AE", link: function (e, t) {
                var n = $("#legend-" + e.elemDef.id);
                e.$watch(function () {
                    return t.val()
                }, function (t, i) {
                    t !== i && (n.removeAttr("class"), "" + t == "position-align" ? n.addClass("position-align") : "" + t == "position-right" ? n.addClass("position-right") : "" + t == "position-none" && n.addClass("position-none"), e.elemDef.properties.legPosition = t)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = n(1257);
    e.exports = angular.module("manager.adSetting.style", []).directive("compSettingAd", i).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1259),
            controller: ["$rootScope", "$scope", "sceneService", "$timeout", function (e, t, n, i) {
                "ngInject";

                function o(e) {
                    for (var n = 0; n < t.adSizes.length; n++) if (t.adSizes[n].value === e) return r.css.width = t.adSizes[n].width, r.css.height = t.adSizes[n].height, t.comp.update$li(r.css), t.adSizes[n]
                }

                var r = t.elemDef = t.comp.compJson || {css: {}};
                t.proModel = {}, t.model = {}, t.adSizes = [{
                    name: "大矩形",
                    value: 1,
                    width: 336,
                    height: 280
                }, {name: "大型移动横幅", value: 2, width: 320, height: 100}, {
                    name: "大型摩天大楼",
                    value: 3,
                    width: 300,
                    height: 600
                }, {
                    name: "中等矩形",
                    value: 4,
                    width: 300,
                    height: 250
                }], t.proModel.content = r.content, t.proModel.size = r.properties.size, t.proModel.renderType = r.properties.renderType || "iframe", t.$watch("proModel", function (a, s) {
                    if (a != s) {
                        var c = {};
                        if ($.extend(!0, c, t.proModel), c.size && c.size !== r.properties.size) {
                            var l = o(c.size);
                            t.model.width = l.width, t.model.height = l.height
                        }
                        if (r.content = t.proModel.content, r.properties.size = t.proModel.size, r.properties.renderType = t.proModel.renderType, a && s && (a.renderType !== s.renderType || a.content !== s.content)) {
                            var p = n.getCurrentPage(), u = p.updateEqxComp(r.id, r);
                            u && (p.renderEqxComp(u), i(function () {
                                e.$broadcast("wsComp.add", u)
                            }))
                        }
                    }
                }, !0)
            }]
        }
    }

    n(1258), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-ad-setting"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>代码</label><div class="clearfix"><textarea class="ad-input-box" style="width: 228px;height: 144px;background: #333;color: #ffffff" placeholder="请输入代码" advertisement-content content="{{proModel.content}}" target="{{elemDef.id}}" elem-id="{{elemDef.id}}" ng-model="proModel.content">\n                </textarea><input style="display:none" style-input elem-id="{{elemDef.id}}" ng-model="model.width" css-item="width" type="text"/> <input style="display:none" style-input elem-id="{{elemDef.id}}" ng-model="model.height" css-item="height" type="text"/></div></div><div class="style_list_angel clearfix"><label>尺寸</label><div class="color_select clearfix"><select ng-change="changeSize(size)" ng-model="proModel.size" class="input152" ng-options="size.value as size.name for size in adSizes"></select></div></div><div class="style_list_angel clearfix ad_setting_mode"><label>广告模式</label><ul><li><ui-radio id="mode_iframe" name="mode" default-value="iframe" value="proModel.renderType"></ui-radio><label class="mode_label" for="mode_iframe">iframe</label></li><li><ui-radio id="mode_div" name="mode" default-value="div" value="proModel.renderType"></ui-radio><label class="mode_label" for="mode_div">div</label></li></ul></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.button", []).directive("compSettingButton", n(1261)).directive("buttonStyle", n(1264)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1263), controller: o};
        return e
    }

    function o(e, t, n, i, o, r, a) {
        "ngInject";
        var s = e.compJson = e.comp.compJson, c = t.eqxScene, l = t.getCurrentPage(),
            p = r.SERVER_1 + "eqs/link?id=" + c.meta.id + "&url=";
        switch (s.properties.title && (s.properties.title = s.properties.title.replace(/&nbsp;/g, " ")), e.tab = "", s.properties.imgSrc ? (e.tab = "custom", s.properties.imgSrc.startsWith(r.FILE) ? e.vm.imgSrc = s.properties.imgSrc : e.vm.imgSrc = r.FILE + s.properties.imgSrc) : e.tab = "default", e.pageList = c.sceneJson.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), e.vm.eLink = "", s.type + "") {
            case"l":
                s.btnType ? "link" === s.btnType && (s.properties.url ? e.vm.eLink = s.properties.url.toString().indexOf(p) >= 0 ? decodeURIComponent(s.properties.url.split("=")[2]) : s.properties.url : e.vm.eLink = "http://") : s.properties.url ? (s.btnType = Number.isInteger(s.properties.url) ? "jump" : "link", "link" === s.btnType && (e.vm.eLink = s.properties.url.toString().indexOf(p) >= 0 ? decodeURIComponent(s.properties.url.split("=")[2]) : s.properties.url)) : (s.btnType = "link", e.vm.eLink = "http://");
                break;
            case"8":
                s.btnType = "call"
        }
        e.setBtn = function (t) {
            if (e.tab = t, "default" === t) {
                e.compJson.properties.imgSrc = "";
                var n = {
                    width: "100px",
                    height: "30px",
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    letterSpacing: "0"
                };
                Object.assign(s.css, n), e.compJson.properties = {title: "按钮"};
                var o = l.updateEqxComp(s.id, s);
                o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            }
        }, e.openImageModal = function () {
            n.getImage().then(function (t) {
                e.compJson.properties.title = "", e.tab = "custom";
                var n = {width: "115px", height: "115px", backgroundColor: ""};
                Object.assign(s.css, n), s.properties.imgSrc = t.tmbPath, e.vm.imgSrc = r.FILE + t.tmbPath;
                var o = l.updateEqxComp(s.id, s);
                o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            })
        }, e.deleteImage = function () {
            e.compJson.properties.imgSrc = "", e.comp.deleteImage()
        }, e.changeBtnType = function (t) {
            switch (t) {
                case"link":
                    e.vm.eLink = "http://", s.properties.url = "", s.type = "l";
                    break;
                case"jump":
                    s.properties.url = "", s.type = "l";
                    break;
                case"call":
                    s.properties.number = "", s.type = "8"
            }
        }, e.updateBtnTitle = function () {
            e.comp.updateBtnTitle(s.properties.title)
        }, e.prefixProcess = function () {
            s.properties.url = e.vm.eLink ? p + encodeURIComponent(e.vm.eLink) : ""
        }, e.verifyLink = function () {
            e.vm.eLink || o.success("链接不能为空"), /^http:|^https:|^ftp:/.test(e.vm.eLink) || (e.vm.eLink = "http://" + e.vm.eLink, s.properties.url = p + encodeURIComponent(e.vm.eLink))
        }, e.verifyPhone = function () {
            var e = s.properties.number;
            if (!e) return void o.success("电话号码不能为空");
            var t = /^\d{3,15}$/;
            t.test(e) || o.success("电话输入有误，请输入3-15位数字")
        }, e.verifyTitle = function () {
        }
    }

    o.$inject = ["$scope", "sceneService", "imageModalFactory", "$rootScope", "notifier", "HOST", "authorityService"], n(1262), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel sound-pro-style clearfix"><label>按钮样式</label><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认 </a><a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel clearfix"><label>按钮名称</label><div class="clearfix"><input type="text" ng-model="compJson.properties.title" maxlength="12" class="input228" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div></div><div class="style_list_angel clearfix add-change-img-btn" ng-if="tab === \'custom\'"><div class="change-img" ng-click="openImageModal()"><div ng-if="!compJson.properties.imgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="compJson.properties.imgSrc"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><comp-setting-link11 comp-json="comp.compJson" show-none-option="true"></comp-setting-link11><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1265), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";
        e.styleList = [{
            backgroundColor: "rgb(244, 113, 31)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(253, 175, 7)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(121, 196, 80)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(63, 184, 22)",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#2aa2f3",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderBottomLeftRadius: "5px",
            borderBottomRightRadius: "5px",
            borderTopLeftRadius: "5px",
            borderTopRightRadius: "5px",
            borderRadius: "5px",
            color: "#2aa2f3",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderBottomLeftRadius: "15px",
            borderBottomRightRadius: "15px",
            borderTopLeftRadius: "15px",
            borderTopRightRadius: "15px",
            borderRadius: "15px",
            color: "#2aa2f3",
            fontSize: "14px"
        }], e.setButtonStyle = function (o) {
            var r = JSON.parse(JSON.stringify(o));
            if (r.lineHeight = 2, r.borderRadius = r.borderRadius ? parseInt(r.borderRadius) : 0, r.borderWidth = r.borderWidth ? parseInt(r.borderWidth) : 0, !e.vm.comp || "8" != e.vm.comp.type && "l" != e.vm.comp.type) {
                var a = i.getDefaultJson(), s = e.settingCompJson(a, {css: r});
                return void n.$broadcast("create.tel", s)
            }
            var c = e.vm.comp.compJson;
            e.vm.comp.resetStyle(), r.width = 100, r.height = 30, c.properties.imgSrc = null, Object.assign(c.css, r);
            var l = t.getCurrentPage(), p = l.updateEqxComp(c.id, c);
            p && (p && l.renderEqxComp(p), n.$broadcast("wsComp.add", p))
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "telFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul style="text-align: center"><li ng-repeat="style in styleList" style="line-height: 40px"><a ng-style="style" style="display: block;margin: 0px 0px 12px 0px;height: 40px" ng-click="setButtonStyle(style)">{{ (vm.comp.compJson.type == \'l\' || vm.comp.compJson.type == \'8\') && vm.comp.compJson.properties.title ? vm.comp.compJson.properties.title : \'按钮\' }}</a></li></ul>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.submit", []).directive("compSettingSubmit", n(1267)).directive("submitStyle", n(1270)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1269), controller: o};
        return e
    }

    function o(e, t, n, i, o, a, s, c) {
        "ngInject";
        var l = "http://", p = e.compJson = e.comp.compJson, u = n.getCurrentPage();
        e.HOST = a, p.properties && !p.properties.link && (p.properties.link = l), p.properties.title && (p.properties.title = p.properties.title.replace(/&nbsp;/g, " ")), p.properties.imgSrc && (e.vm.thumbnail = a.FILE + p.properties.imgSrc), e.vm.pluginLoaded = !1, o.datePicker().then(function () {
            e.$apply(function () {
                e.time = {
                    isOpen: !!p.properties.endTime,
                    endTime: p.properties.endTime || r.endTimeOfToday()
                }, e.timeConfig = {startDate: e.time.endTime, drops: "up"}, e.vm.pluginLoaded = !0
            })
        }), e.tab = "", p.properties.styleImgSrc ? e.tab = "custom" : e.tab = "default", e.setBtn = function (t) {
            if (e.tab = t, "default" === t) {
                p.properties.styleImgSrc = "", p.properties.layout = "rating-l", p.properties.text = "谢谢您的参与！", p.properties.title = "提交";
                var n = {width: 200, height: 36, backgroundColor: "#59c7f9", color: "#fff"};
                Object.assign(p.css, n);
                var o = u.updateEqxComp(p.id, p);
                o && (o.rendered = !1, u.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            }
        }, e.setEndTime = function () {
            e.time.isOpen && (p.properties.endTime = new Date(e.time.endTime).getTime())
        }, e.isTimeOpen = function () {
            e.time.isOpen ? p.properties.endTime = null : p.properties.endTime = new Date(e.time.endTime).getTime()
        }, e.updateBtnTitle = function () {
            e.comp.updateBtnTitle(p.properties.title)
        }, e.upload = function () {
            t.getSquareImage({storageKey: "", categoryName: "图标", tagName: "链接"}).then(function (e) {
                Object.assign(p.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), p.properties.styleImgSrc = e;
                var t = u.updateEqxComp(p.id, p);
                t && (t.rendered = !1, u.renderEqxComp(t), i.$broadcast("wsComp.add", t))
            })
        }, e.replace = function () {
            t.getSquareImage({storageKey: "", categoryName: "图标", tagName: "链接"}).then(function (e) {
                Object.assign(p.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), p.properties.styleImgSrc = e;
                var t = u.updateEqxComp(p.id, p);
                t && (t.rendered = !1, u.renderEqxComp(t), i.$broadcast("wsComp.add", t))
            })
        }, e.cutImg = function (e) {
            var t = {
                type: "square",
                title: "图片裁切",
                desc: "",
                showItems: !1,
                imgSrc: e,
                cropItems: [{ratio: 1, desc: "正方形比例"}]
            };
            return c.openCropModal(p, t).then(function (e) {
                var t = e.image;
                p.properties.styleImgSrc = t.src;
                var n = u.updateEqxComp(p.id, p);
                n && (n.rendered = !1, u.renderEqxComp(n), i.$broadcast("wsComp.add", n))
            })
        }, e.uploadTipImage = function () {
            t.getSquareImage().then(function (t) {
                p.properties.imgSrc = t, e.vm.thumbnail = a.FILE + t
            })
        }, e.replaceTipImage = function () {
            t.getSquareImage().then(function (t) {
                p.properties.imgSrc = t, e.vm.thumbnail = a.FILE + t
            })
        }, e.cutTipImg = function (t) {
            var n = {
                type: "square",
                title: "图片裁切",
                desc: "",
                showItems: !1,
                imgSrc: t,
                cropItems: [{ratio: 1, desc: "正方形比例"}]
            };
            return c.openCropModal(p, n).then(function (t) {
                var n = t.image.src;
                p.properties.imgSrc = n, e.vm.thumbnail = a.FILE + n
            })
        }, e.getTipImgStyle = function () {
            return {"background-image": "url(" + a.FILE + p.properties.imgSrc + ")"}
        }, e.deleteImage = function () {
            e.compJson.properties.styleImgSrc = "", e.comp.deleteImage()
        }, e.verifyLink = function () {
            /^http:|^https:|^ftp:/.test(p.properties.link) || (p.properties.link = l + p.properties.link)
        }
    }

    o.$inject = ["$scope", "imageModalFactory", "sceneService", "$rootScope", "delayLoadService", "HOST", "authorityService", "imageCropFactory"], n(1268);
    var r = n(934);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-submit-box"><comp-name comp="comp"></comp-name><div class="style_list_angel sound-pro-style clearfix"><label>按钮样式</label><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a> <a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a></div><div class="style_list_angel sound-pro-style clearfix" ng-if="tab === \'default\'"><label>按钮名称</label><div class="clearfix" style="position: relative"><input type="text" class="input228" ng-model="compJson.properties.title" maxlength="12" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel submit-custom-contain clearfix" ng-if="tab === \'custom\'"><div ng-if="compJson.properties.styleImgSrc"><div class="img-container fl" ng-style="{\'background-image\': compJson.properties.styleImgSrc ? \'url({{HOST.FILE + compJson.properties.styleImgSrc}})\': \'\'}"><span class="rm-btn" ng-if="compJson.properties.styleImgSrc" ng-click="deleteImage()"><i class="eqf-minus-l"></i></span></div><div class="clearfix img-btn-setting fr" style="margin-top: 8px;margin-bottom: 8px"><a class="del-img img-btn-up" ng-if="compJson.properties.styleImgSrc" ng-click="cutImg(compJson.properties.styleImgSrc)"><i class="eqf-cutpic"></i> 裁切图片 </a><a class="replace-img img-btn-down" ng-if="compJson.properties.styleImgSrc" ng-click="replace()"><i class="eqf-refresh-cw"></i> 更换图片</a></div></div><div ng-click="upload()" class="add-img-btn" ng-if="!compJson.properties.styleImgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div></div><div ng-if="tab === \'default\'" class="style_list_angel clearfix"><label>按钮颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel color clearfix" ng-if="tab === \'default\'"><label>文字颜色</label><div class="clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>提示类型</label><div class="tip-type clearfix"><select class="input152" ng-model="compJson.properties.layout"><option value="rating-l">纯文字</option><option value="rating-m">上图下文</option><option value="rating-s">上文下图</option></select></div></div><div class="style_list_angel clearfix" ng-if="compJson.properties.layout == \'rating-m\' || compJson.properties.layout == \'rating-s\'"><label>提示图片</label></div><div ng-if="compJson.properties.layout == \'rating-m\' || compJson.properties.layout == \'rating-s\'" class="style_list_angel submit-custom-contain clearfix"><div ng-if="compJson.properties.imgSrc"><div class="img-container fl" ng-style="getTipImgStyle()"><span class="rm-btn" ng-click="deleteImage()"><i class="eqf-minus-l"></i></span></div><div class="clearfix img-btn-setting fr" style="margin-top: 8px;margin-bottom: 8px"><a class="del-img img-btn-up" ng-click="cutTipImg(compJson.properties.imgSrc)"><i class="eqf-cutpic"></i> 裁切图片 </a><a class="replace-img img-btn-down" ng-click="replaceTipImage()"><i class="eqf-refresh-cw"></i> 更换图片</a></div></div><div ng-click="uploadTipImage()" class="add-img-btn" ng-if="!compJson.properties.imgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div></div><div class="style_list_angel clearfix"><label>提示文本</label><div class="clearfix"><input class="input228" ng-model="compJson.properties.text" maxlength="12" type="text"/><word-count words="compJson.properties.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label style="float: none">添加外链</label><div class="fr switch" style="margin-top: 8px" ng-click="compJson.properties.checkedLink = !compJson.properties.checkedLink" ng-class="compJson.properties.checkedLink ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="compJson.properties.checkedLink"><div class="clearfix"><input ng-model="compJson.properties.link" ng-change="verifyLink()" class="input228" type="text"/></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix" ng-if="vm.pluginLoaded"><label>截止时间</label><div class="fr switch" style="margin-top: 8px" ng-click="time.isOpen = !time.isOpen;isTimeOpen();" ng-class="time.isOpen ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="time.isOpen"><div class="clearfix"><input ng-model="time.endTime" ng-change="setEndTime()" ng-disabled="!time.isOpen" ng-readonly="true" date-picker="timeConfig" type="text" class="input228" placeholder="设置结束时间"> <i class="eqf-calendar-l calendar-pos"></i></div></div><commit-limit comp-json="compJson" ng-if="!commitSetting"></commit-limit><click-farmer-in-panel comp-json="compJson"></click-farmer-in-panel><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1271), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";
        e.styleList = [{
            backgroundColor: "#59c7f9",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(255, 255, 255)",
            textAlign: "center",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#f6b223",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#333333",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#a0d86b",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#f0f3f4",
            textAlign: "center",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#ff6666",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#ffffff",
            textAlign: "center",
            color: "rgb(42, 162, 243)",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderRadius: "5px",
            borderBottomLeftRadius: "5px",
            borderBottomRightRadius: "5px",
            borderTopLeftRadius: "5px",
            borderTopRightRadius: "5px",
            fontSize: "14px"
        }, {
            backgroundColor: "#ffffff",
            textAlign: "center",
            color: "rgb(42, 162, 243)",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderRadius: "18px",
            borderBottomLeftRadius: "18px",
            borderBottomRightRadius: "18px",
            borderTopLeftRadius: "18px",
            borderTopRightRadius: "18px",
            fontSize: "14px"
        }], e.setButtonStyle = function (o) {
            var r = JSON.parse(JSON.stringify(o));
            if (r.lineHeight = 1, r.borderRadius = r.borderRadius ? parseInt(r.borderRadius) : 0, r.borderWidth = r.borderWidth ? parseInt(r.borderWidth) : 0, !e.vm.comp || 6 != e.vm.comp.type) {
                var a = i.getDefaultJson(), s = e.settingCompJson(a, {css: r});
                return void n.$broadcast("create.submit", s)
            }
            var c = e.vm.comp.compJson;
            e.vm.comp.resetStyle(), r.width = 200, r.height = 36, c.properties.styleImgSrc = null, Object.assign(c.css, r);
            var l = t.getCurrentPage(), p = l.updateEqxComp(c.id, c);
            p && (p && l.renderEqxComp(p), n.$broadcast("wsComp.add", p)), e.vm.opacity = 0
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "buttonFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul style="text-align: center"><li ng-repeat="style in styleList"><a ng-style="style" style="display: block;margin: 0px 0px 12px 0px;line-height: 36px" ng-click="setButtonStyle(style)">{{vm.comp.compJson.type == \'6\' && vm.comp.compJson.properties.title ? vm.comp.compJson.properties.title : \'提交\'}}</a></li></ul>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.vote", []).directive("compSettingVote", n(1273)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1275), controller: o};
        return e
    }

    function o(e, t, n, i, o, a, s, c) {
        "ngInject";
        e.FILE = t.FILE;
        var l = a.getDefaultJson(), p = e.comp;
        l[p.compJson.type] = p.compJson;
        var u = e.vm = {
            type: p.compJson.type,
            voteJson: l[p.compJson.type],
            timeConfig: {
                enableClear: !0,
                startDate: l[p.compJson.type].properties.endTime,
                startDateDefault: r.endTimeOfToday(),
                drops: "up"
            }
        }, d = u.voteJson.properties;
        d.selectCount > d.children.length && (d.selectCount = d.children.length), e.selectCountMode = "default", e.changeVoteType = function (e) {
            u.type != e && (o.$broadcast("wsComp.delete", p), u.type = e, u.voteJson = l[e], o.$broadcast("add.vote", u.voteJson))
        }, e.changeSelectType = function (e) {
            u.voteJson.properties.selectType != e && (u.voteJson.properties.selectType = e, p.updateTitle(u.voteJson.properties.title, e)), "multi" == e && (u.voteJson.properties.selectCount = 2)
        }, e.isTimeOpen = function () {
            u.isOpen || (u.voteJson.properties.endTime = null);
        }, u.isOpen = !!u.voteJson.properties.endTime, e.getImgSrc = function (t) {
            return t ? {
                "background-image": "url(" + e.FILE + t + ")",
                "background-size": "contain",
                "background-repeat": "no-repeat",
                "background-position": "50%"
            } : {"background-image": ""}
        }, e.imgEdit = function (t, i) {
            var o = {tab: 2, storageKey: ""};
            n.getImage(o).then(function (n) {
                t.src = n.path, e.updateOptions(t, i)
            })
        }, e.addImageOption = function () {
            if (u.voteJson.properties.children.length < 6) {
                o.$broadcast("wsComp.delete", p);
                var e = u.voteJson.properties.children.length;
                u.voteJson.properties.children.push({desc: "选项" + (e + 1), src: "", id: s.randomId()});
                var t = p.toJson();
                t.id = "", o.$broadcast("add.vote", t)
            } else i.openMsgDialog({msg: "（您可以添加6个选项）"})
        }, e.deleImageOption = function (e) {
            o.$broadcast("wsComp.delete", p), u.voteJson.properties.children.splice(e, 1);
            var t = p.toJson();
            t.id = "", o.$broadcast("add.vote", t)
        }, e.updateOptions = function (e, t) {
            p.updateOptions(e, t)
        }, e.addOption = function () {
            u.voteJson.properties.children.length < 6 ? p.addOption() : i.openMsgDialog({msg: "（您可以添加6个选项）"})
        }, e.deleteOption = function (e) {
            p.deleteOption(e)
        }, e.updateTitle = function (e) {
            p.updateTitle(e, u.voteJson.properties.selectType)
        }, e.deleteImg = function (e) {
            e.src = ""
        }, e.$watch("vm.voteJson.properties.buttonColor", function (e, t) {
            e !== t && p.updateButtonColor(e)
        })
    }

    o.$inject = ["$scope", "HOST", "imageModalFactory", "modalService", "$rootScope", "voteFactory", "EqxCore", "authorityService"];
    var r = n(934);
    n(1274), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="vote-setting-container"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>投票标题</label><div class="clearfix"><textarea ng-model="vm.voteJson.properties.title" class="input228" ng-change="updateTitle(vm.voteJson.properties.title)" type="text" style="height: 56px;line-height: 28px" maxlength="20"></textarea><word-count words="vm.voteJson.properties.title" count="20" class="word-count-pos"></word-count></div></div><div class="style_list_angel sound-pro-style clearfix"><label>投票类型</label><a class="default-btn" ng-class="{\'active\': vm.type == \'j\'}" ng-click="changeVoteType(\'j\')">图片投票</a> <a class="custom-btn" ng-class="{\'active\': vm.type == \'k\'}" ng-click="changeVoteType(\'k\')">文字投票</a></div><div class="style_list_angel clearfix radio_list_angel"><label>多项选择</label><div class="fl switch" ng-class="{\'switch-close\': vm.voteJson.properties.selectType == \'single\',\'switch-open\': vm.voteJson.properties.selectType == \'multi\'}" ng-click="changeSelectType(vm.voteJson.properties.selectType == \'single\' ? \'multi\' : \'single\')"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="vm.voteJson.properties.selectType == \'multi\'"><label>最多可选项</label><div class="tip-type clearfix"><input class="input152" min="1" ng-if="vm.voteJson.properties.selectType == \'single\'" max="{{vm.voteJson.properties.children.length}}" ng-model="vm.voteJson.properties.selectCount" type="number"/> <input class="input152" min="2" ng-if="vm.voteJson.properties.selectType == \'multi\'" max="{{vm.voteJson.properties.children.length}}" ng-model="vm.voteJson.properties.selectCount" type="number"/></div></div><div class="style_list_angel clearfix" style="margin-bottom: 0"><label style="float: none">选项设置</label><ul ng-if="vm.type == \'j\'" class="vote-image"><li ng-repeat="child in vm.voteJson.properties.children" class="clearfix vote-image-item"><div class="vote-image-item-box"><div ng-style="getImgSrc(child.src)" class="vote-img-cover" ng-click="imgEdit(child, $index)"><div class="delete-img" ng-if="child.src" ng-click="deleteImg(child);$event.stopPropagation()"><em class="eqf-minus-l"></em></div><div class="add-img-btn" ng-if="!child.src"><i class="eqf-plus"></i></div></div><div class="vote-con"><textarea ng-change="updateOptions(child, $index)" class="input-list" maxlength="40" ng-model="child.desc"></textarea></div></div><div class="vote-handle-btn"><i class="eqf-minus-l minus-btn" ng-if="vm.voteJson.properties.children.length > 2" ng-click="deleImageOption($index)"></i> <i class="eqf-plus-l plus-btn" ng-click="addImageOption()"></i></div></li></ul><ul ng-if="vm.type == \'k\'" class="vote-text"><li ng-repeat="child in vm.voteJson.properties.children" class="clearfix vote-text-item"><div class="vote-con-text"><textarea type="text" ng-change="updateOptions(child)" class="input-list" style="height: 64px;line-height: 24px" maxlength="40" ng-model="child.label"></textarea></div><div class="vote-text-handle-btn"><i class="eqf-minus-l minus-btn" ng-if="vm.voteJson.properties.children.length > 2" ng-click="deleteOption($index)"></i> <i class="eqf-plus-l plus-btn" ng-click="addOption()"></i></div></li></ul></div><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="vm.voteJson.properties.buttonColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>截止时间</label><div class="fr switch" style="margin-top: 8px" ng-click="vm.isOpen = !vm.isOpen;isTimeOpen();" ng-class="vm.isOpen ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="vm.isOpen"><div class="clearfix"><input type="text" class="input228" placeholder="设置结束时间" ng-model="vm.voteJson.properties.endTime" date-picker="vm.timeConfig" ng-readonly="true"/> <i class="eqf-calendar-l calendar-pos"></i></div></div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.radio", []).directive("compSettingRadio", n(1277)).directive("radioStyle", n(1280)).name
}, function (e, t, n) {
    "use strict";
    n(1278), e.exports = function () {
        "ngInject";
        return {
            replace: !0,
            template: n(1279),
            controller: ["$scope", "modalService", "sceneService", "$rootScope", function (e, t, n, i) {
                var o = e.comp, r = e.compJson = o.compJson, a = r.choices, s = a.options;
                r.name;
                e.addOption = function (e) {
                    s.length < 8 ? (++a.seq, s.splice(e + 1, 0, {
                        id: a.seq,
                        label: "选项" + a.seq
                    }), o.updateOptions()) : t.openMsgDialog({msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"})
                }, e.deleteOption = function (e) {
                    s.length > 2 && t.openConfirmDialog({msg: "您确定要删除内容为“" + s[e].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"}).then(function () {
                        s.splice(e, 1), o.updateOptions()
                    })
                }, e.updateTitle = function () {
                    o.updateTitle()
                }, e.$watch("compJson.type", function (e, t) {
                    if (e != t) {
                        var a = JSON.parse(JSON.stringify(r)), s = n.getCurrentPage();
                        s.deleteEqxComp(o);
                        var c = s.initEqxCompByJson(a);
                        c && (s.renderEqxComp(c), i.$broadcast("wsComp.add", c))
                    }
                }), e.$watch("compJson.choices.options", function () {
                    return o.updateOptionsLabel()
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-radio"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>选择标题</label><textarea type="text" class="input228" maxlength="40" style="height: 72px;line-height: 24px" ng-model="compJson.title" ng-change="updateTitle()"></textarea><word-count words="compJson.title" count="40" class="word-count-pos"></word-count></div><div class="style_list_angel radio_list_angel clearfix"><label>选择模式</label><div class="radio_width76"><ui-radio id="mode_radio" name="mode" default-value="r" value="compJson.type"></ui-radio><label for="mode_radio">单选</label></div><div class="radio_width76"><ui-radio id="mode_checkbox" name="mode" default-value="c" value="compJson.type"></ui-radio><label for="mode_checkbox">多选</label></div></div><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>选项设置</label><div class="clearfix"><span class="word-count-pos">最多41个字符</span></div></div><div class="style_list_angel clearfix radio-list" ng-repeat="option in compJson.choices.options"><textarea class="radio-item" type="text" maxlength="41" style="height: 64px;line-height: 24px" ng-model="option.label"></textarea><div class="iconPart"><span class="eqf-minus-l minus-btn" ng-if="compJson.choices.options.length > 2" ng-click="deleteOption($index)"></span> <span class="eqf-plus-l plus-btn" ng-click="addOption($index)"></span></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>设为必填</label><div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    n(1281), e.exports = function () {
        return {
            replace: !0,
            template: n(1282),
            controller: ["$rootScope", "$scope", "sceneService", "radioFactory", function (e, t, n, i) {
                "ngInject";
                t.buttons = [{
                    titleStyle: {backgroundColor: "#59c7f9", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#59c7f9"}
                }, {
                    titleStyle: {backgroundColor: "#f6b223", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#f6b223"}
                }, {
                    titleStyle: {backgroundColor: "#333", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#333"}
                }, {
                    titleStyle: {backgroundColor: "#a0d86b", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#a0d86b"}
                }, {
                    titleStyle: {backgroundColor: "#ff6666", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#ff6666"}
                }], t.selectStyle = function (o) {
                    if (!t.vm.comp || "r" != t.vm.comp.type && "c" != t.vm.comp.type) {
                        var r = i.getDefaultJson("r"), a = {
                            css: {
                                borderWidth: o.optionStyle.borderBottomWidth,
                                borderStyle: o.optionStyle.borderBottomStyle,
                                borderColor: o.optionStyle.borderBottomColor,
                                backgroundColor: o.optionStyle.backgroundColor,
                                fontSize: o.optionStyle.fontSize,
                                color: o.optionStyle.color,
                                lineHeight: 1
                            }, properties: JSON.parse(JSON.stringify(o))
                        }, s = t.settingCompJson(r, a);
                        return void e.$broadcast("radio.create." + s.type, s)
                    }
                    $.extend(t.vm.comp.compJson.css, {
                        borderWidth: o.optionStyle.borderBottomWidth,
                        borderStyle: o.optionStyle.borderBottomStyle,
                        borderColor: o.optionStyle.borderBottomColor,
                        backgroundColor: o.optionStyle.borderBottomColor,
                        color: "#ffffff",
                        lineHeight: 1
                    }), $.extend(t.vm.comp.compJson.properties, o);
                    var c = n.getCurrentPage(), l = c.updateEqxComp(t.vm.comp.compJson.id, t.vm.comp.compJson);
                    l && (c.renderEqxComp(l), e.$broadcast("wsComp.updated.style", l))
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-radio111"><div class="style"><ul class="items1"><li ng-repeat="btn in buttons" ng-style="{borderColor: btn.optionStyle.borderBottomColor}"><div class="radio-title" ng-style="{backgroundColor: btn.titleStyle.backgroundColor, color: btn.titleStyle.color}">标题演示{{vm.comp.compJson.type === \'c\' ? \'(可多选)\' : \'\'}}</div><ul class="items2"><li ng-repeat="i in [1,2,3]" style="borderColor: #ccd5db"><input type="{{vm.comp.compJson.type === \'c\' ? \'checkbox\' : \'radio\'}}">选项{{$index + 1}}</li></ul><div class="mask" ng-click="selectStyle(btn)"></div></li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.input", []).directive("compInput", n(1284)).directive("inputStyle", n(1286)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1285), $scope: {}, controller: ["$scope", function (e) {
                "ngInject";
                var t = e.comp;
                e.inputJson = t.compJson, e.inputTypes = [{value: "501", name: "姓名"}, {
                    value: "502",
                    name: "电话"
                }, {value: "503", name: "邮箱"}, {value: "504", name: "文本"}];
                var n = {501: "姓名", 502: "电话", 503: "邮箱", 504: "文本"};
                e.changeInputType = function (i) {
                    ["姓名", "电话", "邮箱", "文本"].indexOf(e.inputJson.properties.placeholder) > -1 && (e.inputJson.properties.placeholder = n[i], e.inputJson.title = n[i], t.setInputTitle(n[i]))
                }, e.changeInputTitle = function (n) {
                    e.inputJson.properties.placeholder = n, t.setInputTitle(n)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>输入类型</label><div class="clearfix"><select class="fr input152" ng-model="inputJson.type" ng-change="changeInputType(inputJson.type)" ng-options="type.value as type.name for type in inputTypes"></select></div></div><div class="style_list_angel clearfix"><label>文本</label><div class="clearfix"><input ng-disabled="prop.isUsed" ng-model="inputJson.title" class="input228" ng-change="changeInputTitle(inputJson.title)" type="text" maxlength="12"/><word-count words="inputJson.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>文字颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>设为必填</label><div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1288),
            controller: ["$scope", "inputFactory", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = "输入框";
                e.buttons = [{
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#59c7f9",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#fff",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#f6b223",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#333",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#a0d86b",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#f66",
                        fontSize: "14px"
                    }
                }], e.chooseTabButton = function (i) {
                    var o = JSON.parse(JSON.stringify(i));
                    if (o.css.lineHeight = 1.5, !e.vm.comp || 5 != ("" + e.vm.comp.type).charAt(0)) {
                        var r = t.getDefaultJson(), a = e.settingCompJson(r, o);
                        return void n.$broadcast("create.input", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.css, o.css), e.vm.comp.$context.css(o.css), e.vm.comp.update$boxDiv(o.css)
                }
            }]
        }
    }

    n(1287), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="input-style-model"><span ng-repeat="button in buttons track by $index" ng-class="{inputActive: $index == btnIndex}" class="all-change input-style"><a style="border-width: 2px !important" ng-style="button.css" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.counter", []).directive("counterStyle", n(1290)).directive("compCounter", n(1293)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1292),
            controller: ["$scope", "sceneService", "$rootScope", "counterFactory", function (e, t, n, i) {
                "ngInject";

                function o(t) {
                    var i = r.updateEqxComp(e.vm.comp.compJson.id, t);
                    i && (r.renderEqxComp(i), n.$broadcast("wsComp.updated.style", i))
                }

                var r = t.getCurrentPage();
                e.counterStyleList = [{
                    compJson: {
                        properties: {
                            color: "#f95540",
                            icon: "eqf-heart-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#eea648",
                            icon: "eqf-zan-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#e41b5c",
                            icon: "eqf-flower2",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#eea648",
                            icon: "eqf-zan-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "center",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }], e.counterStyleList2 = [{
                    compJson: {
                        properties: {
                            color: "#ffffff",
                            icon: "eqf-flower2",
                            layout: "counter-tb",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#a4d762",
                            borderRadius: 40,
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#ffffff",
                            icon: "eqf-heart-f",
                            layout: "counter-tb",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#f95540",
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px",
                            borderRadius: 40
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#ffffff",
                            icon: "eqf-zan-f",
                            layout: "counter-tb",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#f3b100",
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px",
                            borderRadius: 40
                        }
                    }, number: 0
                }], e.settingCounterStyle = function (t) {
                    if (t.css.fontSize = "14px", !e.vm.comp || "i" != e.vm.comp.type) {
                        var r = i.getDefaultJson(), a = e.settingCompJson(r, t);
                        return void n.$broadcast("create.counter", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.properties, t.properties), Object.assign(e.vm.comp.compJson.css, t.css), e.vm.maxBorderRadius = t.css.borderRadius, o(e.vm.comp.compJson)
                }
            }]
        }
    }

    n(1291), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="counter-style-contain"><ul class="counter-list-lr"><li class="counter-item-lr" ng-repeat="item in counterStyleList" ng-style="{color: item.compJson.properties.color, textAlign: item.compJson.css.textAlign}" ng-click="settingCounterStyle(item.compJson)"><span class="{{item.compJson.properties.icon}}"></span> <span class="counter-item-lr-number">{{::item.number}}</span></li></ul><ul class="counter-list-tb clearfix"><li class="counter-item-tb" ng-style="{background: item.compJson.css.backgroundColor, color: item.compJson.properties.color}" ng-click="settingCounterStyle(item.compJson)" ng-repeat="item in counterStyleList2"><span class="{{item.compJson.properties.icon}}"></span> <span class="counter-item-tb-number">{{::item.number}}</span></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1295),
            $scope: !1,
            controller: ["$scope", "imageModalFactory", "sceneService", "$rootScope", "authorityService", "HOST", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var t = l.updateEqxComp(s.compJson.id, e);
                    t && (t.rendered = !1, l.renderEqxComp(t), i.$broadcast("wsComp.updated.style", t))
                }

                var s = e.comp;
                console.log(e);
                var c = e.compJson = s.compJson, l = n.getCurrentPage();
                e.HOST = r, e.tab = "", c.properties.imgSrc ? e.tab = "custom" : e.tab = "default", e.setBtn = function (t) {
                    if (e.tab = t, "default" === t) {
                        e.compJson.properties.imgSrc = "";
                        var n = {width: "200px", height: "50px", backgroundColor: "#f9f9f9", color: "#676767"};
                        s.compJson.properties.icon = "eqf-heart-f", Object.assign(c.css, n);
                        var o = l.updateEqxComp(c.id, c);
                        o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
                    }
                }, e.setLayout = function (e) {
                    s.compJson.properties.layout = e, s.updateLayout()
                }, e.$watch("compProp.color", function (e) {
                    s.update$iconColor(e)
                }), e.openImageModal = function () {
                    t.getImage().then(function (e) {
                        var t = e.path;
                        s.compJson.properties.icon = "", s.compJson.properties.imgSrc = t, s.compJson.css.height < 115 && (s.compJson.css.height = 115, s.compJson.css.lineHeight = "115px"), s.updateLayout()
                    })
                }, e.getStyle = function () {
                    return {"background-image": "url(" + r.FILE + c.properties.imgSrc}
                }, e.deleteImage = function () {
                    e.compJson.properties.imgSrc = "", e.comp.deleteImage()
                }, e.chooseEqfont = function (e) {
                    c.properties.icon = e, c.properties.imgSrc = null, "" + e == "eqf-heart-f" ? c.properties.color = "#ff5448" : "" + e == "eqf-zan-f" ? c.properties.color = "#f2a653" : "" + e == "eqf-flower2" ? c.properties.color = "#ea1f64" : "" + e == "eqf-vote" && (c.properties.color = "#59c7f9"), a(c)
                }
            }]
        }
    }

    n(1294), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="counter-box"><comp-name comp="comp"></comp-name><div class="style_list_angel sound-pro-style clearfix"><label>按钮样式</label><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a> <a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a></div><div class="style_list_angel clearfix add-change-img-btn" ng-if="tab === \'custom\'"><div class="change-img" ng-click="openImageModal()"><div ng-if="!compJson.properties.imgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="compJson.properties.imgSrc"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><div class="style_list_angel sound-pro-style clearfix"><label>计数布局</label><a class="default-btn" ng-click="setLayout(\'counter-lr\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-lr\'}">左右</a> <a class="custom-btn" ng-click="setLayout(\'counter-tb\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-tb\'}">上下</a></div><div class="style_list_angel clearfix" ng-if="tab == \'default\'"><label>按钮图标</label><div class="comp-counter1-icon clearfix"><a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-heart-f\'}" ng-click="chooseEqfont(\'eqf-heart-f\')"><em class="eqf-heart-f"></em> </a><a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-zan-f\'}" ng-click="chooseEqfont(\'eqf-zan-f\')"><em class="eqf-zan-f"></em></a> <a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-flower2\'}" ng-click="chooseEqfont(\'eqf-flower2\')"><em class="eqf-flower2"></em></a> <a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-vote\'}" ng-click="chooseEqfont(\'eqf-vote\')"><em class="eqf-vote"></em></a></div></div><div class="style_list_angel"><label>图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compProp.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><click-farmer-in-panel comp-json="comp.compJson"></click-farmer-in-panel><fix-comp></fix-comp></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("compSetting.score", []).directive("scoreStyle", n(1297)).directive("compScore", n(1300)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1299),
            controller: ["$scope", "sceneService", "$rootScope", "scoreFactory", function (e, t, n, i) {
                "ngInject";

                function o(t) {
                    var i = r.updateEqxComp(e.vm.comp.compJson.id, t);
                    i && (r.renderEqxComp(i), n.$broadcast("wsComp.updated.style", i))
                }

                var r = t.getCurrentPage();
                e.scoreStyleList = [{
                    properties: {color: "#feeb73", icon: "eqf-star-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#ff9307", icon: "eqf-heart-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#ff9307", icon: "eqf-zan-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#59c7f9", icon: "eqf-flag-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }], e.settingScoreStyle = function (t) {
                    if (t.css.fontSize = "14px", !e.vm.comp || "a" != e.vm.comp.type) {
                        var r = i.getDefaultJson(), a = e.settingCompJson(r, t);
                        return void n.$broadcast("create.score", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.properties, t.properties), Object.assign(e.vm.comp.compJson.css, t.css), e.vm.comp.compJson.title = t.title, o(e.vm.comp.compJson)
                }
            }]
        }
    }

    n(1298), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="score-style-contain"><ul class="score-style-list"><li class="score-style-item" ng-repeat="item in scoreStyleList" ng-click="settingScoreStyle(item)"><span class="score-style-item-title">{{::item.title}}</span><div ng-style="{color: item.properties.color}"><span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span></div></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1302),
            $scope: !1,
            controller: ["$rootScope", "$scope", "sceneService", function (e, t, n) {
                "ngInject";

                function i(t) {
                    var n = r.updateEqxComp(o.compJson.id, t);
                    n && (n.rendered = !1, r.renderEqxComp(n), e.$broadcast("wsComp.updated.style", n))
                }

                var o = t.comp, r = n.getCurrentPage();
                console.log(o), t.$watch("compProp.color", function (e) {
                    o.update$iconColor(e)
                }), t.settingScoreTitle = function () {
                    o.update$titleDiv(o.compJson.title)
                }, t.$watch("compProp.require", function (e) {
                    o.updateAttrRequire(e)
                }), t.chooseEqfont = function (e) {
                    o.compJson.properties.icon = e, i(o.compJson)
                }
            }]
        }
    }

    n(1301), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="score-box"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>评分标题</label><div class="clearfix"><input type="text" class="input228" ng-model="comp.compJson.title" placeholder="请输入标题" ng-change="settingScoreTitle()" maxlength="12"/><word-count words="comp.compJson.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>按钮图标</label><div class="comp-score1-icon clearfix"><a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-star-l\'}" ng-click="chooseEqfont(\'eqf-star-l\')"><em class="eqf-star-l"></em> </a><a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-heart-l\'}" ng-click="chooseEqfont(\'eqf-heart-l\')"><em class="eqf-heart-l"></em></a> <a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-zan-l\'}" ng-click="chooseEqfont(\'eqf-zan-l\')"><em class="eqf-zan-l"></em></a> <a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-flag-l\'}" ng-click="chooseEqfont(\'eqf-flag-l\')"><em class="eqf-flag-l"></em></a></div></div><div class="style_list_angel"><label>图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compProp.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>设为必填</label><div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.text", []).directive("textStyle", n(1304)).directive("compSettingText", n(1306)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1305),
            controller: ["$scope", "$rootScope", "textFactory", function (e, t, n) {
                "ngInject";
                e.textStyleList = [{
                    styleJson: {fontSize: 48, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "大标题",
                    liCss: {fontSize: "45px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 32, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "标题",
                    liCss: {fontSize: "32px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 24, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "副标题",
                    liCss: {fontSize: "24px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 16, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "小标题",
                    liCss: {fontSize: "16px", lineHeight: 1.8}
                }, {
                    styleJson: {fontSize: 12, lineHeight: 1.5, fontWeight: "normal"},
                    title: "正文内容",
                    liCss: {fontSize: "12px", lineHeight: 1.8}
                }], e.settingTextStyle = function (i) {
                    if (!e.vm.comp || "2" != e.vm.comp.type) {
                        var o = n.getDefaultJson(), r = e.settingCompJson(o, {css: i});
                        return void t.$broadcast("create.text", r)
                    }
                    e.vm.comp.resetStyle(), e.vm.comp.clearRichText(), e.vm.comp.settingGroupStyle(i), e.vm.comp.adjustHeight()
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div><div class="text-style-contain"><section><div ng-class="{\'h-scroll\': vm.tab == TAB.compStyle}"><div disable-mouse="true" prevent-exception="true"><div class="style_con_hei" ng-if="vm.tab == TAB.compStyle"><ul style="text-align: center"><li ng-repeat="item in textStyleList" ng-click="settingTextStyle(item.styleJson)" ng-style="item.liCss"><a>{{::item.title}}</a></li></ul></div></div></div></section></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1307)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix" ng-if="!styleLineHeight"><label>行高</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="css.lineHeight" fixed="1" min="0" max="3" type="n"></div><input class="input64 fr" type="number" ng-model="css.lineHeight" step="0.1" min="0" max="3" limit-input/></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.image", []).directive("compSettingImage", n(1309)).directive("imageStyle", n(1311)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1310), $scope: !1, link: function (e) {
                var t = e.comp, n = t.compJson.properties, i = t.eqxScene.sceneJson;
                if (n["var"] = n["var"] || {}, n["var"].isUsed = n["var"].isUsed || !1, n["var"].page = n["var"].page || "", n["var"].comp = n["var"].comp || "", e.prop = n, e.pageList = i.list.map(function (e, t) {
                    return {name: e.name || "第" + (t + 1) + "页", id: e.id}
                }), n["var"].page) {
                    var o = i.list.find(function (e) {
                        return e.id === n["var"].page
                    });
                    o && (e.uploadList = o.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
                e.isVarUsed = function () {
                    n["var"].page = "", n["var"].isUsed = !n["var"].isUsed
                }, e.changeScratch = function () {
                    n.scratch = !n.scratch, n.scratch ? t.addScratch() : t.deleScratch()
                }, e.isReplace = function () {
                    n.isReplace = !n.isReplace
                }, e.selectVarPage = function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    n["var"].comp = "";
                    var o = i.list.find(function (e) {
                        return e.id === t
                    });
                    o && (e.uploadList = o.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
            }, controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                e.styleVariableComp = t.permission("styleVariableComp"), e.imgScratch = t.permission("imgScratch"), e.isBulkCopy = !t.permission("isBulkCopy")
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><comp-name comp="comp"></comp-name></div><img-cut-preview comp="comp"></img-cut-preview><comp-setting-image-reverse comp="comp"></comp-setting-image-reverse><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="comp.compJson.css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 comp-json="comp.compJson"></comp-setting-link11><comp-setting-g-sensor comp="comp"></comp-setting-g-sensor><div class="style_list_angel clearfix" ng-if="!imgScratch"><label>涂抹特效 <a class="hint--top hint--rounded hint--panel" data-hint="该功能开启后，预览者需手动涂抹图片才能看到图片全貌"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.scratch ? \'switch-open\' : \'switch-close\'" ng-click="changeScratch()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp"><label>变量组件 <a class="hint--top hint--rounded hint--panel" data-hint="1、该功能开启后，需与表单-上传附件组件项相关联;2、预览时，该图片位置显示的预览者上传的图片内容"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp && prop.var.isUsed"><label>关联页面</label><div class="var-page clearfix"><select class="input152" ng-model="prop.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(prop.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp &&prop.var.isUsed && prop.var.page"><label>输入框</label><div class="var-page clearfix"><select class="input152" ng-model="prop.var.comp" ng-options="upload.id as upload.name for upload in uploadList"><option value="">选择页面上传附件</option></select></div></div><div class="style_list_angel clearfix" ng-if="isBulkCopy"><label>替换属性 <a class="hint--top hint--rounded hint--panel" data-hint="该功能开启后，可在场景服务中使用批量生成场景功能"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.isReplace ? \'switch-open\' : \'switch-close\'" ng-click="isReplace()"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1313),
            controller: ["$scope", "$rootScope", "sceneService", "EqxCore", "authorityService", function (e, t, n, i, o) {
                "ngInject";
                e.imgStyles = i.core.comp.EqxImage.getImageStyles(), e.addStyle = function (n) {
                    var i = e.vm.comp;
                    i && "4" == i.type ? n != i.compJson.properties.maskSrc && t.$broadcast("wsComp.crop", i, n) : t.$broadcast("create.image", n)
                }, e.delStyle = function () {
                    var i = e.vm.comp;
                    if (i && i.compJson.properties.maskSrc) {
                        i.compJson.properties.maskSrc = "";
                        var o = n.getCurrentPage(), r = o.updateEqxComp(i.compJson.id, i.compJson);
                        r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                    }
                }
            }]
        }
    }

    n(1312), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section id="img_style"><div class="style_con_hei clearfix" style="padding-top: 10px"><ul><li ng-click="delStyle()" style="text-align: center"><span style="line-height: 57px">无</span></li><li ng-repeat="img in imgStyles" ng-style="{backgroundImage: \'url(\' + img.path + \')\'}" ng-click="addStyle(img.path)"></li></ul></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.shape", []).directive("compSettingShape", n(1315)).directive("compSettingShapeColor", n(1317)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1316), $scope: !1}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><comp-name comp="comp"></comp-name></div><img-cut-preview comp="comp"></img-cut-preview><comp-setting-image-reverse comp="comp"></comp-setting-image-reverse><comp-setting-shape-color></comp-setting-shape-color><div class="style_list_angel clearfix"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 comp-json="comp.compJson"></comp-setting-link11><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1318), controller: ["$scope", function (e) {
                "ngInject";
                e.shapeAttrs = e.comp.compJson.properties.items;
                var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
                e.scrollShow = !1, e.changePos = function (t) {
                    e.scrollTop = t.y, e.$apply()
                }, e.shapeAttrs && e.shapeAttrs.length > 6 && (e.scrollShow = !0), e.$watch("shapeAttrs", function (n, i) {
                    if (n && n !== i) {
                        var o = n.length, r = e.comp.compJson.properties.src;
                        if (r) {
                            if (!o) return;
                            var a = t.find("[fill], [style*='fill']");
                            $.each(a, function (e) {
                                for (var t = 0; t < o; t++) for (var i = n[t].elements, r = 0; r < i.length; r++) e === i[r] && a.eq(e).css({fill: jQuery.Color(n[t].fill).toString()})
                            })
                        }
                    }
                }, !0)
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-repeat="shapeColor in shapeAttrs"><label>形状颜色{{::$index+1}}</label><div class="color_select clearfix"><eqd-input-color2 select-color="shapeColor.fill" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.video", []).directive("compSettingVideo", n(1320)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1321)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.sound", []).directive("soundStyle", n(1323)).directive("compSettingSound", n(1325)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1324), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";

        function o(n) {
            var i = r.updateEqxComp(t.vm.comp.compJson.id, n);
            i && (r.renderEqxComp(i), e.$broadcast("wsComp.add", i))
        }

        t.soundStyleList = [{
            properties: {title: "有惊喜"},
            css: {backgroundColor: "rgb(244, 113, 31)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "听一听"},
            css: {backgroundColor: "rgb(253, 175, 7)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "点我听歌"},
            css: {backgroundColor: "rgb(121, 196, 80)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "点播歌曲"},
            css: {backgroundColor: "rgb(255, 255, 255)", color: "rgb(0, 0, 0)", border: "1px solid #3FB816"}
        }];
        var r = n.getCurrentPage();
        t.setSoundStyle = function (n) {
            if (!t.vm.comp || "s" != t.vm.comp.type) {
                var r = i.getDefaultJson(), a = t.settingCompJson(r, n);
                return void e.$broadcast("create.sound", a)
            }
            t.vm.comp.resetStyle();
            var s = JSON.parse(JSON.stringify(n.css));
            s.width = "100px", s.height = "30px";
            var c = JSON.parse(JSON.stringify(n.properties)), l = t.vm.comp.compJson;
            l.properties.imgSrc = null, Object.assign(l.css, s), Object.assign(l.properties, c), o(t.vm.comp.compJson)
        }
    }

    o.$inject = ["$rootScope", "$scope", "sceneService", "soundFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul class="text-align:center;"><li ng-repeat="item in soundStyleList"><a ng-style="item.css" style="display: block;margin: 0px 0px 12px 0px;line-height: 36px;text-align: center" ng-click="setSoundStyle(item)">{{::item.properties.title}}</a></li></ul>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1327), controller: o}
    }

    function o(e, t, n, i, o, r, a, s) {
        "ngInject";
        var c = t.compJson = t.comp.compJson, l = n.getCurrentPage();
        c.properties.title && (c.properties.title = c.properties.title.replace(/&nbsp;/g, " ")), t.updateBtnTitle = function () {
            t.comp.updateBtnTitle(c.properties.title)
        }, t.tab = "", c.properties.title ? t.tab = "default" : (t.tab = "custom", t.comp.$ability.style.compFont.self = !1), t.setBtn = function (n) {
            if (t.tab = n, "default" === n) {
                t.compJson.properties.imgSrc = "";
                var i = {
                    width: "100px",
                    height: "30px",
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    letterSpacing: "0"
                };
                Object.assign(c.css, i), t.compJson.properties = {title: "有惊喜"};
                var o = l.updateEqxComp(c.id, c);
                o && (o.rendered = !1, l.renderEqxComp(o), e.$broadcast("wsComp.add", o))
            }
        }, t.openSoundModal = function () {
            i.open(t.compJson.sound, 4).then(function (t) {
                var n = l.pageJson.properties.triggerGroup, i = a.event.EQX_EVENT, o = a.event.RAW_EVENT,
                    r = n.findIndex(function (e) {
                        return e.sourceId === c.id && e.targetId === c.id && o.click === e.eventType && e.targetState === i.play
                    });
                if (r !== -1 && n.splice(r, 1), t.id) {
                    var s = t.id, p = t.name, u = t.path;
                    c.sound = {id: s, name: p, src: u}, n.push({
                        eventType: o.click,
                        sourceType: "e",
                        sourceId: c.id,
                        targetType: "e",
                        targetId: c.id,
                        targetState: i.play
                    })
                } else delete c.sound;
                var d = l.updateEqxComp(c.id, c);
                d && (l.renderEqxComp(d), e.$broadcast("wsComp.add", d))
            })
        }, t.openImageModal = function () {
            o.getImage().then(function (n) {
                t.compJson.properties.title = "", t.tab = "custom";
                var i = {width: "115px", height: "115px", backgroundColor: ""};
                Object.assign(c.css, i), c.properties.imgSrc = r.FILE + n.tmbPath;
                var o = l.updateEqxComp(c.id, c);
                o && (o.rendered = !1, l.renderEqxComp(o), e.$broadcast("wsComp.add", o))
            })
        }, t.deleteImage = function () {
            t.compJson.properties.imgSrc = "", t.comp.deleteImage()
        }
    }

    o.$inject = ["$rootScope", "$scope", "sceneService", "musicModal", "imageModalFactory", "HOST", "EqxCore", "authorityService"], n(1326), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel sound-pro-style clearfix"><label>按钮样式</label><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a> <a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel sound-pro-style clearfix"><label>按钮名称</label><div class="clearfix"><input type="text" ng-model="compJson.properties.title" maxlength="12" class="input228" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>文字颜色</label><div class="clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div></div><div class="style_list_angel clearfix add-change-img-btn" ng-if="tab === \'custom\'"><div class="change-img" ng-click="openImageModal()"><div ng-if="!compJson.properties.imgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="compJson.properties.imgSrc"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><div class="style_list_angel sound-pro-style clearfix"><label>音效</label><div class="sound-file"><span class="sound-name" ng-click="openSoundModal()">{{::compJson.sound.name || \'+ &nbsp添加音效\'}}</span></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.pv", []).directive("compSettingPv", n(1329)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1330), controller: o}
    }

    function o(e) {
        "ngInject";
        var t = e.comp;
        e.setLayout = function (e) {
            t.compJson.properties.layout = e, t.updateLayout()
        }
    }

    o.$inject = ["$scope"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="clearfix comp-setting-pv"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix sound-pro-style"><label>统计布局</label><a class="default-btn" ng-click="setLayout(\'counter-lr\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-lr\'}">左右</a> <a class="custom-btn" ng-click="setLayout(\'counter-tb\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-tb\'}">上下</a></div><div class="style_list_angel clearfix"><label>图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.time", []).directive("compSettingTime", n(1332)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1334), controller: o}
    }

    function o(e, t, n, i, o) {
        "ngInject";

        function a() {
            var t = i.getCurrentPage(), o = t.updateEqxComp(c.id, c);
            o && (t.renderEqxComp(o), n(function () {
                e.$broadcast("wsComp.add", o)
            }))
        }

        var s = t.comp, c = t.compJson = s.compJson;
        if (c.properties.order = 0 === c.properties.order ? 0 : 1, c.properties.split = c.properties.split || "cn", c.properties.mode = c.properties.mode || [!0, !0, !0, !0], t.switchDisplayOrder = function (e) {
            c.properties.order = e, a()
        }, "e" === c.type) {
            t.tab = "downTime", "" === c.properties.endTime && (c.properties.endTime = r.nowTime());
            var l = t.vm = {
                endTime: c.properties.endTime || r.nowTime(),
                arriveTipsContent: c.properties.arriveTipsContent || "",
                arriveTips: !("arriveTips" in c.properties) || c.properties.arriveTips
            };
            t.timeConfig = {startDate: l.endTime}
        } else {
            t.tab = "upTime";
            var p = t.vm = {
                startTime: c.properties.startTime || r.nowTime(),
                arriveTipsContent: c.properties.arriveTipsContent || "",
                arriveTips: !("arriveTips" in c.properties) || c.properties.arriveTips
            };
            t.timeConfig = {startDate: p.startTime}
        }
        t.switchTimeType = function (n) {
            if (t.tab !== n) {
                var o = {
                    top: c.css.top || "100px",
                    left: c.css.left || "5px",
                    width: c.css.width || "310px",
                    height: c.css.height || "38px",
                    fontSize: c.css.fontSize || 24
                };
                if ("downTime" === n) {
                    c.type = "e", delete c.properties.startTime;
                    var a = t.vm = {endTime: r.nowTime(), arriveTipsContent: "", arriveTips: !0};
                    t.timeConfig = {startDate: c.properties.endTime || a.endTime}, Object.assign(c.properties, a), Object.assign(c.css, o)
                } else {
                    c.type = "f", delete c.properties.endTime;
                    var s = t.vm = {startTime: r.nowTime(), arriveTipsContent: "", arriveTips: !0};
                    t.timeConfig = {startDate: c.properties.startTime || s.startTime}, Object.assign(c.properties, s), Object.assign(c.css, o)
                }
                var l = JSON.parse(JSON.stringify(c)), p = i.getCurrentPage();
                p.deleteEqxComp(t.comp);
                var u = p.initEqxCompByJson(l);
                u && (p.renderEqxComp(u), e.$broadcast("wsComp.add", u))
            }
            t.tab = n
        }, t.$watch("vm.endTime", function (e, n) {
            var i = new Date(e).Format("yyyy-MM-dd hh:mm"), o = new Date(n).Format("yyyy-MM-dd hh:mm");
            if (e && n && o !== i) {
                var r = new Date(t.vm.endTime).getTime();
                c.properties.endTime !== r && (c.properties.endTime = r, a())
            }
        }), t.$watch("vm.startTime", function (e, n) {
            var i = new Date(e).Format("yyyy-MM-dd hh:mm"), o = new Date(n).Format("yyyy-MM-dd hh:mm");
            if (e && n && o !== i) {
                var r = new Date(t.vm.startTime).getTime();
                c.properties.startTime !== r && (c.properties.startTime = r, a())
            }
        }), t.updateContent = function () {
            c.properties.arriveTipsContent !== t.vm.arriveTipsContent && (c.properties.arriveTipsContent = t.vm.arriveTipsContent, a())
        }, t.updateTips = function (e) {
            c.properties.arriveTips = e, a()
        }, t.renderTime = a, Date.prototype.Format = function (e) {
            var t = {
                "M+": this.getMonth() + 1,
                "d+": this.getDate(),
                "h+": this.getHours(),
                "m+": this.getMinutes(),
                "s+": this.getSeconds(),
                "q+": Math.floor((this.getMonth() + 3) / 3),
                S: this.getMilliseconds()
            };
            /(y+)/.test(e) && (e = e.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
            for (var n in t) new RegExp("(" + n + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? t[n] : ("00" + t[n]).substr(("" + t[n]).length)));
            return e
        }
    }

    o.$inject = ["$rootScope", "$scope", "$timeout", "sceneService", "authorityService"], n(1333);
    var r = n(934);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="time-setting-style"><comp-name comp="comp"></comp-name><div class="style_list_angel sound-pro-style clearfix"><label>计时类型</label><a class="default-btn" ng-click="switchTimeType(\'downTime\')" ng-class="{\'active\':tab === \'downTime\'}">倒计时</a> <a class="custom-btn" ng-click="switchTimeType(\'upTime\')" ng-class="{\'active\':tab === \'upTime\'}">正计时</a></div><div class="clearfix" ng-if="tab === \'downTime\'"><div class="style_list_angel"><label>截止时间</label><div class="clearfix" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" name="daterange" ng-model="vm.endTime" class="btn-name count-date" type="text" ng-readonly="true"/> <i class="eqf-calendar-l"></i></div></div><comp-setting-font></comp-setting-font><div class="style_list_angel clearfix"><label style="width: 140px">截止后显示内容</label><div class="fl switch" ng-class="{\'switch-close\':!vm.arriveTips,\'switch-open\': vm.arriveTips}" ng-click="vm.arriveTips = !vm.arriveTips"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="vm.arriveTips"><label>显示文本</label><input class="input228" type="text" placeholder="开始啦!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" ng-blur="updateContent()"/></div></div><div class="clearfix" ng-if="tab === \'upTime\'"><div class="style_list_angel comp-select-time"><label>开始时间</label><div class="clearfix" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" name="daterange" ng-model="vm.startTime" class="count-date" type="text" ng-readonly="true"/> <i class="eqf-calendar-l"></i></div></div><comp-setting-font></comp-setting-font><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>开始前显示</label><div class="fl switch" ng-class="{\'switch-close\':!vm.arriveTips,\'switch-open\': vm.arriveTips}" ng-click="vm.arriveTips = !vm.arriveTips"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="vm.arriveTips"><label>显示文本</label><input class="input228" type="text" placeholder="还没开始!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" ng-blur="updateContent()"/></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>显示精度</label><div class="display-mode"><div class="item"><div class="checkbox-square" ng-class="{checked: compJson.properties.mode[0]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[0]" ng-change="renderTime()" name="iCheck"></div><span>天</span></div><div class="item clearfix"><div class="checkbox-square" ng-class="{checked: compJson.properties.mode[1]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[1]" ng-change="renderTime()" name="iCheck"></div><span>时</span></div><div class="item clearfix"><div class="checkbox-square" ng-class="{checked: compJson.properties.mode[2]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[2]" ng-change="renderTime()" name="iCheck"></div><span>分</span></div><div class="item clearfix"><div class="checkbox-square" ng-class="{checked: compJson.properties.mode[3]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[3]" ng-change="renderTime()" name="iCheck"></div><span>秒</span></div></div></div><div class="style_list_angel clearfix"><label>分割样式</label><div class="touming" style="float:right"><select ng-model="compJson.properties.split" class="input152" ng-change="renderTime()"><option value="cn">中文</option><option value="en">英文</option><option value="char">字符</option></select></div></div><div class="style_list_angel sound-pro-style clearfix"><label>显示顺序</label><a class="default-btn" ng-click="switchDisplayOrder(1)" ng-class="{\'active\': compJson.properties.order === 1}">正序</a> <a class="custom-btn" ng-click="switchDisplayOrder(0)" ng-class="{\'active\': compJson.properties.order === 0}">倒序</a></div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.wx", []).directive("compSettingWx", n(1336)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1337), controller: ["$scope", "sceneService", function (e, t) {
                "ngInject";
                var n = t.getCurrentPage(),
                    i = e.vm = {content: e.comp.compJson.content, type: e.comp.compJson.properties.type},
                    o = e.comp.compJson;
                e.settingNiketype = function () {
                    o.properties.type = i.type;
                    var e = o.properties.id, t = n.getCompJsonById(e);
                    t.properties.type = i.type
                }, e.settingContent = function () {
                    e.comp.updateContent(i.content)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel clearfix" ng-show="comp.type == \'201\'"><label>昵称类型</label><div class="clearfix"><select class="input152" ng-model="vm.type" ng-change="settingNiketype()"><option value="own">浏览者昵称</option><option value="share">分享者昵称</option></select></div></div><div class="style_list_angel clearfix" ng-show="comp.type == \'401\'"><label>头像类型</label><div class="clearfix"><select class="input152" ng-model="vm.type" ng-change="settingNiketype()"><option value="own">浏览者头像</option><option value="share">分享者头像</option></select></div></div><div class="style_list_angel clearfix" ng-if="comp.type == \'201\'"><label>文字内容</label><div class="clearfix"><textarea class="input228" style="height: 56px;line-height: 24px" maxlength="16" ng-model="vm.content" ng-change="settingContent()" type="text">\n        </textarea><word-count words="vm.content" count="16" class="word-count-pos"></word-count></div></div><comp-setting-font ng-if="comp.type == \'201\'"></comp-setting-font><div class="style_list_angel clearfix" ng-if="comp.type == \'401\' || comp.type == \'403\' || comp.type == \'w01\' || comp.type == \'w02\'"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.newText", []).directive("compSettingNewText", n(1339)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1340), controller: o}
    }

    function o(e, t, n) {
        "ngInject";
        var i = e.comp, o = e.compJson = i.compJson, r = e.prop = o.properties, a = i.eqxScene.sceneJson, s = null;
        e.vm = {}, e.isBulkCopy = !t.permission("isBulkCopy"), r["var"] = r["var"] || {}, r["var"].isUsed = r["var"].isUsed || !1, r["var"].page = r["var"].page || "", r["var"].comp = r["var"].comp || "", r.adjustWHMode = !!r.adjustWHMode, r.adjustFSMode = !!r.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = a.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), r["var"].page && (s = a.list.find(function (e) {
            return e.id === r["var"].page
        }), e.inputList = s.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            r.adjustWHMode = !1, r.adjustFSMode = !1, "1" === e ? r.adjustWHMode = !0 : "2" === e && (r.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            r["var"].page = "", r["var"].isUsed = !r["var"].isUsed
        }, e.isReplace = function () {
            r.isReplace = !r.isReplace
        }, e.selectVarPage = function (t) {
            r["var"].comp = "", t && (s = a.list.find(function (e) {
                return e.id === t
            }), s && (e.inputList = s.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "$rootScope"], e.exports = i
}, function (e, t) {
    e.exports = '<div><comp-name comp="comp"></comp-name><comp-setting-font></comp-setting-font><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 comp-json="comp.compJson"></comp-setting-link11><div class="clearfix" ng-if="!newTextAdjustMode"><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>调整模式</label></div><div class="style_list_angel clearfix"><div style="float: left;width: 114px"><ui-checkbox value="prop.adjustWHMode" style="float: left;margin-top: 10px" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 10px;float: left;color: #333">宽高固定</span></div><div style="float: left;width: 114px"><ui-checkbox value="prop.adjustFSMode" style="float: left;margin-top: 10px" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 10px;float: left;color: #333">字号固定</span></div></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp"><label>变量组件 <a class="hint--top hint--rounded hint--panel" data-hint="1、该功能开启后，需与表单-输入框项相关联;2、预览时，该文本位置显示的预览者在输入框输入的内容"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp &&\n                compJson.properties.var.isUsed"><label>关联页面</label><div class="var-page clearfix"><select class="input152" ng-model="compJson.properties.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(compJson.properties.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="!styleVariableComp &&\n                compJson.properties.var.isUsed &&\n                compJson.properties.var.page"><label>输入框</label><div class="var-page clearfix"><select class="input152" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div><div class="style_list_angel clearfix" ng-if="isBulkCopy"><label>替换属性 <a class="hint--top hint--rounded hint--panel" data-hint="该功能开启后，可在场景服务中使用批量生成场景功能"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="compJson.properties.isReplace ? \'switch-open\' : \'switch-close\'" ng-click="isReplace()"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.hotNewText", []).directive("compSettingHotNewText", n(1342)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1344), controller: o}
    }

    function o(e, t, n, i) {
        "ngInject";
        var o = e.comp, r = e.compJson = o.compJson, a = e.prop = r.properties || {}, s = o.eqxScene.sceneJson,
            c = null;
        e.options = a.options = a.options || [], e.vm = {}, e.vm.content = r.content.replace(/<br>/g, "\n"), e.vm.content || o.updateContent("请输入文本"), e.countCharacters = n, e.textareaKeyUp = function (t) {
            e.vm.content ? (r.content = e.vm.content.replace(/(\n|\r)/g, "<br>"), o.updateContent(r.content), o.autoAdjustSize(8 === t.keyCode ? 0 : 1)) : (r.content = "", o.updateContent("请输入文本"), o.autoAdjustSize(8 === t.keyCode ? 0 : 1))
        }, a["var"] = a["var"] || {}, a["var"].isUsed = a["var"].isUsed || !1, a["var"].page = a["var"].page || "", a["var"].comp = a["var"].comp || "", a.adjustWHMode = !!a.adjustWHMode, a.adjustFSMode = !!a.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = s.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), e.settingSelect = function () {
            a["var"].isSelect ? e.options.push({label: "自定义"}) : e.options = a.options = []
        }, e.addOption = function (t) {
            e.options.length < 10 ? e.options.splice(t + 1, 0, {label: "自定义"}) : i.openMsgDialog({msg: "您可以添加10个选项，每个选项最多请不要超过20字符。"})
        }, e.deleteOption = function (t) {
            e.options.length > 1 ? e.options.splice(t, 1) : i.openMsgDialog({msg: "至少保留一项"})
        }, a["var"].page && (c = s.list.find(function (e) {
            return e.id === a["var"].page
        }), e.inputList = c.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            a.adjustWHMode = !1, a.adjustFSMode = !1, "1" === e ? a.adjustWHMode = !0 : "2" === e && (a.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            a["var"].page = "", a["var"].isUsed = !a["var"].isUsed
        }, e.selectVarPage = function (t) {
            a["var"].comp = "", t && (c = s.list.find(function (e) {
                return e.id === t
            }), c && (e.inputList = c.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "validCharacterNumFilter", "modalService"], n(1343), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><div class="newt-text-content clearfix"><textarea rows="3" style="height:60px" placeholder="请输入文本" ng-model="vm.content" ng-keyup="textareaKeyUp($event)"></textarea></div><div class="hot-new-text-select"><input type="checkbox" class="hot-new-text-checkbox" ng-change="settingSelect()" ng-model="prop.var.isSelect">下拉框文本<div ng-if="prop.var.isSelect"><div class="optionPart" ng-repeat="option in options track by $index"><input class="optionInput2" type="text" style="height:30px" check-count="20" ng-change="changeEditDropdown()" stop-propagation ng-model="option.label"/> <span class="optionSpan">{{(option.label?countCharacters(option.label.trim()):0)}}/20</span><div class="iconPart"><a class="iconPlus"><span class="eqf-plus iconBlue" ng-click="addOption($index + 1)"></span></a> <a class="iconMinus"><span class="eqf-delete2 iconRed" ng-click="deleteOption($index)"></span></a></div></div></div></div></div><comp-setting-font></comp-setting-font><div class="style_list_angel clearfix" ng-if="!newTextAdjustMode"><label style="margin-bottom: 0">调整模式</label><div style="float: left;overflow: hidden"><ui-checkbox value="prop.adjustWHMode" style="float: left" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 5px;float: left">宽高固定</span></div><div style="float: right"><ui-checkbox value="prop.adjustFSMode" style="float: left" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 5px;float: left">字号固定</span></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><div><label>变量组件</label><div class="fl switch" ng-class="compJson.properties.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed"><label style="margin-top: 7px">关联页面</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(compJson.properties.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed &&\n                compJson.properties.var.page"><label style="margin-top: 7px">输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.imageSlider", []).directive("compSettingImageSlider", n(1346)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1348), controller: o}
    }

    function o(e, t, n, i, o, s, c, l, p, u, d) {
        "ngInject";
        var m = l, f = e.comp, g = f.compJson;
        e.vm.backgroundColor = g.css.backgroundColor, e.vm.tabs = g.properties.children || [], e.vm.selected = 0, e.vm.method = g.properties.autoPlay ? "auto" : "manual", e.vm.currentImageUrl = "", e.vm.interval = parseInt(g.properties.interval / 1e3) || 2, e.vm.anims = r, e.vm.animation = g.properties.picStyle ? g.properties.picStyle + "" : "1", e.switchImage = function (n) {
            e.vm.selected = n, e.vm.currentImageUrl = e.vm.tabs[n].src ? t.FILE + e.vm.tabs[n].src : null;
            var i = e.vm.tabs[n].src;
            i && i.indexOf("/c/images/demo") !== -1 && (e.vm.currentImageUrl = i), "manual" === e.vm.method && f.flux.currentImageIndex !== n && f.flux.showImage(n)
        };
        for (var h = 0; h < e.vm.tabs.length; h++) if (e.vm.tabs[h].src) {
            e.switchImage(h);
            break
        }
        e.rmImageTab = function () {
            var i = e.vm.tabs.length;
            if (i <= 2) return void n.success("图集中至少存在2张图片");
            var o = e.vm.selected, r = e.vm.tabs[o === i - 1 ? 0 : o + 1].src;
            e.vm.currentImageUrl = r ? t.FILE + r : null, e.vm.tabs.splice(o, 1), f.$contentsDiv.empty().append(f.create$context()), o = o == i - 1 ? i - 2 : o, p(function () {
                e.switchImage(o)
            })
        }, e.addImageTab = function () {
            var t = e.vm.tabs.length;
            if (6 === t) return void n.success("最多可添加6张图片");
            var i = e.vm.selected;
            e.vm.tabs.push({
                width: "115px",
                height: "115px",
                src: a[t % 3]
            }), f.$contentsDiv.empty().append(f.create$context()), p(function () {
                e.switchImage(i + 1)
            })
        }, e.editImage = function () {
            var t = e.vm.selected;
            s.getImage().then(function (n) {
                var i = n.path;
                Object.assign(e.vm.tabs[t], {
                    cropSize: void 0,
                    src: i,
                    originSrc: i,
                    height: void 0,
                    width: void 0
                }), e.cutImage()
            })
        }, e.cutImage = function () {
            var t = e.vm.selected, n = JSON.parse(JSON.stringify(g)), r = {currentImage: {index: t}, addMax: 1};
            m.open(n, r).then(function (e) {
                var t = i.getCurrentPage(), r = t.updateEqxComp(n.id, e);
                r && (r.rendered = !1, t.renderEqxComp(r), o.$broadcast("wsComp.add", r))
            })
        }, e.changeSwitchMethod = function (t) {
            e.vm.method = t, g.properties.autoPlay = "auto" === t;
            var n = f.flux;
            "manual" === t ? (n.stop(), n.showImage(0)) : n.start()
        }, e.changeAnimation = function (t) {
            g.properties.picStyle = parseInt(t);
            var n = f.flux;
            n.options.transitions = [r.find(function (e) {
                return e.value === parseInt(t)
            }).name], "auto" === e.method && (n.stop(), n.start())
        }, e.$watch("vm.backgroundColor", function (e, t) {
            e !== t && f.update$boxDiv({backgroundColor: e})
        }), e.$watch("vm.interval", function (e, t) {
            if (e !== t) {
                g.properties.interval = 1e3 * e;
                var n = f.flux;
                n.options.delay = 1e3 * e, n.stop(), n.start()
            }
        })
    }

    o.$inject = ["$scope", "HOST", "notifier", "sceneService", "$rootScope", "imageModalFactory", "imageCropFactory", "imageSliderModal", "$timeout", "imageSliderModal2", "authorityService"], n(1347), e.exports = i;
    var r = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
        value: 3,
        desc: "百页窗",
        name: "blinds"
    }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
        value: 9,
        desc: "梳理",
        name: "zip"
    }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
        value: 14,
        desc: "棋盘",
        name: "tiles3d"
    }, {value: 16, desc: "飞出", name: "explode"}], a = [n(1349), n(1350), n(1351)]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-image-slider"><comp-name comp="comp"></comp-name><div class="style_list_angel image-slider-preview clearfix"><div class="nav-btns"><div class="item"><a class="rm-tab" ng-class="{\'rm-tab-disable\': vm.tabs.length <= 2}" ng-click="rmImageTab()">-</a></div><div class="item" ng-repeat="tab in vm.tabs track by $index"><a class="tab-btn" ng-bind="$index + 1" ng-click="switchImage($index)" ng-class="{selected: vm.selected == $index}"></a></div><div class="item"><a class="add-tab" ng-class="{\'add-tab-disable\' : vm.tabs.length >= 6}" ng-click="addImageTab()">+</a></div></div><div class="preview" ng-click="editImage()"><img ng-if="vm.currentImageUrl" ng-src="{{vm.currentImageUrl}}" imageonload/> <i ng-if="vm.currentImageUrl" ng-click="cutImage();$event.stopPropagation();" class="preview-cut-pic eqf-cutpic"></i></div><div class="fun-btns"><a class="btn btn-sm cut-btn" ng-if="vm.currentImageUrl" ng-click="cutImage()">裁切图片</a> <a class="btn btn-sm rp-btn" ng-if="vm.currentImageUrl" ng-click="editImage()">更换图片</a></div></div><div class="style_list_angel sound-pro-style clearfix"><label>切换方式</label><a class="default-btn" ng-class="{active: vm.method == \'manual\'}" ng-click="changeSwitchMethod(\'manual\')">手动</a> <a class="custom-btn" ng-class="{active: vm.method == \'auto\'}" ng-click="changeSwitchMethod(\'auto\')">自动</a></div><div class="style_list_angel clearfix"><label>切换时间</label><div class="clearfix"><div ui-slider-t class="slider2" type="n" step="1" min="1" max="5" ng-model="vm.interval" ng-class="{disable: vm.method == \'manual\'}"></div><input limit-input readonly="readonly" class="input64 fr" type="number" ng-model="vm.interval"/></div></div><div class="style_list_angel clearfix"><label>切换动画</label><div class="animation clearfix"><select ng-model="vm.animation" class="input152" ng-change="changeAnimation(vm.animation)"><option ng-repeat="anim in vm.anims" ng-bind="anim.desc" value="{{anim.value}}"></option></select></div></div><div class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="comp.compJson.css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/demo_1-5871de.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/demo_2-ddc364.jpg"
}, function (e, t, n) {
    e.exports = n.p + "images/demo_3-38e266.jpg"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.drawingBoard", []).directive("compSettingDrawingBoard", n(1353)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1355),
            controller: ["$scope", "HOST", "imageModalFactory", "authorityService", function (e, t, n, i) {
                "ngInject";
                e.compJson = e.comp.compJson, e.isAddImg = !0, e.getImageSrc = function () {
                    var n = "";
                    return e.compJson.properties.imgSrc && (n = "" + (t.FILE + e.compJson.properties.imgSrc)), {"background-image": "url(" + n + ")"}
                }, e.addImg = function () {
                    n.getImage().then(function (t) {
                        e.compJson.properties.imgSrc = t.path, e.comp.clearCanvas(), e.comp.drawingImage(t.path)
                    })
                }, e.deleImg = function () {
                    e.compJson.properties.imgSrc = "", e.comp.clearCanvas()
                }, e.$watch("compJson.properties.boardColor", function (t, n) {
                    t !== n && e.comp.setCanvasBgColor(t)
                }), e.changeAddOption = function () {
                    e.isAddImg = !e.isAddImg, e.isAddImg || e.deleImg()
                }
            }]
        }
    }

    n(1354), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>画笔尺寸</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="compJson.properties.penSize" min="0" max="30" type="n"></div><input class="input64 fr" type="number" ng-model="compJson.properties.penSize" min="0" max="30" limit-input/></div></div><div class="style_list_angel clearfix"><label>画笔颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.penColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>背景颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.boardColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>画板内容 <a class="hint--bottom hint--rounded hint--panel" data-hint="若预览者预览时未更改画板内容，则预览时显示上传的画板内容图片"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="{\'switch-close\': !isAddImg,\'switch-open\': isAddImg}" ng-click="changeAddOption()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix add-change-img-btn" ng-if="isAddImg"><div class="change-img" ng-click="addImg()"><div ng-if="!compJson.properties.imgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="compJson.properties.imgSrc"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.interactiveVideo", []).directive("compSettingInteractiveVideo", n(1357)).directive("convertToNumber", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$parsers.push(function (e) {
                    return parseInt(e, 10)
                }), i.$formatters.push(function (e) {
                    return "" + e
                })
            }
        }
    }).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1359),
            controller: ["$scope", "sceneService", "fileAPI", "HOST", "EqxCore", function (e, t, n, i, o) {
                "ngInject";
                var r = o.event.EQX_EVENT, a = o.event.RAW_EVENT, s = t.getCurrentPage(), c = e.comp.compJson,
                    l = c.src ? "更换视频" : "添加视频", p = e.vm = {
                        autoplay: c.autoplay,
                        receive: "",
                        eqxCompList: s.eqxCompList.filter(function (e) {
                            return e.$ability.trigger.self
                        }),
                        uploadOptions: {
                            tokenType: "video",
                            extensions: "mp4",
                            maxFileSize: 30,
                            uploadBtn: "upload-video",
                            uploadCon: "video-container",
                            maxCount: 1,
                            uploadTips: l,
                            msg: "",
                            success: function (e) {
                                n.videoCodec(e.path).then(function (e) {
                                    return p.uploadOptions.uploadTips = "视频转码中...", n.pollingStatus(e.data.obj)
                                }).then(function (t) {
                                    var o = Object.assign({}, e, {fileType: 5, bizType: 0, tagId: 0});
                                    o.path = t, n.saveFileInfo(o), c.src = i.VIDEO + o.path, p.uploadOptions.uploadTips = "更换"
                                }, function () {
                                    p.uploadOptions.uploadTips = "上传失败"
                                })
                            }
                        }
                    };
                if ("2" === c.autoplay) {
                    var u = s.pageJson.properties.triggerGroup.find(function (e) {
                        return e.eventType == a.click && e.targetId == c.id && e.targetState == r.play
                    });
                    u && (p.receive = u.sourceId)
                }
                e.changAutoPlay = function (e) {
                    c.autoplay = e
                }, e.changeReceive = function (e) {
                    if (e) {
                        var t = s.pageJson.properties.triggerGroup, n = t.find(function (t) {
                            return t.eventType == a.click && t.sourceId == e && t.targetState == r.play
                        });
                        if (n) n.targetId = c.id; else {
                            var i = t.some(function (t) {
                                return t.eventType == a.click && t.sourceId == e && t.targetId == c.id && t.targetState == r.paly
                            });
                            i || t.push({
                                eventType: a.click,
                                sourceId: e,
                                sourceType: "e",
                                targetId: c.id,
                                targetType: "e",
                                targetState: r.play
                            })
                        }
                    }
                }
            }]
        }
    }

    n(1358), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="video-setting-container"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>视频源 <a class="hint--top hint--rounded hint--panel" data-hint="上传的视频大小限制在30M以内"><span class="eqf-why-f"></span></a></label><div class="fr" style="width: auto">还没有视频？ <a style="color: #1593FF" href="http://www.oranges-china.com" target="_blank">点我制作</a></div></div><div class="style_list_angel clearfix video-container" id="video-container"><a class="upload-video" id="upload-video" eqx-upload="vm.uploadOptions">{{vm.uploadOptions.uploadTips}}</a></div><div class="style_list_angel clearfix"><label>播放形式</label><div class="clearfix"><select class="input152" ng-change="changAutoPlay(vm.autoplay)" ng-model="vm.autoplay"><option value="1">自动播放</option><option value="2">触发播放</option></select></div></div><div ng-if="vm.autoplay == 2" class="style_list_angel clearfix"><label>设置触发源</label><div class="clearfix"><select class="input152" ng-change="changeReceive(vm.receive)" ng-model="vm.receive" convert-to-number><option value="">请选择触发源</option><option ng-repeat="eqxComp in vm.eqxCompList" value="{{eqxComp.compJson.id}}">{{::eqxComp.compJson.name}}</option></select></div></div><div class="style_list_angel clearfix"><label>循环播放</label><div class="fr switch" style="margin-top: 8px" ng-class="comp.compJson.properties.loop ? \'switch-open\' : \'switch-close\'" ng-click="comp.compJson.properties.loop = !comp.compJson.properties.loop"><div class="circle-con"><i class="circle"></i></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.randomContent", []).directive("compSettingRandomContent", n(1361)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1363), controller: o}
    }

    function o(e, t, n, i, o, r, a) {
        "ngInject";

        function s() {
            var e = l.properties.contentType, o = "t" === e ? i.getDefaultJson() : i.getImgJson(),
                r = t.getCurrentPage(), a = r.initEqxCompByJson(o);
            a && (r.deleteEqxComp(c), r.renderEqxComp(a), n.$broadcast("wsComp.add", a))
        }

        var c = e.comp, l = e.compJson = c.compJson;
        e.vm = {}, e.pre = o.FILE, "t" === l.properties.contentType ? (e.vm.texts = l.properties.texts.map(function (e) {
            return e.replace(/<br>/g, "\n")
        }), e.vm.texts[0] || c.updateContent("请输入文本")) : "i" === l.properties.contentType && (e.vm.imgs = l.properties.imgs), e.rmImgItem = function (t) {
            e.vm.imgs.length > 1 && (e.vm.imgs.splice(t, 1), c.updateImg(e.vm.imgs[0].src))
        }, e.addImgItem = function () {
            r.getImage().then(function (t) {
                var n = t.src || t.path, i = t.shape,
                    o = {src: n, originSrc: n, cropSize: void 0, width: i.width, height: i.height};
                e.vm.imgs.unshift(o)
            })
        }, e.switchContentType = function (e) {
            l.properties.contentType = e, s()
        }, e.addTextItem = function (t) {
            e.vm.texts.splice(t + 1, 0, "请输入文本"), l.properties.texts.splice(t + 1, 0, "请输入文本")
        }, e.rmTextItem = function (t) {
            e.vm.texts.length > 1 && (e.vm.texts.splice(t, 1), l.properties.texts.splice(t, 1), c.updateContent(e.vm.texts[0] || "请输入文本"), c.autoAdjustSize())
        }, e.textareaKeyUp = function (t, n) {
            var i = l.properties.texts;
            t ? (e.vm.texts[n] = t, i[n] = t.replace(/(\n|\r)/g, "<br>"), !n && c.updateContent(t), !n && c.autoAdjustSize()) : (e.vm.texts[n] = "", i[n] = "", !n && c.updateContent("请输入文本"), !n && c.autoAdjustSize())
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "randomContentFactory", "HOST", "imageModalFactory", "authorityService"], n(1362), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="random-content"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix sound-pro-style"><label>随机类型</label><a class="default-btn" ng-click="switchContentType(\'t\')" ng-class="{\'active\':compJson.properties.contentType === \'t\'}">文本</a> <a class="custom-btn" ng-click="switchContentType(\'i\')" ng-class="{\'active\':compJson.properties.contentType === \'i\'}">图片</a></div><div class="style_list_angel clearfix random-text" ng-if="compJson.properties.contentType === \'t\'"><label>随机文本</label><div class="clearfix" ng-repeat="text in vm.texts track by $index"><input type="text" placeholder="请输入文本" ng-model="text" ng-keyup="textareaKeyUp(text, $index)"><div class="op"><span class="minus-btn" ng-click="rmTextItem($index)"><i class="eqf-minus-l"></i> </span><span class="plus-btn" ng-click="addTextItem($index)"><i class="eqf-plus-l"></i></span></div></div></div><div class="style_list_angel clearfix random-img" style="padding-bottom: 3px" ng-if="compJson.properties.contentType === \'i\'"><label>随机图片</label><ul class="imgs"><li class="add-btn" ng-click="addImgItem()"><i class="eqf-plus"></i></li><li ng-repeat="img in vm.imgs track by $index" ng-mouseover="isItemHovered = true;" ng-mouseleave="isItemHovered = false;" ng-class="{\'right\': ($index + 2) % 3 === 0}" ng-style="{\n                \'background-image\': \'url(\' + pre + img.src + \')\',\n                \'background-position\': \'center\',\n                \'background-size\': \'contain\',\n                \'background-repeat\': \'no-repeat\'\n                }"><span class="rm-btn" ng-show="isItemHovered" ng-click="rmImgItem($index)"><i class="eqf-minus-l"></i></span></li></ul></div><comp-setting-font ng-if="compJson.properties.contentType === \'t\'"></comp-setting-font><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 comp-json="comp.compJson"></comp-setting-link11><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.redPacket", []).directive("compSettingRedPacket", n(1365)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", replace: !0, template: n(1367), controller: o};
        return e
    }

    function o(e, t, n, i, o) {
        "ngInject";
        var a = e.comp, s = e.compJson = a.compJson, c = e.prop = s.properties, l = e.vm, p = 1, u = 499, d = 1;
        l.chance = 100 * c.chance, l.pluginLoaded = !1, l.amount = c.amount, l.count = c.count, c.begin = c.begin || r.startTimeOfToday(), c.end = c.end || r.endTimeOfToday(), t.datePicker().then(function () {
            e.$apply(function () {
                l.pluginLoaded = !0, l.time = {
                    isBeginOpen: !!c.begin,
                    begin: c.begin,
                    isEndOpen: !!c.end,
                    end: c.end
                }, l.time.beginConfig = {
                    startDate: l.time.begin,
                    drops: "up"
                }, l.time.endConfig = {startDate: l.time.end, drops: "up"}
            })
        }), e.$watch("vm.chance", function (e, t) {
            e && e !== t && (c.chance = e / 100)
        }), e.createRedPacket = function () {
            var e = parseFloat(c.amount), t = parseInt(c.count);
            return e ? t ? e < t * p || e > t * u ? void i.success("请填写正确的活动金额！") : c.begin >= c.end ? void i.success("请填写正确的活动时间！") : void(c.isUsed || n.createRedPacket({
                sceneId: a.eqxScene.meta.id,
                pageId: a.eqxPage.pageJson.id,
                componentId: s.id,
                activity: c.activity,
                amount: e,
                begin: c.begin,
                end: c.end,
                count: t,
                chance: c.chance
            }).then(function () {
                c.isUsed = !0
            })["catch"](function (e) {
                console.log(e)
            })) : void i.success("请填写红包个数！") : void i.success("请填写活动金额！")
        }, e.setBeginTime = function () {
            c.begin = new Date(l.time.begin).getTime()
        }, e.setEndTime = function () {
            c.end = new Date(l.time.end).getTime()
        }, e.checkAmount = function () {
            var e = parseInt($(".check-amount").val()) || 1;
            e < p ? e = p : e > u && (e = u), l.amount = e, c.amount = e
        }, e.checkCount = function () {
            var e = parseFloat(l.count) || 0;
            e < d && (e = d), e > c.amount / p && (e = Math.floor(c.amount / p)), e < c.amount / u && (e = Math.ceil(c.amount / u)), o(function () {
                (!l.count || l.count < 1) && (l.count = 1), l.count > c.amount / p && (l.count = Math.floor(c.amount / p)), l.count < c.amount / u && (l.count = Math.ceil(c.amount / u))
            }, 750), c.count = e
        }
    }

    o.$inject = ["$scope", "delayLoadService", "redPacketService", "notifier", "$timeout"], n(1366);
    var r = n(934);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-red-packet"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>活动名称</label><div class="clearfix" style="position: relative"><input ng-disabled="prop.isUsed" ng-model="prop.activity" class="input228" type="text" maxlength="12"/><word-count words="prop.activity" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>活动金额</label><div class="clearfix"><input ng-disabled="prop.isUsed" class="input116 check-amount" ng-model="vm.amount" type="number" min="1" max="499" placeholder="限1-499" ng-change="checkAmount()"/> <span class="span36">元</span></div></div><div class="style_list_angel clearfix"><label>开始时间</label><div class="clearfix"><input ng-if="vm.pluginLoaded" ng-model="vm.time.begin" ng-disabled="prop.isUsed" ng-readonly="true" class="input228" date-picker="vm.time.beginConfig" placeholder="设置开始时间" ng-change="setBeginTime()" type="text"> <i class="eqf-calendar-l icon228"></i></div></div><div class="style_list_angel clearfix"><label>结束时间</label><div class="clearfix"><input ng-if="vm.pluginLoaded" ng-model="vm.time.end" ng-disabled="prop.isUsed" class="input228" ng-readonly="true" date-picker="vm.time.endConfig" placeholder="设置结束时间" ng-change="setEndTime()" type="text"> <i class="eqf-calendar-l icon228"></i></div></div><div class="style_list_angel clearfix"><label>红包个数</label><div class="clearfix"><input ng-disabled="prop.isUsed" ng-model="vm.count" class="input116" type="number" ng-change="checkCount()"/> <span class="span36">个</span></div></div><div class="style_list_angel clearfix chance"><label>中奖概率</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.chance" min="20" max="100" type="n"></div><input class="input64 fr" type="number" ng-model="vm.chance" min="20" max="100" limit-input/></div></div><div class="style_list_angel clearfix create"><label>生成红包</label><div class="fr switch hint--left hint--rounded" data-hint="红包生成后，不能关闭！" style="margin-top: 10px" ng-class="prop.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="createRedPacket()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.reward", []).directive("compSettingReward", n(1369)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1371), controller: o}
    }

    function o(e, t) {
        "ngInject";
        var n = .01, i = e.comp, o = i.compJson, r = e.prop = o.properties, a = e.vm = {amount: r.amount || 2};
        e.updateCompTitle = function () {
            i.updateCompTitle()
        }, e.checkAmount = function () {
            var e = parseFloat(a.amount);
            (!e || e <= 0) && (e = n), t(function () {
                var e = parseFloat(a.amount);
                (!e || e <= 0) && (a.amount = n)
            }, 750), r.amount = e, i.updateCompTitle()
        }
    }

    o.$inject = ["$scope", "$timeout"], n(1370), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-reward"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>按钮名称</label><div class="clearfix" style="position: relative"><input type="text" maxlength="12" class="input228" ng-model="prop.title" ng-change="updateCompTitle()"/><word-count words="prop.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>打赏金额</label><div class="clearfix"><input ng-model="vm.amount" class="input152" style="width: 120px" type="number" ng-change="checkAmount()" string-to-number/> <span style="margin-left: 7px">元</span></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.sms", []).directive("compSettingSms", n(1373)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1375), controller: o}
    }

    function o(e, t, n) {
        "ngInject";

        function i() {
            t.getUserMessageCount().then(function (t) {
                e.userMessCount = t || 0
            })
        }

        var o = e.comp;
        e.smsJson = o.compJson, e.userMessCount = 0, i(), e.openMessageModal = function () {
            n.open().then(function () {
                i()
            })
        }, e.$watch("smsJson.properties.ownerCss.borderColor", function (e) {
            o.updateInputBorderColor(e)
        })
    }

    o.$inject = ["$scope", "smsAPI", "messageBuyModal"], n(1374), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="sms"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix" style="margin-bottom: 0"><label style="width: auto">剩余短信 <span style="color: #1593FF">{{userMessCount}}</span>条 <a class="bbs-help-tip-media hint--bottom hint--rounded hint--panel" data-hint="注：短信条数不足时，将会导致短信验证码发送失败；购买的短信包应用于当前账号下所有场景内。" style=""><span class="eqf-why-f" style="color: #666666"></span></a></label></div><div class="style_list_angel clearfix"><div class="buySms" ng-click="openMessageModal()">购买</div></div><div class="style_list_angel clearfix"><label>输入框颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="smsJson.properties.ownerCss.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><comp-setting-font></comp-setting-font><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><div class="style_list_angel clearfix"><label>设为必填</label><div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.compOwn", []).directive("compOwnSetting", n(1377)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1378), controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                e.styleFixedComp = t.permission("styleFixedComp")
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = "<section class=\"manager-comp-setting-tab\"><div class=\"style_con_hei\"><comp-setting-date ng-if=\"comp.type == '14'\"></comp-setting-date><comp-setting-photo-wall ng-if=\"comp.type == '13'\"></comp-setting-photo-wall><comp-setting-text ng-if=\"comp.type == '2'\"></comp-setting-text><comp-setting-image ng-if=\"comp.type == '4'\"></comp-setting-image><comp-setting-shape ng-if=\"comp.type == 'h'\"></comp-setting-shape><comp-setting-video ng-if=\"comp.type == 'v'\"></comp-setting-video><comp-setting-sound ng-if=\"comp.type == 's'\"></comp-setting-sound><comp-setting-pv ng-if=\"comp.type == 'd'\"></comp-setting-pv><comp-setting-time ng-if=\"['e', 'f'].indexOf(comp.type) >= 0\"></comp-setting-time><comp-setting-radio ng-if=\"(['r', 'c'].indexOf(comp.type) >= 0)\"></comp-setting-radio><comp-score ng-if=\"comp.type == 'a'\"></comp-score><comp-counter ng-if=\"comp.type == 'i'\"></comp-counter><comp-setting-button ng-if=\"(comp.type == 'l' || comp.type == '8')\"></comp-setting-button><comp-setting-submit ng-if=\"(comp.type == '6' || comp.type == '601')\"></comp-setting-submit><comp-setting-vote ng-if=\"(comp.type == 'j' || comp.type == 'k')\"></comp-setting-vote><comp-input ng-if=\"([5, 501, 502, 503, 504, '5', '501', '502', '503', '504'].indexOf(comp.type) >= 0)\"></comp-input><comp-setting-comment ng-if=\"comp.type == 'b'\"></comp-setting-comment><comp-setting-map ng-if=\"comp.type == 'm'\"></comp-setting-map><comp-setting-chart ng-if=\"comp.type == 't'\"></comp-setting-chart><comp-setting-wx ng-if=\"['201', '401', '403', 'w01', 'w02'].indexOf(comp.type) >= 0\"></comp-setting-wx><comp-setting-ad ng-if=\"comp.type == 'g'\"></comp-setting-ad><comp-setting-new-text ng-if=\"comp.type == '7'\"></comp-setting-new-text><comp-setting-hot-new-text ng-if=\"comp.type == '1'\"></comp-setting-hot-new-text><comp-setting-image-slider ng-if=\"comp.type == 'p'\"></comp-setting-image-slider><comp-setting-drop-down ng-if=\"comp.type == 'z'\"></comp-setting-drop-down><comp-setting-interactive-video ng-if=\"comp.type == 'o'\"></comp-setting-interactive-video><comp-setting-drawing-board ng-if=\"comp.type == 'u'\"></comp-setting-drawing-board><comp-setting-red-packet ng-if=\"comp.type == '9'\"></comp-setting-red-packet><comp-setting-reward ng-if=\"comp.type == '11'\"></comp-setting-reward><comp-setting-random-content ng-if=\"comp.type == '10'\"></comp-setting-random-content><comp-setting-sms ng-if=\"comp.type == '12'\"></comp-setting-sms><comp-setting-pip-button ng-if=\"comp.type == '16'\"></comp-setting-pip-button><comp-setting-up-load-image ng-if=\"comp.type == 'upload'\"></comp-setting-up-load-image><comp-setting-we-chat-card ng-if=\"comp.type == '17'\"></comp-setting-we-chat-card><comp-setting-marketing ng-if=\"[18, 19, '18', '19'].indexOf(comp.type) >= 0\"></comp-setting-marketing></div></section>"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.commonSetting", [n(1380), n(1384), n(1387), n(1391), n(1395), n(1397), n(1399), n(1402), n(1406), n(1410), n(1413), n(1415)]).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.font", []).directive("compSettingFont", n(1381)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", template: n(1383), controller: o}
    }

    function o(e, t, n, i, o, r, a, s, c, l, p) {
        "ngInject";

        function u(t) {
            var n = {};
            switch (t) {
                case"bold":
                    n = {fontWeight: "bold" === x.css.fontWeight ? "normal" : "bold"};
                    break;
                case"italic":
                    n = {fontStyle: "italic" === x.css.fontStyle ? "normal" : "italic"};
                    break;
                case"underline":
                    n = {textDecoration: "underline" === x.css.textDecoration ? "none" : "underline"};
                    break;
                case"left":
                    n = {textAlign: "left"};
                    break;
                case"center":
                    n = {textAlign: "center"};
                    break;
                case"right":
                    n = {textAlign: "right"};
                    break;
                case"clear":
                    f("默认字体"), d(14), e.vm.css.lineHeight = 1.5, e.vm.css.color = "#676767", n = {
                        fontWeight: "normal",
                        fontStyle: "normal",
                        textDecoration: "none",
                        textAlign: "center",
                        letterSpacing: 0
                    }
            }
            w.css(n), y.update$boxDiv(n), y.autoAdjustSize()
        }

        function d(t) {
            if (t) e.setFontStyle.inputFontSize = t; else {
                var n = void 0;
                t = e.setFontStyle.inputFontSize.replace(/[^\d]/g, ""), n = parseInt(t), t = n ? n < 12 ? 12 : n > 96 ? 96 : n : 12, e.setFontStyle.inputFontSize && a(function () {
                    e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96)
                }, 750)
            }
            var i = {fontSize: t + "px"};
            y.update$boxDiv(i), w.css(i), y.updateCss(i), y.autoAdjustSize()
        }

        function m(t) {
            e.setFontStyle.inputFontSize = parseInt(e.setFontStyle.inputFontSize) + parseInt(t), e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96);
            var n = {fontSize: e.setFontStyle.inputFontSize + "px"};
            w.css(n), y.update$li(n), y.update$boxDiv(n), y.autoAdjustSize()
        }

        function f(n) {
            if ("+1" === n) h(), e.setFontStyle.selectedFontName = S; else if ("默认字体" === n) g(C), e.setFontStyle.selectedFontName = n; else {
                var i = e.vm.fonts.find(function (e) {
                    return e.name === n
                });
                if (0 == i.expStatus) s.getFontStatus(i.id, i.productId).then(function (e) {
                    var n = e.data.map;
                    1 === n.status ? o.openConfirmDialog({
                        msg: "当前字体已过期，是否重新购买？",
                        confirmName: "立即购买",
                        cancelName: "取消"
                    }).then(function () {
                        t.buyFont(i).then(function () {
                            t.myFont.myFontLists = []
                        })
                    }) : c.danger("当前字体已下架，请使用其他字体")
                }); else {
                    if (2 == b.type && 0 == i.license && t.myFont.personFontNoTip.indexOf(i.name) == -1) {
                        var r = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + i.name + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
                            a = {msg: r, confirmName: "坚持使用", cancelName: "去购买", noTips: !1};
                        return o.openConfirmDialog(a).then(function () {
                            a.noTips && t.myFont.personFontNoTip.push(i.name), g(i), e.setFontStyle.selectedFontName = n
                        }, function () {
                            a.noTips && t.myFont.personFontNoTip.push(i.name), t.buyFont(i).then(function () {
                                t.myFont.myFontLists = []
                            })
                        })
                    }
                    g(i), e.setFontStyle.selectedFontName = n
                }
            }
        }

        function g(n) {
            var o = {fontFamily: n.fontFamily};
            t.editFontList.indexOf(n.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + n.fontFamily + "';src: url('" + i.FILE + n.woffPath + "') format('woff'), url('" + i.FILE + n.ttfPath + "') format('truetype');;}")), t.editFontList.push(n.fontFamily)), w.css(o), y.updateCss(o), e.setFontStyle.selectedFontName = S = n.name
        }

        function h() {
            t.openFontShopping().then(function (e) {
                v(), l.permission("newMaterialModal") || g(e)
            }, function () {
                return v()
            })
        }

        function v() {
            return t.getMyFontList().then(function (t) {
                e.vm.fonts = t
            })["catch"](function (e) {
                o.openMsgDialog({msg: e.data.msg})
            })
        }

        var y = e.comp, b = r.getCurrentUser(), x = y.compJson, w = y.$context, S = "默认字体", k = x.css.letterSpacing,
            T = void 0 === k ? 0 : k,
            C = {name: "默认字体", fontFamily: "Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif"};
        e.vm = e.vm || {}, e.vm.css = x.css, e.vm.fonts = [], e.vm.fontsLoaded = !1, e.vm.fontSizes = n.fontSizes, e.vm.letterSpaces = n.wordLineLists, e.vm.letterSpacing = 100 * parseFloat(T), e.setFontStyle = {}, e.setFontStyle.selectedFontName = "默认字体", e.setFontStyle.inputFontSize = parseInt(x.css.fontSize || "16"), e.appendFontFamily = v, e.openFontMarket = h, e.changeFontFamily = f, e.changeFontSize = d, e.zoomFontSize = m, e.toolFuncs = u,
            e.updateNewTextContent = function () {
                y.updateContent(y.compJson.content), y.autoAdjustSize()
            }, v().then(function () {
            e.vm.fontsLoaded = !0;
            var t = x.css.fontFamily, n = e.vm.fonts.find(function (e) {
                return e.fontFamily == t
            });
            n = n || C, e.setFontStyle.selectedFontName = S = n.name
        }), e.$watch("vm.letterSpacing", function (e, t) {
            if (void 0 !== e && e !== t) {
                var n = parseFloat(e || 0) / 100;
                w.css({letterSpacing: n + "em"}), y.updateCss({letterSpacing: n}), y.autoAdjustSize(), p.$broadcast("compSetting.letterSpacing")
            }
        }), e.$on("compSetting.letterSpacing", function () {
            var t = x.css.letterSpacing;
            e.vm.letterSpacing = 100 * t
        }), e.$watch("vm.css.lineHeight", function (e, t) {
            e != t && (y.update$boxDiv({lineHeight: e}), 5 == ("" + y.type).charAt(0) && w.css({lineHeight: e}), y.autoAdjustSize())
        }), e.$watch("vm.css.color", function (e, t) {
            e != t && y.update$boxDiv({color: e})
        }), e.$on("change.fontFamily", function (t, n) {
            n && e.changeFontFamily(n.name)
        }), e.$on("change.fontSize", function (t, n) {
            e.changeFontSize(n)
        }), e.refreshScroll = function (t) {
            e.$broadcast("scroll.refresh." + t)
        }
    }

    o.$inject = ["$scope", "fontService", "FONT", "HOST", "modalService", "userService", "$timeout", "fontAPI", "notifier", "authorityService", "$rootScope"], n(1382), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-font-setting"><div class="style_list_angel font-family clearfix" ng-if="vm.fontsLoaded && ability.compFont.fontFamily"><label>字体</label><div class="clearfix"><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontFamily\')"><span ng-bind="setFontStyle.selectedFontName"></span> <b class="caret"></b></a><div class="dropdown-menu" style="min-width:152px !important"><div eqd-scroll scroll="fontFamily" style="max-height: 150px"><ul><li class="dropdown-item"><a ng-click="changeFontFamily(\'默认字体\');">默认字体</a></li><li class="dropdown-item" ng-repeat="font in vm.fonts" ng-if="font.status == 1"><a ng-click="changeFontFamily(font.name);" ng-class="{\'fontDisable\': font.expStatus == 0}" ng-bind="font.name"></a></li></ul></div><div class="more-font"><a class="more-btn" ng-click="changeFontFamily(\'+1\');"><em class="eqf-fontmall"></em> 更多字体</a></div></div></div></div></div><div class="style_list_angel font-size clearfix" ng-if="ability.compFont.fontSize"><label>字号</label><div class="clearfix"><div class="func-btns"><a class="btn zoom-in" ng-click="zoomFontSize(+2)">A+</a><a class="btn zoom-out" ng-click="zoomFontSize(-2)">A-</a></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontSize\')"><span ng-bind="setFontStyle.inputFontSize"></span>px <b class="caret"></b></a><div class="dropdown-menu" style="width:70px;min-width: 70px"><div eqd-scroll scroll="fontSize" style="max-height: 120px"><ul><li><a class="input-selection"><input type="text" ng-change="changeFontSize()" ng-model="setFontStyle.inputFontSize"></a></li><li class="dropdown-item" ng-repeat="fontSize in vm.fontSizes | orderBy:\'value\':false"><a ng-click="changeFontSize(fontSize.value);">{{::fontSize.value}}px</a></li></ul></div></div></div></div></div><div class="style_list_angel color clearfix" ng-if="ability.compFont.fontColor"><label>文字颜色</label><div class="clearfix"><eqd-input-color2 select-color="vm.css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div ng-if="ability.compFont.bgColor" class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="vm.css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix" ng-if="ability.compFont.baseStyle"><div class="clearfix font-setting-group"><a class="hint--top hint--rounded" data-hint="居左" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'left\'}" ng-click="toolFuncs(\'left\')"><i class="eqf-align-left"></i> </a><a class="hint--top hint--rounded" data-hint="居中" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'center\'}" ng-click="toolFuncs(\'center\')"><i class="eqf-align-center"></i></a><a class="hint--top hint--rounded" data-hint="居右" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'right\'}" ng-click="toolFuncs(\'right\')"><i class="eqf-align-right"></i> </a><span class="left-border"></span> <a class="hint--top hint--rounded tool-bold" data-hint="加粗" ng-class="{\'clicked\': comp.compJson.css.fontWeight === \'bold\'}" ng-click="toolFuncs(\'bold\');"><i class="eqf-b"></i> </a><a class="hint--top hint--rounded italic" data-hint="倾斜" ng-class="{\'clicked\': comp.compJson.css.fontStyle === \'italic\'}" ng-click="toolFuncs(\'italic\');"><i class="eqf-i"></i> </a><a class="hint--top hint--rounded" data-hint="下划线" ng-class="{\'clicked\': comp.compJson.css.textDecoration === \'underline\'}" ng-click="toolFuncs(\'underline\');"><i class="eqf-u"></i> </a><span class="left-border"></span> <a class="hint--top hint--rounded clear-style" data-hint="清除样式" ng-click="toolFuncs(\'clear\')"><i class="eqf-clear-f"></i></a></div></div><div class="style_list_angel clearfix" ng-if="!styleLineHeight && ability.compFont.lineHeight"><label>行高</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.css.lineHeight" min="0" max="3" fixed="1" type="n"></div><input class="input64 fr" type="number" ng-model="vm.css.lineHeight" step="0.1" min="0" max="3" limit-input/></div></div><div class="style_list_angel clearfix" ng-if="!styleLineHeight && ability.compFont.letterSpacing"><label>字距</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.letterSpacing" min="0" max="100" fixed="1" type="n"></div><input class="input64 fr" type="number" ng-model="vm.letterSpacing" step="1" min="0" max="100" limit-input/></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.compLink", []).directive("compSettingLink11", n(1385)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {
            restrict: "E",
            template: n(1386),
            controller: o,
            replace: !0,
            scope: {compJson: "=", showNoneOption: "="}
        };
        return e
    }

    function o(e, t, n, i, o) {
        "ngInject";
        var r = e.compJson, a = o.event.RAW_EVENT, s = o.event.EQX_EVENT, c = t.getCurrentPage(),
            l = c.pageJson.properties.triggerGroup, p = l.findIndex(function (e) {
                return "e" === e.sourceType && e.sourceId === r.id && e.eventType === a.click && (e.targetState === s.link || e.targetState === s.phone || e.targetState === s.page)
            });
        p !== -1 ? e.item = l[p] : e.showNoneOption ? (e.item = {
            eventType: a.click,
            sourceType: "e",
            sourceId: r.id,
            targetType: "e",
            targetId: r.id,
            targetState: s.link,
            targetContent: "",
            delay: 0
        }, l.push(e.item)) : e.item = {targetState: ""};
        var u = t.eqxScene, d = n.SERVER_1 + "eqs/link?id=" + u.meta.id + "&url=", m = e.vm = {
            EQX_EVENT: s,
            pageList: u.sceneJson.list,
            targetState: "" + e.item.targetState,
            targetContent: ""
        };
        if (e.item.targetState === m.EQX_EVENT.link) {
            var f = (/eqs\/link\?id=\d+&url=(.*)/.exec(e.item.targetContent) || [])[1];
            f && (m.targetContent = decodeURIComponent(f))
        } else m.targetContent = e.item.targetContent;
        e.types = [{value: "" + m.EQX_EVENT.link, name: "跳转链接"}, {
            value: "" + m.EQX_EVENT.page,
            name: "跳转页面"
        }, {value: "" + m.EQX_EVENT.phone, name: "拨打电话"}], e.$watch("vm.targetState", function (t, n) {
            if (t && t !== n) if (m.targetContent = e.item.targetContent = "", e.item.targetState = +m.targetState, "" === m.targetState) l.splice(l.indexOf(e.item), 1); else if (!e.showNoneOption) {
                var i = {
                    eventType: a.click,
                    sourceType: "e",
                    sourceId: r.id,
                    targetType: "e",
                    targetId: r.id,
                    targetState: +m.targetState,
                    targetContent: "",
                    delay: 0
                }, o = l.indexOf(e.item);
                o == -1 ? l.push(i) : l.splice(o, 1, i), e.item = i
            }
        }), e.verifyPhone = function (e) {
            var t = /^\d{3,15}$/;
            return e ? void(t.test(e) || i.success("电话输入有误，请输入3-15位数字")) : void i.success("电话号码不能为空")
        }, e.verifyLink = function (t) {
            t || i.success("链接不能为空"), /^http:|^https:|^ftp:/.test(t) || (t = "http://" + t, e.item.targetContent = d + encodeURIComponent(t))
        }, e.prefixProcess = function (t) {
            e.item.targetContent = t ? d + encodeURIComponent(t) : ""
        }, e.inputPhone = function (t) {
            e.item.targetContent = t
        }
    }

    o.$inject = ["$scope", "sceneService", "HOST", "notifier", "EqxCore"], e.exports = i
}, function (e, t) {
    e.exports = '<div><div class="style_list_angel clearfix"><label>点击跳转</label><div class="clearfix"><select class="input152" ng-model="vm.targetState" ng-options="type.value as type.name for type in types"><option value="">无</option></select></div></div><div class="style_list_angel clearfix" ng-if="item.targetState == vm.EQX_EVENT[\'link\']"><label>链接地址</label><div class="e_link clearfix"><input class="input228" type="text" placeholder="http://" ng-model="vm.targetContent" ng-change="prefixProcess(vm.targetContent)" ng-blur="verifyLink(vm.targetContent)"/></div><label><a href="http://dwz.cn/" style="color: #1593FF" target="_blank">生成短链接</a></label></div><div class="style_list_angel clearfix" style="border-bottom: none" ng-if="item.targetState == vm.EQX_EVENT[\'page\']"><label>场景页面</label><div class="i_link clearfix"><select class="input152" ng-model="item.targetContent" ng-options="page.id as page.name for page in vm.pageList"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="item.targetState == vm.EQX_EVENT[\'phone\']"><label>手机/电话</label><div class="clearfix"><input placeholder="010-88888888" class="input152" type="text" ng-model="vm.targetContent" ng-change="inputPhone(vm.targetContent)" ng-blur="verifyPhone(vm.targetContent)"/></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.image.view", []).directive("imgView", n(1388)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1390),
            controller: ["$scope", "selectService", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = e.imgJson = e.comp.compJson;
                e.text = "h" === e.comp.type ? "更换形状" : "更换图片", e.imgStyle = {
                    "background-image": "url(" + o + i.properties.src + ")",
                    "background-position": "center",
                    "background-size": "contain",
                    "background-repeat": "no-repeat"
                }, e.cropComp = function () {
                    var e = t.comps[0];
                    e && n.$broadcast("wsComp.crop", e)
                }, e.edit = function () {
                    var e = t.comps[0];
                    e && n.$broadcast("wsComp.edit", e)
                }
            }]
        }
    }

    n(1389);
    var o = n(985).FILE;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="clearfix"><div class="image-view" ng-style="imgStyle"></div><div class="image-btn"><a class="change-img" ng-click="edit()">{{::text}}</a> <a class="clip-img" ng-click="cropComp()" ng-if="comp.type !== \'h\'">裁切图片</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.GSensor", []).directive("compSettingGSensor", n(1392)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !0, template: n(1394), controller: o}
    }

    function o(e) {
        "ngInject";

        function t(e) {
            r.isUsed && (r.direction = e)
        }

        function n() {
            r.isUsed = r.isUsed || !1, r.direction = r.direction || "positive", r.distance = r.distance || 2
        }

        var i = e.comp, o = i.compJson, r = e.GSensor = o.properties.GSensor = o.properties.GSensor || {};
        e.flag = {value: r.isUsed ? "1" : "0"}, e.changeSensorDirection = t, e.$watch("flag.value", function (e, t) {
            e != t && ("1" === e && (r.isUsed = !0), "0" === e && (r.isUsed = !1))
        }), n()
    }

    o.$inject = ["$scope"], n(1393), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="g-sensor"><div class="style_list_angel radio_list_angel clearfix"><label>重力感应</label><div class="fr switch" style="margin-top: 8px" ng-class="GSensor.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="GSensor.isUsed = !GSensor.isUsed"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix sound-pro-style" ng-show="GSensor.isUsed"><label>移动方向</label><a class="default-btn" ng-class="{active: GSensor.direction === \'negative\'}" ng-click="changeSensorDirection(\'negative\')">反向移动</a> <a class="custom-btn" ng-class="{active: GSensor.direction === \'positive\'}" ng-click="changeSensorDirection(\'positive\')">正向移动</a></div><div class="style_list_angel clearfix" ng-show="GSensor.isUsed"><label>移动距离</label><div class="distance clearfix"><div ui-slider-t class="slider2" type="n" min="0" max="10" ng-model="GSensor.distance" ng-class="{disable: !GSensor.isUsed}"></div><input limit-input class="input64 fr" type="number" min="0" max="10" ng-model="GSensor.distance" ng-disabled="!GSensor.isUsed"/></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.clickFarmerInPanel", []).directive("clickFarmerInPanel", ["userService", "modalService", "sceneService", "materialAPI", "HOST", "notifier", "$q", "eqxNgPay", "payMessageType", "sceneMetaAPI", function (e, t, i, o, r, a, s, c, l, p) {
        "ngInject";
        return {
            restrict: "E", template: n(1396), scope: {compJson: "="}, link: function (n) {
                function u() {
                    t.openConfirmDialog({
                        msg: "企业付费用户功能， 是否升级？",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(r.HOST + "site/privilege", "_blank")
                    })
                }

                function d(e) {
                    var t = e.sceneId, n = e.orderAppId, i = e.buyItem, o = e.description, a = e.orderTradeId,
                        u = e.signParam, d = e.functionName;
                    return c.payMulti({
                        orderAppId: n,
                        buyItems: [i],
                        returnUrl: "http://www.eqxiu.com/",
                        description: o,
                        signUrl: r.SERVER_0 + "m/scene/pay/order/sign",
                        orderTradeId: a,
                        jsonPros: JSON.stringify(u)
                    }).then(function (e) {
                        var n = e.value.msgType;
                        return "close" === n ? (console.log("用户关闭"), s.reject("用户关闭")) : n !== l.PAY_SUCCESS ? s.reject("支付失败") : p.polling(a, t, d)
                    })["catch"](function (e) {
                        return console.error(e), s.reject()
                    })
                }

                function m() {
                    h.sceneJson.meta.property.clickFarmerStatus && h.sceneJson.meta.property.clickFarmerStatus > 0 ? n.clickFarmerStatus = h.sceneJson.meta.property.clickFarmerStatus : [3, 99].indexOf(g.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(g.memberType) > -1 ? n.clickFarmerStatus = 2 : n.clickFarmerStatus = null
                }

                var f = n.compJson, g = e.getCurrentUser(), h = i.eqxScene;
                m(), f.properties.clickFarmer ? n.clickFarmer = f.properties.clickFarmer : n.clickFarmer = f.properties.clickFarmer = !1, n.timeSetting = [{
                    key: 30,
                    value: "30分钟"
                }, {key: 60, value: "1小时"}, {key: 360, value: "6小时"}, {key: 1440, value: "1天"}, {
                    key: 4320,
                    value: "3天"
                }, {key: 10080, value: "7天"}, {
                    key: 1e6,
                    value: "永久"
                }], f.properties.clickInterval = f.properties.clickInterval || 1440, n.convertClickFarmer = function () {
                    if (n.clickFarmer) n.clickFarmer = f.properties.clickFarmer = !1; else if (1 === g.type) u(); else {
                        var e = h.sceneJson.meta.id, t = {id: e, status: n.clickFarmerStatus || 1, elementId: f.id};
                        o.checkBuyFarmer(t).then(function (t) {
                            var i = t.data.map, r = i.isPaying, c = i.isPurchase, l = i.subXd, p = i.orderTradeId;
                            n.clickFarmerStatus = i.clickFarmerStatus || n.clickFarmerStatus;
                            var u = "preventResubmit";
                            if (r) {
                                var m = "有正在处理的请求; 请稍候再试";
                                return a.success(m), s.reject(m)
                            }
                            if (c) var g = o.saveClickFarmer(e, n.clickFarmerStatus || 1); else g = d({
                                orderAppId: 100004,
                                buyItem: {id: 1, name: "微信防刷单", price: l, type: 11},
                                description: "微信防刷单",
                                orderTradeId: p,
                                sceneId: e,
                                signParam: {sceneId: e, functionName: u},
                                functionName: u
                            });
                            return g.then(function () {
                                a.success("微信防刷单支付成功"), n.clickFarmer = f.properties.clickFarmer = !0
                            })
                        })["catch"](function (e) {
                            return a.error("微信防刷单设置失败"), m(), s.reject(e)
                        })
                    }
                }
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-style="{true:{\'border\': \'none\'}}[clickFarmer]"><label>微信防刷 <a class="hint--top hint--rounded hint--panel" data-hint="注：开启限制后，只能在微信环境下使用，可设置同一微信账号在30分钟、1小时、6小时、1天、3天、7天、永久7种时间间隔中使用。"><span class="eqf-why-f"></span></a></label><div class="fl switch" style="margin-top: 8px;float:right" ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click="convertClickFarmer()"><div class="circle-con"><i class="circle"></i></div></div><div style="display: inline-block;margin-left: 10px;line-height: 36px" ng-show="!clickFarmerStatus"><span>18秀点</span></div></div><div class="style_list_angel clearfix" ng-show="clickFarmer"><label>提交间隔</label><div class="clearfix" style="float:right"><select class="input152" ng-model="compJson.properties.clickInterval" ng-options="item.key as item.value for item in timeSetting"></select></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.commitLimit", []).directive("commitLimit", ["sceneService", "sceneAPI", "$rootScope", function (e, t, i) {
        "ngInject";
        return {
            restrict: "E", scope: {compJson: "="}, template: n(1398), link: function (e) {
                function n() {
                    t.commitTimeSetting(r.sceneId, r.pageId, r.id, r.type, a.commitTimes, a.commitFlag).then(function () {
                        r.properties.commitFlag = a.commitFlag, r.properties.commitTimes = a.commitTimes, i.$broadcast("savePage", function () {
                        })
                    })["catch"](function (e) {
                        alert(e.data.msg)
                    })
                }

                function o(e, t) {
                    clearTimeout(e.tId), e.tId = setTimeout(function () {
                        e()
                    }, t)
                }

                var r = e.compJson,
                    a = e.vm = {commitFlag: r.properties.commitFlag || !1, commitTimes: r.properties.commitTimes || 0};
                e.commitSetting = function () {
                    a.commitFlag = !a.commitFlag, o(n, 500)
                }, e.$watch("vm.commitTimes", function (e, t) {
                    e != t && o(n, 2e3)
                })
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label>提交限制 <a class="hint--top hint--rounded hint--panel" data-hint="开启限制后，最多只能提交100次。"><span class="eqf-why-f"></span></a></label><div class="fl switch" style="margin-top: 8px;float:right" ng-class="vm.commitFlag ? \'switch-open\' : \'switch-close\'" ng-click="commitSetting()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel line-height clearfix" ng-show="vm.commitFlag"><label>总提交次数</label><div class="clearfix"><div ui-slider-t class="slider2" type="n" min="1" max="100" ng-model="vm.commitTimes"></div><input limit-input type="number" class="input64 fr" step="1" min="1" max="100" ng-model="vm.commitTimes"/></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.image.reverse", []).directive("compSettingImageReverse", n(1400)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !0, scope: {comp: "="}, template: n(1401), controller: o}
    }

    function o(e) {
        "ngInject";
        var t = e.css = e.comp.compJson.css;
        e.rotate = {
            x: t.turnOver && t.turnOver.indexOf("rotateX(180deg)") > -1,
            y: t.turnOver && t.turnOver.indexOf("rotateY(180deg)") > -1
        }, e.covertRotateY = function () {
            var n = " rotateY(0deg)";
            e.rotate.y && (n = " rotateY(180deg)"), t.turnOver && t.turnOver.indexOf("rotateY") > -1 ? t.turnOver = t.turnOver.replace(/rotateY\((-?\d*\.?\d*)(deg|)\)/, n) : t.turnOver ? t.turnOver = t.turnOver + n : t.turnOver = n, e.comp.updateTurnOver(t.turnOver)
        }, e.convertRotateX = function () {
            var n = " rotateX(0deg)";
            e.rotate.x && (n = " rotateX(180deg)"), t.turnOver && t.turnOver.indexOf("rotateX") > -1 ? t.turnOver = t.turnOver.replace(/rotateX\((-?\d*\.?\d*)(deg|)\)/, n) : t.turnOver ? t.turnOver = t.turnOver + n : t.turnOver = n, e.comp.updateTurnOver(t.turnOver)
        }
    }

    o.$inject = ["$scope"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel radio_list_angel clearfix"><label>{{comp.type !== \'h\' ? \'图片\' : \'形状\'}}翻转</label><div class="radio_width76" ng-click="covertRotateY()"><ui-checkbox value="rotate.y"></ui-checkbox><span>左右</span></div><div class="radio_width76" ng-click="convertRotateX()"><ui-checkbox value="rotate.x"></ui-checkbox><span>上下</span></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.function", []).directive("functionSetting", n(1403)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1405), controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                var n = e.comp, i = e.compJson = n.compJson, o = e.prop = i.properties, r = n.eqxScene.sceneJson,
                    a = null;
                if (o["var"] = o["var"] || {}, o["var"].isUsed = o["var"].isUsed || !1, o["var"].page = o["var"].page || "", o["var"].comp = o["var"].comp || "", o.adjustWHMode = !!o.adjustWHMode, o.adjustFSMode = !!o.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.imgScratch = t.permission("imgScratch"), e.isBulkCopy = !t.permission("isBulkCopy"), e.switchAdjustMode = function (e) {
                    o.adjustWHMode = !1, o.adjustFSMode = !1, "1" === e ? o.adjustWHMode = !0 : "2" === e && (o.adjustFSMode = !0)
                }, e.changeScratch = function () {
                    o.scratch = !o.scratch, o.scratch ? n.addScratch() : n.deleScratch()
                }, e.isVarUsed = function () {
                    o["var"].page = "", o["var"].isUsed = !o["var"].isUsed
                }, e.isReplace = function () {
                    o.isReplace = !o.isReplace
                }, e.pageList = r.list.map(function (e, t) {
                    return {name: e.name || "第" + (t + 1) + "页", id: e.id}
                }), o["var"].page) {
                    var s = r.list.find(function (e) {
                        return e.id === o["var"].page
                    });
                    s && (e.uploadList = s.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
                o["var"].page && (a = r.list.find(function (e) {
                    return e.id === o["var"].page
                }), e.inputList = a.elements.filter(function (e) {
                    return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
                }).map(function (e) {
                    return {name: e.name, id: e.id}
                })), e.selectVarPage = function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    o["var"].comp = "";
                    var n = r.list.find(function (e) {
                        return e.id === t
                    });
                    n && (e.uploadList = n.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
            }], link: function (e, t) {
            }
        }
    }

    n(1404), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 ng-if="comp.$ability.link" comp-json="comp.compJson"></comp-setting-link11><div class="clearfix" ng-if="ability.advanceStyle.adjustMode && !newTextAdjustMode"><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>调整模式</label></div><div class="style_list_angel clearfix"><div style="float: left;width: 114px"><ui-checkbox value="prop.adjustWHMode" style="float: left;margin-top: 10px" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 10px;float: left;color: #333">宽高固定</span></div><div style="float: left;width: 114px"><ui-checkbox value="prop.adjustFSMode" style="float: left;margin-top: 10px" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 10px;float: left;color: #333">字号固定</span></div></div></div><comp-setting-g-sensor ng-if="ability.advanceStyle.gSensor" comp="comp"></comp-setting-g-sensor><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.scratch && !imgScratch"><label>涂抹特效 <a class="hint--top hint--rounded hint--panel" data-hint="该功能开启后，预览者需手动涂抹图片才能看到图片全貌"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.scratch ? \'switch-open\' : \'switch-close\'" ng-click="changeScratch()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><label>变量组件 <a class="hint--top hint--rounded hint--panel" data-hint="1、该功能开启后，需与表单-上传附件组件项相关联;2、预览时，该图片位置显示的预览者上传的图片内容"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="prop.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp && prop.var.isUsed"><label>关联页面</label><div class="var-page clearfix"><select class="input152" ng-model="prop.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(prop.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variableImg && !styleVariableComp &&prop.var.isUsed && prop.var.page"><label>输入框</label><div class="var-page clearfix"><select class="input152" ng-model="prop.var.comp" ng-options="upload.id as upload.name for upload in uploadList"><option value="">选择页面上传附件</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variableText &&\r\n                !styleVariableComp &&\r\n                compJson.properties.var.isUsed &&\r\n                compJson.properties.var.page"><label>输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.replace && isBulkCopy"><label>替换属性 <a class="hint--top hint--rounded hint--panel" data-hint="该功能开启后，可在场景服务中使用批量生成场景功能"><span class="eqf-why-f"></span></a></label><div class="fr switch" style="margin-top: 8px" ng-class="compJson.properties.isReplace ? \'switch-open\' : \'switch-close\'" ng-click="isReplace()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.required"><label>设为必填</label><div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.lock && !styleFixedComp"><label style="width: 180px">固定当前组件位置(长页面)</label><div class="fr switch" ng-if="pageProp.longPage" style="margin-top: 8px" ng-click="compProp.lock = !compProp.lock;" ng-class="compProp.lock ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div><div class="fr switch" ng-if="!pageProp.longPage" style="margin-top: 8px" ng-class="compProp.lock ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.compName", []).directive("compName", n(1407)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1409), scope: {comp: "="}, controller: ["$scope", function (e) {
                "ngInject";
                e.tipArr = {
                    201: ["注：1、在微信中浏览包含该功能的场景时，同步显示浏览者或分享者的微信昵称。", "2、该功能仅在微信中浏览时有效，非微信环境浏览将显示默认文字（双击可设置默认内容）"],
                    401: ["注：1、在微信中浏览包含该功能的场景时，同步显示浏览者或分享者的微信头像。", "2、该功能仅在微信中浏览时有效，非微信环境浏览将显示默认图片（双击可设置默认内容）"],
                    403: ["注：1、在微信中浏览包含该功能的场景时，点击图片更换内容，再次分享后浏览者就能看到更新后的图片。", "2、该功能仅在微信中浏览时有效，更换后的图片在微信中有效期为三天，超过有效期自动恢复至默认图片；非微信环境浏览将显示默认图片。（双击可设置默认内）"],
                    w01: ["注：1、在微信中浏览包含该功能的场景时，点击播放按钮可收听初始音频，长按“按住说话”可录制声音，再次分享后浏览者就能听到新录制的音频。", "2、该功能仅在微信中浏览时有效，更换后的音频在微信中有效期为三天，超过有效期自动恢复至默认音频；非微信环境浏览将显示默认音频。（双击可设置默认内容）"],
                    w02: ["注：1、在微信中浏览包含该功能的场景时，点击播放按钮可收听初始音频，长按“按住说话”可录制声音，再次分享后浏览者就能听到新录制的音频。", "2、该功能仅在微信中浏览时有效，更换后的音频在微信中有效期为三天，超过有效期自动恢复至默认音频；非微信环境浏览将显示默认音频。（双击可设置默认内容）"]
                }
            }]
        }
    }

    n(1408), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label style="width: 64px">组件名称</label><a ng-if="tipArr[comp.type]" class="comp-name-tip-box"><em class="eqf-why-f"></em><div class="comp-name-tip"><p>{{tipArr[comp.type][0]}}</p><p>{{tipArr[comp.type][1]}}</p></div></a><div class="clearfix"><input ng-disabled="prop.isUsed" placeholder="{{::comp.compJson.name}}" ng-model="comp.compJson.name" class="input228" type="text" maxlength="12"/><word-count words="comp.compJson.name" class="word-count-pos"></word-count></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.fixComp", []).directive("fixComp", n(1411)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1412), controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                e.styleFixedComp = t.permission("styleFixedComp"), e.compProp = e.comp.compJson.properties
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-if="ability.advanceStyle.lock && !styleFixedComp"><label style="width: 180px">固定当前组件位置(长页面)</label><div class="fr switch" ng-if="pageProp.longPage" style="margin-top: 8px" ng-click="compProp.lock = !compProp.lock;" ng-class="compProp.lock ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div><div class="fr switch" ng-if="!pageProp.longPage" style="margin-top: 8px" ng-class="compProp.lock ? \'switch-open\' : \'switch-close\'"><div class="circle-con"><i class="circle"></i></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.commonSetting.buttonStyle", []).directive("compSettingButtonStyle", function () {
        "ngInject";
        return {
            restrict: "E",
            template: n(1414),
            controller: ["$scope", "imageModalFactory", "sceneService", "$rootScope", "HOST", function (e, t, n, i, o) {
                var r = e.compJson = e.comp.compJson, a = n.getCurrentPage();
                e.HOST = o, e.tab = "", r.properties.styleImgSrc ? e.tab = "custom" : e.tab = "default", e.setBtn = function (t) {
                    if (e.tab = t, "default" === t) {
                        e.compJson.properties.styleImgSrc = "";
                        var n = {
                            width: 200,
                            height: 40,
                            backgroundColor: "rgb(244, 113, 31)",
                            color: "#fff",
                            textAlign: "center"
                        };
                        Object.assign(r.css, n);
                        var o = a.updateEqxComp(r.id, r);
                        o && (a.renderEqxComp(o), i.$broadcast("wsComp.add", o))
                    }
                }, e.openImageModal = function () {
                    t.getSquareImage().then(function (e) {
                        Object.assign(r.css, {
                            width: "115px",
                            height: "115px",
                            "line-height": "1",
                            backgroundColor: ""
                        }, !0), r.properties.styleImgSrc = e;
                        var t = a.updateEqxComp(r.id, r);
                        t && (a.renderEqxComp(t), i.$broadcast("wsComp.add", t))
                    })
                }, e.updateBtnTitle = function () {
                    e.comp.updateCompTitle(r.properties.title)
                }
            }]
        }
    }).name
}, function (e, t) {
    e.exports = '<div><div class="style_list_angel sound-pro-style clearfix"><label>按钮样式</label><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a> <a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel sound-pro-style clearfix"><label>按钮名称</label><div class="clearfix" style="position: relative;float:right"><input class="input228" type="text" ng-model="compJson.properties.title" maxlength="12" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" class="word-count-pos"></word-count></div></div></div><div class="style_list_angel clearfix add-change-img-btn" ng-if="tab === \'custom\'"><div class="change-img" ng-click="openImageModal()"><div ng-if="!compJson.properties.styleImgSrc"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="compJson.properties.styleImgSrc"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.image.cut", []).directive("imgCutPreview", n(1416)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            replace: !0,
            scope: {comp: "="},
            template: n(1418),
            controller: ["$rootScope", "$scope", "imageModalFactory", "imageEditService", "sceneService", "shapeModalFactory", function (e, t, n, i, r, a) {
                "ngInject";
                console.log(t.comp);
                var s = t.comp, c = s.compJson.properties.src;
                t.vm = {src: "url(" + (o + c) + ")"};
                t.edit = function () {
                    4 == s.type ? n.getImage().then(function (t) {
                        console.log(t);
                        var n = t.src || t.path, i = s.editImage({src: n, originSrc: n, cropSize: void 0}, t.shape);
                        i && e.$broadcast("wsComp.add", i)
                    }) : "h" == s.type && a.getShapeJson(s.compJson).then(function (t) {
                        var n = r.getCurrentPage(), i = n.updateEqxComp(s.compJson.id, t);
                        i && (i.rendered = !1, n.renderEqxComp(i), e.$broadcast("wsComp.add", i))
                    })
                }, t.crop = function () {
                    i._crop(s.compJson).then(function (t) {
                        var n = r.getCurrentPage(), i = n.updateEqxComp(s.compJson.id, t);
                        i.editImage(t.properties), e.$broadcast("wsComp.add", i)
                    })["catch"](function (e) {
                        console.log(e)
                    })
                }
            }]
        }
    }

    n(1417);
    var o = n(985).FILE;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="img-cut-preview clearfix"><div class="image-preview" ng-style="{backgroundImage: vm.src}"></div><div class="image-btn"><div class="change-img" ng-click="edit()"><em class="eqf-refresh-ccw"></em> 更换{{comp.type !== \'h\' ? \'图片\' : \'形状\'}}</div><div class="clip-img" ng-click="crop()" ng-if="comp.type != \'h\'"><em class="eqf-cutpic"></em> 裁切图片</div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.funTemplate", []).directive("funTemplate", n(1420)).name
}, function (e, t, n) {
    "use strict";
    n(1421), e.exports = function () {
        return {
            restrict: "EA", template: n(1422), controller: ["$scope", function (e) {
                "ngInject";
                e.toggleProp = function (e, t) {
                    e.ft.toggleProp(t)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="template"><div class="fun-title" ng-click="setTab(TAB.funTemplate)"><span>功能模板</span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': vm.tab !== TAB.funTemplate}"></span></div><div class="fun-list" ng-if="vm.tab == TAB.funTemplate"><ul><li ng-repeat="prop in comp.ft.props track by $index" ng-show="prop.show"><input type="checkbox" ng-model="prop.select" ng-click="toggleProp(comp, prop)"> {{prop.name}}</li></ul></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("compSetting.date", []).directive("compSettingDate", n(1424)).name;
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1426), controller: o}
    }

    function o(e, t, n) {
        "ngInject";

        function i() {
            var e = r.content,
                t = e.replace("年", "-").replace("月", "-").replace("日", "").replace(/\./g, "-").replace(/\//g, "-");
            t.endsWith("-") && (t = t.substring(0, t.length - 1));
            var n = t;
            if (t = t.toLowerCase(), "+zddd" != t) {
                t = t.split("");
                for (var i = 0; i < t.length; i++) "z" == t[i] && (t[i] = t[i + 1]);
                t = t.join("")
            }
            "+yy" != t && "+zyyy" != t || (t = "+yyyy"), "+zm" != t && "+mmm" != t && "+mmmm" != t || (t = "+mm"), "+zd" == t && (t = "+dd"), "+dddd" == t && (t = "+zddd"), l.format = t, l["class"] = n, l.style = e
        }

        var o = e.comp, r = e.compJson = o.compJson, a = e.prop = r.properties, s = o.eqxScene.sceneJson, c = null,
            l = e.vm = {};
        i();
        var p = {
            "+dd": {"class": [{name: "数字", value: "+dd"}, {name: "汉字", value: "+zd"}], style: {}},
            "+mm": {
                "class": [{name: "数字", value: "+mm"}, {name: "汉字", value: "+zm"}, {
                    name: "英文小写",
                    value: "+mmmm"
                }, {name: "英文大写", value: "+MMMM"}, {name: "首字母大写", value: "+Mmmm"}, {
                    name: "英文小写简称",
                    value: "+mmm"
                }, {name: "英文大写简称", value: "+MMM"}, {name: "首字母大写简称", value: "+Mmm"}], style: {}
            },
            "+yyyy": {
                "class": [{name: "数字", value: "+yyyy"}, {name: "汉字", value: "+zyyy"}, {
                    name: "数字后两位",
                    value: "+yy"
                }], style: {}
            },
            "+zddd": {
                "class": [{name: "汉字", value: "+zddd"}, {name: "英文大写", value: "+DDDD"}, {
                    name: "英文小写",
                    value: "+dddd"
                }, {name: "首字母大写全称", value: "+Dddd"}], style: {}
            },
            "+mm-+dd": {
                "class": [{name: "数字", value: "+mm-+dd"}, {name: "汉字", value: "+zm-+zd"}],
                style: {
                    "+mm-+dd": [{name: "'-'分割", value: "+mm-+dd"}, {
                        name: "'/'分割",
                        value: "+mm/+dd"
                    }, {name: "'.'分割", value: "+mm.+dd"}, {name: "'年'、'月'、'日'分割", value: "+mm月+dd日"}],
                    "+zm-+zd": [{name: "'-'分割", value: "+zm-+zd"}, {name: "'/'分割", value: "+zm/+zd"}, {
                        name: "'.'分割",
                        value: "+zm.+zd"
                    }, {name: "'年'、'月'、'日'分割", value: "+zm月+zd日"}]
                }
            },
            "+yyyy-+mm": {
                "class": [{name: "数字", value: "+yyyy-+mm"}, {name: "汉字", value: "+zyyy-+zm"}],
                style: {
                    "+yyyy-+mm": [{name: "'-'分割", value: "+yyyy-+mm"}, {
                        name: "'/'分割",
                        value: "+yyyy/+mm"
                    }, {name: "'.'分割", value: "+yyyy.+mm"}, {name: "'年'、'月'、'日'分割", value: "+yyyy年+mm月"}],
                    "+zyyy-+zm": [{name: "'-'分割", value: "+zyyy-+zm"}, {
                        name: "'/'分割",
                        value: "+zyyy/+zm"
                    }, {name: "'.'分割", value: "+zyyy.+zm"}, {name: "'年'、'月'、'日'分割", value: "+zyyy年+zm月"}]
                }
            },
            "+yyyy-+mm-+dd": {
                "class": [{name: "数字", value: "+yyyy-+mm-+dd"}, {name: "汉字", value: "+zyyy-+zm-+zd"}],
                style: {
                    "+yyyy-+mm-+dd": [{name: "'-'分割", value: "+yyyy-+mm-+dd"}, {
                        name: "'/'分割",
                        value: "+yyyy/+mm/+dd"
                    }, {name: "'.'分割", value: "+yyyy.+mm.+dd"}, {name: "'年'、'月'、'日'分割", value: "+yyyy年+mm月+dd日"}],
                    "+zyyy-+zm-+zd": [{name: "'-'分割", value: "+zyyy-+zm-+zd"}, {
                        name: "'/'分割",
                        value: "+zyyy/+zm/+zd"
                    }, {name: "'.'分割", value: "+zyyy.+zm.+zd"}, {name: "'年'、'月'、'日'分割", value: "+zyyy年+zm月+zd日"}]
                }
            },
            "+cy": {"class": [], style: {}},
            "+cm": {"class": [], style: {}},
            "+cd": {"class": [], style: {}}
        };
        e.classList = p[l.format]["class"] || [], e.styleList = p[l.format].style[l["class"]] || [], e.formatList = [{
            name: "日",
            value: "+dd"
        }, {name: "月", value: "+mm"}, {name: "年", value: "+yyyy"}, {name: "星期", value: "+zddd"}, {
            name: "月-日",
            value: "+mm-+dd"
        }, {name: "年-月", value: "+yyyy-+mm"}, {name: "年-月-日", value: "+yyyy-+mm-+dd"}, {
            name: "阴历年",
            value: "+cy"
        }, {name: "阴历月", value: "+cm"}, {name: "阴历日", value: "+cd"}], e.changeFormat = function () {
            return e.classList = p[l.format]["class"] || [], 0 == e.classList.length ? (e.styleList = [], r.content = l.format, void o.updateContent()) : (l["class"] = e.classList[0].value, e.styleList = p[e.vm.format].style[l["class"]] || [], 0 == e.styleList.length ? (r.content = l["class"], void o.updateContent()) : (l.style = e.styleList[0].value, r.content = l.style, void o.updateContent()))
        }, e.changeClass = function () {
            return e.styleList = p[l.format].style[l["class"]] || [], 0 == e.styleList.length ? (r.content = l["class"], void o.updateContent()) : (l.style = e.styleList[0].value, r.content = l.style, void o.updateContent())
        }, e.changeStyle = function () {
            r.content = l.style, o.updateContent()
        }, e.vm.content = r.content.replace(/<br>/g, "\n"), e.vm.content || o.updateContent("请输入文本"), e.textareaKeyUp = function (t) {
            e.vm.content ? (r.content = e.vm.content.replace(/(\n|\r)/g, "<br>"), o.updateContent(r.content), o.autoAdjustSize(8 === t.keyCode ? 0 : 1)) : (r.content = "", o.updateContent("请输入文本"), o.autoAdjustSize(8 === t.keyCode ? 0 : 1))
        }, a["var"] = a["var"] || {}, a["var"].isUsed = a["var"].isUsed || !1, a["var"].page = a["var"].page || "", a["var"].comp = a["var"].comp || "", a.adjustWHMode = !!a.adjustWHMode, a.adjustFSMode = !!a.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = s.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), a["var"].page && (c = s.list.find(function (e) {
            return e.id === a["var"].page
        }), e.inputList = c.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            a.adjustWHMode = !1, a.adjustFSMode = !1, "1" === e ? a.adjustWHMode = !0 : "2" === e && (a.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            a["var"].page = "", a["var"].isUsed = !a["var"].isUsed
        }, e.selectVarPage = function (t) {
            a["var"].comp = "", t && (c = s.list.find(function (e) {
                return e.id === t
            }), c && (e.inputList = c.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "$timeout"], n(1425), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-date-box"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix" ng-if="formatList.length > 0"><label>类型</label><div class="clearfix"><select class="input152" ng-model="vm.format" ng-options="date.value as date.name for date in formatList" ng-change="changeFormat()"></select></div></div><div class="style_list_angel clearfix" ng-if="classList.length > 0"><label>形式</label><div class="clearfix"><select class="input152" ng-model="vm.class" ng-options="date.value as date.name for date in classList" ng-change="changeClass()"></select></div></div><div class="style_list_angel clearfix" ng-if="styleList.length > 0"><label>格式</label><div class="clearfix"><select class="input152" ng-model="vm.style" ng-options="date.value as date.name for date in styleList" ng-change="changeStyle()"></select></div></div><comp-setting-font></comp-setting-font><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><comp-setting-link11 ng-if="comp.$ability.link" comp-json="comp.compJson"></comp-setting-link11><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.pipButton", []).directive("compSettingPipButton", n(1428)).name
}, function (e, t, n) {
    "use strict";
    n(1429);
    var i = n(1430), o = n(1431);
    e.exports = function () {
        return {
            restrict: "E",
            template: n(1432),
            $scope: !1,
            controller: ["$scope", "authorityService", "imageModalFactory", "HOST", function (e, t, n, r) {
                "ngInject";
                var a = e.comp, s = a.compJson, c = e.properties = s.properties;
                e.updateButtonImage = function (e) {
                    n.getImage().then(function (t) {
                        c[e] = t.src || t.path, a.updateButtonImage(e)
                    })
                }, e.amendImageSrc = function (e) {
                    return /(localhost)|(\w+.com)|(\w+.cn)|(\w+.cc)/.test(e) ? e : "" + (r.FILE + e)
                }, e.updateDefaultButton = function () {
                    c.forward = i, c.back = o, ["forward", "back"].forEach(function (e) {
                        a.updateButtonImage(e)
                    })
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t, n) {
    e.exports = n.p + "images/forward-814846.png"
}, function (e, t, n) {
    e.exports = n.p + "images/back-19cb63.png"
}, function (e, t) {
    e.exports = '<div class="pip-setting-container"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix sound-pro-style"><label>按钮样式</label><a class="default-btn" ng-class="{\'active\': !properties.style}" ng-click="properties.style = 0;updateDefaultButton()">默认 </a><a class="custom-btn" ng-class="{\'active\': properties.style}" ng-click="properties.style = 1;">自定义</a></div><div ng-if="properties.style" class="style_list_angel clearfix" style="margin-bottom: 0"><label>长按按钮</label></div><div ng-if="properties.style" class="style_list_angel add-change-img-btn clearfix"><div class="change-img" ng-click="updateButtonImage(\'forward\')"><div ng-if="!properties.forward"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="properties.forward"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><div ng-if="properties.style" class="style_list_angel clearfix" style="margin-bottom: 0"><label>回放按钮</label></div><div ng-if="properties.style" class="style_list_angel add-change-img-btn clearfix"><div class="change-img" ng-click="updateButtonImage(\'back\')"><div ng-if="!properties.back"><i class="eqf-plus"></i> <span>添加图片</span></div><div ng-if="properties.back"><i class="eqf-refresh-cw"></i> <span>更换图片</span></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.uploadImag", []).directive("compSettingUpLoadImage", n(1434)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1435), controller: ["$scope", function (e) {
                "ngInject";
                console.log(e);
                var t = e.comp;
                e.updateTitle = function () {
                    t.updateTitle(t.compJson.properties.title)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="time-setting-style"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>标题</label><div class="clearfix"><input ng-disabled="prop.isUsed" ng-model="comp.compJson.properties.title" class="input228" type="text" ng-change="updateTitle()" maxlength="12"/><word-count words="comp.compJson.properties.title" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.weChatCard", []).directive("compSettingWeChatCard", n(1437)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1438), controller: o}
    }

    function o(e) {
        "ngInject";
        var t = e.comp, n = e.compJson = t.compJson, i = e.prop = n.properties, o = e.vm;
        o.chance = 100 * i.chance, o.pluginLoaded = !1, o.amount = i.amount, o.count = i.count
    }

    o.$inject = ["$scope"], e.exports = i
}, function (e, t) {
    e.exports = '<div><comp-name comp="comp"></comp-name><comp-setting-button-style comp-json="compJson"></comp-setting-button-style><div class="clearfix"><div class="style_list_angel clearfix"><label>卡券ID</label><div class="clearfix"><input class="input228" type="text" ng-model="compJson.properties.cardId" maxlength="50"/></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.marketing", []).directive("compSettingMarketing", n(1440)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1442), controller: o}
    }

    function o(e, t, n, i) {
        "ngInject";
        var o = t.comp, r = o.compJson;
        t.editMarketingComp = function () {
            n.openPrompt(r).then(function (t) {
                var n = i.getCurrentPage(), o = n.updateEqxComp(r.id, t);
                o && (o.rendered = !1, n.renderEqxComp(o), e.$broadcast("wsComp.add", o))
            })
        }
    }

    o.$inject = ["$rootScope", "$scope", "marketingModalFactory", "sceneService"], n(1441), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-marketing"><a class="btn edit-btn" ng-show="comp.type == 18" ng-click="editMarketingComp()">抽奖设置</a> <a class="btn edit-btn" ng-show="comp.type == 19" ng-click="editMarketingComp()">砸金蛋设置</a></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            scope: {comp: "=eqxComp", confirm: "&"},
            template: n(1446),
            controller: ["$scope", "$rootScope", "authorityService", "storageService", function (e, t, n, i) {
                "ngInject";

                function r() {
                    0 === s.lineHeight || (s.lineHeight = s.lineHeight || 1)
                }

                e.styleFillSampleCompSetting = n.assignDesignerAuthority("fillSampleCompSetting"), e.styleLineHeight = n.permission("styleLineHeight"), e.styleBackground = n.permission("styleBackground"), e.themeSkin = i.getItem("themeSkin") || "white", e.functionEditor = n.functionEditor(), ["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.comp.compJson.type) > -1 && (e.styleBackground = !1), e.styleTextStyle = n.permission("styleTextStyle"), e.styleButtonStyle = n.permission("styleButtonStyle"), e.styleSubmitStyle = n.permission("styleSubmitStyle"), e.styleInputStyle = n.permission("styleInputStyle"), e.compFontSetting = n.permission("compFontSetting"), e.isSupportMask = o("WebkitMaskBoxImage"), e.styleRadio = n.permission("styleRadio"), e.styleCounterScoreAttr = n.permission("styleCounterScoreAttr"), e.styleBase = n.permission("styleBase"), e.styleBorder = n.permission("styleBorder"), e.styleBoxShadow = n.permission("styleBoxShadow"), e.styleComp = n.permission("styleComp"), e.styleCommon = n.permission("styleCommon"), e.styleAdvance = n.permission("styleAdvance"), e.styleImgShape = n.allow("styleImgShape");
                var a = e.comp, s = e.css = a.compJson.css;
                e.compProp = a.compJson.properties, e.ability = (a.$ability || {}).style;
                var c = a.eqxPage, l = 0;
                e.pageProp = c.pageJson.properties;
                var p = e.TAB = {borderStyle: 1, shadowStyle: 2, sizePosStyle: 3, fillCompStyle: 4, funTemplate: 5},
                    u = e.vm = {tab: l};
                r(), e.setTab = function (e) {
                    l = u.tab = u.tab === e ? p.none : e
                }, e.$watch("css.color", function (e, t) {
                    e != t && a.update$boxDiv({color: e})
                }), e.$watch("css.backgroundColor", function (e, t) {
                    e !== t && ("c" === a.type || "r" === a.type ? a.update$boxDiv({
                        borderColor: e,
                        backgroundColor: e
                    }) : a.update$boxDiv({backgroundColor: e}))
                }), e.$watch("css.lineHeight", function (e, t) {
                    e !== t && a.update$boxDiv({lineHeight: e})
                }), e.clear = function () {
                    a.resetStyle(), e.vm.opacity = 100 - 100 * s.opacity
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1444), n(1445);
    var o = n(208).isSupportStyle;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div eqd-scroll class="comp-setting-contain" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div><comp-own-setting></comp-own-setting><style-border ng-if="ability.advanceStyle.border"></style-border><style-shadow ng-if="ability.advanceStyle.shadow"></style-shadow><style-size-pos ng-if="ability.advanceStyle.sizePos"></style-size-pos><fill-comp-style ng-if="styleFillSampleCompSetting"></fill-comp-style><fun-template ng-if="functionEditor"></fun-template></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1448),
            controller: ["$scope", "$rootScope", "sceneService", "authorityService", function (e, t, n, i) {
                "ngInject";
                var o = e.comp, r = e.css = e.comp.compJson.css, a = e.vm;
                a.maxBorderRadius = Math.min(parseInt(r.width), parseInt(r.height)) / 2, e.styleBoxBorderStyle = i.permission("styleBoxBorderStyle"), e.styleBoxBorderRadian = i.permission("styleBoxBorderRadian"), e.stylePaddingTop = i.permission("stylePaddingTop"), e.$watch("css.borderStyle", function (e, t) {
                    e !== t && o.update$boxDiv({borderStyle: e})
                }), e.$watch("css.borderColor", function (e, t) {
                    e !== t && o.update$boxDiv({borderColor: e})
                }), e.$watch("css.borderWidth", function (e, n) {
                    e !== n && ("4" == o.type && o.updateSize(r, {borderWidth: e}), o.update$boxDiv({borderWidth: e}), t.$broadcast("ftManager.updateEditProps"))
                }), e.$watch("css.borderRadius", function (e, t) {
                    e !== t && o.update$boxDiv({
                        borderRadius: e,
                        borderTopLeftRadius: e,
                        borderTopRightRadius: e,
                        borderBottomRightRadius: e,
                        borderBottomLeftRadius: e
                    })
                }), e.$watch("css.paddingTop", function (e, t) {
                    e !== t && o.update$boxDiv({paddingTop: e})
                })
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="comp-setting-title" ng-click="setTab(TAB.borderStyle)" ng-class="{\'expand-border-bottom\': vm.tab === TAB.borderStyle}"><span class="cat-title">边框</span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': vm.tab !== TAB.borderStyle}"></span></div><div ng-if="vm.tab == TAB.borderStyle" class="style_con_hei"><div ng-if="ability.advanceStyle.borderStyle && !styleBoxBorderStyle" class="style_list_angel clearfix"><label>边框样式</label><div class="clearfix border-style"><select ng-model="css.borderStyle" class="input152"><option value="none">----无-----</option><option value="solid">直线</option><option value="dashed">破折线</option><option value="dotted">点状线</option><option value="double">双划线</option><option value="groove">3D凹槽</option><option value="ridge">3D垄状</option><option value="inset">3D内嵌</option><option value="outset">3D外嵌</option></select></div></div><div ng-if="ability.advanceStyle.borderColor" class="style_list_angel clearfix"><label>边框颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div ng-if="ability.advanceStyle.borderWidth" class="style_list_angel clearfix"><label>边框尺寸</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.borderWidth" min="0" max="20" type="n"></div><input class="input64 fr" type="number" ng-model="css.borderWidth" min="0" max="20" limit-input/></div></div><div ng-if="ability.advanceStyle.borderRadius && !styleBoxBorderRadian" class="style_list_angel clearfix"><label>边框弧度</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.borderRadius" min="0" max="{{vm.maxBorderRadius}}" type="n"></div><input class="input64 fr" type="number" ng-model="css.borderRadius" min="0" max="{{vm.maxBorderRadius}}" limit-input/></div></div><div ng-if="ability.advanceStyle.paddingTop && !stylePaddingTop" class="style_list_angel clearfix"><label>边距</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.paddingTop" min="0" max="20" type="n"></div><input class="input64 fr" type="number" ng-model="css.paddingTop" min="0" max="20" limit-input/></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1450), controller: ["$scope", "$rootScope", function (e, t) {
                "ngInject";
                var n = e.comp, i = e.css = e.comp.compJson.css, r = e.vm;
                r.opacity = 100 - 100 * i.opacity, e.boxShadow = o.parseBoxShadow(i.boxShadow, i.boxShadowSize, i.boxShadowDirection), e.$watch("boxShadow", function (e, i) {
                    if (e !== i) {
                        var r = o.getBoxShadowStr(e), a = e.direction, s = e.size;
                        n.update$boxDiv({boxShadow: r}), n.updateCss({
                            boxShadowDirection: a,
                            boxShadowSize: s
                        }), t.$broadcast("ftManager.updateEditProps")
                    }
                }, !0)
            }]
        }
    }

    var o = n(525);
    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="comp-setting-title" ng-click="setTab(TAB.shadowStyle)" ng-class="{\'expand-border-bottom\': vm.tab === TAB.shadowStyle}"><span class="cat-title">阴影</span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': vm.tab !== TAB.shadowStyle}"></span></div><div ng-if="vm.tab == TAB.shadowStyle" class="style_con_hei"><div ng-if="ability.advanceStyle.boxShadowColor" class="style_list_angel clearfix"><label>阴影颜色</label><div class="clearfix color_select"><eqd-input-color2 select-color="boxShadow.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div ng-if="ability.advanceStyle.boxShadowSize" class="style_list_angel clearfix"><label>阴影大小</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.size" min="0" max="20" type="n"></div><input class="input64 fr" type="number" ng-model="boxShadow.size" min="0" max="20" limit-input/></div></div><div ng-if="ability.advanceStyle.boxShadowDirection" class="style_list_angel clearfix"><label>阴影方向</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.direction" min="0" max="359" type="n"></div><input class="input64 fr" type="number" ng-model="boxShadow.direction" min="0" max="359" limit-input/></div></div><div ng-if="ability.advanceStyle.boxShadowBlur" class="style_list_angel clearfix"><label>阴影模糊</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.blur" min="0" max="20" type="n"></div><input class="input64 fr" type="number" ng-model="boxShadow.blur" min="0" max="20" limit-input/></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1452),
            controller: ["$scope", "$rootScope", "sceneService", "authorityService", "$timeout", function (e, t, n, i, a) {
                "ngInject";

                function s(e) {
                    var t = o.parseTransform(e || "");
                    return r(t.rotate) || 0
                }

                var c = e.comp, l = e.css = e.comp.compJson.css, p = e.vm;
                p.rotate = s(l.transform), p.opacity = 100 - 100 * l.opacity, e.styleOpacity = i.permission("styleOpacity"), e.updatePosition = function (e) {
                    c.eqxPage.alignItem(c, e)
                }, e.updateIndex = function (e) {
                    var i = n.getCurrentPage();
                    i.updateCompZIndex(c, e), t.$broadcast("contextMenu.zIndex", e, c)
                }, e.$watch("vm.rotate", function (e, n) {
                    if (e !== n) {
                        var i = o.parseTransform(l.transform);
                        i.rotate = e, l.transform = o.getTransformStr(i), c.update$li({transform: l.transform}), c.autoSize(), t.$broadcast("compSetting.rotate", c)
                    }
                }), e.$on("item.rotate.end", function (e, t) {
                    t === c && (p.rotate = t.getRotate())
                }), e.$on("compRotate.move", function (t, n, i) {
                    e.$apply(function () {
                        p.rotate = s(i)
                    })
                }), e.$watch("vm.opacity", function (e, t) {
                    e !== t && c.update$li({opacity: (100 - e) / 100})
                }), e.$watch("css.width", function (t, n) {
                    !t && 0 != t || t === n ? t || a(function () {
                        e.css.width = e.css.width || n, p.maxBorderRadius = Math.min(parseInt(l.width), parseInt(l.height)) / 2
                    }, 750) : (c.update$li({width: parseInt(t)}), c.updateSize({
                        width: parseInt(n),
                        height: parseInt(l.height)
                    }, {
                        width: parseInt(t),
                        height: parseInt(l.height)
                    }), p.maxBorderRadius = Math.min(parseInt(l.width), parseInt(l.height)) / 2)
                }), e.$watch("css.height", function (t, n) {
                    !t && 0 != t || t === n ? t || a(function () {
                        e.css.height = e.css.height || n, p.maxBorderRadius = Math.min(parseInt(l.width), parseInt(l.height)) / 2
                    }, 750) : (c.update$li({height: parseInt(t)}), c.updateSize({
                        width: parseInt(l.width),
                        height: parseInt(n)
                    }, {
                        width: parseInt(l.width),
                        height: parseInt(t)
                    }), p.maxBorderRadius = Math.min(parseInt(l.width), parseInt(l.height)) / 2)
                }), e.addNumber = function (e) {
                    38 === e.keyCode && (console.log(e), e.target.value = (window.parseInt(e.target.value) + 1).toString()), 40 === e.keyCode && (e.target.value = window.parseInt(e.target.value) - 1)
                }, e.$watch("css.left", function (t, n) {
                    !t && 0 != t || t === n ? t || a(function () {
                        e.css.left = e.css.left || n
                    }, 750) : c.findTopGroup().autoSizeTopDown()
                }), e.$watch("css.top", function (t, n) {
                    !t && 0 != t || t === n ? t || a(function () {
                        e.css.top = e.css.top || n
                    }, 750) : c.findTopGroup().autoSizeTopDown()
                })
            }]
        }
    }

    var o = n(520), r = n(249).toInt;
    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="comp-setting-title" ng-click="setTab(TAB.sizePosStyle)" ng-class="{\'expand-border-bottom\': vm.tab === TAB.sizePosStyle}"><span class="cat-title">尺寸与位置</span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': vm.tab !== TAB.sizePosStyle}"></span></div><div ng-if="vm.tab == TAB.sizePosStyle" class="style_con_hei"><div ng-if="ability.commonStyle.align" class="style_list_angel clearfix style_list_angel_align" style="height: 36px"><div class="clearfix"><ul class="pos-list"><li><a class="hint--bottom hint--rounded" data-hint="上对齐" ng-click="updatePosition(\'上对齐\')"><span class="eqf-puttop"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="垂直居中对齐" ng-click="updatePosition(\'垂直居中对齐\')"><span class="eqf-putcenter"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="下对齐" ng-click="updatePosition(\'下对齐\')"><span class="eqf-putunder"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="左对齐" ng-click="updatePosition(\'左对齐\')"><span class="eqf-putleft"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="水平居中对齐" ng-click="updatePosition(\'水平居中对齐\')"><span class="eqf-putmiddle"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="右对齐" ng-click="updatePosition(\'右对齐\')"><span class="eqf-putright"></span></a></li></ul></div></div><div ng-if="false" class="style_list_angel clearfix style_list_angel_index"><div class="clearfix"><ul class="pos-list"><li><a title="置顶" ng-click="updateIndex(\'++\')"><span class="eqf-ontop up-all"></span></a></li><li><a title="上移一层" ng-click="updateIndex(\'+1\')"><span class="eqf-putup up"></span></a></li><li><a title="下移一层" ng-click="updateIndex(\'-1\')"><span class="eqf-putdown down"></span></a></li><li><a title="置底" ng-click="updateIndex(\'--\')"><span class="eqf-onground down-all"></span></a></li></ul></div></div><div ng-if="ability.commonStyle.size" class="style_list_angel clearfix style_list_angel_size"><label>尺寸</label><div class="clearfix size-list"><div class="style_list_angel_size-item"><span class="">宽</span> <input type="number" min="0" max="2000" class="size-item-input" limit-input ng-model="css.width"/></div><div class="style_list_angel_size-item fr"><span>高</span> <input type="number" min="0" max="10000" class="size-item-input" limit-input ng-model="css.height"/></div></div></div><div ng-if="ability.commonStyle.position" class="style_list_angel clearfix style_list_angel_position style_list_angel_size"><label>位置</label><div class="clearfix size-list" style="position: relative"><div class="style_list_angel_size-item"><span class="">X</span> <input type="number" min="-1000" max="1000" class="size-item-input" limit-input ng-model="css.left"/></div><div class="style_list_angel_size-item fr"><span class="style_list_angel_size-item">Y</span> <input type="number" min="-1000" max="5000" class="size-item-input" limit-input ng-model="css.top"/></div></div></div><div ng-if="ability.commonStyle.rotate && !styleBoxBorderRotate" class="style_list_angel clearfix"><label>旋转</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.rotate" min="0" max="359" type="n"></div><input class="fr input64" type="number" ng-model="vm.rotate" min="0" max="359" limit-input/></div></div><div ng-if="ability.commonStyle.opacity && !styleOpacity" class="style_list_angel clearfix"><label>透明度</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.opacity" min="0" max="100" type="n"></div><input class="input64 fr" type="number" ng-model="vm.opacity" min="0" max="100" limit-input/></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1454),
            controller: ["$scope", "sceneService", "$timeout", "$rootScope", function (e, t, n, i) {
                "ngInject";

                function o() {
                    var e = c.updateEqxComp(a.id, a);
                    e && (e.rendered = !1, c.renderEqxComp(e), i.$broadcast("wsComp.add", e))
                }

                var r = e.comp, a = r.compJson, s = e.prop = a.properties, c = t.getCurrentPage();
                e.styles = r.getStyles(), s.mode = s.mode || "0", s.auto = void 0 === s.auto || !!s.auto, s.editable = void 0 === s.editable || !!s.editable, e.boardsModel = {
                    style: r.getProp("style"),
                    meslabel: r.getProp("meslabel"),
                    morelabel: r.getProp("morelabel")
                }, e.switchEditable = function () {
                    s.editable = !s.editable, o()
                }, e.switchAutoMode = function () {
                    s.auto = !s.auto, o()
                }, e.changeStyle = function (e) {
                    r.getProp("style") !== e && (r.setProp("style", e), o())
                }, e.changeMesLabel = function (e) {
                    r.getProp("meslabel") !== e && r.setProp("meslabel", e)
                }, e.changeMoreLabel = function (e) {
                    r.getProp("morelabel") !== e && r.setProp("morelabel", e)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>配色风格</label><div class="color_select clearfix"><select class="fr input152" ng-model="boardsModel.style" ng-change="changeStyle(boardsModel.style)" ng-options="style.value as style.name for style in styles"></select></div></div><div class="style_list_angel clearfix" ng-if="prop.style !== \'barrage\'"><label>留言提示</label><div class="color_select clearfix"><input class="input228" ng-model="boardsModel.meslabel" ng-change="changeMesLabel(boardsModel.meslabel)" maxlength="10" type="text"/><word-count words="boardsModel.meslabel" count="10" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix" ng-if="prop.style !== \'barrage\'"><label style="width: 90px">更多留言提示</label><div class="color_select clearfix"><input class="input228" type="text" maxlength="10" ng-model="boardsModel.morelabel" ng-change="changeMoreLabel(boardsModel.morelabel)"/><word-count words="boardsModel.morelabel" count="10" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix" ng-if="prop.style === \'barrage\'"><label>弹幕样式</label><div style="width: 76px;float: right"><ui-radio name="mode" default-value="0" value="prop.mode"></ui-radio><span style="margin-left:10px">水平</span></div><div style="width: 76px;float: right"><ui-radio name="mode" default-value="1" value="prop.mode"></ui-radio><span style="margin-left:10px">垂直</span></div></div><div class="style_list_angel clearfix" ng-if="prop.style === \'barrage\'"><label>自动播放</label><div class="fl switch" style="margin-top: 8px;float:right" ng-class="prop.auto ? \'switch-open\' : \'switch-close\'" ng-click="switchAutoMode()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="prop.style === \'barrage\'"><label>允许发弹幕</label><div class="fl switch" style="margin-top: 8px;float:right" ng-class="prop.editable ? \'switch-open\' : \'switch-close\'" ng-click="switchEditable()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1457),
            controller: ["$scope", "$rootScope", "selectService", function (e, t, n) {
                "ngInject";

                function i(t) {
                    e.center = t.latLng, e.choosePoi = t, e.markerP = t.latLng, c.address = t.name, o(t), r(e.comp)
                }

                function o(e) {
                    a.properties.address = e.name, a.content = e.name, a.properties.lat = e.latLng.lat, a.properties.lng = e.latLng.lng
                }

                function r(e) {
                    e.updateContent()
                }

                var a = e.compJson = e.comp.compJson, s = a.properties,
                    c = e.vm = {address: s.address, mapBtnType: a.properties.layout || "default"};
                e.zoom = s.zoom || 11, e.center = {
                    lat: s.lat || 39.916534,
                    lng: s.lng || 116.397128
                }, e.markerP = new qq.maps.LatLng(e.center.lat, e.center.lng);
                var l = new qq.maps.SearchService({
                    complete: function (t) {
                        var n = t.detail.pois;
                        e.searchEnd(n)
                    }
                });
                e.searchEnd = function (t) {
                    e.pois = t, t && i(t[0])
                }, e.selectPosition = function (t) {
                    i(t), e.pois = []
                }, e.searchAddress = function (e) {
                    e && (l.setPageIndex(0), l.setPageCapacity(10), l.search(e))
                }, e.change = function (t) {
                    e.zoom = t.zoom, e.bounds = t.bounds, e.center = t.center
                }, e.settingContent = function () {
                    r(e.comp)
                }, e.setPosition = function () {
                    t.$broadcast("wsComp.edit", n.comps[0])
                }, e.setLayout = function (t) {
                    a.properties.layout = t, "customer" === t ? (a.css.height = "40px", a.css.backgroundColor = "rgb(242, 166, 83)", a.css.color = "rgb(0, 0, 0)", a.css.borderRadius = "5px") : (a.css.width = "310px", a.css.height = "300px", a.css.top = "100px", a.css.left = "5px", a.css.backgroundColor = "", a.css.color = "", a.css.borderRadius = ""), e.comp.compJson = a, r(e.comp)
                }
            }]
        }
    }

    n(1456), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<comp-name comp="comp"></comp-name><div class="comp-map-box" ng-disabled="!comp.map"><div class="style_list_angel clearfix map-search"><input type="text" class="input228" ng-model="vm.address" ng-change="searchAddress(vm.address)" placeholder="请输入地名"> <span ng-click="searchAddress(vm.address)" class="eqf-search-l map-search-btn" type="button"></span><div class="map-search-content"><div eqd-scroll style="max-height: 180px"><ul class="map-search-list"><li ng-class="{active:choosePoi.id == poi.id}" class="map-search-item" ng-repeat="poi in pois" ng-click="selectPosition(poi)">{{::poi.name}}</li></ul></div></div></div><div class="style_list_angel clearfix"><div eqd-map class="map-contain" center="center" zoom="zoom" bounds="bounds"><eqd-map-mark position="markerP"></eqd-map-mark></div></div><div class="style_list_angel clearfix"><label>地址名称</label><div class="clearfix"><textarea ng-disabled="prop.isUsed" ng-model="compJson.content" class="input228" type="text" ng-change="settingContent()" style="height: 56px;line-height: 28px" maxlength="50"></textarea><word-count words="compJson.content" count="50" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix"><label>地图样式</label><div class="btn_div"><span class="style-btn default" ng-class="{\'selected\': vm.mapBtnType === \'default\'}" ng-click="vm.mapBtnType = \'default\';setLayout(\'default\')">默认</span> <span class="style-btn customer" ng-class="{\'selected\': vm.mapBtnType === \'customer\'}" ng-click="vm.mapBtnType = \'customer\';setLayout(\'customer\')">按钮</span></div></div><div ng-show="vm.mapBtnType == \'customer\'"><div class="style_list_angel clearfix"><label>按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>文本颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="fl" notify="grid" x="-1" y="-1" w="70" h="36"></eqd-input-color2></div></div></div><div class="comp-function-setting-box"><div class="tab-setting-line">功能设置</div><fix-comp></fix-comp></div></div>';
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1460),
            controller: ["$scope", "$timeout", "modalService", "validCharacterNumFilter", function (e, t, n, i) {
                "ngInject";

                function o() {
                    var t = r.filter(function (e) {
                        return e.selected
                    });
                    e.model.checkChoices = t[0].value, e.model.checkChoices && (e.model.defaultChoice = !0)
                }

                var r = e.comp.compJson.choices.options, a = e.comp;
                e.model = {
                    choices: e.comp.compJson.choices,
                    checkChoices: 0,
                    defaultChoice: !1
                }, e.checkPlaceholder = function (t) {
                    if (r.map(function (e) {
                        e.selected = !1
                    }), t) {
                        e.model.defaultChoice = !0;
                        var n = r.filter(function (e) {
                            return e.value == t
                        });
                        n[0].selected = !0
                    } else r[0].selected = !0, e.model.defaultChoice = !1;
                    a.changeOption()
                }, e.addNewOption = function (t) {
                    e.model.choices.options.length < 50 ? e.model.choices.options.splice(t + 1, 0, {
                        value: r.length + 1,
                        label: "请输入内容",
                        selected: !1
                    }) : n.openMsgDialog({msg: "您可以添加50个选项，每个选项最多请不要超过20字符。"})
                }, e.deleteTheOption = function (t) {
                    e.model.choices.options.length > 1 && n.openConfirmDialog({msg: "您确定要删除内容为“" + e.model.choices.options[t].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"}).then(function () {
                        e.model.choices.options.splice(t, 1)
                    })
                }, e.countCharacters = i, e.clear = function () {
                    e.model.choices = {
                        options: [{value: null, label: "请选择", selected: !0}, {
                            value: 1,
                            label: "请输入内容",
                            selected: !1
                        }, {value: 2, label: "请输入内容", selected: !1}, {value: 3, label: "请输入内容", selected: !1}]
                    }
                }, o(), e.changeEditDropdown = function () {
                    a.changeOption()
                }, e.filterOption = function (e) {
                    return 0 != e.value
                }
            }]
        }
    }

    n(1459), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="styleDropdown"><comp-name comp="comp"></comp-name><div class="style_list_angel clearfix"><label>默认选项</label><div class="clearfix"><select class="input152" ng-change="checkPlaceholder(model.checkChoices)" ng-model="model.checkChoices" ng-options="option.value as option.label for option in model.choices.options | filter: filterOption"><option value="">空</option></select></div></div><div class="style_list_angel clearfix"><label>占位文本</label><div class="clearfix"><input class="input228" type="text" check-count="20" ng-change="changeEditDropdown()" ng-model="model.choices.options[0].label" ng-disabled="model.defaultChoice"/><word-count words="model.choices.options[0].label" count="20" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix" style="margin-bottom: 0"><label>选项设置</label><div class="clearfix"><span class="word-count-pos">最多40个字符</span></div></div><div class="style_list_angel clearfix drop-down-list" ng-repeat="option in model.choices.options | filter: filterOption"><textarea class="drop-down-item" type="text" check-count="40" ng-change="changeEditDropdown()" stop-propagation ng-model="option.label"/>\n                <div class="iconPart">\n                    <span class="eqf-minus-l minus-btn" ng-click="deleteTheOption($index + 1)">\n                    </span>\n                    <span class="eqf-plus-l plus-btn" ng-click="addNewOption($index + 1)">\n                    </span>\n                </div>\n            </div>\n    <div class="comp-function-setting-box">\n        <div class="tab-setting-line">\n            功能设置\n        </div>\n        \n        <div class="style_list_angel clearfix">\n            <label>设为必填</label>\n            <div class="fr switch" style="margin-top: 8px" ng-click="compProp.required = !compProp.required;" ng-class="compProp.required ? \'switch-open\' : \'switch-close\'">\n                <div class="circle-con">\n                    <i class="circle"></i>\n                </div>\n            </div>\n        </div>\n        \n        <fix-comp></fix-comp></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function o() {
        return {
            restrict: "E",
            template: n(1462),
            controller: ["$scope", "setCompService", "$rootScope", "$timeout", "authorityService", function (e, t, n, o, r) {
                "ngInject";
                var a = e.comp.compJson.css;
                e.styleFillFontWeight = r.permission("styleFillFontWeight"), e.styleFillFontItalic = r.permission("styleFillFontItalic"), e.styleFillUnderLine = r.permission("styleFillUnderLine"), e.styleFillLineThrough = r.permission("styleFillLineThrough"), e.styleFillAddLink = r.permission("styleFillAddLink"), e.styleFillRemoveLink = r.permission("styleFillRemoveLink"), e.styleFillLetterSpacing = r.permission("styleFillLetterSpacing"), e.styleFillName = r.permission("styleFillName"), e.styleFillStatus = r.permission("styleFillStatus"), e.styleFillRemark = r.permission("styleFillRemark"), e.fillvm = {
                    currentElement: t.getPageElementById(e.comp.compJson.id),
                    letterSpacing: a.letterSpacing || "0",
                    fontSize: a.fontSize || 12
                }, 2 == e.comp.compJson.type || 4 == e.comp.compJson.type ? e.statusArr = [{
                    name: "可控可替换",
                    value: 1
                }, {name: "可控不可替换", value: 2}, {name: "不可控可替换", value: 3}, {
                    name: "不可控不可替换",
                    value: 4
                }] : e.statusArr = [{name: "可控", value: 2}, {name: "不可控", value: 4}], e.wordLineList = [{
                    name: "0%",
                    value: "0"
                }, {name: "10%", value: "0.1em"}, {name: "25%", value: "0.25em"}, {
                    name: "50%",
                    value: "0.5em"
                }, {name: "75%", value: "0.75em"}, {
                    name: "100%",
                    value: "1em"
                }], e.fillvm.currentElement && !e.fillvm.currentElement.properties.setstatus && (e.fillvm.currentElement.properties.setstatus = 4), e.setName = function () {
                    e.comp.compJson.name = e.fillvm.currentElement.name
                }, e.setRemark = function () {
                    e.comp.compJson.properties.setremark = e.fillvm.currentElement.properties.setremark
                }, e.setStatus = function () {
                    e.comp.compJson.properties.setstatus = e.fillvm.currentElement.properties.setstatus
                }, e.boldItalic = function (t, n) {
                    a[t] ? a[t] = "" : a[t] = n, e.comp.update$boxDiv(i({}, t, a[t]))
                }, e.underDelLine = function (t) {
                    var n = $.trim(a.textDecoration);
                    n && n.indexOf(t) !== -1 ? a.textDecoration = n.replace(t, "") : a.textDecoration = n + " " + t, e.comp.update$boxDiv({textDecoration: a.textDecoration})
                }, e.textAlign = function (t) {
                    a.textAlign = t, e.comp.update$boxDiv({textAlign: t})
                }, e.addLink = function () {
                    e.comp && n.$broadcast("wsComp.edit.link", e.comp)
                }, e.removeLink = function () {
                    delete e.comp.compJson.properties.url
                }, e.wordLine = function (t) {
                    a.letterSpacing = t, e.comp.update$boxDiv({letterSpacing: t})
                }, e.changeFontSize = function () {
                    var t = null;
                    e.fillvm.fontSize = e.fillvm.fontSize.replace(/[^\d]/g, "");
                    var n = parseInt(e.fillvm.fontSize);
                    if (t = n ? n < 12 ? 12 : n > 96 ? 96 : n : 12, e.fillvm.fontSize || o(function () {
                        e.fillvm.fontSize = e.fillvm.fontSize || 12
                    }, 750), r.permission("styleFillFontWeight")) {
                        var i = e.comp.$context, a = window.getSelection(),
                            s = a.getRangeAt(0).startContainer.firstChild;
                        i[0].setAttribute("contenteditable", "true"), e.comp.$li.addClass("inside-active-height"), i[0].focus(), document.execCommand("styleWithCSS", 0, !0), a.selectAllChildren(i[0]), document.execCommand("fontSize", 0, t);
                        var c = i.find('[style*="font-size: -webkit-xxx-large"]');
                        c && $(c).css({fontSize: t}), i.removeAttr("contenteditable");
                        var l = e.comp.$li.find(".element-box").height();
                        e.comp.update$li({height: l}), e.comp.$context.css({minHeight: "inherit"}), e.comp.$li.removeClass("inside-active-height"), s.focus()
                    } else e.comp.update$boxDiv({fontSize: t})
                }
            }]
        }
    }

    e.exports = o
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="comp-setting-title" ng-click="setTab(TAB.fillCompStyle)" ng-class="{\'expand-border-bottom\': vm.tab === TAB.fillCompStyle}"><span class="cat-title">填空设置</span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': vm.tab !== TAB.fillCompStyle}"></span></div><div class="style_con_hei" ng-if="vm.tab == TAB.fillCompStyle"><div class="style_list_angel clearfix" ng-hide="styleFillName"><label>名称</label><div class="color_select clearfix"><input class="input228" ng-model="fillvm.currentElement.name" type="text" ng-blur="setName();" maxlength="16"/><word-count words="fillvm.currentElement.name" count="16" class="word-count-pos"></word-count></div></div><div class="style_list_angel clearfix" ng-hide="styleFillStatus"><label>状态</label><div class="color_select clearfix"><select class="input152" ng-model="fillvm.currentElement.properties.setstatus" ng-options="status.value as status.name for status in statusArr" ng-change="setStatus();"></select></div></div><div class="style_list_angel clearfix" ng-hide="styleFillRemark"><label>备注</label><div class="color_select clearfix"><input class="input152" class="input152" ng-model="fillvm.currentElement.properties.setremark" type="text" ng-blur="setRemark();"/></div></div><div class="style_list_angel clearfix"><label>字体大小</label><div class="color_select clearfix"><input class="input152" type="text" ng-model="fillvm.fontSize" ng-change="changeFontSize();"/></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2 && !styleFillLetterSpacing"><label>字间距</label><div class="color_select clearfix"><select class="input152" ng-model="fillvm.letterSpacing" ng-options="wordLine.value as wordLine.name for wordLine in wordLineList" ng-change="wordLine(fillvm.letterSpacing)"></select></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2"><div ng-hide="styleFillFontWeight" class="css-font hint--top hint--rounded" data-hint="加粗" ng-click="boldItalic(\'fontWeight\', \'bold\');"><i class="eqf-b"></i></div><div ng-hide="styleFillFontItalic" class="css-font hint--top hint--rounded" data-hint="倾斜" ng-click="boldItalic(\'fontStyle\', \'italic\');"><i class="eqf-i"></i></div><div ng-hide="styleFillUnderLine" class="css-font hint--top hint--rounded" data-hint="下划线" ng-click="underDelLine(\'underline\');"><i class="eqf-u"></i></div><div ng-hide="styleFillLineThrough" class="css-font hint--top hint--rounded" data-hint="删除线" ng-click="underDelLine(\'line-through\');;"><i class="eqf-s"></i></div><div class="css-font hint--top hint--rounded" data-hint="居左" ng-click="textAlign(\'left\');"><i class="eqf-align-left"></i></div><div class="css-font hint--top hint--rounded" data-hint="居中" ng-click="textAlign(\'center\');"><i class="eqf-align-center"></i></div><div class="css-font hint--top hint--rounded" data-hint="居右" ng-click="textAlign(\'right\');"><i class="eqf-align-right"></i></div><div ng-hide="styleFillLineThrough" class="css-font hint--top hint--rounded" data-hint="添加超链接" ng-click="addLink();"><i class="eqf-link"></i></div><div ng-hide="styleFillRemoveLink" class="css-font hint--top hint--rounded" data-hint="清除超链接" ng-click="removeLink()"><i class="eqf-linkoff"></i></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.style2", [n(1464), n(1468), n(1476), n(1480), n(1485), n(1490), n(1495), n(1502), n(1508), n(1515), n(1522), n(1527), n(1533), n(1538), n(1541), n(1547), n(1551), n(1555), n(1558), n(1561), n(1565), n(1569), n(1573), n(1577), n(1581), n(1585), n(1589), n(1593), n(1596), n(1599), n(1602), n(1626), n(1630)]).directive("compSettingStyle2", n(1634)).directive("compSettingComment2", n(1637)).directive("compSettingMap2", n(1639)).directive("compSettingDropDown2", n(1641)).directive("fillCompStyle2", n(1644)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.photoWall2", []).directive("compSettingPhotoWall2", n(1465)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1467), controller: o}
    }

    function o(e, t) {
        "ngInject";
        var n = e.comp, i = e.compJson = n.compJson;
        e.vm.boxShadow = r.parseBoxShadow(i.properties.ownerCss.boxShadow, i.properties.ownerCss.boxShadowSize, i.properties.ownerCss.boxShadowDirection), e.$watch("compJson.properties.line", function (e, t) {
            e !== t && n.changePhotoWallLine()
        }), e.$watch("compJson.properties.ownerCss.borderStyle", function (e, t) {
            e !== t && n.changeBorderStyle(e)
        }), e.$watch("compJson.properties.ownerCss.borderColor", function (e, t) {
            e !== t && n.changeBorderColor(e)
        }), e.$watch("compJson.properties.ownerCss.borderWidth", function (e, t) {
            e !== t && n.changeBorderWidth(e)
        }), e.$watch("vm.boxShadow", function (e, t) {
            if (e !== t) {
                var o = r.getBoxShadowStr(e);
                i.properties.ownerCss.boxShadow = o, n.changeBoxshadowColor(o)
            }
        }, !0)
    }

    o.$inject = ["$scope", "authorityService"], n(1466);
    var r = n(525);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="photoWall-box2"><div class="photoWall-box-line"><label>头像行数</label><div class="photoWall-num"><select ng-model="compJson.properties.line"><option value="1">1</option><option value="2">2</option><option value="3" selected="selected">3</option></select></div></div><div class="tab-setting-line"><div class="tab-setting-line-title">头像边框</div></div><div class="style_list_angel clearfix"><label>边框样式</label><div class="clearfix border-style"><select ng-model="compJson.properties.ownerCss.borderStyle"><option value="none">----无-----</option><option value="solid">直线</option><option value="dashed">破折线</option><option value="dotted">点状线</option><option value="double">双划线</option><option value="groove">3D凹槽</option><option value="ridge">3D垄状</option><option value="inset">3D内嵌</option><option value="outset">3D外嵌</option></select></div></div><div class="style_list_angel clearfix"><label>边框颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.ownerCss.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>边框尺寸</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="compJson.properties.ownerCss.borderWidth" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="compJson.properties.ownerCss.borderWidth" min="0" max="20" limit-input/></p></div></div><div class="tab-setting-line"><div class="tab-setting-line-title">头像阴影</div></div><div class="style_list_angel clearfix"><label>阴影颜色</label><div class="clearfix color_select"><eqd-input-color2 select-color="vm.boxShadow.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label>阴影大小</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="vm.boxShadow.size" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="vm.boxShadow.size" min="0" max="20" limit-input/></p></div></div><div class="style_list_angel clearfix"><label>阴影方向</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="vm.boxShadow.direction" min="0" max="359" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="vm.boxShadow.direction" min="0" max="359" limit-input/></p></div></div><div class="style_list_angel clearfix"><label>阴影模糊</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="vm.boxShadow.blur" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="vm.boxShadow.blur" min="0" max="20" limit-input/></p></div></div></div>'
}, function (e, t, n) {
    "use strict";
    n(1469);
    var i = n(1470), o = n(1475);
    e.exports = angular.module("manager.compSetting.style.chart2", []).directive("compSettingChart2", i).directive("legendStyle2", o).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {restrict: "E", template: n(1474), controller: o}
    }

    var o = n(1471);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function o(e) {
            var t;
            if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) return t = e.substring(1).split(""), 3 == t.length && (t = [t[0], t[0], t[1], t[1], t[2], t[2]]), t = "0x" + t.join(""), "rgba(" + [t >> 16 & 255, t >> 8 & 255, 255 & t].join(",") + ",1)";
            throw new Error("Bad Hex")
        }

        function r() {
            g.destroy(), g = null, f.data("pieChart", ""), delete d.properties.pieChart, d.properties.chartType = "", delete e.comp.pieChart
        }

        function a(t) {
            var n = e.comp.getChartValue(t), i = n.data1.map(function (e, i) {
                if (e) return {value: e, color: t.fillColors[i], label: n.xLabels[i]}
            });
            g = new Chart(e.ctx).Pie(i, t.options), m.find("#legend-" + d.id).html(g.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.chartType = "pie", d.properties.pieChart = t, d.properties.pieChart.options = g.options, f.data("pieChart", g), e.comp.pieChart = g, g.update()
        }

        function s() {
            h.destroy(), h = null, f.data("barChart", ""), delete d.properties.barChart, d.properties.chartType = "", delete e.comp.barChart
        }

        function c(t) {
            var n = e.comp.getChartValue(t);
            t.fillColors = t.fillColors.map(function (e) {
                return e.replace(/[^,]+(?=\))/, "1")
            });
            var i = {
                labels: n.xLabels,
                datasets: [{
                    fillColor: t.fillColors[0],
                    strokeColor: "rgba(0,0,0,0)",
                    data: n.data1,
                    label: t.lengends[0]
                }, {
                    fillColor: t.fillColors[1],
                    strokeColor: "rgba(0,0,0,0)",
                    data: n.data2,
                    label: t.lengends[1]
                }, {fillColor: t.fillColors[2], strokeColor: "rgba(0,0,0,0)", data: n.data3, label: t.lengends[2]}]
            };
            h = new Chart(e.ctx).Bar(i, t.options), m.find("#legend-" + d.id).html(h.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.chartType = "bar", d.properties.barChart = t, d.properties.barChart.options = h.options, f.data("barChart", h), e.comp.barChart = h, h.update()
        }

        function l() {
            v.destroy(), v = null, f.data("lineChart", ""), delete d.properties.lineChart, d.properties.chartType = "", delete e.comp.lineChart
        }

        function p(t) {
            var n = e.comp.getChartValue(t), i = [], o = [];
            t.fillColors.forEach(function (t) {
                "line" === e.charts.chartType ? i.push(t.replace(/[^,]+(?=\))/, "0")) : i.push(t.replace(/[^,]+(?=\))/, "0.2")), o.push(t.replace(/[^,]+(?=\))/, "1"))
            });
            var r = {
                labels: n.xLabels,
                datasets: [{
                    label: t.lengends[0],
                    fillColor: i[0],
                    strokeColor: o[0],
                    pointColor: o[0],
                    pointStrokeColor: "#fff",
                    data: n.data1
                }, {
                    label: t.lengends[1],
                    fillColor: i[1],
                    strokeColor: o[1],
                    pointColor: o[1],
                    pointStrokeColor: "#fff",
                    data: n.data2
                }, {
                    label: t.lengends[2],
                    fillColor: i[2],
                    strokeColor: o[2],
                    pointColor: o[2],
                    pointStrokeColor: "#fff",
                    data: n.data3
                }]
            };
            "line" === e.charts.chartType ? t.options.bezierCurve = !1 : t.options.bezierCurve = !0, v = new Chart(e.ctx).Line(r, t.options), v.datasets.forEach(function (e) {
                var t = !0;
                e.points.forEach(function (e) {
                    e.value && (t = !1)
                }), t ? e.points.length = 0 : e.points.forEach(function (e) {
                    e.value || (e.value = 0)
                })
            }), m.find("#legend-" + d.id).html(v.generateLegend()).removeClass().addClass(t.legPosition), d.properties.legPosition = t.legPosition, d.properties.lineChart = t, d.properties.lineChart.options = v.options, d.properties.chartType = e.charts.chartType, f.data("lineChart", v), e.comp.lineChart = v, v.update()
        }

        var u = 0;
        if (e.confirm = function () {
            e.$close()
        }, !e.$parent.charts) {
            var d = e.elemDef = e.comp.compJson || {css: {}}, m = e.comp.$context, f = $(e.comp.canvas),
                g = e.comp.pieChart, h = e.comp.barChart, v = e.comp.lineChart;
            if (e.chartTypes = [{name: "饼状图", value: "pie"}, {name: "柱状图", value: "bar"}, {
                name: "折线图",
                value: "line"
            }, {name: "曲线图", value: "curve"}], d.type + "" == "t") {
                e.charts = {}, e.charts.options = {}, e.charts.chartType = d.properties.chartType, e.charts.colors = ["#57c7d4", "#3aa99e", "#f2a654", "#f96868", "#926dde", "#62a8ea", "#F978A6", "#F8E59B"], e.charts.segments = [], e.charts.chartTitle = d.properties.chartTitle, e.ctx = f.get(0).getContext("2d"), d.properties.legPosition ? e.charts.legPosition = d.properties.legPosition : (e.charts.legPosition = "position-left", d.properties.legPosition = "position-left");
                var y = [], b = [], x = [], w = [], S = [], k = [], T = 0, C = [];
                if (g) {
                    if (e.charts.options = g.options, g.segments) {
                        T = g.segments.length;
                        for (var I = 0; I < T; I++) /^#([A-Fa-f0-9]{3}){1,2}$/.test(g.segments[I].fillColor) && (g.segments[I].fillColor = o(g.segments[I].fillColor)), e.charts.segments.push({
                            label: g.segments[I].label,
                            value: g.segments[I].value,
                            color: g.segments[I].fillColor
                        }), x.push(g.segments[I].fillColor), b.push(g.segments[I].label)
                    }
                    d.properties.pieChart = e.charts
                }
                if (h) {
                    if (e.charts.options = h.options, h.datasets) {
                        for (C = h.datasets, T = C[0].bars.length, I = 0; I < T; I++) y.push(C[0].bars[I].label);
                        for (I = 0; I < C.length; I++) {
                            b.push(C[I].label), /^#([A-Fa-f0-9]{3}){1,2}$/.test(C[I].fillColor) && (C[I].fillColor = o(C[I].fillColor)), x.push(C[I].fillColor);
                            for (var E = C[I].bars.length, P = 0; P < E; P++) 0 === I ? w.push(C[I].bars[P].value) : 1 === I ? S.push(C[I].bars[P].value) : k.push(C[I].bars[P].value)
                        }
                    }
                    d.properties.barChart = e.charts
                }
                if (v) {
                    if (e.charts.options = v.options, v.datasets) {
                        for (C = v.datasets, I = 0; I < C.length; I++) if (T = C[I].points.length, 0 !== T) {
                            for (P = 0; P < T; P++) y.push(C[I].points[P].label);
                            break
                        }
                        for (I = 0; I < C.length; I++) {
                            b.push(C[I].label), x.push(C[I].strokeColor);
                            var _ = C[I].points.length;
                            for (P = 0; P < _; P++) 0 === I ? w.push(C[I].points[P].value) : 1 === I ? S.push(C[I].points[P].value) : k.push(C[I].points[P].value)
                        }
                    }
                    d.properties.lineChart = e.charts
                }
                if (e.charts.fillColors = x, e.charts.lengends = b, h || v) {
                    for (var q = 0; q < y.length; q++) e.charts.segments.push({
                        label: y[q],
                        value1: w[q],
                        value2: S[q],
                        value3: k[q]
                    });
                    for (; e.charts.segments.length < 12;) e.charts.segments.push({
                        label: "",
                        value1: "",
                        value2: "",
                        value3: ""
                    })
                }
            }
            e.$watch("charts", function (t, n) {
                if (d.type + "" == "t" && t && t !== n) {
                    m.find(".chart-title").html(t.chartTitle), d.properties.chartTitle = t.chartTitle, "pie" === d.properties.chartType ? r() : "bar" === d.properties.chartType ? s() : "line" !== d.properties.chartType && "curve" !== d.properties.chartType || l();
                    var i = e.charts.options.scaleFontColor;
                    "" + e.charts.chartType == "pie" ? (t.options = e.comp.pieOptions, t.options.scaleFontColor = i, a(t)) : "" + e.charts.chartType == "bar" ? (t.options = e.comp.barOptions, t.options.scaleFontColor = i, c(t)) : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || (t.options = e.comp.lineOptions, t.options.scaleFontColor = i, p(t))
                }
            }, !0), e.maxLength20 = function () {
                for (var t = e.charts.segments, n = 0; n < t.length; n++) t[n].label = e.substtrCharacters(t[n].label);
                e.charts.legendName && (e.charts.legendName = e.substtrCharacters(e.charts.legendName))
            }, e.substtrCharacters = function (e) {
                if (e && (e = e.replace(/\n|\r/g, " ")), e && e.length > 10) {
                    var t = e.replace(/[^\x00-\xff]/g, "xx");
                    if (t.length > 20) {
                        var n = t.substring(0, 20).replace(/xx/g, "中").length;
                        e = e.substring(0, n)
                    }
                }
                return e
            }, e.pieFocus = function (e) {
                u = e
            }, e.addPieCloumn = function () {
                e.charts.fillColors.splice(u, 0, "#F8E59B"), e.charts.segments.splice(u, 0, {
                    value: 10,
                    color: e.charts.fillColors[u],
                    label: u + 1 + "月"
                }), u = 0
            }, e.delePieCloumn = function () {
                e.charts.fillColors.splice(u, 1), e.charts.segments.splice(u, 1), u = 0
            }, e.showEditDataView = function () {
                t.open({windowClass: "six-contain", template: n(1472), controller: i, scope: e})
            }, e.showEditPieData = function () {
                t.open({windowClass: "six-contain pie-data", template: n(1473), controller: i, scope: e})
            }
        }
    }

    i.$inject = ["$scope", "$modal"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="viewData"><div class="explain">表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><table id="chart-table" ng-if="elemDef.properties.chartType!=\'pie\'"><tr><td>图例名</td><td><input type="text" ng-model="charts.lengends[0]" ng-change="maxLength20()"/></td><td><input type="text" ng-model="charts.lengends[1]" ng-change="maxLength20()"/></td><td><input type="text" ng-model="charts.lengends[2]" ng-change="maxLength20()"/></td></tr><tr><td>填充色</td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color="charts.fillColors[0]" direction="left" theme="flo_lef" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color="charts.fillColors[1]" direction="left" theme="flo_lef" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color="charts.fillColors[2]" direction="left" theme="flo_lef" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></td></tr><tr ng-repeat="segment in charts.segments"><td><input type="text" ng-model="segment.label" ng-change="maxLength20()"/></td><td><input class="chart-input" type="number" ng-model="segment.value1"/></td><td><input class="chart-input" type="number" ng-model="segment.value2"/></td><td><input class="chart-input" type="number" ng-model="segment.value3"/></td></tr></table><a class="btn btn-sm btn-chart green" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    e.exports = '<div class="viewData"><div class="explain">表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><div style="width: 550px; overflow-x: scroll"><table id="chart-table"><tr><td ng-repeat="segment in charts.segments"><input type="text" ng-model="segment.label" ng-focus="pieFocus($index)" ng-change="maxLength20()"/></td></tr><tr><td ng-repeat="(index, fillColor) in charts.fillColors track by index"><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color="charts.fillColors[index]" direction="left" theme="flo_lef" notify="grid" x="-1" w="114" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></td></tr><tr><td ng-repeat="segment in charts.segments"><input class="chart-input" type="number" ng-focus="pieFocus($index)" ng-model="segment.value"/></td></tr></table></div><a class="btn btn-sm blue" style="margin-top:10px; margin-left: 10px" ng-click="addPieCloumn()">添加列</a> <a class="btn btn-sm gray" style="margin-left: 10px; margin-top: 10px; color: #fff" ng-click="delePieCloumn()">删除列</a> <a class="btn btn-sm btn-chart green" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    e.exports = '<div class="style_list_angel charts_group clearfix" style="padding: 7px 0"><div class="style_list_angel clearfix"><label style="margin-top: 7px">图标类型</label><select class="chart-select" ng-model="charts.chartType" style="float: right;width: 155px"><option ng-repeat="chartType in chartTypes" value="{{chartType.value}}">{{::chartType.name}}</option></select></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">标题名</label><input type="text" ng-model="charts.chartTitle" style="width: 155px;height: 30px;border-radius: 3px;line-height: 30px;padding-left: 12px;float: right"/></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">图例设置</label><select legend-style class="chart-select" ng-model="charts.legPosition" style="float: right;width: 155px"><option value="position-align">横向排列</option><option value="position-left">纵向居左</option><option value="position-right">纵向居右</option><option value="position-none">不显示</option></select></div><div class="style_list_angel clearfix"><label style="width: 65px">标签字体<br>颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="charts.options.scaleFontColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel clearfix chart-data-setting"><label style="margin-top: 5px">图表数据</label><a ng-if="elemDef.properties.chartType === \'pie\'" class="btn btn-primary" style="width: 155px" ng-click="showEditPieData();">编辑表单数据 </a><a ng-if="elemDef.properties.chartType !== \'pie\'" class="btn btn-primary" style="width: 155px" ng-click="showEditDataView();">编辑表单数据</a></div></div>'
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {
            restrict: "AE", link: function (e, t) {
                var n = $("#legend-" + e.elemDef.id);
                e.$watch(function () {
                    return t.val()
                }, function (t, i) {
                    t !== i && (n.removeAttr("class"), "" + t == "position-align" ? n.addClass("position-align") : "" + t == "position-right" ? n.addClass("position-right") : "" + t == "position-none" && n.addClass("position-none"), e.elemDef.properties.legPosition = t)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = n(1477), o = n(1479);
    e.exports = angular.module("manager.adSetting.style2", []).directive("compSettingAd2", i).directive("advertisementContent2", o).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1478), controller: ["$scope", function (e) {
                "ngInject";

                function t(t) {
                    for (var i = 0; i < e.adSizes.length; i++) if (e.adSizes[i].value === t) return n.css.width = e.adSizes[i].width, n.css.height = e.adSizes[i].height, e.comp.update$li(n.css), e.adSizes[i]
                }

                var n = e.elemDef = e.comp.compJson || {css: {}};
                e.proModel = {}, e.model = {}, e.adSizes = [{
                    name: "大矩形",
                    value: 1,
                    width: 336,
                    height: 280
                }, {name: "大型移动横幅", value: 2, width: 320, height: 100}, {
                    name: "大型摩天大楼",
                    value: 3,
                    width: 300,
                    height: 600
                }, {
                    name: "中等矩形",
                    value: 4,
                    width: 300,
                    height: 250
                }], e.proModel.content = n.content, e.proModel.size = n.properties.size, e.$watch("proModel", function () {
                    var i = {};
                    if ($.extend(!0, i, e.proModel), i.size && i.size !== n.properties.size) {
                        var o = t(i.size);
                        e.model.width = o.width, e.model.height = o.height
                    }
                    n.content = e.proModel.content, n.properties.size = e.proModel.size;
                    var r = $("#nr #iframe-" + e.target).get(0);
                    r && $(r).remove(), r = e.$parent.comp.iframeDiv, r && (r = r.get(0), r.onload = function () {
                        jQuery = r.contentWindow.jQuery, $body = jQuery(r.contentDocument.body), $body.append(jQuery(i.content))
                    }, $("#nr #" + e.target + " .ad-contain").append(r))
                }, !0)
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label>代码</label><div class="color_select clearfix"><textarea class="flo_right" style="height: 120px" advertisement-content content="{{proModel.content}}" target="{{elemDef.id}}" elem-id="{{elemDef.id}}" ng-model="proModel.content">\n            </textarea><input style="display:none" style-input elem-id="{{elemDef.id}}" ng-model="model.width" css-item="width" type="text"/> <input style="display:none" style-input elem-id="{{elemDef.id}}" ng-model="model.height" css-item="height" type="text"/></div></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">尺寸</label><div class="color_select clearfix"><select class="flo_right" ng-change="changeSize(size)" ng-model="proModel.size" style="width:150px;border:1px solid #C9C9C9" ng-options="size.value as size.name for size in adSizes"></select></div></div>'
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";
        return {
            scope: {target: "@", content: "@"}, restrict: "A", link: function (e) {
                var t, n, i = $("#nr #iframe-" + e.target).get(0);
                e.$watch("content", function (o, r) {
                    o !== r && (i && $(i).remove(), i = e.$parent.comp.iframeDiv, i = i.get(0), i.onload = function () {
                        n = i.contentWindow.jQuery, t = n(i.contentDocument.body), t.append(n(o))
                    }, $("#nr #" + e.target + " .ad-contain").append(i))
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.button2", []).directive("compSettingButton2", n(1481)).directive("buttonStyle2", n(1483)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1482), controller: o};
        return e
    }

    function o(e, t, n, i, o, r, a) {
        "ngInject";
        var s = e.compJson = e.comp.compJson, c = t.eqxScene, l = t.getCurrentPage(),
            p = r.SERVER_1 + "eqs/link?id=" + c.meta.id + "&url=";
        switch (s.properties.title && (s.properties.title = s.properties.title.replace(/&nbsp;/g, " ")), e.tab = "", s.properties.imgSrc ? (e.tab = "custom", s.properties.imgSrc.startsWith(r.FILE) ? e.vm.imgSrc = s.properties.imgSrc : e.vm.imgSrc = r.FILE + s.properties.imgSrc) : e.tab = "default", e.pageList = c.sceneJson.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), e.vm.eLink = "", s.type + "") {
            case"l":
                s.btnType ? "link" === s.btnType && (s.properties.url ? e.vm.eLink = s.properties.url.toString().indexOf(p) >= 0 ? decodeURIComponent(s.properties.url.split("=")[2]) : s.properties.url : e.vm.eLink = "http://") : s.properties.url ? (s.btnType = Number.isInteger(s.properties.url) ? "jump" : "link", "link" === s.btnType && (e.vm.eLink = s.properties.url.toString().indexOf(p) >= 0 ? decodeURIComponent(s.properties.url.split("=")[2]) : s.properties.url)) : (s.btnType = "link", e.vm.eLink = "http://");
                break;
            case"8":
                s.btnType = "call"
        }
        e.setBtn = function (t) {
            if (e.tab = t, "default" === t) {
                e.compJson.properties.imgSrc = "";
                var n = {
                    width: "100px",
                    height: "30px",
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    letterSpacing: "0"
                };
                Object.assign(s.css, n), e.compJson.properties = {title: "按钮"};
                var o = l.updateEqxComp(s.id, s);
                o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            }
        }, e.openImageModal = function () {
            n.getImage().then(function (t) {
                e.compJson.properties.title = "", e.tab = "custom";
                var n = {width: "115px", height: "115px", backgroundColor: ""};
                Object.assign(s.css, n), s.properties.imgSrc = t.tmbPath, e.vm.imgSrc = r.FILE + t.tmbPath;
                var o = l.updateEqxComp(s.id, s);
                o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            })
        }, e.deleteImage = function () {
            e.compJson.properties.imgSrc = "", e.comp.deleteImage()
        }, e.changeBtnType = function (t) {
            switch (t) {
                case"link":
                    e.vm.eLink = "http://", s.properties.url = "", s.type = "l";
                    break;
                case"jump":
                    s.properties.url = "", s.type = "l";
                    break;
                case"call":
                    s.properties.number = "", s.type = "8"
            }
        }, e.updateBtnTitle = function () {
            e.comp.updateBtnTitle(s.properties.title)
        }, e.prefixProcess = function () {
            s.properties.url = e.vm.eLink ? p + encodeURIComponent(e.vm.eLink) : "";
        }, e.verifyLink = function () {
            e.vm.eLink || o.success("链接不能为空"), /^http:|^https:|^ftp:/.test(e.vm.eLink) || (e.vm.eLink = "http://" + e.vm.eLink, s.properties.url = p + encodeURIComponent(e.vm.eLink))
        }, e.verifyPhone = function () {
            var e = s.properties.number;
            if (!e) return void o.success("电话号码不能为空");
            var t = /^\d{3,15}$/;
            t.test(e) || o.success("电话输入有误，请输入3-15位数字")
        }, e.verifyTitle = function () {
        }
    }

    o.$inject = ["$scope", "sceneService", "imageModalFactory", "$rootScope", "notifier", "HOST", "authorityService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel sound-pro-style2 clearfix"><label style="margin-top: 6px">按钮样式</label><a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义 </a><a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel sound-pro-style2 clearfix"><label style="margin: 0;line-height: 30px">按钮名称</label><div class="clearfix" style="position: relative"><input style="width: 155px;height: 30px;padding-right: 38px;border-radius:3px" type="text" ng-model="compJson.properties.title" maxlength="12" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" style="position: absolute;opacity: 0.3;right: 4px;line-height: 30px;height: 30px;top: 0"></word-count></div></div><div class="style_list_angel sound-pro-style2 clearfix"><label style="margin: 0;line-height: 30px">按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div></div><div class="sound-pro-style2 clearfix" ng-if="tab === \'custom\'"><div class="img-container" ng-click="openImageModal()" style="background-image: url(\'{{vm.imgSrc}}\')"><i class="eqf-plus" ng-if="!compJson.properties.imgSrc"></i></div><div class="clearfix img-btn" style="margin-top: 8px"><a class="del-img" ng-if="compJson.properties.imgSrc" ng-click="deleteImage()">删除图片</a> <a class="replace-img" ng-if="compJson.properties.imgSrc" ng-click="openImageModal()">更换图片</a> <a class="replace-img" ng-if="!compJson.properties.imgSrc" ng-click="openImageModal()">上传图片</a></div></div><comp-setting-link2 comp-json="comp.compJson" show-none-option="true"></comp-setting-link2><div class="style_list_angel clearfix" ng-if="tab === \'default\'"><div class="tab-setting-line"><div class="tab-setting-line-title" style="font-size: 14px">文本设置</div></div><comp-setting-font2></comp-setting-font2></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1484), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";
        e.styleList = [{
            backgroundColor: "rgb(244, 113, 31)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(253, 175, 7)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(121, 196, 80)",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(63, 184, 22)",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#2aa2f3",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderBottomLeftRadius: "5px",
            borderBottomRightRadius: "5px",
            borderTopLeftRadius: "5px",
            borderTopRightRadius: "5px",
            borderRadius: "5px",
            color: "#2aa2f3",
            fontSize: "14px"
        }, {
            backgroundColor: "#fff",
            textAlign: "center",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderBottomLeftRadius: "15px",
            borderBottomRightRadius: "15px",
            borderTopLeftRadius: "15px",
            borderTopRightRadius: "15px",
            borderRadius: "15px",
            color: "#2aa2f3",
            fontSize: "14px"
        }], e.setButtonStyle = function (o) {
            var r = JSON.parse(JSON.stringify(o));
            if (r.lineHeight = 2, r.borderRadius = r.borderRadius ? parseInt(r.borderRadius) : 0, r.borderWidth = r.borderWidth ? parseInt(r.borderWidth) : 0, !e.vm.comp || "8" != e.vm.comp.type && "l" != e.vm.comp.type) {
                var a = i.getDefaultJson(), s = e.settingCompJson(a, {css: r});
                return void n.$broadcast("create.tel", s)
            }
            var c = e.vm.comp.compJson;
            e.vm.comp.resetStyle(), r.width = 100, r.height = 30, c.properties.imgSrc = null, Object.assign(c.css, r);
            var l = t.getCurrentPage(), p = l.updateEqxComp(c.id, c);
            p && (p && l.renderEqxComp(p), n.$broadcast("wsComp.add", p))
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "telFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul style="text-align: center"><li ng-repeat="style in styleList" style="line-height: 40px"><a ng-style="style" style="display: block;margin: 0px 0px 12px 0px;height: 40px" ng-click="setButtonStyle(style)">{{ (vm.comp.compJson.type == \'l\' || vm.comp.compJson.type == \'8\') && vm.comp.compJson.properties.title ? vm.comp.compJson.properties.title : \'按钮\' }}</a></li></ul>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.submit2", []).directive("compSettingSubmit2", n(1486)).directive("submitStyle2", n(1488)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1487), controller: o};
        return e
    }

    function o(e, t, n, i, o, a, s) {
        "ngInject";
        var c = "http://", l = e.compJson = e.comp.compJson, p = n.getCurrentPage();
        e.HOST = a, l.properties && !l.properties.link && (l.properties.link = c), l.properties.title && (l.properties.title = l.properties.title.replace(/&nbsp;/g, " ")), l.properties.imgSrc && (e.vm.thumbnail = a.FILE + l.properties.imgSrc), e.vm.pluginLoaded = !1, o.datePicker().then(function () {
            e.$apply(function () {
                e.time = {
                    isOpen: !!l.properties.endTime,
                    endTime: l.properties.endTime || r.endTimeOfToday()
                }, e.timeConfig = {startDate: e.time.endTime, drops: "up"}, e.vm.pluginLoaded = !0
            })
        }), e.tab = "", l.properties.styleImgSrc ? e.tab = "custom" : e.tab = "default", e.setBtn = function (t) {
            if (e.tab = t, "default" === t) {
                l.properties.styleImgSrc = "", l.properties.layout = "rating-l", l.properties.text = "谢谢您的参与！", l.properties.title = "提交";
                var n = {width: 200, height: 36, backgroundColor: "#59c7f9", color: "#fff"};
                Object.assign(l.css, n);
                var o = p.updateEqxComp(l.id, l);
                o && (o.rendered = !1, p.renderEqxComp(o), i.$broadcast("wsComp.add", o))
            }
        }, e.setEndTime = function () {
            e.time.isOpen && (l.properties.endTime = new Date(e.time.endTime).getTime())
        }, e.isTimeOpen = function () {
            e.time.isOpen ? l.properties.endTime = null : l.properties.endTime = new Date(e.time.endTime).getTime()
        }, e.updateBtnTitle = function () {
            e.comp.updateBtnTitle(l.properties.title)
        }, e.upload = function () {
            t.getSquareImage({storageKey: "", categoryName: "图标", tagName: "链接"}).then(function (e) {
                Object.assign(l.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), l.properties.styleImgSrc = e;
                var t = p.updateEqxComp(l.id, l);
                t && (t.rendered = !1, p.renderEqxComp(t), i.$broadcast("wsComp.add", t))
            })
        }, e.replace = function () {
            t.getSquareImage({storageKey: "", categoryName: "图标", tagName: "链接"}).then(function (e) {
                Object.assign(l.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), l.properties.styleImgSrc = e;
                var t = p.updateEqxComp(l.id, l);
                t && (t.rendered = !1, p.renderEqxComp(t), i.$broadcast("wsComp.add", t))
            })
        }, e.uploadTipImage = function () {
            t.getSquareImage().then(function (t) {
                l.properties.imgSrc = t, e.vm.thumbnail = a.FILE + t
            })
        }, e.replaceTipImage = function () {
            t.getSquareImage().then(function (t) {
                l.properties.imgSrc = t, e.vm.thumbnail = a.FILE + t
            })
        }, e.deleteImage = function () {
            e.compJson.properties.styleImgSrc = "", e.comp.deleteImage()
        }, e.verifyLink = function () {
            /^http:|^https:|^ftp:/.test(l.properties.link) || (l.properties.link = c + l.properties.link)
        }
    }

    o.$inject = ["$scope", "imageModalFactory", "sceneService", "$rootScope", "delayLoadService", "HOST", "authorityService"];
    var r = n(934);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel sound-pro-style2 clearfix"><label style="margin-top: 6px">按钮样式</label><a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a> <a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel sound-pro-style2 clearfix"><label style="margin-top: 7px">按钮名称</label><div class="clearfix" style="position: relative;float:right"><input style="width: 144px;height: 30px;padding-right: 38px;border-radius:3px" type="text" ng-model="compJson.properties.title" maxlength="12" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" style="position: absolute;opacity: 0.3;right: 4px;top: 3px;height: 20px;line-height: 20px;margin-top:2px"></word-count></div></div></div><div class="sound-pro-style2 clearfix" ng-if="tab === \'custom\'"><div class="img-container" ng-click="upload()" ng-style="{\'background-image\': compJson.properties.styleImgSrc ? \'url({{HOST.FILE + compJson.properties.styleImgSrc}})\': \'\'}"><i class="eqf-plus" ng-if="!compJson.properties.styleImgSrc"></i></div><div class="clearfix img-btn" style="margin-top: 8px;margin-bottom: 8px"><a class="del-img" ng-if="compJson.properties.styleImgSrc" ng-click="deleteImage()">删除图片</a> <a class="replace-img" ng-if="compJson.properties.styleImgSrc" ng-click="replace()">更换图片</a> <a class="replace-img" ng-if="!compJson.properties.styleImgSrc" ng-click="upload()">上传图片</a></div></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">提示类型</label><div class="tip-type clearfix" style="float:right"><select style="border:1px solid #ccc;width:144px" ng-model="compJson.properties.layout"><option value="rating-l">纯文字</option><option value="rating-m">上图下文</option><option value="rating-s">上文下图</option></select></div></div><div class="style_list_angel clearfix" ng-if="compJson.properties.layout == \'rating-m\' || compJson.properties.layout == \'rating-s\'"><label>提示图片</label><div class="tip-image clearfix"><div class="upload" style="float:right;margin-top: 37px;margin-left: 17px"><a style="width: 68px;height: 23px;line-height: 23px;padding: 0px;color: #fff" ng-if="!compJson.properties.imgSrc" class="btn btn-sm blue" ng-click="uploadTipImage()">上传</a> <a style="width: 68px;height: 23px;line-height: 23px;padding: 0px;color: #fff" ng-if="compJson.properties.imgSrc" class="btn btn-sm blue" ng-click="replaceTipImage()">更换</a></div><div style="width: 60px;height: 60px;line-height: 60px;text-align: center;\n                float: right;border: 1px solid rgb(204, 213, 219);background-color: rgba(0, 0, 0, 0)" ng-style="{\'background-image\':\'url(\' + vm.thumbnail + \')\',\'background-size\':\'cover\'}"><span class="eqf-plus"></span></div></div></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">提示信息</label><div class="clearfix" style="float:right"><input style="width: 144px;border: 1px solid #ccd5db; border-radius: 3px;height:30px" ng-model="compJson.properties.text" type="text"/></div></div><div class="style_list_angel clearfix"><label style="float:none">添加外链</label><div class="touming clearfix" style="border: 1px solid #ccd5db;border-radius: 3px" ng-class="{gray_checkbox: !compJson.properties.checkedLink}"><ui-checkbox style="float:left;width:30px;margin-top: 7px;padding-left: 7px" value="compJson.properties.checkedLink"></ui-checkbox><div><input ng-disabled="!compJson.properties.checkedLink" ng-model="compJson.properties.link" ng-change="verifyLink()" style="width: 188px;border:none; border-left: 1px solid #ccd5db;height:30px" type="text"/></div></div></div><div class="style_list_angel clearfix" ng-if="vm.pluginLoaded"><label style="float:none">结束时间</label><div class="touming clearfix" style="border: 1px solid #ccd5db;border-radius: 3px" ng-class="{gray_checkbox: !time.isOpen}"><ui-checkbox style="float:left;width:30px;margin-top: 7px;padding-left: 7px" value="time.isOpen" allowed="vm.pluginLoaded" change="isTimeOpen()"></ui-checkbox><div><input ng-model="time.endTime" ng-change="setEndTime()" ng-disabled="!time.isOpen" ng-readonly="true" date-picker="timeConfig" type="text" style="width: 188px;border:none; border-left: 1px solid #ccd5db;height:30px" placeholder="设置结束时间"></div></div></div><commit-limit2 comp-json="compJson" ng-if="!commitSetting"></commit-limit2><click-farmer-in-panel2 comp-json="compJson"></click-farmer-in-panel2><div class="style_list_angel clearfix" ng-if="tab === \'default\'"><div class="tab-setting-line"><div class="tab-setting-line-title" style="font-size: 14px">文本设置</div></div><comp-setting-font2></comp-setting-font2></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1489), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";
        e.styleList = [{
            backgroundColor: "#59c7f9",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "rgb(255, 255, 255)",
            textAlign: "center",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#f6b223",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#333333",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#a0d86b",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#f0f3f4",
            textAlign: "center",
            color: "rgb(0, 0, 0)",
            fontSize: "14px"
        }, {
            backgroundColor: "#ff6666",
            textAlign: "center",
            color: "rgb(255, 255, 255)",
            fontSize: "14px"
        }, {
            backgroundColor: "#ffffff",
            textAlign: "center",
            color: "rgb(42, 162, 243)",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderRadius: "5px",
            borderBottomLeftRadius: "5px",
            borderBottomRightRadius: "5px",
            borderTopLeftRadius: "5px",
            borderTopRightRadius: "5px",
            fontSize: "14px"
        }, {
            backgroundColor: "#ffffff",
            textAlign: "center",
            color: "rgb(42, 162, 243)",
            borderWidth: "1px",
            borderStyle: "solid",
            borderColor: "rgb(42, 162, 243)",
            borderRadius: "18px",
            borderBottomLeftRadius: "18px",
            borderBottomRightRadius: "18px",
            borderTopLeftRadius: "18px",
            borderTopRightRadius: "18px",
            fontSize: "14px"
        }], e.setButtonStyle = function (o) {
            var r = JSON.parse(JSON.stringify(o));
            if (r.lineHeight = 1, r.borderRadius = r.borderRadius ? parseInt(r.borderRadius) : 0, r.borderWidth = r.borderWidth ? parseInt(r.borderWidth) : 0, !e.vm.comp || 6 != e.vm.comp.type) {
                var a = i.getDefaultJson(), s = e.settingCompJson(a, {css: r});
                return void n.$broadcast("create.submit", s)
            }
            var c = e.vm.comp.compJson;
            e.vm.comp.resetStyle(), r.width = 200, r.height = 36, c.properties.styleImgSrc = null, Object.assign(c.css, r);
            var l = t.getCurrentPage(), p = l.updateEqxComp(c.id, c);
            p && (p && l.renderEqxComp(p), n.$broadcast("wsComp.add", p)), e.vm.opacity = 0
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "buttonFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul style="text-align: center"><li ng-repeat="style in styleList"><a ng-style="style" style="display: block;margin: 0px 0px 12px 0px;line-height: 36px" ng-click="setButtonStyle(style)">{{vm.comp.compJson.type == \'6\' && vm.comp.compJson.properties.title ? vm.comp.compJson.properties.title : \'提交\'}}</a></li></ul>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.vote2", []).directive("compSettingVote2", n(1491)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1494), controller: o};
        return e
    }

    function o(e, t, n, i, o, a, s, c) {
        "ngInject";
        e.FILE = t.FILE;
        var l = a.getDefaultJson(), p = e.comp;
        l[p.compJson.type] = p.compJson;
        var u = e.vm = {
            type: p.compJson.type,
            voteJson: l[p.compJson.type],
            timeConfig: {
                enableClear: !0,
                startDate: l[p.compJson.type].properties.endTime,
                startDateDefault: r.endTimeOfToday(),
                drops: "up"
            }
        };
        e.changeVoteType = function (e) {
            u.type != e && (o.$broadcast("wsComp.delete", p), u.type = e, u.voteJson = l[e], o.$broadcast("add.vote", u.voteJson))
        }, e.changeSelectType = function (e) {
            u.voteJson.properties.selectType != e && (u.voteJson.properties.selectType = e, p.updateTitle(u.voteJson.properties.title, e))
        }, e.getImgSrc = function (t) {
            if (t) return {
                "background-image": "url(" + e.FILE + t + ")",
                "background-size": "contain",
                "background-repeat": "no-repeat",
                "background-position": "50%"
            }
        }, e.imgEdit = function (t, i) {
            var o = {tab: 2, storageKey: ""};
            n.getImage(o).then(function (n) {
                t.src = n.path, e.updateOptions(t, i)
            })
        }, e.addImageOption = function () {
            if (u.voteJson.properties.children.length < 6) {
                o.$broadcast("wsComp.delete", p);
                var e = u.voteJson.properties.children.length;
                u.voteJson.properties.children.push({desc: "选项" + (e + 1), src: "", id: s.randomId()});
                var t = p.toJson();
                t.id = "", o.$broadcast("add.vote", t)
            } else i.openMsgDialog({msg: "（您可以添加6个选项）"})
        }, e.deleImageOption = function (e) {
            o.$broadcast("wsComp.delete", p), u.voteJson.properties.children.splice(e, 1);
            var t = p.toJson();
            t.id = "", o.$broadcast("add.vote", t)
        }, e.updateOptions = function (e, t) {
            p.updateOptions(e, t)
        }, e.addOption = function () {
            u.voteJson.properties.children.length < 6 ? p.addOption() : i.openMsgDialog({msg: "（您可以添加6个选项）"})
        }, e.deleteOption = function (e) {
            p.deleteOption(e)
        }, e.updateTitle = function (e) {
            p.updateTitle(e, u.voteJson.properties.selectType)
        }, e.$watch("vm.voteJson.properties.buttonColor", function (e, t) {
            e !== t && p.updateButtonColor(e)
        })
    }

    o.$inject = ["$scope", "HOST", "imageModalFactory", "modalService", "$rootScope", "voteFactory", "EqxCore", "authorityService"];
    var r = n(934);
    n(1492), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="vote-setting-container2"><div class="style_list_angel clearfix"><label style="margin-top: 15px">投票标题</label><div class="tip-type clearfix"><div class="vote-con" style="float: right"><input style="text-overflow: ellipsis; width: 144px;height:30px;border-radius:3px;margin-top: 3px;padding-right: 38px" ng-change="updateTitle(vm.voteJson.properties.title)" ng-model="vm.voteJson.properties.title" maxlength="40" type="text"/> <span class="str-length" style="margin-top:8px">{{vm.voteJson.properties.title.length}}/40</span></div></div></div><div class="style_list_angel clearfix"><label style="margin-top: 8px">投票类型</label><div class="tip-type clearfix"><a class="btn btn-sm auto-btn" ng-class="{\'blue\': vm.type == \'k\', \'gray\': vm.type == \'j\'}" ng-click="changeVoteType(\'k\')">文字投票</a> <a class="btn btn-sm manual-btn" ng-class="{\'blue\': vm.type == \'j\', \'gray\': vm.type == \'k\'}" ng-click="changeVoteType(\'j\')">图片投票</a></div></div><div class="style_list_angel clearfix"><label style="float: none">投票选项</label><ul ng-if="vm.type == \'k\'" class="vote-text"><li ng-repeat="child in vm.voteJson.properties.children" class="clearfix"><div class="vote-con"><input style="text-overflow: ellipsis;width: 176px;height:30px;border-radius:3px;margin-top: 3px;padding-right: 38px" type="text" ng-change="updateOptions(child)" class="input-list" maxlength="40" ng-model="child.label"> <span class="str-length" style="margin-top:8px">{{child.label.length}}/40</span></div><div style="float: right;margin-top:12px;font-size: 14px;cursor: pointer"><i class="eqf-plus-f" style="color: #1593FF;margin-right:6px" ng-click="addOption()"></i> <i class="eqf-minus-f" ng-if="vm.voteJson.properties.children.length > 2" style="color: #FF5448" ng-click="deleteOption($index)"></i></div></li></ul><ul ng-if="vm.type == \'j\'" class="vote-image"><li ng-repeat="child in vm.voteJson.properties.children" class="clearfix"><div ng-style="getImgSrc(child.src)" class="vote-img-cover" ng-click="imgEdit(child, $index)"></div><div class="vote-con"><input style="text-overflow: ellipsis;width: 176px;height:30px;border-radius:3px;margin-top: 3px;padding-right: 38px" type="text" ng-change="updateOptions(child, $index)" class="input-list" maxlength="40" ng-model="child.desc"> <span class="str-length" style="margin-top:8px">{{child.desc.length}}/40</span></div><div style="float: right;margin-top:12px;font-size: 14px;cursor: pointer"><i class="eqf-plus-f" style="color: #1593FF;margin-right:6px" ng-click="addImageOption()"></i> <i class="eqf-minus-f" ng-if="vm.voteJson.properties.children.length > 2" style="color: #FF5448" ng-click="deleImageOption($index)"></i></div></li></ul></div><div class="style_list_angel clearfix"><label style="margin: 0;line-height: 30px">按钮颜色</label><div class="tip-type clearfix"><div class="color_select clearfix"><eqd-input-color2 select-color="vm.voteJson.properties.buttonColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div></div><div class="style_list_angel clearfix"><label style="margin-bottom: 0px">选项类型</label><div class="radio-square" ng-class="{\'checked\': vm.voteJson.properties.selectType == \'single\'}"><em></em> <input type="radio" id="input_single" ng-click="changeSelectType(\'single\')"></div><label style="margin-bottom: 0px" class="input_single" for="input_single">单选</label><div class="radio-square" ng-class="{\'checked\': vm.voteJson.properties.selectType == \'multi\'}"><em></em> <input type="radio" id="input_multi" ng-click="changeSelectType(\'multi\')"></div><label style="margin-bottom: 0px" class="input_multi" for="input_multi">多选</label></div><div class="style_list_angel clearfix" ng-if="vm.voteJson.properties.selectType == \'multi\'"><label>最多选择</label><div class="tip-type clearfix"><input style="width: 50px; float: left; padding-right: 0px" min="1" max="{{vm.voteJson.properties.children.length}}" ng-model="vm.voteJson.properties.selectCount" type="number"/><label style="margin-left: 7px">项</label></div></div><div class="style_list_angel clearfix"><label>结束时间</label><div class="tip-type clearfix" style="position:relative"><input type="text" style="float: right; width: 220px; height:30px; border-radius: 3px" placeholder="设置结束时间" ng-model="vm.voteJson.properties.endTime" date-picker="vm.timeConfig" ng-readonly="true"/> <i class="eqf-calendar-l icon" style="top:30px"></i></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.radio2", []).directive("compSettingRadio2", n(1496)).directive("radioStyle2", n(1499)).name
}, function (e, t, n) {
    "use strict";
    n(1497), e.exports = function () {
        "ngInject";
        return {
            replace: !0,
            template: n(1498),
            controller: ["$scope", "modalService", "sceneService", "$rootScope", function (e, t, n, i) {
                var o = e.comp, r = e.compJson = o.compJson, a = r.choices, s = a.options;
                r.name;
                e.addOption = function (e) {
                    s.length < 8 ? (++a.seq, s.splice(e + 1, 0, {
                        id: a.seq,
                        label: "选项" + a.seq
                    }), o.updateOptions()) : t.openMsgDialog({msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"})
                }, e.deleteOption = function (e) {
                    s.length > 1 && t.openConfirmDialog({msg: "您确定要删除内容为“" + s[e].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"}).then(function () {
                        s.splice(e, 1), o.updateOptions()
                    })
                }, e.updateTitle = function () {
                    o.updateTitle()
                }, e.$watch("compJson.type", function (e, t) {
                    if (e != t) {
                        var a = JSON.parse(JSON.stringify(r)), s = n.getCurrentPage();
                        s.deleteEqxComp(o);
                        var c = s.initEqxCompByJson(a);
                        c && (s.renderEqxComp(c), i.$broadcast("wsComp.add", c))
                    }
                }), e.$watch("compJson.choices.options", function () {
                    return o.updateOptionsLabel()
                }, !0)
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-radio2"><div class="property"><span class="name">标题</span> <input type="text" class="input-normal fr" maxlength="41" ng-model="compJson.title" ng-change="updateTitle()" style="height:30px"/> <span class="str-length">{{compJson.title.length}}/40</span></div><div class="property"><span class="name">选项</span><ul class="item"><li ng-repeat="option in compJson.choices.options"><input style="text-overflow: ellipsis" type="text" class="input-list" maxlength="41" ng-model="option.label" style="height:30px"> <span class="str-length">{{option.label.length}}/41</span> <i class="eqf-plus-f" ng-click="addOption($index)"></i> <i class="eqf-minus-f" ng-click="deleteOption($index)"></i></li></ul></div><div class="property"><span class="name">选择模式</span><ul class="mode"><li><ui-radio id="mode_radio" name="mode" default-value="r" value="compJson.type"></ui-radio><label for="mode_radio">单选</label></li><li><ui-radio id="mode_checkbox" name="mode" default-value="c" value="compJson.type"></ui-radio><label for="mode_checkbox">多选</label></li></ul></div><div class="property"><ui-checkbox id="require_checkbox" value="compJson.properties.required" style="margin-top: 2px"></ui-checkbox><label style="margin-top: 4px" for="require_checkbox">设为必填项</label></div></div>'
}, function (e, t, n) {
    "use strict";
    n(1500), e.exports = function () {
        return {
            replace: !0,
            template: n(1501),
            controller: ["$rootScope", "$scope", "sceneService", "radioFactory", function (e, t, n, i) {
                "ngInject";
                t.buttons = [{
                    titleStyle: {backgroundColor: "#59c7f9", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#59c7f9"}
                }, {
                    titleStyle: {backgroundColor: "#f6b223", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#f6b223"}
                }, {
                    titleStyle: {backgroundColor: "#333", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#333"}
                }, {
                    titleStyle: {backgroundColor: "#a0d86b", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#a0d86b"}
                }, {
                    titleStyle: {backgroundColor: "#ff6666", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#ff6666"}
                }], t.selectStyle = function (o) {
                    if (!t.vm.comp || "r" != t.vm.comp.type && "c" != t.vm.comp.type) {
                        var r = i.getDefaultJson("r"), a = {
                            css: {
                                borderWidth: o.optionStyle.borderBottomWidth,
                                borderStyle: o.optionStyle.borderBottomStyle,
                                borderColor: o.optionStyle.borderBottomColor,
                                backgroundColor: o.optionStyle.backgroundColor,
                                fontSize: o.optionStyle.fontSize,
                                color: o.optionStyle.color,
                                lineHeight: 1
                            }, properties: JSON.parse(JSON.stringify(o))
                        }, s = t.settingCompJson(r, a);
                        return void e.$broadcast("radio.create." + s.type, s)
                    }
                    $.extend(t.vm.comp.compJson.css, {
                        borderWidth: o.optionStyle.borderBottomWidth,
                        borderStyle: o.optionStyle.borderBottomStyle,
                        borderColor: o.optionStyle.borderBottomColor,
                        backgroundColor: o.optionStyle.borderBottomColor,
                        color: "#ffffff",
                        lineHeight: 1
                    }), $.extend(t.vm.comp.compJson.properties, o);
                    var c = n.getCurrentPage(), l = c.updateEqxComp(t.vm.comp.compJson.id, t.vm.comp.compJson);
                    l && (c.renderEqxComp(l), e.$broadcast("wsComp.updated.style", l))
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-radio"><div class="style"><ul class="items1"><li ng-repeat="btn in buttons" ng-style="{borderColor: btn.optionStyle.borderBottomColor}"><div class="radio-title" ng-style="{backgroundColor: btn.titleStyle.backgroundColor, color: btn.titleStyle.color}">标题演示{{vm.comp.compJson.type === \'c\' ? \'(可多选)\' : \'\'}}</div><ul class="items2"><li ng-repeat="i in [1,2,3]" style="borderColor: #ccd5db"><input type="{{vm.comp.compJson.type === \'c\' ? \'checkbox\' : \'radio\'}}">选项{{$index + 1}}</li></ul><div class="mask" ng-click="selectStyle(btn)"></div></li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.input2", []).directive("compInput2", n(1503)).directive("inputStyle2", n(1505)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", template: n(1504), $scope: {}, controller: ["$scope", function (e) {
                "ngInject";
                var t = e.comp;
                e.inputJson = t.compJson, e.inputTypes = [{value: "501", name: "姓名"}, {
                    value: "502",
                    name: "电话"
                }, {value: "503", name: "邮箱"}, {value: "504", name: "文本"}];
                var n = {501: "姓名", 502: "电话", 503: "邮箱", 504: "文本"};
                e.changeInputType = function (i) {
                    ["姓名", "电话", "邮箱", "文本"].indexOf(e.inputJson.properties.placeholder) > -1 && (e.inputJson.properties.placeholder = n[i], e.inputJson.title = n[i], t.setInputTitle(n[i]))
                }, e.changeInputTitle = function (n) {
                    e.inputJson.properties.placeholder = n, t.setInputTitle(n)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label style="margin-top: 7px">类型</label><div class="color_select clearfix"><select class="flo_right" ng-model="inputJson.type" style="width:155px;border:1px solid #C9C9C9" ng-change="changeInputType(inputJson.type)" ng-options="type.value as type.name for type in inputTypes"></select></div></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">文本</label><div class="color_select clearfix"><input class="flo_right" style="width:155px;padding-right:38px;height: 30px" ng-model="inputJson.title" ng-change="changeInputTitle(inputJson.title)" maxlength="20" type="text"/> <span str="inputJson.title" class="strlen">{{inputJson.title.length}}/20</span></div></div><div class="tab-setting-line"><div class="tab-setting-line-title">文本设置</div></div><comp-setting-font2></comp-setting-font2><div class="style_list_angel clearfix"><div class="touming clearfix"><ui-checkbox value="inputJson.properties.required"></ui-checkbox><label style="padding-top:0;float: none;padding-left: 5px">设为必填项</label></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1507),
            controller: ["$scope", "inputFactory", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = "输入框";
                e.buttons = [{
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#59c7f9",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#fff",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#f6b223",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#333",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#a0d86b",
                        fontSize: "14px"
                    }
                }, {
                    text: i,
                    css: {
                        backgroundColor: "#fff",
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#f66",
                        fontSize: "14px"
                    }
                }], e.chooseTabButton = function (i) {
                    var o = JSON.parse(JSON.stringify(i));
                    if (o.css.lineHeight = 1.5, !e.vm.comp || 5 != ("" + e.vm.comp.type).charAt(0)) {
                        var r = t.getDefaultJson(), a = e.settingCompJson(r, o);
                        return void n.$broadcast("create.input", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.css, o.css), e.vm.comp.$context.css(o.css), e.vm.comp.update$boxDiv(o.css)
                }
            }]
        }
    }

    n(1506), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="input-style-model"><span ng-repeat="button in buttons track by $index" ng-class="{inputActive: $index == btnIndex}" class="all-change input-style"><a style="border-width: 2px !important" ng-style="button.css" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.counter2", []).directive("counterStyle2", n(1509)).directive("compCounter2", n(1512)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1511),
            controller: ["$scope", "sceneService", "$rootScope", "counterFactory", function (e, t, n, i) {
                "ngInject";

                function o(t) {
                    var i = r.updateEqxComp(e.vm.comp.compJson.id, t);
                    i && (r.renderEqxComp(i), n.$broadcast("wsComp.updated.style", i))
                }

                var r = t.getCurrentPage();
                e.counterStyleList = [{
                    compJson: {
                        properties: {
                            color: "#f95540",
                            icon: "eqf-heart-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#eea648",
                            icon: "eqf-zan-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#e41b5c",
                            icon: "eqf-flower2",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "left",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#eea648",
                            icon: "eqf-zan-f",
                            layout: "counter-lr",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            textAlign: "center",
                            borderBottomLeftRadius: "0",
                            borderBottomRightRadius: "0",
                            borderTopLeftRadius: "0",
                            borderTopRightRadius: "0",
                            borderRadius: 0,
                            width: 200,
                            height: 50,
                            lineHeight: "50px",
                            paddingTop: 0,
                            backgroundColor: "#ffffff"
                        }
                    }, number: 0
                }], e.counterStyleList2 = [{
                    compJson: {
                        properties: {
                            color: "#ffffff",
                            icon: "eqf-flower2",
                            layout: "counter-tb",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#a4d762",
                            borderRadius: 40,
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px"
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#ffffff", icon: "eqf-heart-f", layout: "counter-tb", size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#f95540",
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px",
                            borderRadius: 40
                        }
                    }, number: 0
                }, {
                    compJson: {
                        properties: {
                            color: "#ffffff",
                            icon: "eqf-zan-f",
                            layout: "counter-tb",
                            size: "counter-m",
                            imgSrc: ""
                        },
                        css: {
                            width: 80,
                            height: 80,
                            textAlign: "center",
                            backgroundColor: "#f3b100",
                            borderBottomLeftRadius: "40px",
                            borderBottomRightRadius: "40px",
                            borderTopLeftRadius: "40px",
                            borderTopRightRadius: "40px",
                            borderRadius: 40
                        }
                    }, number: 0
                }], e.settingCounterStyle = function (t) {
                    if (t.css.fontSize = "14px", !e.vm.comp || "i" != e.vm.comp.type) {
                        var r = i.getDefaultJson(), a = e.settingCompJson(r, t);
                        return void n.$broadcast("create.counter", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.properties, t.properties), Object.assign(e.vm.comp.compJson.css, t.css), e.vm.maxBorderRadius = t.css.borderRadius, o(e.vm.comp.compJson)
                }
            }]
        }
    }

    n(1510), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="counter-style-contain"><ul class="counter-list-lr"><li class="counter-item-lr" ng-repeat="item in counterStyleList" ng-style="{color: item.compJson.properties.color, textAlign: item.compJson.css.textAlign}" ng-click="settingCounterStyle(item.compJson)"><span class="{{item.compJson.properties.icon}}"></span> <span class="counter-item-lr-number">{{::item.number}}</span></li></ul><ul class="counter-list-tb clearfix"><li class="counter-item-tb" ng-style="{background: item.compJson.css.backgroundColor, color: item.compJson.properties.color}" ng-click="settingCounterStyle(item.compJson)" ng-repeat="item in counterStyleList2"><span class="{{item.compJson.properties.icon}}"></span> <span class="counter-item-tb-number">{{::item.number}}</span></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1514),
            $scope: !1,
            controller: ["$scope", "imageModalFactory", "sceneService", "$rootScope", "authorityService", "HOST", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var t = l.updateEqxComp(s.compJson.id, e);
                    t && (l.renderEqxComp(t), i.$broadcast("wsComp.updated.style", t))
                }

                var s = e.comp, c = e.compJson = s.compJson, l = n.getCurrentPage();
                e.HOST = r, e.tab = "", c.properties.imgSrc ? e.tab = "custom" : e.tab = "default", e.setBtn = function (t) {
                    if (e.tab = t, "default" === t) {
                        e.compJson.properties.imgSrc = "";
                        var n = {width: "200px", height: "50px", backgroundColor: "#f9f9f9", color: "#676767"};
                        s.compJson.properties.icon = "eqf-heart-f", Object.assign(c.css, n);
                        var o = l.updateEqxComp(c.id, c);
                        o && (o.rendered = !1, l.renderEqxComp(o), i.$broadcast("wsComp.add", o))
                    }
                }, e.setLayout = function (e) {
                    s.compJson.properties.layout = e, s.updateLayout()
                }, e.$watch("compProp.color", function (e) {
                    s.update$iconColor(e)
                }), e.openImageModal = function () {
                    t.getImage().then(function (e) {
                        var t = e.path;
                        s.compJson.properties.icon = "", s.compJson.properties.imgSrc = t, s.compJson.css.height < 115 && (s.compJson.css.height = 115, s.compJson.css.lineHeight = "115px"), s.updateLayout()
                    })
                }, e.deleteImage = function () {
                    e.compJson.properties.imgSrc = "", e.comp.deleteImage()
                }, e.chooseEqfont = function (e) {
                    c.properties.icon = e, c.properties.imgSrc = null, "" + e == "eqf-heart-f" ? c.properties.color = "#ff5448" : "" + e == "eqf-zan-f" ? c.properties.color = "#f2a653" : "" + e == "eqf-flower2" ? c.properties.color = "#ea1f64" : "" + e == "eqf-vote" && (c.properties.color = "#59c7f9"), a(c)
                }
            }]
        }
    }

    n(1513), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="counter-box2"><div class="style_list_angel sound-pro-style2 clearfix"><label style="margin-top: 6px">按钮样式</label><a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a> <a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a></div><div class="sound-pro-style2 clearfix" ng-if="tab === \'custom\'"><div class="img-container" ng-click="openImageModal()" ng-style="{\'background-image\': compJson.properties.imgSrc ? \'url({{HOST.FILE + compJson.properties.imgSrc}})\': \'\'}"><i class="eqf-plus" ng-if="!compJson.properties.imgSrc"></i></div><div class="clearfix img-btn" style="margin-top: 8px;margin-bottom: 8px"><a class="del-img" ng-if="compJson.properties.imgSrc" ng-click="deleteImage()">删除图片</a> <a class="replace-img" ng-if="compJson.properties.imgSrc" ng-click="openImageModal()">更换图片</a> <a class="replace-img" ng-if="!compJson.properties.imgSrc" ng-click="openImageModal()">上传图片</a></div></div><div class="counter-layout counter-line" style="margin-top: 8px;margin-bottom: 8px"><label>计数布局</label><span class="counter-layout-setting" style="font-size: 0"><a class="counter-layout-lr" ng-click="setLayout(\'counter-lr\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-lr\'}">左右</a> <a class="counter-layout-tb" ng-click="setLayout(\'counter-tb\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-tb\'}">上下</a></span></div><click-farmer-in-panel2 comp-json="comp.compJson"></click-farmer-in-panel2><div class="style_list_angel clearfix" ng-if="tab == \'default\'"><label style="line-height: 30px">按钮图标</label><div class="comp-counter2-icon clearfix"><a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-heart-f\'}" ng-click="chooseEqfont(\'eqf-heart-f\')"><em class="eqf-heart-f"></em> </a><a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-zan-f\'}" ng-click="chooseEqfont(\'eqf-zan-f\')"><em class="eqf-zan-f"></em></a> <a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-flower2\'}" ng-click="chooseEqfont(\'eqf-flower2\')"><em class="eqf-flower2"></em></a> <a ng-class="{\'icon-hover\': compJson.properties.icon == \'eqf-vote\'}" ng-click="chooseEqfont(\'eqf-vote\')"><em class="eqf-vote"></em></a></div></div><div class="style_list_angel"><label style="margin: 0;line-height: 30px">图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compProp.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("compSetting.score2", []).directive("scoreStyle2", n(1516)).directive("compScore2", n(1519)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1518),
            controller: ["$scope", "sceneService", "$rootScope", "scoreFactory", function (e, t, n, i) {
                "ngInject";

                function o(t) {
                    var i = r.updateEqxComp(e.vm.comp.compJson.id, t);
                    i && (r.renderEqxComp(i), n.$broadcast("wsComp.updated.style", i))
                }

                var r = t.getCurrentPage();
                e.scoreStyleList = [{
                    properties: {color: "#feeb73", icon: "eqf-star-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#ff9307", icon: "eqf-heart-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#ff9307", icon: "eqf-zan-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }, {
                    properties: {color: "#59c7f9", icon: "eqf-flag-l", required: !1, size: "rating-m"},
                    css: {width: 200, height: 46, lineHeight: 1.5, backgroundColor: "#ffffff"},
                    title: "给个好评"
                }], e.settingScoreStyle = function (t) {
                    if (t.css.fontSize = "14px", !e.vm.comp || "a" != e.vm.comp.type) {
                        var r = i.getDefaultJson(), a = e.settingCompJson(r, t);
                        return void n.$broadcast("create.score", a)
                    }
                    e.vm.comp.resetStyle(), Object.assign(e.vm.comp.compJson.properties, t.properties), Object.assign(e.vm.comp.compJson.css, t.css), e.vm.comp.compJson.title = t.title, o(e.vm.comp.compJson)
                }
            }]
        }
    }

    n(1517), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="score-style-contain"><ul class="score-style-list"><li class="score-style-item" ng-repeat="item in scoreStyleList" ng-click="settingScoreStyle(item)"><span class="score-style-item-title">{{::item.title}}</span><div ng-style="{color: item.properties.color}"><span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span> <span class="{{::item.properties.icon}} {{::item.properties.size}}"></span></div></li></ul></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1521),
            $scope: !1,
            controller: ["$rootScope", "$scope", "sceneService", function (e, t, n) {
                "ngInject";

                function i(t) {
                    var n = r.updateEqxComp(o.compJson.id, t);
                    n && (r.renderEqxComp(n), e.$broadcast("wsComp.updated.style", n))
                }

                var o = t.comp, r = n.getCurrentPage();
                t.$watch("compProp.color", function (e) {
                    o.update$iconColor(e)
                }), t.settingScoreTitle = function () {
                    o.update$titleDiv(o.compJson.title)
                }, t.$watch("compProp.require", function (e) {
                    o.updateAttrRequire(e)
                }), t.chooseEqfont = function (e) {
                    o.compJson.properties.icon = e, i(o.compJson)
                }
            }]
        }
    }

    n(1520), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="score-box"><div class="style_list_angel clearfix score-title score-line"><label style="line-height: normal;margin-top: 7px">标题</label><input type="text" style="height:30px" ng-model="comp.compJson.title" placeholder="请输入标题" ng-change="settingScoreTitle()" maxlength="12"/> <span str="comp.compJson.title" strlen class="strlen" max="12" style="top: calc(50% - 8.5px)">{{comp.compJson.title.length}}/12</span></div><div class="style_list_angel clearfix score-attr score-line"><ui-checkbox value="compProp.required" style="margin-right: 5px;float:left"></ui-checkbox><label style="line-height: normal">设为必填项</label></div><div class="style_list_angel clearfix"><label style="line-height: 30px">按钮图标</label><div class="comp-score2-icon clearfix"><a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-star-l\'}" ng-click="chooseEqfont(\'eqf-star-l\')"><em class="eqf-star-l"></em> </a><a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-heart-l\'}" ng-click="chooseEqfont(\'eqf-heart-l\')"><em class="eqf-heart-l"></em></a> <a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-zan-l\'}" ng-click="chooseEqfont(\'eqf-zan-l\')"><em class="eqf-zan-l"></em></a> <a ng-class="{\'icon-hover\': comp.compJson.properties.icon == \'eqf-flag-l\'}" ng-click="chooseEqfont(\'eqf-flag-l\')"><em class="eqf-flag-l"></em></a></div></div><div class="style_list_angel"><label style="margin: 0;line-height: 30px">图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compProp.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.text2", []).directive("textStyle2", n(1523)).directive("compSettingText2", n(1525)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1524),
            controller: ["$scope", "$rootScope", "textFactory", function (e, t, n) {
                "ngInject";
                e.textStyleList = [{
                    styleJson: {fontSize: 48, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "大标题",
                    liCss: {fontSize: "45px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 32, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "标题",
                    liCss: {fontSize: "32px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 24, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "副标题",
                    liCss: {fontSize: "24px", lineHeight: 1.3}
                }, {
                    styleJson: {fontSize: 16, lineHeight: 1.5, fontWeight: "bold", textAlign: "center"},
                    title: "小标题",
                    liCss: {fontSize: "16px", lineHeight: 1.8}
                }, {
                    styleJson: {fontSize: 12, lineHeight: 1.5, fontWeight: "normal"},
                    title: "正文内容",
                    liCss: {fontSize: "12px", lineHeight: 1.8}
                }], e.settingTextStyle = function (i) {
                    if (!e.vm.comp || "2" != e.vm.comp.type) {
                        var o = n.getDefaultJson(), r = e.settingCompJson(o, {css: i});
                        return void t.$broadcast("create.text", r)
                    }
                    e.vm.comp.resetStyle(), e.vm.comp.clearRichText(), e.vm.comp.settingGroupStyle(i), e.vm.comp.adjustHeight()
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div><div class="text-style-contain"><section><div ng-class="{\'h-scroll\': vm.tab == TAB.compStyle}"><div disable-mouse="true" prevent-exception="true"><div class="style_con_hei" ng-if="vm.tab == TAB.compStyle"><ul style="text-align: center"><li ng-repeat="item in textStyleList" ng-click="settingTextStyle(item.styleJson)" ng-style="item.liCss"><a>{{::item.title}}</a></li></ul></div></div></div></section></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1526)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label style="margin: 0;line-height: 30px">文字颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel line-height clearfix" ng-if="!styleLineHeight"><div><label style="margin: 0;line-height: 30px">行高</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="css.lineHeight" fixed="1" min="0" max="3" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="css.lineHeight" step="0.1" min="0" max="3" limit-input/></p></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.image2", []).directive("compSettingImage2", n(1528)).directive("imageStyle2", n(1530)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1529), $scope: !1, link: function (e) {
                var t = e.comp, n = t.compJson.properties, i = t.eqxScene.sceneJson;
                if (n["var"] = n["var"] || {}, n["var"].isUsed = n["var"].isUsed || !1, n["var"].page = n["var"].page || "", n["var"].comp = n["var"].comp || "", e.prop = n, e.pageList = i.list.map(function (e, t) {
                    return {name: e.name || "第" + (t + 1) + "页", id: e.id}
                }), n["var"].page) {
                    var o = i.list.find(function (e) {
                        return e.id === n["var"].page
                    });
                    o && (e.uploadList = o.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
                e.isVarUsed = function () {
                    n["var"].page = "", n["var"].isUsed = !n["var"].isUsed
                }, e.changeScratch = function () {
                    n.scratch = !n.scratch, n.scratch ? t.addScratch() : t.deleScratch()
                }, e.isReplace = function () {
                    n.isReplace = !n.isReplace
                }, e.selectVarPage = function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    n["var"].comp = "";
                    var o = i.list.find(function (e) {
                        return e.id === t
                    });
                    o && (e.uploadList = o.elements.filter(function (e) {
                        return "upload" === e.type
                    }).map(function (e) {
                        return {name: e.name, id: e.id}
                    }))
                }
            }, controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                e.styleVariableComp = t.permission("styleVariableComp"), e.imgScratch = t.permission("imgScratch"), e.isBulkCopy = !t.permission("isBulkCopy")
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><img-view2></img-view2></div><comp-setting-g-sensor2 comp="comp"></comp-setting-g-sensor2><comp-setting-image-reverse2 comp="comp"></comp-setting-image-reverse2><div class="style_list_angel clearfix" ng-if="!imgScratch"><label>涂抹特效</label><div class="fl switch" ng-class="prop.scratch ? \'switch-open\' : \'switch-close\'" ng-click="changeScratch()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><div class="image-variable"><label>变量组件</label><div class="fl switch" ng-class="prop.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="isBulkCopy"><div><label>替换属性</label><div class="fl switch" ng-class="prop.isReplace ? \'switch-open\' : \'switch-close\'" ng-click="isReplace()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp && prop.var.isUsed"><label style="margin-top: 7px">关联页面</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px" ng-model="prop.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(prop.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp &&prop.var.isUsed && prop.var.page"><label style="margin-top: 7px">输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px" ng-model="prop.var.comp" ng-options="upload.id as upload.name for upload in uploadList"><option value="">选择页面上传附件</option></select></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1532),
            controller: ["$scope", "$rootScope", "sceneService", "EqxCore", function (e, t, n, i) {
                "ngInject";
                e.imgStyles = i.core.comp.EqxImage.getImageStyles(), e.addStyle = function (n) {
                    var i = e.vm.comp;
                    i && "4" == i.type ? n != i.compJson.properties.maskSrc && t.$broadcast("wsComp.crop", i, n) : t.$broadcast("create.image", n)
                }, e.delStyle = function () {
                    var i = e.vm.comp;
                    if (i && i.compJson.properties.maskSrc) {
                        i.compJson.properties.maskSrc = "";
                        var o = n.getCurrentPage(), r = o.updateEqxComp(i.compJson.id, i.compJson);
                        r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                    }
                }
            }]
        }
    }

    n(1531), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section id="img_style"><div class="style_con_hei clearfix" style="padding-top: 10px"><ul><li ng-click="delStyle()" style="text-align: center"><span style="line-height: 57px">无</span></li><li ng-repeat="img in imgStyles" ng-style="{backgroundImage: \'url(\' + img.path + \')\'}" ng-click="addStyle(img.path)"></li></ul></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.shape2", []).directive("compSettingShape2", n(1534)).directive("compSettingShapeColor2", n(1536)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1535), $scope: !1}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><img-view2></img-view2></div><comp-setting-shape-color2></comp-setting-shape-color2><comp-setting-image-reverse2 comp="comp"></comp-setting-image-reverse2>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1537), controller: ["$scope", function (e) {
                "ngInject";
                e.shapeAttrs = e.comp.compJson.properties.items;
                var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
                e.scrollShow = !1, e.changePos = function (t) {
                    e.scrollTop = t.y, e.$apply()
                }, e.shapeAttrs && e.shapeAttrs.length > 6 && (e.scrollShow = !0), e.$watch("shapeAttrs", function (n, i) {
                    if (n && n !== i) {
                        var o = n.length, r = e.comp.compJson.properties.src;
                        if (r) {
                            if (!o) return;
                            var a = t.find("[fill], [style*='fill']");
                            $.each(a, function (e) {
                                for (var t = 0; t < o; t++) for (var i = n[t].elements, r = 0; r < i.length; r++) e === i[r] && a.eq(e).css({fill: jQuery.Color(n[t].fill).toString()})
                            })
                        }
                    }
                }, !0)
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-repeat="shapeColor in shapeAttrs"><label style="margin: 0;line-height: 30px">形状颜色{{::$index+1}}</label><div class="color_select clearfix"><eqd-input-color2 select-color="shapeColor.fill" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.video2", []).directive("compSettingVideo2", n(1539)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1540)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = ""
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.sound2", []).directive("soundStyle2", n(1542)).directive("compSettingSound2", n(1544)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", template: n(1543), controller: o};
        return e
    }

    function o(e, t, n, i) {
        "ngInject";

        function o(n) {
            var i = r.updateEqxComp(t.vm.comp.compJson.id, n);
            i && (r.renderEqxComp(i), e.$broadcast("wsComp.add", i))
        }

        t.soundStyleList = [{
            properties: {title: "有惊喜"},
            css: {backgroundColor: "rgb(244, 113, 31)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "听一听"},
            css: {backgroundColor: "rgb(253, 175, 7)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "点我听歌"},
            css: {backgroundColor: "rgb(121, 196, 80)", color: "rgb(255, 255, 255)"}
        }, {
            properties: {title: "点播歌曲"},
            css: {backgroundColor: "rgb(255, 255, 255)", color: "rgb(0, 0, 0)", border: "1px solid #3FB816"}
        }];
        var r = n.getCurrentPage();
        t.setSoundStyle = function (n) {
            if (!t.vm.comp || "s" != t.vm.comp.type) {
                var r = i.getDefaultJson(), a = t.settingCompJson(r, n);
                return void e.$broadcast("create.sound", a)
            }
            t.vm.comp.resetStyle();
            var s = JSON.parse(JSON.stringify(n.css));
            s.width = "100px", s.height = "30px";
            var c = JSON.parse(JSON.stringify(n.properties)), l = t.vm.comp.compJson;
            l.properties.imgSrc = null, Object.assign(l.css, s), Object.assign(l.properties, c), o(t.vm.comp.compJson)
        }
    }

    o.$inject = ["$rootScope", "$scope", "sceneService", "soundFactory"], e.exports = i
}, function (e, t) {
    e.exports = '<ul class="text-align:center;"><li ng-repeat="item in soundStyleList"><a ng-style="item.css" style="display: block;margin: 0px 0px 12px 0px;line-height: 36px;text-align: center" ng-click="setSoundStyle(item)">{{::item.properties.title}}</a></li></ul>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1546), controller: o}
    }

    function o(e, t, n, i, o, r, a, s) {
        "ngInject";
        var c = t.compJson = t.comp.compJson, l = n.getCurrentPage();
        c.properties.title && (c.properties.title = c.properties.title.replace(/&nbsp;/g, " ")), t.updateBtnTitle = function () {
            t.comp.updateBtnTitle(c.properties.title)
        }, t.tab = "", c.properties.title ? t.tab = "default" : (t.tab = "custom", t.comp.$ability.style.compFont.self = !1), t.setBtn = function (n) {
            if (t.tab = n, "default" === n) {
                t.compJson.properties.imgSrc = "";
                var i = {
                    width: "100px",
                    height: "30px",
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    letterSpacing: "0"
                };
                Object.assign(c.css, i), t.compJson.properties = {title: "有惊喜"};
                var o = l.updateEqxComp(c.id, c);
                o && (o.rendered = !1, l.renderEqxComp(o), e.$broadcast("wsComp.add", o))
            }
        }, t.openSoundModal = function () {
            i.open(t.compJson.sound, 4).then(function (t) {
                var n = l.pageJson.properties.triggerGroup, i = a.event.EQX_EVENT, o = a.event.RAW_EVENT,
                    r = n.findIndex(function (e) {
                        return e.sourceId === c.id && e.targetId === c.id && o.click === e.eventType && e.targetState === i.play
                    });
                if (r !== -1 && n.splice(r, 1), t.id) {
                    var s = t.id, p = t.name, u = t.path;
                    c.sound = {id: s, name: p, src: u}, n.push({
                        eventType: o.click,
                        sourceType: "e",
                        sourceId: c.id,
                        targetType: "e",
                        targetId: c.id,
                        targetState: i.play
                    })
                } else delete c.sound;
                var d = l.updateEqxComp(c.id, c);
                d && (l.renderEqxComp(d), e.$broadcast("wsComp.add", d))
            })
        }, t.openImageModal = function () {
            o.getImage().then(function (n) {
                t.compJson.properties.title = "", t.tab = "custom";
                var i = {width: "115px", height: "115px", backgroundColor: ""};
                Object.assign(c.css, i), c.properties.imgSrc = r.FILE + n.tmbPath;
                var o = l.updateEqxComp(c.id, c);
                o && (o.rendered = !1, l.renderEqxComp(o), e.$broadcast("wsComp.add", o))
            })
        }, t.deleteImage = function () {
            t.compJson.properties.imgSrc = "", t.comp.deleteImage()
        }
    }

    o.$inject = ["$rootScope", "$scope", "sceneService", "musicModal", "imageModalFactory", "HOST", "EqxCore", "authorityService"], n(1545), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="style_list_angel sound-pro-style2 clearfix"><label style="margin-top: 6px">按钮样式</label><a class="custom-btn" ng-click="setBtn(\'custom\')" ng-class="{\'active\':tab === \'custom\'}">自定义</a> <a class="default-btn" ng-click="setBtn(\'default\')" ng-class="{\'active\':tab === \'default\'}">默认</a></div><div class="clearfix" ng-if="tab === \'default\'"><div class="style_list_angel sound-pro-style2 clearfix"><label>按钮名称</label><div class="clearfix" style="position: relative"><input style="width: 155px;height: 30px;padding-right: 38px;border-radius:3px" type="text" ng-model="compJson.properties.title" maxlength="12" ng-change="updateBtnTitle()"/><word-count words="compJson.properties.title" style="position: absolute;opacity: 0.3;right: 4px;top: 3px;height: 20px;line-height: 30px"></word-count></div></div><div class="style_list_angel sound-pro-style2 clearfix"><label>按钮颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div></div><div class="sound-pro-style2 clearfix" ng-if="tab === \'custom\'"><div class="img-container" ng-click="openImageModal()" style="background-image: url(\'{{compJson.properties.imgSrc}}\')"><i class="eqf-plus" ng-if="!compJson.properties.imgSrc"></i></div><div class="clearfix img-btn" style="margin-top: 8px"><a class="del-img" ng-if="compJson.properties.imgSrc" ng-click="deleteImage()">删除图片</a> <a class="replace-img" ng-if="compJson.properties.imgSrc" ng-click="openImageModal()">更换图片</a> <a class="replace-img" ng-if="!compJson.properties.imgSrc" ng-click="openImageModal()">上传图片</a></div></div><div class="style_list_angel sound-pro-style2 clearfix"><label>音效</label><div class="sound-file" ng-if="!compJson.sound.name"><span class="sound-name" ng-click="openSoundModal()">{{::compJson.sound.name || \'请添加音效\'}} </span><a class="add-btn" ng-click="openSoundModal()">添加音效</a></div><div class="sound-file" ng-if="compJson.sound.name"><span class="sound-name" ng-click="openSoundModal()">{{::compJson.sound.name}}</span> <a class="add-btn" ng-click="openSoundModal()">更换音效</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.pv2", []).directive("compSettingPv2", n(1548)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1550), controller: o}
    }

    function o(e) {
        "ngInject";
        var t = e.comp;
        e.setLayout = function (e) {
            t.compJson.properties.layout = e, t.updateLayout()
        }
    }

    o.$inject = ["$scope"], n(1549), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="clearfix comp-setting-pv"><div class="pv-icon-color pv-line style_list_angel"><label style="margin: 0;line-height: 30px">图标颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="pv-line style_list_angel" style="height: 46px"><label>布局</label><div class="pv-choice btn-group clearfix"><label class="btn btn-pv" ng-click="setLayout(\'counter-lr\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-lr\'}">左右</label><label class="btn btn-pv" ng-click="setLayout(\'counter-tb\')" ng-class="{\'active\': comp.compJson.properties.layout == \'counter-tb\'}">上下</label></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.time2", []).directive("compSettingTime2", n(1552)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1554), controller: o}
    }

    function o(e, t, n, i, o) {
        "ngInject";

        function a() {
            var t = i.getCurrentPage(), o = t.updateEqxComp(c.id, c);
            o && (t.renderEqxComp(o), n(function () {
                e.$broadcast("wsComp.add", o)
            }))
        }

        var s = t.comp, c = t.compJson = s.compJson;
        if (c.properties.order = 0 === c.properties.order ? 0 : 1, c.properties.split = c.properties.split || "cn", c.properties.mode = c.properties.mode || [!0, !0, !0, !0], t.switchDisplayOrder = function (e) {
            c.properties.order = e, a()
        }, "e" === c.type) {
            t.tab = "downTime", "" === c.properties.endTime && (c.properties.endTime = r.nowTime());
            var l = t.vm = {
                endTime: c.properties.endTime || r.nowTime(),
                arriveTipsContent: c.properties.arriveTipsContent || "",
                arriveTips: !("arriveTips" in c.properties) || c.properties.arriveTips
            };
            t.timeConfig = {startDate: l.endTime}
        } else {
            t.tab = "upTime";
            var p = t.vm = {
                startTime: c.properties.startTime || r.nowTime(),
                arriveTipsContent: c.properties.arriveTipsContent || "",
                arriveTips: !("arriveTips" in c.properties) || c.properties.arriveTips
            };
            t.timeConfig = {startDate: p.startTime}
        }
        t.switchTimeType = function (n) {
            if (t.tab !== n) {
                var o = {
                    top: c.css.top || "100px",
                    left: c.css.left || "5px",
                    width: c.css.width || "310px",
                    height: c.css.height || "38px",
                    fontSize: c.css.fontSize || 24
                };
                if ("downTime" === n) {
                    c.type = "e", delete c.properties.startTime;
                    var a = t.vm = {endTime: r.nowTime(), arriveTipsContent: "", arriveTips: !0};
                    t.timeConfig = {startDate: c.properties.endTime || a.endTime}, Object.assign(c.properties, a), Object.assign(c.css, o)
                } else {
                    c.type = "f", delete c.properties.endTime;
                    var s = t.vm = {startTime: r.nowTime(), arriveTipsContent: "", arriveTips: !0};
                    t.timeConfig = {startDate: c.properties.startTime || s.startTime}, Object.assign(c.properties, s), Object.assign(c.css, o)
                }
                var l = JSON.parse(JSON.stringify(c)), p = i.getCurrentPage();
                p.deleteEqxComp(t.comp);
                var u = p.initEqxCompByJson(l);
                u && (p.renderEqxComp(u), e.$broadcast("wsComp.add", u))
            }
            t.tab = n
        }, t.$watch("vm.endTime", function (e, n) {
            var i = new Date(e).Format("yyyy-MM-dd hh:mm"), o = new Date(n).Format("yyyy-MM-dd hh:mm");
            if (e && n && o !== i) {
                var r = new Date(t.vm.endTime).getTime();
                c.properties.endTime !== r && (c.properties.endTime = r, a())
            }
        }), t.$watch("vm.startTime", function (e, n) {
            var i = new Date(e).Format("yyyy-MM-dd hh:mm"), o = new Date(n).Format("yyyy-MM-dd hh:mm");
            if (e && n && o !== i) {
                var r = new Date(t.vm.startTime).getTime();
                c.properties.startTime !== r && (c.properties.startTime = r, a())
            }
        }), t.updateContent = function () {
            c.properties.arriveTipsContent !== t.vm.arriveTipsContent && (c.properties.arriveTipsContent = t.vm.arriveTipsContent, a())
        }, t.updateTips = function (e) {
            c.properties.arriveTips = e, a()
        }, t.renderTime = a, Date.prototype.Format = function (e) {
            var t = {
                "M+": this.getMonth() + 1,
                "d+": this.getDate(),
                "h+": this.getHours(),
                "m+": this.getMinutes(),
                "s+": this.getSeconds(),
                "q+": Math.floor((this.getMonth() + 3) / 3),
                S: this.getMilliseconds()
            };
            /(y+)/.test(e) && (e = e.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
            for (var n in t) new RegExp("(" + n + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? t[n] : ("00" + t[n]).substr(("" + t[n]).length)));
            return e
        }
    }

    o.$inject = ["$rootScope", "$scope", "$timeout", "sceneService", "authorityService"], n(1553);
    var r = n(934);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="time-setting-style-contain2"><div class="style_list_angel time-setting-style2 clearfix"><label>计时类型</label><a class="down-btn" ng-click="switchTimeType(\'downTime\')" ng-class="{\'active\':tab === \'downTime\'}">倒计时</a> <a class="up-btn" ng-click="switchTimeType(\'upTime\')" ng-class="{\'active\':tab === \'upTime\'}">正计时</a></div><div class="clearfix" ng-if="tab === \'downTime\'"><div class="style_list_angel time-setting-style2"><label>截止时间</label><div class="form-input clearfix" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" name="daterange" ng-model="vm.endTime" class="btn-name count-date" type="text" ng-readonly="true"/> <i class="eqf-calendar-l"></i></div></div><div class="style_list_angel time-setting-style2"><label>截止后显示</label><input class="btn-name time-arrive-tips" style="margin-left:11px" type="text" placeholder="开始啦!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" ng-blur="updateContent()"/></div><div class="style_list_angel time-setting-style2 clearfix" style="padding: 2px 0px 8px 0px"><span style="float:right">不显示</span><div class="checkbox-square time-show-tips" ng-class="{checked: !vm.arriveTips}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.arriveTips" name="iCheck" ng-click="updateTips(vm.arriveTips)"></div></div></div><div class="clearfix" ng-if="tab === \'upTime\'"><div class="style_list_angel time-setting-style2"><label>开始时间</label><div class="form-input clearfix" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" name="daterange" ng-model="vm.startTime" class="btn-name count-date" type="text" ng-readonly="true"/> <i class="eqf-calendar-l"></i></div></div><div class="style_list_angel time-setting-style2"><label>开始前显示</label><input class="btn-name time-arrive-tips" type="text" placeholder="还没开始!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" ng-blur="updateContent()"/></div><div class="style_list_angel time-setting-style2 clearfix"><span style="float: right">不显示</span><div class="checkbox-square time-show-tips" ng-class="{checked: !vm.arriveTips}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.arriveTips" name="iCheck" ng-click="updateTips(vm.arriveTips)"></div></div></div><div class="style_list_angel split clearfix"><label>显示精度</label><div class="display-mode clearfix"><div class="item clearfix"><div class="checkbox-square time-show-tips" ng-class="{checked: compJson.properties.mode[0]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[0]" ng-change="renderTime()" name="iCheck"></div><span>天</span></div><div class="item clearfix"><div class="checkbox-square time-show-tips" ng-class="{checked: compJson.properties.mode[1]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[1]" ng-change="renderTime()" name="iCheck"></div><span>时</span></div><div class="item clearfix"><div class="checkbox-square time-show-tips" ng-class="{checked: compJson.properties.mode[2]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[2]" ng-change="renderTime()" name="iCheck"></div><span>分</span></div><div class="item clearfix"><div class="checkbox-square time-show-tips" ng-class="{checked: compJson.properties.mode[3]}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="compJson.properties.mode[3]" ng-change="renderTime()" name="iCheck"></div><span>秒</span></div></div></div><div class="style_list_angel split clearfix"><label style="margin-top: 4px">分割样式</label><div class="touming" style="float:right"><select ng-model="compJson.properties.split" ng-change="renderTime()"><option value="cn">中文</option><option value="en">英文</option><option value="char">字符</option></select></div></div><div class="style_list_angel display-order clearfix"><label style="margin-top: 7px">显示顺序</label><div style="float:right"><a class="up-btn" ng-click="switchDisplayOrder(1)" ng-class="{\'active\': compJson.properties.order === 1}">正序</a> <a class="down-btn" ng-click="switchDisplayOrder(0)" ng-class="{\'active\': compJson.properties.order === 0}">倒序</a></div></div><div class="style_list_angel clearfix"><div class="tab-setting-line"><div class="tab-setting-line-title" style="font-size: 14px">文本设置</div></div><comp-setting-font2></comp-setting-font2></div></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.wx2", []).directive("compSettingWx2", n(1556)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1557), controller: ["$scope", "sceneService", function (e, t) {
                "ngInject";
                var n = t.getCurrentPage(),
                    i = e.vm = {content: e.comp.compJson.content, type: e.comp.compJson.properties.type},
                    o = e.comp.compJson;
                e.settingNiketype = function () {
                    o.properties.type = i.type;
                    var e = o.properties.id, t = n.getCompJsonById(e);
                    t.properties.type = i.type
                }, e.settingContent = function () {
                    e.comp.updateContent(i.content)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-if="comp.type == \'201\'"><label style="margin-top:8px">文字内容</label><div class="color_select clearfix" style="float:right"><input class="flo_right" style="width:144px;height:30px;border-radius: 3px;line-height: 30px;padding-left:12px" ng-model="vm.content" ng-change="settingContent()" type="text"/></div></div><comp-setting-font2 ng-if="comp.type == \'201\' || comp.type == \'w01\' || comp.type == \'w02\'"></comp-setting-font2><div class="style_list_angel clearfix" ng-show="comp.type != \'403\' && comp.type != \'w01\' && comp.type != \'w02\'"><label style="margin-top:8px">昵称类型</label><div class="touming clearfix" style="float:right"><select style="border:1px solid #ccd5db;height:30px;width:144px;line-height: 30px" ng-model="vm.type" ng-change="settingNiketype()"><option value="own">浏览者昵称头像</option><option value="share">分享者昵称头像</option></select></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.newText2", []).directive("compSettingNewText2", n(1559)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1560), controller: o}
    }

    function o(e, t, n) {
        "ngInject";

        function i(e) {
            return e.replace(/(<br(\s+\/)?>)+/g, function (e) {
                return e.replace(/<br(\s+\/)?>/g, "\n") + "\n"
            })
        }

        var o = e.comp, r = e.compJson = o.compJson, a = e.prop = r.properties, s = o.eqxScene.sceneJson, c = null;
        e.vm = {}, e.vm.content = i(r.content), e.isBulkCopy = !t.permission("isBulkCopy"), e.vm.content || o.updateContent("请输入文本"), n.$on("newText.updateContent", function (t, n) {
            e.$apply(function () {
                e.vm.content = i(r.content), o.$li && o.autoAdjustSize(8 === n ? 0 : 1)
            })
        }), e.textareaKeyUp = function (t) {
            e.vm.content = t.target.value, e.vm.content ? (r.content = e.vm.content.replace(/(\n|\r)/g, "<br>"), o.updateContent(r.content), o.autoAdjustSize(8 === t.keyCode ? 0 : 1)) : (r.content = "", o.updateContent("请输入文本"), o.autoAdjustSize(8 === t.keyCode ? 0 : 1))
        }, a["var"] = a["var"] || {}, a["var"].isUsed = a["var"].isUsed || !1, a["var"].page = a["var"].page || "", a["var"].comp = a["var"].comp || "", a.adjustWHMode = !!a.adjustWHMode, a.adjustFSMode = !!a.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = s.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), a["var"].page && (c = s.list.find(function (e) {
            return e.id === a["var"].page
        }), e.inputList = c.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            a.adjustWHMode = !1, a.adjustFSMode = !1, "1" === e ? a.adjustWHMode = !0 : "2" === e && (a.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            a["var"].page = "", a["var"].isUsed = !a["var"].isUsed
        }, e.isReplace = function () {
            a.isReplace = !a.isReplace
        }, e.selectVarPage = function (t) {
            a["var"].comp = "", t && (c = s.list.find(function (e) {
                return e.id === t
            }), c && (e.inputList = c.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "$rootScope"], e.exports = i
}, function (e, t) {
    e.exports = '<div><div class="style_list_angel clearfix"><div class="newt-text-content clearfix"><textarea rows="3" style="height:60px" placeholder="请输入文本" ng-trim="“false”" ng-model="vm.content" ng-keyup="textareaKeyUp($event)"></textarea></div></div><comp-setting-font2></comp-setting-font2><div class="style_list_angel clearfix" ng-if="!newTextAdjustMode"><label style="margin-bottom: 0">调整模式</label><div style="float: left;overflow: hidden"><ui-checkbox value="prop.adjustWHMode" style="float: left" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 5px;float: left">宽高固定</span></div><div style="float: right"><ui-checkbox value="prop.adjustFSMode" style="float: left" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 5px;float: left">字号固定</span></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><div><label>变量组件</label><div class="fl switch" ng-class="compJson.properties.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed"><label style="margin-top: 7px">关联页面</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(compJson.properties.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed &&\n                compJson.properties.var.page"><label style="margin-top: 7px">输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div><div class="style_list_angel clearfix" ng-if="isBulkCopy"><div><label>替换属性</label><div class="fl switch" ng-class="compJson.properties.isReplace ? \'switch-open\' : \'switch-close\'" ng-click="isReplace()"><div class="circle-con"><i class="circle"></i></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.hotNewText2", []).directive("compSettingHotNewText2", n(1562)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1564), controller: o}
    }

    function o(e, t, n, i) {
        "ngInject";
        var o = e.comp, r = e.compJson = o.compJson, a = e.prop = r.properties || {}, s = o.eqxScene.sceneJson,
            c = null;
        e.options = a.options = a.options || [], e.vm = {}, e.vm.content = r.content.replace(/<br>/g, "\n"), e.vm.content || o.updateContent("请输入文本"), e.countCharacters = n, e.textareaKeyUp = function (t) {
            e.vm.content ? (r.content = e.vm.content.replace(/(\n|\r)/g, "<br>"), o.updateContent(r.content), o.autoAdjustSize(8 === t.keyCode ? 0 : 1)) : (r.content = "", o.updateContent("请输入文本"), o.autoAdjustSize(8 === t.keyCode ? 0 : 1))
        }, a["var"] = a["var"] || {}, a["var"].isUsed = a["var"].isUsed || !1, a["var"].page = a["var"].page || "", a["var"].comp = a["var"].comp || "", a.adjustWHMode = !!a.adjustWHMode, a.adjustFSMode = !!a.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = s.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), e.settingSelect = function () {
            a["var"].isSelect ? e.options.push({label: "自定义"}) : e.options = a.options = []
        }, e.addOption = function (t) {
            e.options.length < 10 ? e.options.splice(t + 1, 0, {label: "自定义"}) : i.openMsgDialog({msg: "您可以添加10个选项，每个选项最多请不要超过20字符。"})
        }, e.deleteOption = function (t) {
            e.options.length > 1 ? e.options.splice(t, 1) : i.openMsgDialog({msg: "至少保留一项"})
        }, a["var"].page && (c = s.list.find(function (e) {
            return e.id === a["var"].page
        }), e.inputList = c.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            a.adjustWHMode = !1, a.adjustFSMode = !1, "1" === e ? a.adjustWHMode = !0 : "2" === e && (a.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            a["var"].page = "", a["var"].isUsed = !a["var"].isUsed
        }, e.selectVarPage = function (t) {
            a["var"].comp = "", t && (c = s.list.find(function (e) {
                return e.id === t
            }), c && (e.inputList = c.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "validCharacterNumFilter", "modalService"], n(1563), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div><div class="style_list_angel clearfix"><div class="newt-text-content clearfix"><textarea rows="3" style="height:60px" placeholder="请输入文本" ng-model="vm.content" ng-keyup="textareaKeyUp($event)"></textarea></div><div class="hot-new-text-select"><input type="checkbox" class="hot-new-text-checkbox" ng-change="settingSelect()" ng-model="prop.var.isSelect">下拉框文本<div ng-if="prop.var.isSelect"><div class="optionPart" ng-repeat="option in options track by $index"><input class="optionInput2" type="text" style="height:30px" check-count="20" ng-change="changeEditDropdown()" stop-propagation ng-model="option.label"/> <span class="optionSpan">{{(option.label?countCharacters(option.label.trim()):0)}}/20</span><div class="iconPart"><a class="iconPlus"><span class="eqf-plus iconBlue" ng-click="addOption($index + 1)"></span></a> <a class="iconMinus"><span class="eqf-delete2 iconRed" ng-click="deleteOption($index)"></span></a></div></div></div></div></div><comp-setting-font2></comp-setting-font2><div class="style_list_angel clearfix" ng-if="!newTextAdjustMode"><label style="margin-bottom: 0">调整模式</label><div style="float: left;overflow: hidden"><ui-checkbox value="prop.adjustWHMode" style="float: left" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 5px;float: left">宽高固定</span></div><div style="float: right"><ui-checkbox value="prop.adjustFSMode" style="float: left" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 5px;float: left">字号固定</span></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><div><label>变量组件</label><div class="fl switch" ng-class="compJson.properties.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed"><label style="margin-top: 7px">关联页面</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(compJson.properties.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed &&\n                compJson.properties.var.page"><label style="margin-top: 7px">输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.imageSlider2", []).directive("compSettingImageSlider2", n(1566)).directive("imageonload", function () {
        return {
            restrict: "A", link: function (e, t) {
                t.bind("load", function () {
                    var e = t.parent(), n = e.width(), i = e.height(), o = this.naturalWidth || t.width(),
                        r = this.naturalHeight || t.height(), a = void 0;
                    a = o / r > n / i ? {width: n + "px", height: n * r / o + "px"} : {
                        width: i * o / r + "px",
                        height: i + "px"
                    }, t.css(a)
                })
            }
        }
    }).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1568), controller: o}
    }

    function o(e, t, n, i, o, s, c, l) {
        "ngInject";

        function p(e, t) {
            var n = i.getCurrentPage(), r = n.updateEqxComp(e, t);
            r && (n.renderEqxComp(r), o.$broadcast("wsComp.add", r))
        }

        var u = e.comp, d = u.compJson;
        e.vm.backgroundColor = d.css.backgroundColor, e.vm.tabs = d.properties.children || [], e.vm.selected = 0, e.vm.method = d.properties.autoPlay ? "auto" : "manual", e.vm.currentImageUrl = "", e.vm.interval = parseInt(d.properties.interval / 1e3) || 2, e.vm.anims = r, e.vm.animation = d.properties.picStyle ? d.properties.picStyle + "" : "1", e.switchImage = function (n) {
            e.vm.selected = n, e.vm.currentImageUrl = e.vm.tabs[n].src ? t.FILE + e.vm.tabs[n].src : null;
            var i = e.vm.tabs[n].src;
            i && i.indexOf("/c/images/demo") !== -1 && (e.vm.currentImageUrl = i), "manual" === e.vm.method && u.flux.currentImageIndex !== n && u.flux.showImage(n)
        };
        for (var m = 0; m < e.vm.tabs.length; m++) if (e.vm.tabs[m].src) {
            e.switchImage(m);
            break
        }
        e.rmImageTab = function () {
            if (e.vm.tabs.length <= 2) return void n.success("图集中至少存在2张图片");
            var i = e.vm.selected, o = e.vm.tabs[i === e.vm.tabs.length - 1 ? 0 : i + 1].src;
            e.vm.currentImageUrl = o ? t.FILE + o : null, e.vm.tabs.splice(i, 1), p(d.id, d)
        }, e.addImageTab = function () {
            return 6 === e.vm.tabs.length ? void n.success("最多可添加6张图片") : (e.vm.tabs.push({
                width: "115px",
                height: "115px",
                src: a[e.vm.tabs.length % 3]
            }), void p(d.id, d))
        }, e.editImage = function () {
            var t = e.vm.selected;
            s.getImage().then(function (n) {
                var i = n.path, o = JSON.parse(JSON.stringify(d));
                /\?imageMogr2/.test(i) || (i += "?imageMogr2/auto-orient");
                var r = {
                    type: d.type,
                    title: "图片裁切",
                    desc: "请根据你的需求，点击右侧常用比例进行裁切",
                    showItems: !0,
                    imgSrc: i,
                    cropItems: [{value: 2, ratio: 1, desc: "1:1"}, {value: 3, ratio: 4 / 3, desc: "4:3"}, {
                        value: 4,
                        ratio: .75,
                        desc: "3:4"
                    }, {value: 5, ratio: 320 / 486, desc: "标准屏比例"}, {
                        value: 6,
                        ratio: 320 / 243,
                        desc: "1/2屏比例"
                    }, {value: 7, ratio: 320 / 162, desc: "1/3屏比例"}, {value: 8, ratio: -1, desc: "自定义", lock: !1}]
                };
                c.openCropModal(o, r).then(function (i) {
                    var o = i.image;
                    Object.assign(e.vm.tabs[t], {
                        cropSize: o.cropSize,
                        src: o.src,
                        originSrc: n.path,
                        height: o.height,
                        width: o.width
                    }), p(d.id, d)
                })
            })
        }, e.cutImage = function () {
            var t = e.vm.selected, n = e.vm.tabs[t].originSrc, i = JSON.parse(JSON.stringify(d));
            /\?imageMogr2/.test(n) || (n += "?imageMogr2/auto-orient");
            var o = {
                type: d.type,
                title: "图片裁切",
                desc: "请根据你的需求，点击右侧常用比例进行裁切",
                showItems: !0,
                imgSrc: n,
                cropItems: [{value: 2, ratio: 1, desc: "1:1"}, {value: 3, ratio: 4 / 3, desc: "4:3"}, {
                    value: 4,
                    ratio: .75,
                    desc: "3:4"
                }, {value: 5, ratio: 320 / 486, desc: "标准屏比例"}, {value: 6, ratio: 320 / 243, desc: "1/2屏比例"}, {
                    value: 7,
                    ratio: 320 / 162,
                    desc: "1/3屏比例"
                }, {value: 8, ratio: -1, desc: "自定义", lock: !1}]
            };
            c.openCropModal(i, o).then(function (n) {
                var i = n.image;
                Object.assign(e.vm.tabs[t], {
                    cropSize: i.cropSize,
                    src: i.src,
                    height: i.height,
                    width: i.width
                }), p(d.id, d)
            })
        }, e.changeSwitchMethod = function (t) {
            e.vm.method = t, d.properties.autoPlay = "auto" === t;
            var n = u.flux;
            "manual" === t ? (n.stop(), n.showImage(0)) : n.start()
        }, e.changeAnimation = function (t) {
            d.properties.picStyle = parseInt(t);
            var n = u.flux;
            n.options.transitions = [r.find(function (e) {
                return e.value === parseInt(t)
            }).name], "auto" === e.method && (n.stop(), n.start())
        }, e.$watch("vm.backgroundColor", function (e, t) {
            e !== t && u.update$boxDiv({backgroundColor: e})
        }), e.$watch("vm.interval", function (e, t) {
            if (e !== t) {
                d.properties.interval = 1e3 * e;
                var n = u.flux;
                n.options.delay = 1e3 * e, n.stop(), n.start()
            }
        })
    }

    o.$inject = ["$scope", "HOST", "notifier", "sceneService", "$rootScope", "imageModalFactory", "imageCropFactory", "authorityService"], n(1567), e.exports = i;
    var r = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
        value: 3,
        desc: "百页窗",
        name: "blinds"
    }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
        value: 9,
        desc: "梳理",
        name: "zip"
    }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
        value: 14,
        desc: "棋盘",
        name: "tiles3d"
    }, {value: 16, desc: "飞出", name: "explode"}], a = [n(1349), n(1350), n(1351)]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-image-slider2"><div class="style_list_angel image-slider-preview clearfix"><div class="nav-btns"><div class="item"><a class="rm-tab" ng-click="rmImageTab()">-</a></div><div class="item" ng-repeat="tab in vm.tabs track by $index"><a class="tab-btn" ng-bind="$index + 1" ng-click="switchImage($index)" ng-class="{selected: vm.selected == $index}"></a></div><div class="item"><a class="add-tab" ng-click="addImageTab()">+</a></div></div><div class="preview" ng-click="editImage()"><i class="eqf-plus" ng-if="!vm.currentImageUrl"></i> <img ng-if="vm.currentImageUrl" ng-src="{{vm.currentImageUrl}}" imageonload/></div><div class="fun-btns"><a class="btn btn-sm cut-btn" ng-if="vm.currentImageUrl" ng-click="cutImage()">裁切图片</a> <a class="btn btn-sm rp-btn" ng-if="vm.currentImageUrl" ng-click="editImage()">更换图片</a> <a class="btn btn-sm add-btn" ng-if="!vm.currentImageUrl" ng-click="editImage()">添加图片</a></div></div><div class="style_list_angel clearfix"><label>切换方式</label><div class="switch-method clearfix"><a class="btn btn-sm auto-btn" ng-class="{selected: vm.method == \'auto\'}" ng-click="changeSwitchMethod(\'auto\')">自动</a> <a class="btn btn-sm manual-btn" ng-class="{selected: vm.method == \'manual\'}" ng-click="changeSwitchMethod(\'manual\')">手动</a></div></div><div class="style_list_angel clearfix"><label>切换时间</label><div class="interval clearfix"><p class="num"><input limit-input readonly="readonly" type="number" ng-model="vm.interval"/></p><div ui-slider-t class="slider2" type="n" step="1" min="1" max="5" ng-model="vm.interval" ng-class="{disable: vm.method == \'manual\'}"></div></div></div><div class="style_list_angel clearfix"><label>切换动画</label><div class="animation clearfix"><select ng-model="vm.animation" ng-change="changeAnimation(vm.animation)"><option ng-repeat="anim in vm.anims" ng-bind="anim.desc" value="{{anim.value}}"></option></select></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.drawingBoard2", []).directive("compSettingDrawingBoard2", n(1570)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1572),
            controller: ["$scope", "HOST", "imageModalFactory", "authorityService", function (e, t, n, i) {
                "ngInject";
                e.compJson = e.comp.compJson, e.getImageSrc = function () {
                    var n = "";
                    return e.compJson.properties.imgSrc && (n = "" + (t.FILE + e.compJson.properties.imgSrc)), {"background-image": "url(" + n + ")"}
                }, e.addImg = function () {
                    n.getImage().then(function (t) {
                        e.compJson.properties.imgSrc = t.path, e.comp.clearCanvas(), e.comp.drawingImage(t.path)
                    })
                }, e.deleImg = function () {
                    e.compJson.properties.imgSrc = "", e.comp.clearCanvas()
                }, e.$watch("compJson.properties.boardColor", function (t, n) {
                    t !== n && e.comp.setCanvasBgColor(t)
                })
            }]
        }
    }

    n(1571), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix drawing-board"><div class="drawing-image-view" ng-style="getImageSrc()"></div><a class="btn btn-sm deleteImage" ng-click="deleImg()">删除图片</a> <a class="btn btn-sm changeImage" style="float: right" ng-click="addImg()">更换图片</a></div><div class="style_list_angel clearfix drawing-board-pen-size"><label style="margin: 0;line-height: 30px">画笔尺寸</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="compJson.properties.penSize" min="0" max="30" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="compJson.properties.penSize" min="0" max="30" limit-input/></p></div></div><div class="style_list_angel clearfix"><label style="margin: 0;line-height: 30px">画笔颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.penColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel clearfix"><label style="margin: 0;line-height: 30px">画板颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="compJson.properties.boardColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.interactiveVideo2", []).directive("compSettingInteractiveVideo2", n(1574)).directive("convertToNumber2", function () {
        return {
            require: "ngModel", link: function (e, t, n, i) {
                i.$parsers.push(function (e) {
                    return parseInt(e, 10)
                }), i.$formatters.push(function (e) {
                    return "" + e
                })
            }
        }
    }).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1576),
            controller: ["$scope", "sceneService", "fileAPI", "HOST", "EqxCore", function (e, t, n, i, o) {
                "ngInject";
                var r = o.event.EQX_EVENT, a = o.event.RAW_EVENT, s = t.getCurrentPage(), c = e.comp.compJson,
                    l = c.src ? "更换" : "上传", p = e.vm = {
                        autoplay: c.autoplay,
                        receive: "",
                        eqxCompList: s.eqxCompList.filter(function (e) {
                            return e.$ability.trigger.self
                        }),
                        uploadOptions: {
                            tokenType: "video",
                            extensions: "mp4",
                            maxFileSize: 30,
                            uploadBtn: "upload-video",
                            uploadCon: "video-container2",
                            maxCount: 1,
                            uploadTips: l,
                            msg: "",
                            success: function (e) {
                                n.videoCodec(e.path).then(function (e) {
                                    return p.uploadOptions.uploadTips = "视频转码中...", n.pollingStatus(e.data.obj)
                                }).then(function (t) {
                                    var o = Object.assign({}, e, {fileType: 5, bizType: 0, tagId: 0});
                                    o.path = t, n.saveFileInfo(o), c.src = i.VIDEO + o.path, p.uploadOptions.uploadTips = "更换"
                                }, function () {
                                    p.uploadOptions.uploadTips = "上传失败"
                                })
                            }
                        }
                    };
                if ("2" === c.autoplay) {
                    var u = s.pageJson.properties.triggerGroup.find(function (e) {
                        return e.eventType == a.click && e.targetId == c.id && e.targetState == r.play
                    });
                    u && (p.receive = u.sourceId)
                }
                e.changAutoPlay = function (e) {
                    c.autoplay = e
                }, e.changeReceive = function (e) {
                    if (e) {
                        var t = s.pageJson.properties.triggerGroup, n = t.find(function (t) {
                            return t.eventType == a.click && t.sourceId == e && t.targetState == r.play
                        });
                        if (n) n.targetId = c.id; else {
                            var i = t.some(function (t) {
                                return t.eventType == a.click && t.sourceId == e && t.targetId == c.id && t.targetState == r.paly
                            });
                            i || t.push({
                                eventType: a.click,
                                sourceId: e,
                                sourceType: "e",
                                targetId: c.id,
                                targetType: "e",
                                targetState: r.play
                            })
                        }
                    }
                }
            }]
        }
    }

    n(1575), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" id="video-container2"><label style="margin-top: 8px">视频源</label><div class="clearfix"><a class="flo_right" id="upload-video" eqx-upload="vm.uploadOptions">{{vm.uploadOptions.uploadTips}}</a></div></div><div class="style_list_angel clearfix"><label class="flo_right" style="width: auto">还没有视频， <a style="text-decoration: underline; color: #1593FF" href="http://www.oranges-china.com" target="_blank">点我制作</a></label></div><div class="style_list_angel clearfix interactive-video-play"><label style="margin-top: 7px">播放形式</label><div class="clearfix"><select class="flo_right" ng-change="changAutoPlay(vm.autoplay)" ng-model="vm.autoplay"><option value="1">自动播放</option><option value="2">触发播放</option></select></div></div><div ng-if="vm.autoplay == 2" class="style_list_angel clearfix"><label>设置触发源</label><div class="clearfix"><select class="flo_right" ng-change="changeReceive(vm.receive)" ng-model="vm.receive" convert-to-number><option value="">请选择触发源</option><option ng-repeat="eqxComp in vm.eqxCompList" value="{{eqxComp.compJson.id}}">{{::eqxComp.compJson.name}}</option></select></div></div><div class="style_list_angel clearfix"><div class="touming clearfix" style="display: flex; text-align: center"><ui-checkbox value="comp.compJson.properties.loop"></ui-checkbox><label class="reset-label" style="margin-left: 5px">循环播放</label></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.randomContent2", []).directive("compSettingRandomContent2", n(1578)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1580), controller: o}
    }

    function o(e, t, n, i, o, r, a) {
        "ngInject";

        function s() {
            var e = l.properties.contentType, o = "t" === e ? i.getDefaultJson() : i.getImgJson(),
                r = t.getCurrentPage(), a = r.initEqxCompByJson(o);
            a && (r.deleteEqxComp(c), r.renderEqxComp(a), n.$broadcast("wsComp.add", a))
        }

        var c = e.comp, l = e.compJson = c.compJson;
        e.vm = {}, e.pre = o.FILE, "t" === l.properties.contentType ? (e.vm.texts = l.properties.texts.map(function (e) {
            return e.replace(/<br>/g, "\n")
        }), e.vm.texts[0] || c.updateContent("请输入文本")) : "i" === l.properties.contentType && (e.vm.imgs = l.properties.imgs), e.rmImgItem = function (t) {
            e.vm.imgs.length > 1 && (e.vm.imgs.splice(t, 1), c.updateImg(e.vm.imgs[0].src))
        }, e.addImgItem = function () {
            r.getImage().then(function (t) {
                var n = t.src || t.path, i = t.shape,
                    o = {src: n, originSrc: n, cropSize: void 0, width: i.width, height: i.height};
                e.vm.imgs.unshift(o)
            })
        }, e.switchContentType = function (e) {
            l.properties.contentType = e, s()
        }, e.addTextItem = function (t) {
            e.vm.texts.splice(t + 1, 0, "请输入文本"), l.properties.texts.splice(t + 1, 0, "请输入文本")
        }, e.rmTextItem = function (t) {
            e.vm.texts.length > 1 && (e.vm.texts.splice(t, 1), l.properties.texts.splice(t, 1), c.updateContent(e.vm.texts[0] || "请输入文本"), c.autoAdjustSize())
        }, e.textareaKeyUp = function (t, n) {
            var i = l.properties.texts;
            t ? (e.vm.texts[n] = t, i[n] = t.replace(/(\n|\r)/g, "<br>"), !n && c.updateContent(t), !n && c.autoAdjustSize()) : (e.vm.texts[n] = "", i[n] = "", !n && c.updateContent("请输入文本"), !n && c.autoAdjustSize())
        }
    }

    o.$inject = ["$scope", "sceneService", "$rootScope", "randomContentFactory", "HOST", "imageModalFactory", "authorityService"], n(1579), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="random-content"><div class="style_list_angel clearfix content-type"><label>随机类型</label><div class="clearfix"><a class="text-btn" ng-click="switchContentType(\'t\')" ng-class="{\'active\':compJson.properties.contentType === \'t\'}">文本</a> <a class="img-btn" ng-click="switchContentType(\'i\')" ng-class="{\'active\':compJson.properties.contentType === \'i\'}">图片</a></div></div><div class="style_list_angel clearfix random-text" ng-if="compJson.properties.contentType === \'t\'"><label>随机文本</label><div class="clearfix" ng-repeat="text in vm.texts track by $index"><textarea rows="1" placeholder="请输入文本" ng-model="text" ng-keyup="textareaKeyUp(text, $index)"></textarea><div class="op"><span class="add" ng-click="addTextItem($index)"><i class="eqf-plus-f"></i> </span><span class="rm" ng-click="rmTextItem($index)"><i class="eqf-minus-f"></i></span></div></div></div><div class="style_list_angel clearfix random-img" style="padding-bottom: 3px" ng-if="compJson.properties.contentType === \'i\'"><label>随机图片</label><ul class="imgs"><li class="add-btn" ng-click="addImgItem()"><i class="eqf-plus"></i></li><li ng-repeat="img in vm.imgs track by $index" ng-mouseover="isItemHovered = true;" ng-mouseleave="isItemHovered = false;" ng-class="{\'right\': ($index + 2) % 3 === 0}" ng-style="{\n                \'background-image\': \'url(\' + pre + img.src + \')\',\n                \'background-position\': \'center\',\n                \'background-size\': \'contain\',\n                \'background-repeat\': \'no-repeat\'\n                }"><span class="rm-btn" ng-show="isItemHovered" ng-click="rmImgItem($index)"><i class="eqf-no"></i></span></li></ul></div><comp-setting-font2 ng-if="compJson.properties.contentType === \'t\'"></comp-setting-font2><comp-setting-image-reverse2 comp="comp" ng-if="compJson.properties.contentType === \'i\'"></comp-setting-image-reverse2><comp-setting-g-sensor2 comp="comp" ng-if="compJson.properties.contentType === \'i\'"></comp-setting-g-sensor2></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.redPacket2", []).directive("compSettingRedPacket2", n(1582)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {restrict: "E", replace: !0, template: n(1584), controller: o};
        return e
    }

    function o(e, t, n, i, o) {
        "ngInject";
        var a = e.comp, s = e.compJson = a.compJson, c = e.prop = s.properties, l = e.vm, p = 1, u = 499, d = 1e3;
        l.chance = 100 * c.chance, l.pluginLoaded = !1, l.amount = c.amount, l.count = c.count, c.begin = c.begin || r.startTimeOfToday(), c.end = c.end || r.endTimeOfToday(), t.datePicker().then(function () {
            e.$apply(function () {
                l.pluginLoaded = !0, l.time = {
                    isBeginOpen: !!c.begin,
                    begin: c.begin,
                    isEndOpen: !!c.end,
                    end: c.end
                }, l.time.beginConfig = {
                    startDate: l.time.begin,
                    drops: "up"
                }, l.time.endConfig = {startDate: l.time.end, drops: "up"}
            })
        }), e.$watch("vm.chance", function (e, t) {
            e && e !== t && (c.chance = e / 100)
        }), e.createRedPacket = function () {
            var e = parseFloat(c.amount), t = parseInt(c.count);
            return e ? t ? e < t * p || e > t * u ? void i.success("请填写正确的活动金额！") : c.begin >= c.end ? void i.success("请填写正确的活动时间！") : void(c.isUsed || n.createRedPacket({
                sceneId: a.eqxScene.meta.id,
                pageId: a.eqxPage.pageJson.id,
                componentId: s.id,
                activity: c.activity,
                amount: e,
                begin: c.begin,
                end: c.end,
                count: t,
                chance: c.chance
            }).then(function () {
                c.isUsed = !0
            })["catch"](function (e) {
                console.log(e)
            })) : void i.success("请填写红包个数！") : void i.success("请填写活动金额！")
        }, e.setBeginTime = function () {
            c.begin = new Date(l.time.begin).getTime()
        }, e.setEndTime = function () {
            c.end = new Date(l.time.end).getTime()
        }, e.checkAmount = function () {
            var e = parseFloat(l.amount) || 0;
            e < 0 ? e = 0 : e > d && (e = d), o(function () {
                !l.amount || l.amount < 0 ? l.amount = 0 : l.amount > d && (l.amount = d)
            }, 750), c.amount = e
        }, e.checkCount = function () {
            var e = parseFloat(l.count) || 0;
            e < 0 && (e = 0), e > c.amount / p && (e = Math.floor(c.amount / p)), e < c.amount / u && (e = Math.ceil(c.amount / u)), o(function () {
                (!l.count || l.count < 0) && (l.count = 0), l.count > c.amount / p && (l.count = Math.floor(c.amount / p)), l.count < c.amount / u && (l.count = Math.ceil(c.amount / u))
            }, 750), c.count = e
        }
    }

    o.$inject = ["$scope", "delayLoadService", "redPacketService", "notifier", "$timeout"], n(1583);
    var r = n(934);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-red-packet2"><div class="style_list_angel clearfix activity"><label style="margin-top:6px">活动名称</label><div class="clearfix"><input ng-disabled="prop.isUsed" style="height:30px" ng-model="prop.activity" type="text" maxlength="12"/><word-count words="prop.activity" style="position: absolute;opacity: 0.3;right: 4px;height: 20px;line-height: 20px;top: 5px"></word-count></div></div><div class="style_list_angel clearfix amount"><label style="margin-top:6px">活动金额</label><div class="clearfix" style="float:right"><input ng-disabled="prop.isUsed" style="height:30px" ng-model="vm.amount" type="number" ng-change="checkAmount()"/> <span>元</span></div><div class="tip">注：单个红包金额仅限1元到499元之间</div></div><div class="style_list_angel clearfix begin"><label>开始时间</label><div><input ng-if="vm.pluginLoaded" style="height:30px" ng-model="vm.time.begin" ng-disabled="prop.isUsed" ng-readonly="true" date-picker="vm.time.beginConfig" placeholder="设置开始时间" ng-change="setBeginTime()" type="text"> <i class="eqf-calendar-l"></i></div></div><div class="style_list_angel clearfix end"><label>结束时间</label><div><input ng-if="vm.pluginLoaded" style="height:30px" ng-model="vm.time.end" ng-disabled="prop.isUsed" ng-readonly="true" date-picker="vm.time.endConfig" placeholder="设置开始时间" ng-change="setEndTime()" type="text"> <i class="eqf-calendar-l"></i></div></div><div class="style_list_angel clearfix count"><label style="margin-top:6px">红包个数</label><div class="clearfix" style="float: right"><input ng-disabled="prop.isUsed" style="height:30px" ng-model="vm.count" type="number" ng-change="checkCount()"/> <span>个</span></div></div><div class="style_list_angel clearfix chance"><label>中奖概率</label><div class="touming clearfix"><p class="num"><input class="short" type="number" min="20" max="100" ng-model="vm.chance" ng-disabled="prop.isUsed" limit-input/></p><div class="slider" ng-model="vm.chance" ng-class="{disable: prop.isUsed}" min="0" max="100" ui-slider-t></div></div></div><div class="style_list_angel clearfix create"><label>生成红包</label><div class="fl switch reset-label hint--top hint--rounded" data-hint="红包生成后，不能关闭！" ng-class="prop.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="createRedPacket()"><div class="circle-con"><i class="circle"></i></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.reward2", []).directive("compSettingReward2", n(1586)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1588), controller: o}
    }

    function o(e, t) {
        "ngInject";
        var n = .01, i = e.comp, o = i.compJson, r = e.prop = o.properties, a = e.vm = {amount: r.amount || 2};
        e.updateCompTitle = function () {
            i.updateCompTitle()
        }, e.checkAmount = function () {
            var e = parseFloat(a.amount);
            (!e || e <= 0) && (e = n), t(function () {
                var e = parseFloat(a.amount);
                (!e || e <= 0) && (a.amount = n)
            }, 750), r.amount = e, i.updateCompTitle()
        }
    }

    o.$inject = ["$scope", "$timeout"], n(1587), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-setting-reward"><div class="style_list_angel clearfix reward-text"><label>按钮文本</label><div class="clearfix"><input type="text" style="height:30px" maxlength="12" ng-model="prop.title" ng-change="updateCompTitle()"/><word-count words="prop.title" style="position: absolute;opacity: 0.3;right: 4px;top: 3px;height: 20px;line-height: 20px"></word-count></div></div><div class="style_list_angel clearfix amount"><label>打赏金额</label><div class="clearfix"><input ng-model="vm.amount" style="height:30px" type="number" ng-change="checkAmount()" string-to-number/> <span>元</span></div></div></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.sms2", []).directive("compSettingSms2", n(1590)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(1592), controller: o}
    }

    function o(e, t, n) {
        "ngInject";

        function i() {
            t.getUserMessageCount().then(function (t) {
                e.userMessCount = t || 0
            })
        }

        var o = e.comp;
        e.smsJson = o.compJson, e.userMessCount = 0, i(), e.openMessageModal = function () {
            n.open().then(function () {
                i()
            })
        }, e.$watch("smsJson.properties.ownerCss.borderColor", function (e) {
            o.updateInputBorderColor(e)
        })
    }

    o.$inject = ["$scope", "smsAPI", "messageBuyModal"], n(1591), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="sms"><div class="style_list_angel clearfix"><label style="margin-top: 7px;width: auto">剩余短信{{userMessCount}}条</label><a class="bbs-help-tip-media hint--bottom hint--rounded hint--panel" data-hint="注：短信条数不足时，将会导致短信验证码发送失败；购买的短信包应用于当前账号下所有场景内。" style="margin: 2px 0px 0px 10px;line-height: 26px"><span class="eqf-why-f" style="color: #a3afb7"></span></a><div class="clearfix buySms" style="float:right" ng-click="openMessageModal()"><a>购买</a></div></div></div><div class="style_list_angel clearfix"><label style="margin-top: 7px">输入框颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="smsJson.properties.ownerCss.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="tab-setting-line"><div class="tab-setting-line-title">文本设置</div></div><comp-setting-font2></comp-setting-font2>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.commonStyle2", []).directive("commonSettingStyle2", n(1594)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1595),
            controller: ["$scope", "selectService", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = e.comp, o = i.eqxPage.pageJson.properties.oneShot;
                e.isOneShotOpen = void 0 !== o && o.isOpen, e.translate = {Z: i.compJson.properties.translate3dZ || 0}, e.compLock = function () {
                    i.compJson.properties.editLock && t.remove(i)
                }, e.compEye = function () {
                    var e = {1: !0, 2: !1};
                    e[i.compJson.properties.initType] ? i.eleHide() : i.eleShow(), n.$broadcast("properties.initType")
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab manager-comp-setting-style-common" style="border-bottom: 0;border-bottom: 1px solid #e6ebed"><div class="comp-setting-title" ng-class="{\'expand-border-bottom\': vm.tab === TAB.commonStyle}" ng-click="setTab(TAB.commonStyle)"><span>通用</span> <b class="caret" ng-class="{\'off\': vm.tab !== TAB.commonStyle}"></b></div><div class="style_con_hei" ng-if="vm.tab === TAB.commonStyle"><div class="style_list_angel clearfix style_list_angel_name" ng-if="ability.commonStyle.title"><label>组件名称</label><div class="clearfix"><input type="text" maxlength="12" ng-model="comp.compJson.name"/><word-count words="comp.compJson.name" style="position: absolute;opacity: 0.3;top: 3px;height: 20px;line-height: 20px;margin-top: 3px;right: 8px"></word-count></div></div><div class="style_list_angel clearfix style_list_angel_display" style="height: 34px" ng-if="false"><label style="height:18px;margin-top: -7px">显示设置</label><div class="clearfix comp_status" style="position: relative; width: 155px;height: 18px"><ui-radio id="mode_comp_display" name="mode" default-value="1" value="comp.compJson.properties.initType" ng-click="compEye()"></ui-radio><label style="margin-left: 5px;margin-right: 10px">显示</label><ui-radio id="mode_comp_hidden" name="mode" default-value="2" value="comp.compJson.properties.initType" ng-click="compEye()"></ui-radio><label style="margin-left: 5px">隐藏</label></div></div><div class="style_list_angel clearfix style_list_angel_lock" style="height: 34px" ng-if="false"><label style="height:18px;margin-top: -7px">状态设置</label><div class="clearfix comp_status" style="position: relative; width: 155px;height: 18px"><ui-radio id="mode_comp_lock" name="mode" default-value="true" value="comp.compJson.properties.editLock" ng-click="compLock()"></ui-radio><label style="margin-left: 5px;margin-right: 10px">锁定</label><ui-radio id="mode_comp_unlock" name="mode" default-value="false" value="comp.compJson.properties.editLock" ng-click="compLock()"></ui-radio><label style="margin-left: 5px">解锁</label></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.compOwn2", []).directive("compOwnSetting2", n(1597)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(1598), controller: ["$scope", "authorityService", function (e, t) {
                "ngInject";
                e.styleFixedComp = t.permission("styleFixedComp")
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="style_con_hei"><comp-setting-date2 ng-if="comp.type == \'14\'"></comp-setting-date2><comp-setting-photo-wall2 ng-if="comp.type == \'13\'"></comp-setting-photo-wall2><comp-setting-text2 ng-if="comp.type == \'2\'"></comp-setting-text2><comp-setting-image2 ng-if="comp.type == \'4\'"></comp-setting-image2><comp-setting-shape2 ng-if="comp.type == \'h\'"></comp-setting-shape2><comp-setting-video2 ng-if="comp.type == \'v\'"></comp-setting-video2><comp-setting-sound2 ng-if="comp.type == \'s\'"></comp-setting-sound2><comp-setting-pv2 ng-if="comp.type == \'d\'"></comp-setting-pv2><comp-setting-time2 ng-if="[\'e\', \'f\'].indexOf(comp.type) >= 0"></comp-setting-time2><comp-setting-radio2 ng-if="([\'r\', \'c\'].indexOf(comp.type) >= 0)"></comp-setting-radio2><comp-score2 ng-if="comp.type == \'a\'"></comp-score2><comp-counter2 ng-if="comp.type == \'i\'"></comp-counter2><comp-setting-button2 ng-if="(comp.type == \'l\' || comp.type == \'8\')"></comp-setting-button2><comp-setting-submit2 ng-if="(comp.type == \'6\' || comp.type == \'601\')"></comp-setting-submit2><comp-setting-vote2 ng-if="(comp.type == \'j\' || comp.type == \'k\')"></comp-setting-vote2><comp-input2 ng-if="([5, 501, 502, 503, 504, \'5\', \'501\', \'502\', \'503\', \'504\'].indexOf(comp.type) >= 0)"></comp-input2><comp-setting-comment2 ng-if="comp.type == \'b\'"></comp-setting-comment2><comp-setting-map2 ng-if="comp.type == \'m\'"></comp-setting-map2><comp-setting-chart2 ng-if="comp.type == \'t\'"></comp-setting-chart2><comp-setting-wx2 ng-if="[\'201\', \'401\', \'403\', \'w01\', \'w02\'].indexOf(comp.type) >= 0"></comp-setting-wx2><comp-setting-ad2 ng-if="comp.type == \'g\'"></comp-setting-ad2><comp-setting-new-text2 ng-if="comp.type == \'7\'"></comp-setting-new-text2><comp-setting-hot-new-text2 ng-if="comp.type == \'1\'"></comp-setting-hot-new-text2><comp-setting-image-slider2 ng-if="comp.type == \'p\'"></comp-setting-image-slider2><comp-setting-drop-down2 ng-if="comp.type == \'z\'"></comp-setting-drop-down2><comp-setting-interactive-video2 ng-if="comp.type == \'o\'"></comp-setting-interactive-video2><comp-setting-drawing-board2 ng-if="comp.type == \'u\'"></comp-setting-drawing-board2><comp-setting-red-packet2 ng-if="comp.type == \'9\'"></comp-setting-red-packet2><comp-setting-reward2 ng-if="comp.type == \'11\'"></comp-setting-reward2><comp-setting-random-content2 ng-if="comp.type == \'10\'"></comp-setting-random-content2><comp-setting-sms2 ng-if="comp.type == \'12\'"></comp-setting-sms2><comp-setting-pip-button2 ng-if="comp.type == \'16\'"></comp-setting-pip-button2><div class="tab-setting-line"><div class="tab-setting-line-title">功能设置</div></div><comp-setting-link2 ng-if="comp.$ability.link" comp-json="comp.compJson"></comp-setting-link2><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.lock && !styleFixedComp"><div><div class="touming clearfix" style="display: flex; text-align: center" ng-show="pageProp.longPage"><ui-checkbox value="compProp.lock"></ui-checkbox><label class="reset-label" style="margin-left: 5px">固定当前组件位置(长页面)</label></div><div ng-show="!pageProp.longPage" style="display: flex; text-align: center" class="touming clearfix"><ui-checkbox value="compProp.lock" allowed="false"></ui-checkbox><label class="reset-label hint--top hint--rounded" style="margin-left: 5px" data-hint="固定组件只能在长页面内使用">固定当前组件位置(长页面)</label></div></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.advanceStyle2", []).directive("advanceSettingStyle2", n(1600)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1601),
            controller: ["$scope", "$rootScope", "sceneService", "authorityService", "$timeout", function (e, t, n, i, s) {
                "ngInject";

                function c(e) {
                    var t = o.parseTransform(e || "");
                    return r(t.rotate) || 0
                }

                var l = e.comp, p = e.css = e.comp.compJson.css, u = e.vm;
                u.rotate = c(p.transform), u.maxBorderRadius = Math.min(parseInt(p.width), parseInt(p.height)) / 2, u.opacity = 100 - 100 * p.opacity, e.boxShadow = a.parseBoxShadow(p.boxShadow, p.boxShadowSize, p.boxShadowDirection), e.styleBoxBorderRotate = i.permission("styleBoxBorderRotate"), e.styleOpacity = i.permission("styleOpacity"), e.styleBoxBorderStyle = i.permission("styleBoxBorderStyle"), e.styleBoxBorderRadian = i.permission("styleBoxBorderRadian"), e.stylePaddingTop = i.permission("stylePaddingTop"), e.updatePosition = function (e) {
                    l.eqxPage.alignItem(l, e)
                }, e.updateIndex = function (e) {
                    var t = n.getCurrentPage();
                    t.updateItemIndex(e, l)
                }, e.$watch("css.backgroundColor", function (e, t) {
                    e !== t && ("c" === l.type || "r" === l.type ? l.update$boxDiv({
                        borderColor: e,
                        backgroundColor: e
                    }) : l.update$boxDiv({backgroundColor: e}))
                }), e.$watch("vm.rotate", function (e, n) {
                    if (e !== n) {
                        var i = o.parseTransform(p.transform);
                        i.rotate = e, p.transform = o.getTransformStr(i), l.update$li({transform: p.transform}), t.$broadcast("compSetting.rotate", l)
                    }
                }), e.$on("item.rotate.end", function (e, t) {
                    t === l && (u.rotate = t.getRotate())
                }), e.$on("compRotate.move", function (t, n, i) {
                    e.$apply(function () {
                        u.rotate = c(i)
                    })
                }), e.$watch("vm.opacity", function (e, t) {
                    e !== t && l.update$li({opacity: (100 - e) / 100})
                }), e.addNumber = function (e) {
                    38 === e.keyCode && (console.log(e), e.target.value = (window.parseInt(e.target.value) + 1).toString()), 40 === e.keyCode && (e.target.value = window.parseInt(e.target.value) - 1)
                }, e.$watch("css.borderStyle", function (e, t) {
                    e !== t && l.update$boxDiv({borderStyle: e})
                }), e.$watch("css.borderColor", function (e, t) {
                    e !== t && l.update$boxDiv({borderColor: e})
                }), e.$watch("css.borderWidth", function (e, t) {
                    e !== t && ("4" == l.type && l.updateSize(p, {borderWidth: e}), l.update$boxDiv({borderWidth: e}))
                }), e.$watch("css.borderRadius", function (e, t) {
                    e !== t && l.update$boxDiv({
                        borderRadius: e,
                        borderTopLeftRadius: e,
                        borderTopRightRadius: e,
                        borderBottomRightRadius: e,
                        borderBottomLeftRadius: e
                    })
                }), e.$watch("css.paddingTop", function (e, t) {
                    e !== t && l.update$boxDiv({paddingTop: e})
                }), e.$watch("boxShadow", function (e, t) {
                    if (e !== t) {
                        var n = a.getBoxShadowStr(e), i = e.direction, o = e.size;
                        l.update$boxDiv({boxShadow: n}), l.updateCss({boxShadowDirection: i, boxShadowSize: o})
                    }
                }, !0)
            }]
        }
    }

    var o = n(520), r = n(249).toInt, a = n(525);
    e.exports = i
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab manager-comp-setting-style-advance"><div class="comp-setting-title" ng-click="setTab(TAB.advanceStyle)" ng-class="{\'expand-border-bottom\': vm.tab === TAB.advanceStyle}"><span>外观</span> <b class="caret" ng-class="{\'off\': vm.tab !== TAB.advanceStyle}"></b></div><div ng-if="vm.tab == TAB.advanceStyle" class="style_con_hei"><div ng-if="ability.commonStyle.align" class="style_list_angel clearfix style_list_angel_align" style=""><div class="clearfix"><ul class="align"><li><a class="hint--bottom hint--rounded" data-hint="左对齐" ng-click="updatePosition(\'左对齐\')"><span class="eqf-putleft"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="水平居中对齐" ng-click="updatePosition(\'水平居中对齐\')"><span class="eqf-putmiddle"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="右对齐" ng-click="updatePosition(\'右对齐\')"><span class="eqf-putright"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="上对齐" ng-click="updatePosition(\'上对齐\')"><span class="eqf-puttop"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="垂直居中对齐" ng-click="updatePosition(\'垂直居中对齐\')"><span class="eqf-putcenter"></span></a></li><li><a class="hint--bottom hint--rounded" data-hint="下对齐" ng-click="updatePosition(\'下对齐\')"><span class="eqf-putunder"></span></a></li></ul></div></div><div ng-if="ability.commonStyle.zIndex" class="style_list_angel clearfix style_list_angel_index"><div class="clearfix"><ul class="align"><li><a title="置顶" ng-click="updateIndex(\'++\')"><span class="eqf-ontop up-all"></span></a></li><li><a title="上移一层" ng-click="updateIndex(\'+1\')"><span class="eqf-putup up"></span></a></li><li><a title="下移一层" ng-click="updateIndex(\'-1\')"><span class="eqf-putdown down"></span></a></li><li><a title="置底" ng-click="updateIndex(\'--\')"><span class="eqf-onground down-all"></span></a></li></ul></div></div><div ng-if="!styleBackground && ability.compStyle.backgroundColor" class="style_list_angel clearfix color-item style_list_angel_bgColor"><label>背景颜色</label><div class="background-color clearfix"><eqd-input-color2 select-color="css.backgroundColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div ng-if="ability.commonStyle.rotate && !styleBoxBorderRotate" class="style_list_angel clearfix"><label>旋转</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.rotate" min="0" max="359" type="n"></div><p class="num"><input class="short input_kuang" type="number" ng-model="vm.rotate" min="0" max="359" limit-input/></p></div></div><div ng-if="ability.commonStyle.opacity && !styleOpacity" class="style_list_angel clearfix"><label>透明度</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.opacity" min="0" max="100" type="n"></div><p class="num"><input class="short" type="number" ng-model="vm.opacity" min="0" max="100" limit-input/></p></div></div><div ng-if="ability.commonStyle.size" class="style_list_angel clearfix style_list_angel_size"><label>大小</label><div class="clearfix"><span>宽</span> <input type="number" min="0" max="2000" limit-input ng-model="css.width"/> <span>高</span> <input type="number" min="0" max="10000" limit-input ng-model="css.height"/></div></div><div ng-if="ability.commonStyle.position" class="style_list_angel clearfix style_list_angel_position"><label>位置</label><div class="clearfix" style="position: relative"><span>X</span> <input type="number" min="-1000" max="1000" limit-input ng-model="css.left"/> <span>Y</span> <input type="number" min="-1000" max="5000" limit-input ng-model="css.top"/></div></div><div ng-if="ability.advanceStyle.borderColor" class="tab-setting-line"><div class="tab-setting-line-title">边框</div></div><div ng-if="ability.advanceStyle.borderStyle && !styleBoxBorderStyle" class="style_list_angel clearfix"><label>边框样式</label><div class="clearfix border-style"><select ng-model="css.borderStyle"><option value="none">----无-----</option><option value="solid">直线</option><option value="dashed">破折线</option><option value="dotted">点状线</option><option value="double">双划线</option><option value="groove">3D凹槽</option><option value="ridge">3D垄状</option><option value="inset">3D内嵌</option><option value="outset">3D外嵌</option></select></div></div><div ng-if="ability.advanceStyle.borderColor" class="style_list_angel clearfix"><label>边框颜色</label><div class="color_select clearfix"><eqd-input-color2 select-color="css.borderColor" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div ng-if="ability.advanceStyle.borderWidth" class="style_list_angel clearfix"><label>边框尺寸</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.borderWidth" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="css.borderWidth" min="0" max="20" limit-input/></p></div></div><div ng-if="ability.advanceStyle.borderRadius && !styleBoxBorderRadian" class="style_list_angel clearfix"><label>边框弧度</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.borderRadius" min="0" max="{{vm.maxBorderRadius}}" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="css.borderRadius" min="0" max="{{vm.maxBorderRadius}}" limit-input/></p></div></div><div ng-if="ability.advanceStyle.paddingTop && !stylePaddingTop" class="style_list_angel clearfix"><label>边距</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="css.paddingTop" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="css.paddingTop" min="0" max="20" limit-input/></p></div></div><div ng-if="ability.advanceStyle.boxShadowColor" class="tab-setting-line"><div class="tab-setting-line-title">阴影</div></div><div ng-if="ability.advanceStyle.boxShadowColor" class="style_list_angel clearfix"><label>阴影颜色</label><div class="clearfix color_select"><eqd-input-color2 select-color="boxShadow.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div ng-if="ability.advanceStyle.boxShadowSize" class="style_list_angel clearfix"><label>阴影大小</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.size" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="boxShadow.size" min="0" max="20" limit-input/></p></div></div><div ng-if="ability.advanceStyle.boxShadowDirection" class="style_list_angel clearfix"><label>阴影方向</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.direction" min="0" max="359" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="boxShadow.direction" min="0" max="359" limit-input/></p></div></div><div ng-if="ability.advanceStyle.boxShadowBlur" class="style_list_angel clearfix"><label>阴影模糊</label><div class="touming clearfix"><div class="slider2" ui-slider-t ng-model="boxShadow.blur" min="0" max="20" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="boxShadow.blur" min="0" max="20" limit-input/></p></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.commonSetting2", [n(1603), n(1607), n(1611), n(1615), n(1619), n(1621), n(1623)]).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.font2", []).directive("compSettingFont2", n(1604)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", template: n(1606), controller: o}
    }

    function o(e, t, n, i, o, s, c, l, p) {
        "ngInject";

        function u(t) {
            var n = {};
            switch (t) {
                case"bold":
                    n = {fontWeight: "bold" === x.css.fontWeight ? "normal" : "bold"};
                    break;
                case"italic":
                    n = {fontStyle: "italic" === x.css.fontStyle ? "normal" : "italic"};
                    break;
                case"underline":
                    n = {textDecoration: "underline" === x.css.textDecoration ? "none" : "underline"};
                    break;
                case"left":
                    n = {textAlign: "left"};
                    break;
                case"center":
                    n = {textAlign: "center"};
                    break;
                case"right":
                    n = {textAlign: "right"};
                    break;
                case"clear":
                    f("默认字体"), d(14), e.vm.lineHeight = 1.5, e.vm.letterSpacing = 0, e.vm.color = "#676767", n = {
                        fontWeight: "normal",
                        fontStyle: "normal",
                        textDecoration: "none",
                        textAlign: "center",
                        letterSpacing: 0
                    }
            }
            w.css(n), y.update$boxDiv(n), y.autoAdjustSize()
        }

        function d(t) {
            if (t) e.setFontStyle.inputFontSize = t; else {
                var n = void 0;
                t = e.setFontStyle.inputFontSize.replace(/[^\d]/g, ""), n = parseInt(t), t = n ? n < 12 ? 12 : n > 96 ? 96 : n : 12, e.setFontStyle.inputFontSize && s(function () {
                    e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96)
                }, 750)
            }
            var i = {fontSize: t + "px"};
            y.update$boxDiv(i), w.css(i), y.updateCss(i), y.autoAdjustSize()
        }

        function m(t) {
            e.setFontStyle.inputFontSize = parseInt(e.setFontStyle.inputFontSize) + parseInt(t), e.setFontStyle.inputFontSize < 12 ? e.setFontStyle.inputFontSize = 12 : e.setFontStyle.inputFontSize > 96 && (e.setFontStyle.inputFontSize = 96);
            var n = {fontSize: e.setFontStyle.inputFontSize + "px"};
            w.css(n), y.update$li(n), y.update$boxDiv(n), y.autoAdjustSize()
        }

        function f(n) {
            if ("+1" === n) h(), e.setFontStyle.selectedFontName = S; else if ("默认字体" === n) g(k), e.setFontStyle.selectedFontName = n; else {
                var o = e.vm.fonts.find(function (e) {
                    return e.name === n
                });
                if (0 == o.expStatus) c.getFontStatus(o.id, o.productId).then(function (e) {
                    var n = e.data.map;
                    1 === n.status ? i.openConfirmDialog({
                        msg: "当前字体已过期，是否重新购买？",
                        confirmName: "立即购买",
                        cancelName: "取消"
                    }).then(function () {
                        t.buyFont(o).then(function () {
                            t.myFont.myFontLists = []
                        })
                    }) : l.danger("当前字体已下架，请使用其他字体")
                }); else {
                    if (2 == b.type && 0 == o.license && t.myFont.personFontNoTip.indexOf(o.name) == -1) {
                        var r = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + o.name + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
                            a = {msg: r, confirmName: "坚持使用", cancelName: "去购买", noTips: !1};
                        return i.openConfirmDialog(a).then(function () {
                            a.noTips && t.myFont.personFontNoTip.push(o.name), g(o), e.setFontStyle.selectedFontName = n
                        }, function () {
                            a.noTips && t.myFont.personFontNoTip.push(o.name), t.buyFont(o).then(function () {
                                t.myFont.myFontLists = []
                            })
                        })
                    }
                    g(o), e.setFontStyle.selectedFontName = n
                }
            }
        }

        function g(i) {
            var o = {fontFamily: i.fontFamily};
            t.editFontList.indexOf(i.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + i.fontFamily + "';src: url('" + n.FILE + i.woffPath + "') format('woff'), url('" + n.FILE + i.ttfPath + "') format('truetype');;}")), t.editFontList.push(i.fontFamily)), w.css(o), y.updateCss(o), e.setFontStyle.selectedFontName = S = i.name
        }

        function h() {
            t.openFontShopping().then(function (e) {
                v(), p.permission("newMaterialModal") || g(e)
            }, function () {
                return v()
            })
        }

        function v() {
            return t.getMyFontList().then(function (t) {
                e.vm.fonts = t
            })["catch"](function (e) {
                i.openMsgDialog({msg: e.data.msg})
            })
        }

        var y = e.comp, b = o.getCurrentUser(), x = y.compJson, w = y.$context, S = "默认字体",
            k = {name: "默认字体", fontFamily: "Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif"};
        e.vm = e.vm || {}, e.vm.fonts = [], e.vm.fontsLoaded = !1, e.vm.fontSizes = r, e.vm.letterSpaces = a, e.vm.lineHeight = x.css.lineHeight || 1.5, e.vm.color = x.css.color, e.vm.backgroundColor = x.css.backgroundColor, e.vm.letterSpacing = 100 * parseFloat(x.css.letterSpacing || "0"), e.setFontStyle = {}, e.setFontStyle.selectedFontName = "默认字体", e.setFontStyle.inputFontSize = parseInt(x.css.fontSize || "16"), e.appendFontFamily = v, e.openFontMarket = h, e.changeFontFamily = f, e.changeFontSize = d, e.zoomFontSize = m, e.toolFuncs = u, e.updateNewTextContent = function () {
            y.updateContent(y.compJson.content), y.autoAdjustSize()
        }, v().then(function () {
            e.vm.fontsLoaded = !0;
            var t = x.css.fontFamily, n = e.vm.fonts.find(function (e) {
                return e.fontFamily == t
            });
            n = n || k, e.setFontStyle.selectedFontName = S = n.name
        }), e.$watch("vm.letterSpacing", function (t, n) {
            if (t != n) {
                var i = {letterSpacing: parseInt(e.vm.letterSpacing) / 100 + "em"};
                w.css(i), y.updateCss(i), y.autoAdjustSize()
            }
        }), e.$watch("vm.lineHeight", function (e, t) {
            e != t && (y.update$boxDiv({lineHeight: e}), 5 == ("" + y.type).charAt(0) && w.css({lineHeight: e}), y.autoAdjustSize())
        }), e.$watch("vm.color", function (e, t) {
            e != t && y.update$boxDiv({color: e})
        }), e.$watch("vm.backgroundColor", function (e, t) {
            e != t && ("c" == y.type || "r" == y.type ? y.update$boxDiv({
                borderColor: e,
                backgroundColor: e
            }) : y.update$boxDiv({backgroundColor: e}))
        }), e.refreshScroll = function (t) {
            e.$broadcast("scroll.refresh." + t)
        }
    }

    o.$inject = ["$scope", "fontService", "HOST", "modalService", "userService", "$timeout", "fontAPI", "notifier", "authorityService"], n(1605), e.exports = i;
    var r = [{name: "fontSizeList1", value: "96"}, {name: "fontSizeList2", value: "64"}, {
            name: "fontSizeList3",
            value: "48"
        }, {name: "fontSizeList4", value: "32"}, {name: "fontSizeList5", value: "24"}, {
            name: "fontSizeList6",
            value: "20"
        }, {name: "fontSizeList7", value: "18"}, {name: "fontSizeList8", value: "16"}, {
            name: "fontSizeList9",
            value: "14"
        }, {name: "fontSizeList10", value: "13"}, {name: "fontSizeList11", value: "12"}],
        a = [{name: "0%", scale: "0"}, {name: "10%", scale: "10em"}, {name: "25%", scale: "25em"}, {
            name: "50%",
            scale: "50em"
        }, {name: "75%", scale: "75em"}, {name: "100%", scale: "100em"}]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-font-setting2"><div class="style_list_angel font-family clearfix" ng-if="vm.fontsLoaded && ability.compFont.fontFamily"><label style="margin-top: 7px">字体</label><div class="clearfix"><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontFamily\')"><span ng-bind="setFontStyle.selectedFontName"></span> <b class="caret"></b></a><div class="dropdown-menu" style="min-width:144px"><div eqd-scroll scroll="fontFamily" style="max-height: 150px"><ul><li class="dropdown-item"><a ng-click="changeFontFamily(\'默认字体\');">默认字体</a></li><li class="dropdown-item"><a class="more-btn" ng-click="changeFontFamily(\'+1\');">更多正版字体</a></li><li class="dropdown-item" ng-repeat="font in vm.fonts" ng-if="font.status == 1"><a ng-click="changeFontFamily(font.name);" ng-class="{\'fontDisable\': font.expStatus == 0}" ng-bind="font.name"></a></li></ul></div></div></div></div></div><div class="style_list_angel font-size clearfix" ng-if="ability.compFont.fontSize"><label style="margin-top:7px">字号</label><div class="clearfix"><div class="func-btns" style="float:right"><a class="btn zoom-in" ng-click="zoomFontSize(+2)">A+</a><a class="btn zoom-out" ng-click="zoomFontSize(-2)">A-</a></div><div class="dropdown" style="float:right;border-bottom: 1px solid #ccd5db"><a class="dropdown-toggle" data-toggle="dropdown" ng-click="refreshScroll(\'fontSize\')"><span ng-bind="setFontStyle.inputFontSize"></span>px <b class="caret"></b></a><div class="dropdown-menu" style="min-width:72px"><div eqd-scroll scroll="fontSize" style="max-height: 120px"><ul><li><a class="input-selection"><input type="text" ng-change="changeFontSize()" ng-model="setFontStyle.inputFontSize"></a></li><li class="dropdown-item" ng-repeat="fontSize in vm.fontSizes | orderBy:\'value\':false"><a ng-click="changeFontSize(fontSize.value);">{{::fontSize.value}}px</a></li></ul></div></div></div></div></div><div class="style_list_angel color clearfix" ng-if="ability.compFont.fontColor"><label style="margin: 0;line-height: 30px">文字颜色</label><div class="clearfix"><eqd-input-color2 select-color="vm.color" toolcolorpicker="styleColorPicker" isconverttransparent="true" direction="left" theme="flo_lef" notify="grid" x="-1" y="-1" w="70" h="30"></eqd-input-color2></div></div><div class="style_list_angel clearfix" ng-if="ability.compFont.baseStyle"><div class="tool-btns clearfix"><div class="group"><a class="hint--top hint--rounded tool-bold" data-hint="加粗" ng-class="{\'clicked\': comp.compJson.css.fontWeight === \'bold\'}" ng-click="toolFuncs(\'bold\');"><i class="eqf-b"></i> </a><a class="hint--top hint--rounded italic" data-hint="倾斜" ng-class="{\'clicked\': comp.compJson.css.fontStyle === \'italic\'}" ng-click="toolFuncs(\'italic\');"><i class="eqf-i"></i> </a><a class="hint--top hint--rounded underline" data-hint="下划线" ng-class="{\'clicked\': comp.compJson.css.textDecoration === \'underline\'}" ng-click="toolFuncs(\'underline\');"><i class="eqf-u"></i> </a><span style="border:1px solid #ccd5db"></span> <a class="hint--top hint--rounded" data-hint="居左" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'left\'}" ng-click="toolFuncs(\'left\')"><i class="eqf-align-left"></i> </a><a class="hint--top hint--rounded" data-hint="居中" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'center\'}" ng-click="toolFuncs(\'center\')"><i class="eqf-align-center"></i></a><a class="hint--top hint--rounded" data-hint="居右" ng-class="{\'clicked\': comp.compJson.css.textAlign === \'right\'}" ng-click="toolFuncs(\'right\')"><i class="eqf-align-right"></i> </a><span style="border:1px solid #ccd5db"></span> <a class="hint--top hint--rounded" data-hint="清除样式" ng-click="toolFuncs(\'clear\')"><i class="eqf-clear-f"></i></a></div></div></div><div class="style_list_angel line-height clearfix" ng-if="!styleLineHeight && ability.compFont.lineHeight"><label style="margin: 0;line-height: 30px">行高</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.lineHeight" min="0" max="3" fixed="1" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="vm.lineHeight" step="0.1" min="0" max="3" limit-input/></p></div></div><div class="style_list_angel line-height clearfix" ng-if="!styleLineHeight && ability.compFont.letterSpacing"><label style="margin: 0;line-height: 30px">字距</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.letterSpacing" min="0" max="100" fixed="1" type="n"></div><p class="num"><input class="input_kuang short" type="number" ng-model="vm.letterSpacing" step="1" min="0" max="100" limit-input/></p></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.compLink2", []).directive("compSettingLink2", n(1608)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        var e = {
            restrict: "E",
            template: n(1610),
            controller: o,
            replace: !0,
            scope: {compJson: "=", showNoneOption: "="}
        };
        return e
    }

    function o(e, t, n, i, o) {
        "ngInject";
        var r = e.compJson, a = o.event.RAW_EVENT, s = o.event.EQX_EVENT, c = t.getCurrentPage(),
            l = c.pageJson.properties.triggerGroup, p = l.findIndex(function (e) {
                return "e" === e.sourceType && e.sourceId === r.id && e.eventType === a.click && (e.targetState === s.link || e.targetState === s.phone || e.targetState === s.page)
            });
        p !== -1 ? e.item = l[p] : e.showNoneOption ? (e.item = {
            eventType: a.click,
            sourceType: "e",
            sourceId: r.id,
            targetType: "e",
            targetId: r.id,
            targetState: s.link,
            targetContent: "",
            delay: 0
        }, l.push(e.item)) : e.item = {targetState: "none"};
        var u = t.eqxScene, d = n.SERVER_1 + "eqs/link?id=" + u.meta.id + "&url=", m = e.vm = {
            EQX_EVENT: s,
            pageList: u.sceneJson.list,
            targetState: "" + e.item.targetState,
            targetContent: ""
        };
        if (e.item.targetState === m.EQX_EVENT.link) {
            var f = (/eqs\/link\?id=\d+&url=(.*)/.exec(e.item.targetContent) || [])[1];
            f && (m.targetContent = decodeURIComponent(f))
        } else m.targetContent = e.item.targetContent;
        e.$watch("vm.targetState", function (t, n) {
            if (t && t !== n) if (m.targetContent = e.item.targetContent = "", e.item.targetState = +m.targetState, "none" === m.targetState) l.splice(l.indexOf(e.item), 1); else if (!e.showNoneOption) {
                var i = {
                    eventType: a.click,
                    sourceType: "e",
                    sourceId: r.id,
                    targetType: "e",
                    targetId: r.id,
                    targetState: +m.targetState,
                    targetContent: "",
                    delay: 0
                }, o = l.indexOf(e.item);
                o == -1 ? l.push(i) : l.splice(o, 1, i), e.item = i
            }
        }), e.verifyPhone = function (e) {
            var t = /^\d{3,15}$/;
            return e ? void(t.test(e) || i.success("电话输入有误，请输入3-15位数字")) : void i.success("电话号码不能为空")
        }, e.verifyLink = function (t) {
            t || i.success("链接不能为空"), /^http:|^https:|^ftp:/.test(t) || (t = "http://" + t, e.item.targetContent = d + encodeURIComponent(t))
        }, e.prefixProcess = function (t) {
            e.item.targetContent = t ? d + encodeURIComponent(t) : ""
        }, e.inputPhone = function (t) {
            e.item.targetContent = t
        }
    }

    o.$inject = ["$scope", "sceneService", "HOST", "notifier", "EqxCore"], n(1609), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-setting-link"><div class="style_list_angel clearfix"><label>点击跳转</label><div style="float: right; width:144px" ng-if="!showNoneOption"><div class="link-radio" style="width:82px"><ui-radio id="setting-link_radio" name="mode" default-value="none" value="vm.targetState"></ui-radio><span class="link-name">无</span></div><div class="link-radio" style="width:62px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'link\']}}" value="vm.targetState"></ui-radio><span class="link-name">链接</span></div><div class="link-radio" style="margin-bottom: 0px;width:82px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'page\']}}" value="vm.targetState"></ui-radio><span class="link-name">页面</span></div><div class="link-radio" style="margin-bottom: 0px;width:62px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'phone\']}}" value="vm.targetState"></ui-radio><span class="link-name">电话</span></div></div><div style="float: right; width:144px" ng-if="showNoneOption"><div class="link-radio" style="width:82px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'link\']}}" value="vm.targetState"></ui-radio><span class="link-name">链接</span></div><div class="link-radio" style="margin-bottom: 0px;width:62px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'page\']}}" value="vm.targetState"></ui-radio><span class="link-name">页面</span></div><div class="link-radio" style="margin-bottom: 0px;width:82px"><ui-radio id="setting-link_radio" name="mode" default-value="{{vm.EQX_EVENT[\'phone\']}}" value="vm.targetState"></ui-radio><span class="link-name">电话</span></div></div></div><div class="style_list_angel clearfix" ng-if="item.targetState == vm.EQX_EVENT[\'link\']"><label style="margin-top:7px">链接地址</label><div class="e_link clearfix"><input style="width:144px;height:30px;line-height:30px;border-radius:3px;margin-left:11px" type="text" placeholder="http://" ng-model="vm.targetContent" ng-change="prefixProcess(vm.targetContent)" ng-blur="verifyLink(vm.targetContent)"/> <a href="http://dwz.cn/" style="text-decoration: underline;color: #1593FF;font-size: 12px;display: block;float: right;margin-top: 5px" target="_blank">生成短链接</a></div></div><div class="style_list_angel clearfix" ng-if="item.targetState == vm.EQX_EVENT[\'page\']"><label style="margin-top:7px">场景页面</label><div class="i_link clearfix"><select ng-model="item.targetContent" ng-options="page.id as page.name for page in vm.pageList"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="item.targetState == vm.EQX_EVENT[\'phone\']"><label style="margin-top:7px">手机/电话</label><div class="clearfix"><input placeholder="010-88888888" style="width:144px;height:30px;line-height:30px;border-radius:3px;margin-left:11px" type="text" ng-model="vm.targetContent" ng-change="inputPhone(vm.targetContent)" ng-blur="verifyPhone(vm.targetContent)"/></div></div></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.image.view2", []).directive("imgView2", n(1612)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            template: n(1614),
            controller: ["$scope", "selectService", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = e.imgJson = e.comp.compJson;
                e.text = "h" === e.comp.type ? "更换形状" : "更换图片", e.imgStyle = {
                    "background-image": "url(" + o + i.properties.src + ")",
                    "background-position": "center",
                    "background-size": "contain",
                    "background-repeat": "no-repeat"
                }, e.cropComp = function () {
                    var e = t.comps[0];
                    e && n.$broadcast("wsComp.crop", e)
                }, e.edit = function () {
                    var e = t.comps[0];
                    e && n.$broadcast("wsComp.edit", e)
                }
            }]
        }
    }

    n(1613);
    var o = n(985).FILE;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="clearfix"><div class="image-view" ng-style="imgStyle"></div><div class="image-btn"><a class="change-img" ng-click="edit()">{{::text}}</a> <a class="clip-img" ng-click="cropComp()" ng-if="comp.type !== \'h\'">裁切图片</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.GSensor2", []).directive("compSettingGSensor2", n(1616)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !0, template: n(1618), controller: o}
    }

    function o(e) {
        "ngInject";

        function t(e) {
            r.isUsed && (r.direction = e)
        }

        function n() {
            r.isUsed = r.isUsed || !1, r.direction = r.direction || "positive", r.distance = r.distance || 2
        }

        var i = e.comp, o = i.compJson, r = e.GSensor = o.properties.GSensor = o.properties.GSensor || {};
        e.flag = {value: r.isUsed ? "1" : "0"}, e.changeSensorDirection = t, e.$watch("flag.value", function (e, t) {
            e != t && ("1" === e && (r.isUsed = !0), "0" === e && (r.isUsed = !1))
        }), n()
    }

    o.$inject = ["$scope"], n(1617), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="g-sensor"><div class="style_list_angel clearfix"><label style="margin-bottom: 0px">重力感应</label><div class="g-sensor-open" style="margin-right: 12px"><ui-radio id="setting-GSensor_open" name="mode" default-value="0" value="flag.value"></ui-radio><span style="margin-left:10px">关闭</span></div><div class="g-sensor-open" style="margin-right: 32px"><ui-radio id="setting-GSensor_open" name="mode" default-value="1" value="flag.value"></ui-radio><span style="margin-left:10px">开启</span></div></div><div class="style_list_angel clearfix direction-btns" ng-show="GSensor.isUsed" style="margin-left:76px;padding-top:3px;padding-bottom: 10px"><a class="btn btn-sm negative-btn" ng-class="{selected: GSensor.direction === \'negative\', disabled: !GSensor.isUsed}" ng-click="changeSensorDirection(\'negative\')">反向移动</a> <a class="btn btn-sm positive-btn" ng-class="{selected: GSensor.direction === \'positive\', disabled: !GSensor.isUsed}" ng-click="changeSensorDirection(\'positive\')">正向移动</a></div><div class="style_list_angel clearfix" ng-show="GSensor.isUsed"><label style="height: 30px;line-height: 30px;margin-bottom: 0">移动距离</label><div class="distance clearfix"><p class="num"><input limit-input style="height:20px;line-height:20px" class="" type="number" min="0" max="10" ng-model="GSensor.distance" ng-disabled="!GSensor.isUsed"/></p><div ui-slider-t class="slider2" type="n" min="0" max="10" ng-model="GSensor.distance" ng-class="{disable: !GSensor.isUsed}"></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.clickFarmerInPanel2", []).directive("clickFarmerInPanel2", ["userService", "modalService", "XDService", "sceneService", "materialAPI", "HOST", "notifier", "$q", "eqxNgPay", "payMessageType", "sceneMetaAPI", function (e, t, i, o, r, a, s, c, l, p, u) {
        "ngInject";
        return {
            restrict: "E", template: n(1620), scope: {compJson: "="}, link: function (n) {
                function d() {
                    t.openConfirmDialog({
                        msg: "企业付费用户功能， 是否升级？",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(a.HOST + "site/privilege", "_blank")
                    })
                }

                function m(e) {
                    var t = e.sceneId, n = e.orderAppId, i = e.buyItem, o = e.description, r = e.orderTradeId,
                        s = e.signParam, d = e.functionName;
                    return l.payMulti({
                        orderAppId: n,
                        buyItems: [i],
                        returnUrl: "http://www.eqxiu.com/",
                        description: o,
                        signUrl: a.SERVER_0 + "m/scene/pay/order/sign",
                        orderTradeId: r,
                        jsonPros: JSON.stringify(s)
                    }).then(function (e) {
                        var n = e.value.msgType;
                        return "close" === n ? (console.log("用户关闭"), c.reject("用户关闭")) : n !== p.PAY_SUCCESS ? c.reject("支付失败") : u.polling(r, t, d)
                    })["catch"](function (e) {
                        return console.error(e), c.reject()
                    })
                }

                function f() {
                    v.sceneJson.meta.property.clickFarmerStatus && v.sceneJson.meta.property.clickFarmerStatus > 0 ? n.clickFarmerStatus = v.sceneJson.meta.property.clickFarmerStatus : [3, 99].indexOf(h.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(h.memberType) > -1 ? n.clickFarmerStatus = 2 : n.clickFarmerStatus = null
                }

                var g = n.compJson, h = e.getCurrentUser(), v = o.eqxScene;
                f(), g.properties.clickFarmer ? n.clickFarmer = g.properties.clickFarmer : n.clickFarmer = g.properties.clickFarmer = !1, n.timeSetting = [{
                    key: 30,
                    value: "30分钟"
                }, {key: 60, value: "1小时"}, {key: 360, value: "6小时"}, {key: 1440, value: "1天"}, {
                    key: 4320,
                    value: "3天"
                }, {key: 10080, value: "7天"}, {
                    key: 1e6,
                    value: "永久"
                }], g.properties.clickInterval = g.properties.clickInterval || 1440, n.convertClickFarmer = function () {
                    if (n.clickFarmer) n.clickFarmer = g.properties.clickFarmer = !1; else if (1 === h.type) d(); else {
                        var e = v.sceneJson.meta.id, t = {id: e, status: n.clickFarmerStatus || 1, elementId: g.id};
                        r.checkBuyFarmer(t).then(function (t) {
                            var i = t.data.map, o = i.isPaying, a = i.isPurchase, l = i.subXd, p = i.orderTradeId;
                            n.clickFarmerStatus = i.clickFarmerStatus || n.clickFarmerStatus;
                            var u = "preventResubmit";
                            if (o) {
                                var d = "有正在处理的请求; 请稍候再试";
                                return s.success(d), c.reject(d)
                            }
                            if (a) var f = r.saveClickFarmer(e, n.clickFarmerStatus || 1); else f = m({
                                orderAppId: 100004,
                                buyItem: {id: 1, name: "微信防刷单", price: l, type: 11},
                                description: "微信防刷单",
                                orderTradeId: p,
                                sceneId: e,
                                signParam: {sceneId: e, functionName: u},
                                functionName: u
                            });
                            return f.then(function () {
                                s.success("微信防刷单支付成功"), n.clickFarmer = g.properties.clickFarmer = !0
                            })
                        })["catch"](function (e) {
                            return s.error("微信防刷单设置失败"), f(), c.reject(e)
                        })
                    }
                }, n.buyXd = i.buyXd
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" ng-style="{true:{\'border\': \'none\'}}[clickFarmer]"><label style="margin-top:4px">微信防刷</label><a class="bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="注：开启限制后，只能在微信环境下使用，可设置同一微信账号在30分钟、1小时、6小时、1天、3天、7天、永久7种时间间隔中使用。" style="margin: 2px 0px 0px 10px;line-height: 23px;float:right"><span class="eqf-why-f" style="color: #ff6e6e"></span></a><div class="fl switch" style="margin-top: 3px;float:right" ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click="convertClickFarmer()"><div class="circle-con"><i class="circle"></i></div></div><div style="display: inline-block;margin-left: 10px;line-height: 25px" ng-show="!clickFarmerStatus"><span>18秀点</span> <a ng-click="buyXd()" style="color:#a3afb7;padding-left:5px"><ins>充值</ins></a></div></div><div class="style_list_angel clearfix" ng-show="clickFarmer"><label style="margin-top:8px">提交间隔</label><div class="clearfix" style="float:right"><select style="border:1px solid #ccd5db;height:20px;width:144px; height:30px" ng-model="compJson.properties.clickInterval" ng-options="item.key as item.value for item in timeSetting"></select></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("eqx.ui.commitLimit2", []).directive("commitLimit2", ["sceneService", "sceneAPI", "$rootScope", function (e, t, i) {
        "ngInject";
        return {
            restrict: "E", scope: {compJson: "="}, template: n(1622), link: function (e) {
                function n() {
                    t.commitTimeSetting(r.sceneId, r.pageId, r.id, r.type, a.commitTimes, a.commitFlag).then(function () {
                        r.properties.commitFlag = a.commitFlag, r.properties.commitTimes = a.commitTimes, i.$broadcast("savePage", function () {
                        })
                    })["catch"](function (e) {
                        alert(e.data.msg)
                    })
                }

                function o(e, t) {
                    clearTimeout(e.tId), e.tId = setTimeout(function () {
                        e()
                    }, t)
                }

                var r = e.compJson,
                    a = e.vm = {commitFlag: r.properties.commitFlag || !1, commitTimes: r.properties.commitTimes || 0};
                e.commitSetting = function () {
                    a.commitFlag = !a.commitFlag, o(n, 500)
                }, e.$watch("vm.commitTimes", function (e, t) {
                    e != t && o(n, 2e3)
                })
            }
        }
    }]).name
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label style="margin-top: 5px">提交限制</label><a class="bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="开启限制后，最多只能提交100次。" style="margin: 0px 0px 0px 10px;line-height: 25px;float:right"><span class="eqf-why-f" style="color: #ff6e6e"></span></a><div class="fl switch" style="margin-top: 3px;float:right" ng-class="vm.commitFlag ? \'switch-open\' : \'switch-close\'" ng-click="commitSetting()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel line-height clearfix" ng-show="vm.commitFlag"><label style="width: 70px !important;height: 30px;line-height: 30px;margin-bottom: 0">总提交次数</label><div class="clearfix"><p class="num" style="float: right"><input limit-input type="number" step="1" min="1" max="100" style="padding-right: 0;height:20px;width:48px" ng-model="vm.commitTimes"/></p><div ui-slider-t class="slider2" type="n" style="width: 80px" min="1" max="100" ng-model="vm.commitTimes"></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.image.reverse2", []).directive("compSettingImageReverse2", n(1624)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !0, scope: {comp: "="}, template: n(1625), controller: o}
    }

    function o(e) {
        "ngInject";
        var t = e.css = e.comp.compJson.css;
        e.rotate = {
            x: t.turnOver && t.turnOver.indexOf("rotateX(180deg)") > -1,
            y: t.turnOver && t.turnOver.indexOf("rotateY(180deg)") > -1
        }, e.covertRotateY = function () {
            var n = " rotateY(0deg)";
            e.rotate.y && (n = " rotateY(180deg)"), t.turnOver && t.turnOver.indexOf("rotateY") > -1 ? t.turnOver = t.turnOver.replace(/rotateY\((-?\d*\.?\d*)(deg|)\)/, n) : t.turnOver ? t.turnOver = t.turnOver + n : t.turnOver = n, e.comp.updateTurnOver(t.turnOver)
        }, e.convertRotateX = function () {
            var n = " rotateX(0deg)";
            e.rotate.x && (n = " rotateX(180deg)"), t.turnOver && t.turnOver.indexOf("rotateX") > -1 ? t.turnOver = t.turnOver.replace(/rotateX\((-?\d*\.?\d*)(deg|)\)/, n) : t.turnOver ? t.turnOver = t.turnOver + n : t.turnOver = n, e.comp.updateTurnOver(t.turnOver)
        }
    }

    o.$inject = ["$scope"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix" style="height: 37px"><label style="margin-top: 2px">图片翻转</label><div class="clearfix" style="display:inline-block; float:right;width:62px" ng-click="covertRotateY()"><ui-checkbox value="rotate.y" style="float:left"></ui-checkbox><div style="float:left"><label class="reset-label" style="margin-left:5px">左右</label></div></div><div class="clearfix" style="display:inline-block; float:right;width:82px" ng-click="convertRotateX()"><ui-checkbox value="rotate.x" style="float: left"></ui-checkbox><div style="float: left"><label class="reset-label" style="margin-left:5px">上下</label></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("compSetting.date2", []).directive("compSettingDate2", n(1627)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", replace: !0, template: n(1629), controller: o}
    }

    function o(e, t, n) {
        "ngInject";

        function i() {
            var e = r.content,
                t = e.replace("年", "-").replace("月", "-").replace("日", "").replace(/\./g, "-").replace(/\//g, "-");
            t.endsWith("-") && (t = t.substring(0, t.length - 1));
            var n = t;
            if (t = t.toLowerCase(), "+zddd" != t) {
                t = t.split("");
                for (var i = 0; i < t.length; i++) "z" == t[i] && (t[i] = t[i + 1]);
                t = t.join("")
            }
            "+yy" != t && "+zyyy" != t || (t = "+yyyy"), "+zm" != t && "+mmm" != t && "+mmmm" != t || (t = "+mm"), "+zd" == t && (t = "+dd"), "+dddd" == t && (t = "+zddd"), l.format = t, l["class"] = n, l.style = e
        }

        var o = e.comp, r = e.compJson = o.compJson, a = e.prop = r.properties, s = o.eqxScene.sceneJson, c = null,
            l = e.vm = {};
        i();
        var p = {
            "+dd": {"class": [{name: "数字", value: "+dd"}, {name: "汉字", value: "+zd"}], style: {}},
            "+mm": {
                "class": [{name: "数字", value: "+mm"}, {name: "汉字", value: "+zm"}, {
                    name: "英文小写",
                    value: "+mmmm"
                }, {name: "英文大写", value: "+MMMM"}, {name: "首字母大写", value: "+Mmmm"}, {
                    name: "英文小写简称",
                    value: "+mmm"
                }, {name: "英文大写简称", value: "+MMM"}, {name: "首字母大写简称", value: "+Mmm"}], style: {}
            },
            "+yyyy": {
                "class": [{name: "数字", value: "+yyyy"}, {name: "汉字", value: "+zyyy"}, {
                    name: "数字后两位",
                    value: "+yy"
                }], style: {}
            },
            "+zddd": {
                "class": [{name: "汉字", value: "+zddd"}, {name: "英文大写", value: "+DDDD"}, {
                    name: "英文小写",
                    value: "+dddd"
                }, {name: "首字母大写全称", value: "+Dddd"}], style: {}
            },
            "+mm-+dd": {
                "class": [{name: "数字", value: "+mm-+dd"}, {name: "汉字", value: "+zm-+zd"}],
                style: {
                    "+mm-+dd": [{name: "'-'分割", value: "+mm-+dd"}, {
                        name: "'/'分割",
                        value: "+mm/+dd"
                    }, {name: "'.'分割", value: "+mm.+dd"}, {name: "'年'、'月'、'日'分割", value: "+mm月+dd日"}],
                    "+zm-+zd": [{name: "'-'分割", value: "+zm-+zd"}, {name: "'/'分割", value: "+zm/+zd"}, {
                        name: "'.'分割",
                        value: "+zm.+zd"
                    }, {name: "'年'、'月'、'日'分割", value: "+zm月+zd日"}]
                }
            },
            "+yyyy-+mm": {
                "class": [{name: "数字", value: "+yyyy-+mm"}, {name: "汉字", value: "+zyyy-+zm"}],
                style: {
                    "+yyyy-+mm": [{name: "'-'分割", value: "+yyyy-+mm"}, {
                        name: "'/'分割",
                        value: "+yyyy/+mm"
                    }, {name: "'.'分割", value: "+yyyy.+mm"}, {name: "'年'、'月'、'日'分割", value: "+yyyy年+mm月"}],
                    "+zyyy-+zm": [{name: "'-'分割", value: "+zyyy-+zm"}, {
                        name: "'/'分割",
                        value: "+zyyy/+zm"
                    }, {name: "'.'分割", value: "+zyyy.+zm"}, {name: "'年'、'月'、'日'分割", value: "+zyyy年+zm月"}]
                }
            },
            "+yyyy-+mm-+dd": {
                "class": [{name: "数字", value: "+yyyy-+mm-+dd"}, {name: "汉字", value: "+zyyy-+zm-+zd"}],
                style: {
                    "+yyyy-+mm-+dd": [{name: "'-'分割", value: "+yyyy-+mm-+dd"}, {
                        name: "'/'分割",
                        value: "+yyyy/+mm/+dd"
                    }, {name: "'.'分割", value: "+yyyy.+mm.+dd"}, {name: "'年'、'月'、'日'分割", value: "+yyyy年+mm月+dd日"}],
                    "+zyyy-+zm-+zd": [{name: "'-'分割", value: "+zyyy-+zm-+zd"}, {
                        name: "'/'分割",
                        value: "+zyyy/+zm/+zd"
                    }, {name: "'.'分割", value: "+zyyy.+zm.+zd"}, {name: "'年'、'月'、'日'分割", value: "+zyyy年+zm月+zd日"}]
                }
            },
            "+cy": {"class": [], style: {}},
            "+cm": {"class": [], style: {}},
            "+cd": {"class": [], style: {}}
        };
        e.classList = p[l.format]["class"] || [], e.styleList = p[l.format].style[l["class"]] || [], e.formatList = [{
            name: "日",
            value: "+dd"
        }, {name: "月", value: "+mm"}, {name: "年", value: "+yyyy"}, {name: "星期", value: "+zddd"}, {
            name: "月-日",
            value: "+mm-+dd"
        }, {name: "年-月", value: "+yyyy-+mm"}, {name: "年-月-日", value: "+yyyy-+mm-+dd"}, {
            name: "阴历年",
            value: "+cy"
        }, {name: "阴历月", value: "+cm"}, {name: "阴历日", value: "+cd"}], e.changeFormat = function () {
            return e.classList = p[l.format]["class"] || [], 0 == e.classList.length ? (e.styleList = [], r.content = l.format, void o.updateContent()) : (l["class"] = e.classList[0].value, e.styleList = p[e.vm.format].style[l["class"]] || [], 0 == e.styleList.length ? (r.content = l["class"], void o.updateContent()) : (l.style = e.styleList[0].value, r.content = l.style, void o.updateContent()))
        }, e.changeClass = function () {
            return e.styleList = p[l.format].style[l["class"]] || [], 0 == e.styleList.length ? (r.content = l["class"], void o.updateContent()) : (l.style = e.styleList[0].value, r.content = l.style, void o.updateContent())
        }, e.changeStyle = function () {
            r.content = l.style, o.updateContent()
        }, e.vm.content = r.content.replace(/<br>/g, "\n"), e.vm.content || o.updateContent("请输入文本"), e.textareaKeyUp = function (t) {
            e.vm.content ? (r.content = e.vm.content.replace(/(\n|\r)/g, "<br>"), o.updateContent(r.content), o.autoAdjustSize(8 === t.keyCode ? 0 : 1)) : (r.content = "", o.updateContent("请输入文本"), o.autoAdjustSize(8 === t.keyCode ? 0 : 1))
        }, a["var"] = a["var"] || {}, a["var"].isUsed = a["var"].isUsed || !1, a["var"].page = a["var"].page || "", a["var"].comp = a["var"].comp || "", a.adjustWHMode = !!a.adjustWHMode, a.adjustFSMode = !!a.adjustFSMode, e.styleVariableComp = t.permission("styleVariableComp"), e.newTextAdjustMode = t.permission("newTextAdjustMode"), e.pageList = [], e.inputList = [], e.pageList = s.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), a["var"].page && (c = s.list.find(function (e) {
            return e.id === a["var"].page
        }), e.inputList = c.elements.filter(function (e) {
            return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
        }).map(function (e) {
            return {name: e.name, id: e.id}
        })), e.switchAdjustMode = function (e) {
            a.adjustWHMode = !1, a.adjustFSMode = !1, "1" === e ? a.adjustWHMode = !0 : "2" === e && (a.adjustFSMode = !0)
        }, e.isVarUsed = function () {
            a["var"].page = "", a["var"].isUsed = !a["var"].isUsed
        }, e.selectVarPage = function (t) {
            a["var"].comp = "", t && (c = s.list.find(function (e) {
                return e.id === t
            }), c && (e.inputList = c.elements.filter(function (e) {
                return ["501", "502", "503", "504"].indexOf(e.type.toString()) !== -1
            }).map(function (e) {
                return {name: e.name, id: e.id}
            })))
        }
    }

    o.$inject = ["$scope", "authorityService", "$timeout"], n(1628), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div><div class="style_list_angel clearfix"><div class="date-comp-setting-item" ng-if="formatList.length > 0"><label>类型</label><div><select style="width:140px;border:1px solid #C9C9C9;float: right" ng-model="vm.format" ng-options="date.value as date.name for date in formatList" ng-change="changeFormat()"></select></div></div><div class="date-comp-setting-item" ng-if="classList.length > 0"><label>形式</label><div><select style="width:140px;border:1px solid #C9C9C9;float: right" ng-model="vm.class" ng-options="date.value as date.name for date in classList" ng-change="changeClass()"></select></div></div><div class="date-comp-setting-item" ng-if="styleList.length > 0"><label>格式</label><div><select style="width:140px;border:1px solid #C9C9C9;float: right" ng-model="vm.style" ng-options="date.value as date.name for date in styleList" ng-change="changeStyle()"></select></div></div></div><comp-setting-font2></comp-setting-font2><div class="style_list_angel clearfix" ng-if="!newTextAdjustMode"><label style="margin-bottom: 0">调整模式</label><div style="float: left;overflow: hidden"><ui-checkbox value="prop.adjustWHMode" style="float: left" change="switchAdjustMode(\'1\')"></ui-checkbox><span style="margin-left: 5px;float: left">宽高固定</span></div><div style="float: right"><ui-checkbox value="prop.adjustFSMode" style="float: left" change="switchAdjustMode(\'2\')"></ui-checkbox><span style="margin-left: 5px;float: left">字号固定</span></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable && !styleVariableComp"><div><label>变量组件</label><div class="fl switch" ng-class="compJson.properties.var.isUsed ? \'switch-open\' : \'switch-close\'" ng-click="isVarUsed()"><div class="circle-con"><i class="circle"></i></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed"><label style="margin-top: 7px">关联页面</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.page" ng-options="page.id as page.name for page in pageList" ng-change="selectVarPage(compJson.properties.var.page)"><option value="">选择场景页面</option></select></div></div><div class="style_list_angel clearfix" ng-if="ability.advanceStyle.variable &&\n                !styleVariableComp &&\n                compJson.properties.var.isUsed &&\n                compJson.properties.var.page"><label style="margin-top: 7px">输入框</label><div class="var-page clearfix"><select style="border:1px solid #ccd5db;height:30px;width:144px;border-radius: 3px;float:right" ng-model="compJson.properties.var.comp" ng-options="input.id as input.name for input in inputList"><option value="">选择页面输入框</option></select></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.pipButton2", []).directive("compSettingPipButton2", n(1631)).name
}, function (e, t, n) {
    "use strict";
    n(1632), e.exports = function () {
        return {
            restrict: "E",
            template: n(1633),
            $scope: !1,
            controller: ["$scope", "authorityService", "imageModalFactory", "HOST", function (e, t, n, i) {
                "ngInject";
                var o = e.comp, r = o.compJson, a = e.properties = r.properties;
                e.updateButtonImage = function (e) {
                    n.getImage().then(function (t) {
                        a[e] = t.src || t.path, o.updateButtonImage(e)
                    })
                }, e.amendImageSrc = function (e) {
                    return /(localhost)|(\w+.com)|(\w+.cn)|(\w+.cc)/.test(e) ? e : "" + (i.FILE + e)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="pip-button-setting button-style style_list_angel clearfix"><div class="setting-label">按钮样式</div><div class="switch"><div class="left default" ng-class="{\'selected\': !properties.style}" ng-click="properties.style = 0;">默认</div><div class="right custom" ng-class="{\'selected\': properties.style}" ng-click="properties.style = 1;">自定义</div></div></div><div ng-if="properties.style" class="pip-button-setting forward-button style_list_angel clearfix"><div class="setting-label">长按按钮</div><div class="preview" ng-click="updateButtonImage(\'forward\')" ng-style="{\'background-image\': \'url(\'+ amendImageSrc(properties.forward) +\')\'}"></div></div><div ng-if="properties.style" class="pip-button-setting back-button style_list_angel clearfix"><div class="setting-label">回放按钮</div><div class="preview" ng-click="updateButtonImage(\'back\')" ng-style="{\'background-image\': \'url(\'+ amendImageSrc(properties.back) +\')\'}"></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            scope: {comp: "=eqxComp", confirm: "&"},
            template: n(1636),
            controller: ["$scope", "$rootScope", "authorityService", function (e, t, n) {
                "ngInject";
                e.styleFillSampleCompSetting = n.assignDesignerAuthority("fillSampleCompSetting"), e.styleLineHeight = n.permission("styleLineHeight"), e.styleBackground = n.permission("styleBackground"), ["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.comp.compJson.type) > -1 && (e.styleBackground = !1), e.styleTextStyle = n.permission("styleTextStyle"), e.styleButtonStyle = n.permission("styleButtonStyle"), e.styleSubmitStyle = n.permission("styleSubmitStyle"), e.styleInputStyle = n.permission("styleInputStyle"), e.compFontSetting = n.permission("compFontSetting"), e.isSupportMask = o("WebkitMaskBoxImage"), e.styleRadio = n.permission("styleRadio"), e.styleCounterScoreAttr = n.permission("styleCounterScoreAttr"), e.styleBase = n.permission("styleBase"), e.styleBorder = n.permission("styleBorder"), e.styleBoxShadow = n.permission("styleBoxShadow"), e.styleComp = n.permission("styleComp"), e.styleCommon = n.permission("styleCommon"), e.styleAdvance = n.permission("styleAdvance"), e.styleImgShape = n.allow("styleImgShape");
                var i = e.comp, r = e.css = i.compJson.css;
                e.compProp = i.compJson.properties, e.ability = (i.$ability || {}).style;
                var a = i.eqxPage, s = 1;
                e.pageProp = a.pageJson.properties;
                var c = e.TAB = {commonStyle: 1, advanceStyle: 2, fillCompStyle: 3}, l = e.vm = {tab: s};
                e.setTab = function (e) {
                    s = l.tab = l.tab === e ? c.none : e
                }, e.$watch("css.color", function (e, t) {
                    e != t && i.update$boxDiv({color: e})
                }), e.$watch("css.lineHeight", function (e, t) {
                    e != t && i.update$boxDiv({lineHeight: e})
                }), e.clear = function () {
                    i.resetStyle(), e.vm.opacity = 100 - 100 * r.opacity
                }
            }]
        }
    }

    n(1635);
    var o = n(208).isSupportStyle;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div eqd-scroll class="comp-setting-contain2" style="height: 100%;background-color: #FFFFFF"><div><comp-own-setting2></comp-own-setting2><advance-setting-style2 ng-if="ability.advanceStyle.self"></advance-setting-style2><common-setting-style2 ng-if="ability.commonStyle.self"></common-setting-style2><fill-comp-style2 ng-if="styleFillSampleCompSetting"></fill-comp-style2></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1638),
            controller: ["$scope", "sceneService", "$timeout", "$rootScope", function (e, t, n, i) {
                "ngInject";

                function o() {
                    var e = c.updateEqxComp(a.id, a);
                    e && (c.renderEqxComp(e), n(function () {
                        i.$broadcast("wsComp.add", e)
                    }))
                }

                var r = e.comp, a = r.compJson, s = e.prop = a.properties, c = t.getCurrentPage();
                e.styles = r.getStyles(), s.mode = s.mode || "0", s.auto = void 0 === s.auto || !!s.auto, s.editable = void 0 === s.editable || !!s.editable, e.boardsModel = {
                    style: r.getProp("style"),
                    meslabel: r.getProp("meslabel"),
                    morelabel: r.getProp("morelabel")
                }, e.switchEditable = function () {
                    s.editable = !s.editable, o()
                }, e.switchAutoMode = function () {
                    s.auto = !s.auto, o()
                }, e.changeStyle = function (e) {
                    r.getProp("style") !== e && (r.setProp("style", e), o())
                }, e.changeMesLabel = function (e) {
                    r.getProp("meslabel") !== e && r.setProp("meslabel", e)
                }, e.changeMoreLabel = function (e) {
                    r.getProp("morelabel") !== e && r.setProp("morelabel", e)
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="style_list_angel clearfix"><label style="margin-top: 7px">配色风格</label><div class="color_select clearfix"><select class="flo_right" style="width:144px;border:1px solid #ccd5db" ng-model="boardsModel.style" ng-change="changeStyle(boardsModel.style)" ng-options="style.value as style.name for style in styles"></select></div></div><div class="style_list_angel clearfix" ng-if="prop.style !== \'barrage\'"><label style="margin-top: 7px">我要留言</label><div class="color_select clearfix"><input class="flo_right" style="width:144px;border-radius: 3px;height:30px" ng-model="boardsModel.meslabel" ng-change="changeMesLabel(boardsModel.meslabel)" maxlength="10" type="text"/> <span str="boardsModel.meslabel" class="strlen" max="10" strlen>{{boardsModel.meslabel.length}}/10</span></div></div><div class="style_list_angel clearfix" style="border-bottom:none" ng-if="prop.style !== \'barrage\'"><label style="margin-top: 7px">更多留言</label><div class="color_select clearfix"><input class="flo_right" type="text" style="width:144px;border-radius: 3px;height:30px" maxlength="10" ng-model="boardsModel.morelabel" ng-change="changeMoreLabel(boardsModel.morelabel)"/> <span str="boardsModel.morelabel" class="strlen" max="10" strlen>{{boardsModel.morelabel.length}}/10</span></div></div><div class="style_list_angel clearfix" ng-if="prop.style === \'barrage\'"><label style="margin-bottom: 0px">弹幕样式</label><div style="margin-right: 12px;float: right"><ui-radio name="mode" default-value="0" value="prop.mode"></ui-radio><span style="margin-left:10px">水平</span></div><div style="margin-right: 32px;float: right"><ui-radio name="mode" default-value="1" value="prop.mode"></ui-radio><span style="margin-left:10px">垂直</span></div></div><div class="style_list_angel clearfix" ng-if="prop.style === \'barrage\'"><label style="margin-top:4px">自动播放</label><div class="fl switch" style="margin-top: 3px;float:right" ng-class="prop.auto ? \'switch-open\' : \'switch-close\'" ng-click="switchAutoMode()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="style_list_angel clearfix" style="border-bottom:none" ng-if="prop.style === \'barrage\'"><label style="margin-top:4px;width: 80px">允许发送弹幕</label><div class="fl switch" style="margin-top: 3px;float:right" ng-class="prop.editable ? \'switch-open\' : \'switch-close\'" ng-click="switchEditable()"><div class="circle-con"><i class="circle"></i></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1640),
            controller: ["$scope", "$rootScope", "selectService", function (e, t, n) {
                "ngInject";
                var i = e.vm = {content: e.comp.compJson.content, address: e.comp.compJson.properties.address};
                e.settingContent = function () {
                    var t = e.comp.label;
                    if (i.content) {
                        var n = e.comp.map;
                        t ? (t.setContent(i.content), t.getMap() || t.setMap(n)) : t = new qq.maps.Label({
                            position: n.getCenter(),
                            map: n,
                            content: i.content
                        })
                    } else t && t.setMap(null);
                    e.comp.compJson.content = i.content
                }, e.setPosition = function () {
                    t.$broadcast("wsComp.edit", n.comps[0])
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div ng-disabled="!comp.map"><div class="style_list_angel clearfix"><label style="margin-top:8px">标签内容</label><div class="color_select clearfix"><input class="flo_right" style="width:144px;height:30px;line-height: 30px;border-radius: 3px" style-input elem-id="{{comp.compJson.id}}" ng-model="vm.content" css-item="content" type="text" ng-change="settingContent()"/></div></div><div class="style_list_angel clearfix"><label style="margin-top: 4px">地图位置</label><div class="color_select clearfix" style="text-align:right"><i class="eqf-map" style="margin-right:5px"></i> <a class="primary" style="text-decoration: underline;line-height: 20px" ng-click="setPosition()">{{::vm.address}}</a></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(1643),
            controller: ["$scope", "$timeout", "modalService", "validCharacterNumFilter", function (e, t, n, i) {
                "ngInject";

                function o() {
                    var t = r.filter(function (e) {
                        return e.selected
                    });
                    e.model.checkChoices = t[0].value, e.model.checkChoices && (e.model.defaultChoice = !0)
                }

                var r = e.comp.compJson.choices.options, a = e.comp;
                e.model = {
                    choices: e.comp.compJson.choices,
                    checkChoices: 0,
                    defaultChoice: !1
                }, e.checkPlaceholder = function (t) {
                    if (r.map(function (e) {
                        e.selected = !1
                    }), t) {
                        e.model.defaultChoice = !0;
                        var n = r.filter(function (e) {
                            return e.value == t
                        });
                        n[0].selected = !0
                    } else r[0].selected = !0, e.model.defaultChoice = !1;
                    a.changeOption()
                }, e.addNewOption = function (t) {
                    e.model.choices.options.length < 50 ? e.model.choices.options.splice(t + 1, 0, {
                        value: r.length + 1,
                        label: "请输入内容",
                        selected: !1
                    }) : n.openMsgDialog({msg: "您可以添加50个选项，每个选项最多请不要超过20字符。"})
                }, e.deleteTheOption = function (t) {
                    e.model.choices.options.length > 1 && n.openConfirmDialog({msg: "您确定要删除内容为“" + e.model.choices.options[t].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"}).then(function () {
                        e.model.choices.options.splice(t, 1)
                    })
                }, e.countCharacters = i, e.clear = function () {
                    e.model.choices = {
                        options: [{value: null, label: "请选择", selected: !0}, {
                            value: 1,
                            label: "请输入内容",
                            selected: !1
                        }, {value: 2, label: "请输入内容", selected: !1}, {value: 3, label: "请输入内容", selected: !1}]
                    }
                }, o(), e.changeEditDropdown = function () {
                    a.changeOption()
                }, e.filterOption = function (e) {
                    return 0 != e.value
                }
            }]
        }
    }

    n(1642), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="styleDropdown2"><div class="mainAttribute"><div class="component"><label class="componentLabel">默认选项</label><div><select class="componentSelect2" style="height: 30px" ng-change="checkPlaceholder(model.checkChoices)" ng-model="model.checkChoices" ng-options="option.value as option.label for option in model.choices.options | filter: filterOption"><option value="">空</option></select></div></div><div class="component"><label class="componentLabel">占位文本</label><input class="flo_right placeHolderInput2" type="text" style="height:30px" check-count="20" ng-change="changeEditDropdown()" ng-model="model.choices.options[0].label" ng-disabled="model.defaultChoice"/> <span class="countSpan">{{(model.choices.options[0].label?countCharacters(model.choices.options[0].label.trim()):0)}}/20</span></div><div class="component" style="height:37px"><ui-checkbox value="comp.compJson.required"></ui-checkbox><label style="padding-top:0;float: none;padding-left: 5px">设为必填项</label></div><div class="component" style="margin-right: 0px;border-bottom: 0px"><div><div class="optionTitle"><span text>选项</span></div><div class="optionPart" ng-repeat="option in model.choices.options | filter: filterOption"><input class="optionInput2" type="text" style="height:30px" check-count="20" ng-change="changeEditDropdown()" stop-propagation ng-model="option.label"/> <span class="optionSpan">{{(option.label?countCharacters(option.label.trim()):0)}}/20</span><div class="iconPart"><a class="iconPlus"><span class="eqf-plus-f iconBlue" ng-click="addNewOption($index + 1)"></span> </a><a class="iconMinus"><span class="eqf-minus-f iconRed" ng-click="deleteTheOption($index + 1)"></span></a></div></div></div></div><div class="tab-setting-line"><div class="tab-setting-line-title">文本设置</div></div><comp-setting-font2></comp-setting-font2></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function o() {
        return {
            restrict: "E",
            template: n(1645),
            controller: ["$scope", "setCompService", "$rootScope", "$timeout", "authorityService", function (e, t, n, o, r) {
                "ngInject";
                var a = e.comp.compJson.css;
                e.styleFillFontWeight = r.permission("styleFillFontWeight"), e.styleFillFontItalic = r.permission("styleFillFontItalic"), e.styleFillUnderLine = r.permission("styleFillUnderLine"), e.styleFillLineThrough = r.permission("styleFillLineThrough"), e.styleFillAddLink = r.permission("styleFillAddLink"), e.styleFillRemoveLink = r.permission("styleFillRemoveLink"), e.styleFillLetterSpacing = r.permission("styleFillLetterSpacing"), e.styleFillName = r.permission("styleFillName"), e.styleFillStatus = r.permission("styleFillStatus"), e.styleFillRemark = r.permission("styleFillRemark"), e.fillvm = {
                    currentElement: t.getPageElementById(e.comp.compJson.id),
                    letterSpacing: a.letterSpacing || "0",
                    fontSize: a.fontSize || 12
                }, 2 == e.comp.compJson.type || 4 == e.comp.compJson.type ? e.statusArr = [{
                    name: "可控可替换",
                    value: 1
                }, {name: "可控不可替换", value: 2}, {name: "不可控可替换", value: 3}, {
                    name: "不可控不可替换",
                    value: 4
                }] : e.statusArr = [{name: "可控", value: 2}, {name: "不可控", value: 4}], e.wordLineList = [{
                    name: "0%",
                    value: "0"
                }, {name: "10%", value: "0.1em"}, {name: "25%", value: "0.25em"}, {
                    name: "50%",
                    value: "0.5em"
                }, {name: "75%", value: "0.75em"}, {
                    name: "100%",
                    value: "1em"
                }], e.fillvm.currentElement && !e.fillvm.currentElement.properties.setstatus && (e.fillvm.currentElement.properties.setstatus = 4), e.setName = function () {
                    e.comp.compJson.name = e.fillvm.currentElement.name
                }, e.setRemark = function () {
                    e.comp.compJson.properties.setremark = e.fillvm.currentElement.properties.setremark;
                }, e.setStatus = function () {
                    e.comp.compJson.properties.setstatus = e.fillvm.currentElement.properties.setstatus
                }, e.boldItalic = function (t, n) {
                    a[t] ? a[t] = "" : a[t] = n, e.comp.update$boxDiv(i({}, t, a[t]))
                }, e.underDelLine = function (t) {
                    var n = $.trim(a.textDecoration);
                    n && n.indexOf(t) !== -1 ? a.textDecoration = n.replace(t, "") : a.textDecoration = n + " " + t, e.comp.update$boxDiv({textDecoration: a.textDecoration})
                }, e.textAlign = function (t) {
                    a.textAlign = t, e.comp.update$boxDiv({textAlign: t})
                }, e.addLink = function () {
                    e.comp && n.$broadcast("wsComp.edit.link", e.comp)
                }, e.removeLink = function () {
                    delete e.comp.compJson.properties.url
                }, e.wordLine = function (t) {
                    a.letterSpacing = t, e.comp.update$boxDiv({letterSpacing: t})
                }, e.changeFontSize = function () {
                    var t = null;
                    e.fillvm.fontSize = e.fillvm.fontSize.replace(/[^\d]/g, "");
                    var n = parseInt(e.fillvm.fontSize);
                    if (t = n ? n < 12 ? 12 : n > 96 ? 96 : n : 12, e.fillvm.fontSize || o(function () {
                        e.fillvm.fontSize = e.fillvm.fontSize || 12
                    }, 750), r.permission("styleFillFontWeight")) {
                        var i = e.comp.$context, a = window.getSelection(),
                            s = a.getRangeAt(0).startContainer.firstChild;
                        i[0].setAttribute("contenteditable", "true"), e.comp.$li.addClass("inside-active-height"), i[0].focus(), document.execCommand("styleWithCSS", 0, !0), a.selectAllChildren(i[0]), document.execCommand("fontSize", 0, t);
                        var c = i.find('[style*="font-size: -webkit-xxx-large"]');
                        c && $(c).css({fontSize: t}), i.removeAttr("contenteditable");
                        var l = e.comp.$li.find(".element-box").height();
                        e.comp.update$li({height: l}), e.comp.$context.css({minHeight: "inherit"}), e.comp.$li.removeClass("inside-active-height"), s.focus()
                    } else e.comp.update$boxDiv({fontSize: t})
                }
            }]
        }
    }

    e.exports = o
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab" style="border-bottom: 1px solid #e6ebed"><div class="comp-setting-title" ng-click="setTab(TAB.fillCompStyle)"><span>填空设置</span> <b class="caret" ng-class="{\'off\': vm.tab !== TAB.fillCompStyle}"></b></div><div class="style_con_hei" ng-show="vm.tab == TAB.fillCompStyle"><div class="style_list_angel clearfix" ng-hide="styleFillName"><label>名称</label><div class="color_select clearfix"><input class="flo_right" check-count="16" style="width:140px" ng-model="fillvm.currentElement.name" type="text" ng-blur="setName();" maxlength="16"/> <span class="countSpan">{{fillvm.currentElement.name.length}}/16</span></div></div><div class="style_list_angel clearfix" ng-hide="styleFillStatus"><label>状态</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float: right" ng-model="fillvm.currentElement.properties.setstatus" ng-options="status.value as status.name for status in statusArr" ng-change="setStatus();"></select></div></div><div class="style_list_angel clearfix" ng-hide="styleFillRemark"><label>备注</label><div class="color_select clearfix"><input class="flo_right" style="width:140px" ng-model="fillvm.currentElement.properties.setremark" type="text" ng-blur="setRemark();"/></div></div><div class="style_list_angel clearfix"><label style="margin-top: 6px">字体大小</label><div class="color_select clearfix"><input class="flo_right" style="width:144px;border-radius: 3px" type="text" ng-model="fillvm.fontSize" ng-change="changeFontSize();"/></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2 && !styleFillLetterSpacing"><label>字间距</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float: right" ng-model="fillvm.letterSpacing" ng-options="wordLine.value as wordLine.name for wordLine in wordLineList" ng-change="wordLine(fillvm.letterSpacing)"></select></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2"><div ng-hide="styleFillFontWeight" class="css-font hint--top hint--rounded" data-hint="加粗" ng-click="boldItalic(\'fontWeight\', \'bold\');"><i class="eqf-b"></i></div><div ng-hide="styleFillFontItalic" class="css-font hint--top hint--rounded" data-hint="倾斜" ng-click="boldItalic(\'fontStyle\', \'italic\');"><i class="eqf-I"></i></div><div ng-hide="styleFillUnderLine" class="css-font hint--top hint--rounded" data-hint="下划线" ng-click="underDelLine(\'underline\');"><i class="eqf-U"></i></div><div ng-hide="styleFillLineThrough" class="css-font hint--top hint--rounded" data-hint="删除线" ng-click="underDelLine(\'line-through\');;"><i class="eqf-del2"></i></div><div class="css-font hint--top hint--rounded" data-hint="居左" ng-click="textAlign(\'left\');"><i class="eqf-leftword"></i></div><div class="css-font hint--top hint--rounded" data-hint="居中" ng-click="textAlign(\'center\');"><i class="eqf-minddleword"></i></div><div class="css-font hint--top hint--rounded" data-hint="居右" ng-click="textAlign(\'right\');"><i class="eqf-rightword"></i></div><div ng-hide="styleFillLineThrough" class="css-font hint--top hint--rounded" data-hint="添加超链接" ng-click="addLink();"><i class="eqf-link"></i></div><div ng-hide="styleFillRemoveLink" class="css-font hint--top hint--rounded" data-hint="清除超链接" ng-click="removeLink()"><i class="eqf-linkout"></i></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.compSetting.trigger", [n(1647)]).directive("compTrigger2", n(1652)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("trigger.triggerDirectives", []).directive("targetMultiSelect", n(1648)).directive("targetLink", n(1650)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {trigger: "=", comp: "=", stateEvent: "="},
            template: n(1649),
            controller: ["$scope", "sceneService", "EqxCore", function (e, t, n) {
                "ngInject";

                function i(t, n) {
                    var i = t.type, a = e.stateEvent.ids, s = [];
                    return n.forEach(function (e) {
                        var n = !1;
                        t.items.forEach(function (t) {
                            t.eventType == i && t.targetId == e.compJson.id && ("e" == t.sourceType && t.sourceId == r.id || "p" == t.sourceType && t.sourceId == o.pageJson.id) && a.includes(t.targetState) && (n = !0)
                        }), s.push({targetName: e.compJson.name, targetId: e.compJson.id, checked: n})
                    }), s
                }

                var o = t.getCurrentPage(), r = e.comp.compJson,
                    a = e.vm = {RAW_EVENT: n.event.RAW_EVENT, EQX_EVENT: n.event.EQX_EVENT};
                e.getTargetComps = function (t) {
                    if (1 === t.targetState) return e.targetComps = i(t, o.eqxCompList), !0;
                    if (3 === t.targetState) {
                        var n = o.eqxCompList.filter(function (e) {
                            return "o" === e.type || e.compJson.sound && e.compJson.sound.id
                        });
                        return e.targetComps = i(t, n), !0
                    }
                    if (4 === t.targetState) return e.targetComps = i(t, o.eqxCompList), !0;
                    if (5 === t.targetState) {
                        var r = o.eqxCompList.filter(function (e) {
                            return e.$ability.anim
                        });
                        return e.targetComps = i(t, r), !0
                    }
                    return !1
                }, e.selectTargetComp = function (t, n) {
                    n.items.push({
                        eventType: n.type,
                        sourceType: n.type == a.RAW_EVENT.shake ? "p" : "e",
                        sourceId: n.type == a.RAW_EVENT.shake ? o.pageJson.id : r.id,
                        targetType: "e",
                        targetId: t.targetId,
                        targetState: e.stateEvent.ids[0],
                        delay: 0
                    })
                }, e.changeTargetComp = function (t, n) {
                    var i = e.targetComps.find(function (e) {
                        return e.checked
                    }), s = null;
                    i ? (i.checked = !1, s = n.items.find(function (t) {
                        return t.eventType == n.type && t.sourceId == r.id && e.stateEvent.ids.indexOf(t.targetState) != -1 && t.targetId == i.targetId
                    }), s.targetId = t.targetId) : n.items.push({
                        eventType: n.type,
                        sourceType: n.type == a.RAW_EVENT.shake ? "p" : "e",
                        sourceId: n.type == a.RAW_EVENT.shake ? o.pageJson.id : r.id,
                        targetType: "e",
                        targetId: t.targetId,
                        targetState: e.stateEvent.ids[0],
                        delay: 0
                    }), t.checked = !0
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="target-select"><div class="target-head" ng-click="getTargetComps(trigger)&&(obj.showTargetComps = !obj.showTargetComps)" ng-init="obj.showTargetComps = false" ng-style="{\'background-color\': trigger.targetState == 2?\'#ccd5db\':\'\'}">选择目标元素 <span class="more eqf-more"></span></div><div style="position: relative"><div class="target-list" ng-mouseleave="obj.showTargetComps = false"><div eqd-scroll style="max-height: 150px" ng-show="obj.showTargetComps"><ul><li class="clearfix" ng-repeat="targetComp in targetComps  | orderBy : \'targetComp.targetName\'"><div class="checkbox-square" ng-if="trigger.targetState == 1 || trigger.targetState == 5" ng-class="{checked: targetComp.checked}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="targetComp.checked" ng-change="selectTargetComp(targetComp, trigger)" ng-disabled="targetComp.checked"/></div><div class="radio-square" ng-class="{checked: targetComp.checked}" ng-click="changeTargetComp(targetComp, trigger, trigger.targetState)" ng-if="trigger.targetState == 3 || trigger.targetState == 4"><em></em></div><span style="float: left; line-height: 16px" hover-element="{{targetComp.targetId}}">{{::targetComp.targetName}}</span></li></ul></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {item: "="},
            template: n(1651),
            controller: ["$scope", "EqxCore", "sceneService", "HOST", "notifier", function (e, t, n, i, o) {
                "ngInject";
                var r = n.eqxScene, a = i.SERVER_1 + "eqs/link?id=" + r.meta.id + "&url=",
                    s = e.vm = {EQX_EVENT: t.event.EQX_EVENT, pageList: r.sceneJson.list, targetContent: ""};
                if (e.item.targetState === s.EQX_EVENT.link) {
                    var c = (/eqs\/link\?id=\d+&url=(.*)/.exec(e.item.targetContent) || [])[1];
                    c && (s.targetContent = decodeURIComponent(c))
                } else s.targetContent = e.item.targetContent;
                e.verifyLink = function (t) {
                    t || o.success("链接不能为空"), /^http:|^https:|^ftp:/.test(t) || (t = "http://" + t, e.item.targetContent = a + encodeURIComponent(t))
                }, e.prefixProcess = function (t) {
                    e.item.targetContent = t ? a + encodeURIComponent(t) : ""
                }, e.verifyPhone = function (e) {
                    var t = /^\d{3,15}$/;
                    return e ? void(t.test(e) || o.success("电话输入有误，请输入3-15位数字")) : void o.success("电话号码不能为空")
                }, e.inputPhone = function (t) {
                    e.item.targetContent = t
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<select ng-model="item.targetState" convert-to-number ng-change="vm.targetContent = item.targetContent = \'\'"><option value="{{vm.EQX_EVENT[\'link\']}}">跳转链接</option><option value="{{vm.EQX_EVENT[\'page\']}}">跳转页面</option><option value="{{vm.EQX_EVENT[\'phone\']}}">拨打电话</option></select><input ng-if="item.targetState == vm.EQX_EVENT[\'link\']" type="text" placeholder="http://" ng-model="vm.targetContent" ng-change="prefixProcess(vm.targetContent)" ng-blur="verifyLink(vm.targetContent)"/><select ng-if="item.targetState == vm.EQX_EVENT[\'page\']" ng-model="item.targetContent" ng-options="page.id as page.name for page in vm.pageList"><option value="">选择场景页面</option></select><input ng-if="item.targetState == vm.EQX_EVENT[\'phone\']" placeholder="010-88888888" type="text" ng-model="vm.targetContent" ng-change="inputPhone(vm.targetContent)" ng-blur="verifyPhone(vm.targetContent)"/>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {comp: "=eqxComp", confirm: "&"},
            template: n(1654),
            controller: ["$scope", "$rootScope", "sceneService", "$compile", "EqxCore", "authorityService", "storageService", function (e, t, n, i, o, r, a) {
                "ngInject";
                var s = n.getCurrentPage(), c = e.comp.compJson, l = {
                    click: {name: "点击", "class": "eqf-press", tip: "该触发条件是指点击当前组件，触发下一动作"},
                    shake: {name: "摇一摇", "class": "eqf-shank", tip: "该触发条件是指晃动手机，触发下一动作"},
                    taphold: {name: "长按", "class": "eqf-presslong", tip: "该触发条件是指长按当前组件2秒，触发下一动作"},
                    slide: {name: "滑动", "class": "eqf-pressmove", tip: "该触发条件是指滑动当前组件，触发下一动作"},
                    mediaCanplay: {
                        name: "音/视频播放前",
                        "class": "eqf-playbefore",
                        tip: "该触发条件目前只支持互动视频组件和带音效的组件，其他组件添加该触发无效；播放前是指音/视频未进入播放状态"
                    },
                    mediaPlaying: {
                        name: "音/视频播放中",
                        "class": "eqf-playing",
                        tip: "该触发条件目前只支持互动视频组件和带音效的组件，其他组件添加该触发无效；播放中是指音/视频在播放状态中"
                    },
                    mediaEnded: {
                        name: "音/视频播放完",
                        "class": "eqf-playdone",
                        tip: "该触发条件目前只支持互动视频组件和带音效的组件，其他组件添加该触发无效；播放后是指音/视频已结束播放状态"
                    },
                    animStart: {
                        name: "动画首次播放时",
                        "class": "eqf-animebefore",
                        tip: "该触发条件目前只支持带动画的组件（支持的动画不包括粒子进入动画和打字机动画）；首次播放时是指动画第一次进入播放状态中"
                    },
                    animIteration: {
                        name: "动画再次播放时",
                        "class": "eqf-animework",
                        tip: "该触发条件目前只支持带动画的组件（支持的动画不包括粒子进入动画和打字机动画）；再次播放时是指动画再次进入播放状态中"
                    },
                    animEnd: {
                        name: "动画结束后",
                        "class": "eqf-animedone",
                        tip: "该触发条件目前只支持带动画的组件（支持的动画不包括粒子进入动画和打字机动画）；结束后是指动画已结束播放状态"
                    }
                }, p = e.vm = {
                    isLongPage: s.pageJson.properties.longPage,
                    showTrigger: !1,
                    initType: 2 == c.properties.initType,
                    RAW_EVENT: {},
                    EQX_EVENT: o.event.EQX_EVENT,
                    STATE_EVENT: {
                        1: {ids: [o.event.EQX_EVENT.hide, o.event.EQX_EVENT.show], content: "显示/隐藏"},
                        2: {
                            ids: [o.event.EQX_EVENT.link, o.event.EQX_EVENT.page, o.event.EQX_EVENT.phone],
                            content: "跳转链接/页面/电话"
                        },
                        3: {ids: [o.event.EQX_EVENT.play], content: "播放/暂停音视频"},
                        4: {ids: [o.event.EQX_EVENT.position], content: "定位页面"}
                    }
                }, u = s.pageJson.properties.triggerGroup;
                e.triggerMenu = r.permission("triggerMenu"), e.themeSkin = a.getItem("themeSkin") || "white";
                var d = r.permission("triggerMenuAnim");
                d || (p.STATE_EVENT[5] = {
                    ids: [o.event.EQX_EVENT.anim],
                    content: "播放动画"
                }), Object.keys(o.event.RAW_EVENT).forEach(function (t) {
                    var n = !0;
                    "click" === t || "shake" === t ? n = !0 : e.triggerMenu ? n = !1 : e.triggerMenu || e.comp.$ability.trigger[t] || (n = !1), p.RAW_EVENT[t] = {
                        id: o.event.RAW_EVENT[t],
                        name: l[t].name,
                        "class": l[t]["class"],
                        tip: l[t].tip,
                        show: n
                    }
                }), e.triggers = [], Object.keys(p.RAW_EVENT).forEach(function (t) {
                    e.triggers.push({
                        items: u,
                        targetState: 1,
                        type: p.RAW_EVENT[t].id,
                        name: p.RAW_EVENT[t].name,
                        show: u.some(function (e) {
                            return "e" == e.sourceType ? e.eventType == p.RAW_EVENT[t].id && e.sourceId == c.id : "p" == e.sourceType ? e.eventType == p.RAW_EVENT[t].id : void 0
                        })
                    })
                }), e.addEvent = function (t) {
                    var n = e.triggers.filter(function (e) {
                        return e.type == t
                    })[0];
                    n.show = !0, p.showTrigger = !1
                }, e.addTargetItem = function (e, t) {
                    if (2 == t) {
                        var n = u.some(function (t) {
                            return (t.targetState === p.EQX_EVENT.link || t.targetState === p.EQX_EVENT.page || t.targetState === p.EQX_EVENT.phone) && e.type === t.eventType && t.sourceId === c.id
                        });
                        return !n && (e.items.push({
                            eventType: e.type,
                            sourceType: e.type == p.RAW_EVENT.shake.id ? "p" : "e",
                            sourceId: e.type == p.RAW_EVENT.shake.id ? s.pageJson.id : c.id,
                            targetType: e.type == p.RAW_EVENT.shake.id && 2 == t ? "p" : "e",
                            targetId: e.type == p.RAW_EVENT.shake.id ? s.pageJson.id : c.id,
                            targetState: p.EQX_EVENT.link,
                            targetContent: "",
                            delay: 0
                        }), !0)
                    }
                    return !1
                }, e.getCompInitType = function (t) {
                    var n = e.getCompByCompId(t.targetId);
                    t.targetState == n.compJson.properties.initType ? n.popoverEventType = t.eventType : delete n.popoverEventType
                }, e.setCompInitType = function () {
                    1 == c.properties.initType ? (c.properties.initType = 2, e.comp.eleHide()) : (c.properties.initType = 1, e.comp.eleShow())
                }, e.setTargetState = function (e, t) {
                    var n = s.getEqxCompById(e);
                    1 == t ? (n.compJson.properties.initType = 2, n.eleHide()) : (n.compJson.properties.initType = 1, n.eleShow()), delete n.popoverEventType
                }, e.deleCompShowPopover = function (e) {
                    var t = s.getEqxCompById(e.targetId);
                    delete t.popoverEventType
                }, e.getCompByCompId = function (e) {
                    return s.getEqxCompById(e)
                }, e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                }), e.removeTargetElem = function (e, t) {
                    var n = t.items.indexOf(e);
                    t.items.splice(n, 1), t.show = u.some(function (e) {
                        return "e" == e.sourceType ? e.eventType == t.type && e.sourceId == c.id : "p" == e.sourceType ? e.eventType == t.type : void 0
                    });
                    var i = s.getEqxCompById(e.targetId), o = i.compJson.properties.initType;
                    s.trigger.compHasTrigger(u, e.targetId) || 2 != o || (i.removeHideIcon(), i.$li.hide())
                }, e.removeTrigger = function (t) {
                    var n = t.items.filter(function (e) {
                        return e.eventType == t.type && ("p" == e.sourceType || e.sourceId == c.id)
                    });
                    n.forEach(function (n) {
                        e.removeTargetElem(n, t)
                    }), t.show = !1
                }, e.switchShow = function (t, n) {
                    t.targetId === c.id && t.eventType != p.RAW_EVENT.shake.id || (t.targetState = n, e.getCompInitType(t))
                }, e.$on("compTrigger.past", function () {
                    e.triggers.forEach(function (e) {
                        e.show = u.some(function (t) {
                            return "e" == t.sourceType ? t.eventType == e.type && t.sourceId == c.id : "p" == t.sourceType ? t.eventType == e.type : void 0
                        })
                    })
                })
            }]
        }
    }

    n(1653), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-trigger-setting" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="trigger-menu all-change" ng-class="{\'remove-in\': vm.showTrigger}"><div class="trigger-title">请选择触发条件</div><div class="trigger-add-list" ng-repeat="(key, value) in vm.RAW_EVENT" ng-click="addEvent(value.id)" ng-if="value.show"><label class="{{value.class}}" style="font-size: 20px"></label><label style="padding-left: 10px">{{::value.name}}</label><span style="padding-right: 10px; float: right" class="bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="{{::value.tip}}"><em class="eqf-why-f"></em></span></div></div><div eqd-scroll style="height: 100%; z-index: 1"><div><div class="trigger-add"><a class="btn eqc-btn-primary" ng-click="vm.showTrigger = true">+ 添加触发</a><div class="fr" style="padding-top: 12px"><div class="checkbox-square" ng-class="{checked: comp.compJson.properties.initType == 2}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.initType" ng-change="setCompInitType()"/></div><span class="fl">隐藏</span></div></div><div class="event-list"><section class="trigger-event-tab" ng-repeat="trigger in triggers" ng-if="trigger.show"><div class="trigger-event-tab-title pr20 pl20" ng-click="obj.showTrigger = !obj.showTrigger" ng-init="obj.showTrigger=true"><span>{{::trigger.name}}触发</span><div class="fr"><span class="eqf-no" style="margin-right:10px" ng-click="removeTrigger(trigger)"></span> <span class="eqf-down icon-open-off" ng-class="{\'eqf-right\': !obj.showTrigger}"></span></div></div><div class="style_con_hei" ng-show="obj.showTrigger"><div class="style_list_angel clearfix" style="position: relative" ng-if="!triggerMenu"><span style="line-height: 28px">添加事件</span><div class="fr"><select style="width: 144px;height: 30px;padding: 0 12px;border: 1px solid #CCD5DB;border-radius: 3px" ng-model="trigger.targetState" ng-change="addTargetItem(trigger, trigger.targetState)" convert-to-number><option ng-repeat="(key, value) in vm.STATE_EVENT" ng-disabled="key == 4 && !vm.isLongPage" value="{{::key}}">{{::value.content}}</option></select></div></div><div class="style_list_angel clearfix" style="position: relative"><span style="line-height: 28px">目标对象</span><target-multi-select trigger="trigger" comp="comp" state-event="vm.STATE_EVENT[trigger.targetState]"></target-multi-select></div><div class="style_list_angel clearfix trigger-target-list"><ul><li ng-repeat="item in trigger.items" ng-if="item.eventType == trigger.type && (item.sourceType == \'p\' || item.sourceId == comp.compJson.id)"><div ng-if="item.targetState == vm.EQX_EVENT[\'show\'] || item.targetState == vm.EQX_EVENT[\'hide\']"><div ng-if="item.eventType == vm.RAW_EVENT[\'taphold\'].id" class="clearfix" style="padding-top: 10px"><div class="checkbox-square" ng-class="{checked: item.targetStateReverse}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.targetStateReverse"></div><div class="fl"><em>设置松开时执行反向事件</em></div><div class="fr bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="勾选后，例如长按图片显示，松开时则隐藏"><em class="eqf-why-f"></em></div></div><div class="trigger-target"><span class="eqf-no fr" ng-click="removeTargetElem(item, trigger);"></span><div class="target-state" ng-mouseover="getCompInitType(item)"><a ng-click="switchShow(item, 1)" ng-class="{\'blue\': item.targetState == 1}">显示</a> <a ng-click="switchShow(item, 2)" ng-class="{\'blue\': item.targetState == 2}">隐藏</a><div ng-if="getCompByCompId(item.targetId).popoverEventType == item.eventType" class="popover top"><div class="arrow"></div><div class="popover-content"><div class="popover-content-title"><em class="eqf-exclamation-sign"></em> 提醒</div><div class="popover-content-content">当前元素初始状态为{{item.targetState ==1?\'显示\':\'隐藏\'}}，设为{{item.targetState ==1?\'隐藏\':\'显示\'}}后，触发才生效</div><div class="popover-content-btn"><span ng-click="deleCompShowPopover(item)">取消</span> <span ng-click="setTargetState(item.targetId, item.targetState)">设为{{item.targetState ==1?\'隐藏\':\'显示\'}}</span></div></div></div></div><span hover-element="{{item.targetId}}" class="pl20" style="cursor: pointer">{{::getCompByCompId(item.targetId).compJson.name}}</span></div><div><label>延迟时间</label><div class="touming clearfix"><p class="num"><input min="0" max="20" step="1" limit-input class="input_kuang short" type="number" ng-model="item.delay"/></p><div class="slider2" ng-model="item.delay" type="n" ui-slider-t min="0" max="20"></div></div></div></div><div class="trigger-link" ng-if="item.targetState == vm.EQX_EVENT[\'link\'] || item.targetState == vm.EQX_EVENT[\'page\'] || item.targetState == vm.EQX_EVENT[\'phone\']"><span class="eqf-no fr" style="line-height: 70px" ng-click="removeTargetElem(item, trigger);"></span><div style="width: 160px"><target-link item="item"></target-link></div></div><div ng-if="item.targetState == vm.EQX_EVENT[\'play\']" class="trigger-target"><div ng-if="item.eventType == vm.RAW_EVENT[\'taphold\'].id" class="clearfix" style="padding-top: 10px"><div class="checkbox-square" ng-class="{checked: item.targetStateReverse}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.targetStateReverse"></div><div class="fl"><em>设置松开时执行反向事件</em></div><div class="fr bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="勾选后，例如长按图片显示，松开时则隐藏"><em class="eqf-why-f"></em></div></div><div class="clearfix" style="padding-top: 10px"><span class="eqf-no fr" ng-click="removeTargetElem(item, trigger);"></span> <span class="play-pause" style="background:#e6ebed;border-radius:3px;width:76px;height:24px">播放/暂停</span> <span hover-element="{{item.targetId}}" class="pl20" style="cursor: pointer">{{::getCompByCompId(item.targetId).compJson.name}}</span></div></div><div ng-if="item.targetState == vm.EQX_EVENT[\'position\']" class="trigger-target"><span class="eqf-no fr" ng-click="removeTargetElem(item, trigger);"></span> <span class="play-pause" style="background:#e6ebed;border-radius:3px;width:76px;height:24px">定位页面</span> <span hover-element="{{item.targetId}}" class="pl20" style="cursor: pointer">{{::getCompByCompId(item.targetId).compJson.name}}</span></div><div ng-if="item.targetState == vm.EQX_EVENT[\'anim\']" class="trigger-target"><span class="eqf-no fr" ng-click="removeTargetElem(item, trigger);"></span> <span class="play-pause" style="background:#e6ebed;border-radius:3px;width:76px;height:24px">播放动画</span> <span hover-element="{{item.targetId}}" class="pl20" style="cursor: pointer">{{::getCompByCompId(item.targetId).compJson.name}}</span></div></li></ul></div></div></section></div></div></div></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "AE",
            scope: {},
            template: n(1657),
            link: function (t) {
                t.accessStyleTrigger = e.permission("styleTrigger"), t.newAnimSetting = e.permission("newAnimSetting")
            },
            controller: ["$rootScope", "selectService", "$scope", "flagService", "$timeout", "storageService", function (e, t, n, i, r, a) {
                function s() {
                    if (!m) if (1 !== t.comps.length) d.comp = null; else {
                        var e = t.comps[0];
                        e !== d.comp && r(function () {
                            d.comp = e, d.show = !0, n.setTab(o)
                        })
                    }
                }

                function c(t) {
                    e.$broadcast("compStyle.save", t || d.comp)
                }

                function l() {
                    p(n, function () {
                        d.comp = null
                    })
                }

                function p(e, t) {
                    var n = e.$root.$$phase;
                    "$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
                }

                var u = n.TAB = {style: 1, anim: 2, trigger: 3}, d = n.vm = {
                    tab: o, show: !0, color: "#FFFFFF", comp: null, count: 1, get compSettingShow() {
                        return i.workspace.compSettingShow
                    }
                };
                n.themeSkin = a.getItem("themeSkin") || "white", n.setTab = function (e) {
                    if (d.comp) {
                        var t = d.comp.$ability;
                        (!t.anim && e === u.anim || !t.trigger.self && e === u.trigger) && (e = u.style)
                    }
                    d.tab = e, o = e
                }, s(), n.showCompSetting = function () {
                    var e = !!d.comp && d.comp.$ability.style.self && d.show && 0 === t.groups.length;
                    return e
                }, n.$watch("vm.comp", function (e, t) {
                    t && !e && c(t)
                }), n.$watch("vm.show", function (e, t) {
                    t && !e && c()
                });
                var m = !1;
                n.$on("selectService.add", s), n.$on("selectBox.end", function () {
                    m = !1, s()
                }), n.$on("selectBox.start", function () {
                    m = !0
                }), n.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.includes(d.comp) && l()
                }), n.$on("contextMenu.style", function () {
                    return n.setTab(u.style)
                }), n.$on("contextMenu.anim", function () {
                    return n.setTab(u.anim)
                }), n.$on("contextMenu.trigger", function () {
                    return n.setTab(u.trigger)
                })
            }]
        }
    }

    i.$inject = ["authorityService"], n(1656);
    var o = 1;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-comp-setting" style="height: calc(100% - 40px);position: relative;overflow: hidden"><div class="nav-top"><ul><li class="style-btn" ng-class="{active: vm.tab == TAB.style}" ng-click="setTab(TAB.style)">样式</li><li class="animation-btn" ng-class="{active: vm.tab == TAB.anim}" ng-if="vm.comp.$ability.anim" ng-click="setTab(TAB.anim);">动画</li><li class="trigger-btn" ng-class="{active: vm.tab == TAB.trigger}" ng-if="vm.comp.$ability.trigger.self && !accessStyleTrigger" ng-click="setTab(TAB.trigger)">触发</li></ul></div><div style="height: calc(100% - 60px)" ng-if="vm.comp"><comp-setting-style ng-if="vm.tab == TAB.style && !vm.compSettingShow" eqx-comp="vm.comp"></comp-setting-style><comp-setting-anim ng-if="vm.tab == TAB.anim && !newAnimSetting" eqx-comp="vm.comp"></comp-setting-anim><comp-setting-anim2 ng-if="vm.tab == TAB.anim && newAnimSetting" eqx-comp="vm.comp"></comp-setting-anim2><comp-trigger2 ng-if="vm.tab == TAB.trigger && !vm.compSettingShow" eqx-comp="vm.comp"></comp-trigger2></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.pageSetting", [n(1659)]).directive("eqxPageSetting2", n(1677)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.pageSetting.style", []).directive("pageSettingStyle2", n(1660)).directive("pageSettingBg2", n(1663)).directive("pageSettingShare", n(1666)).directive("pageSettingMusic", n(1669)).directive("pageSettingOneShot", n(1672)).directive("pageSettingScroll", n(1675)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            replace: !0,
            restrict: "EA",
            scope: {eqxPage: "=", confirm: "&"},
            template: n(1662),
            controller: ["$scope", "$rootScope", "authorityService", "storageService", function (e, t, n, i) {
                "ngInject";
                e.themeSkin = i.getItem("themeSkin") || "white", e.clear = function () {
                    t.$broadcast("bg.delete")
                }, e.showShare = n.checkAccount("applyPageTpl"), e.pageScroll = !n.permission("pageScroll"), e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1661), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div eqd-scroll style="height: 100%" class="page-setting-new-panel" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="yangshi" style="padding-top: 14px"><page-setting-bg2 eqx-page="eqxPage"></page-setting-bg2><page-setting-music eqx-page="eqxPage"></page-setting-music><page-setting-scroll eqx-page="eqxPage" ng-if="pageScroll"></page-setting-scroll><page-setting-share ng-if="showShare"></page-setting-share></div></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            replace: !0,
            restrict: "EA",
            scope: {eqxPage: "="},
            template: n(1665),
            controller: ["$scope", "$rootScope", "authorityService", "sceneService", "historyService", "HOST", function (e, t, n, i, r, s) {
                "ngInject";

                function c(e) {
                    var t = i.getCurrentPage(), n = r.getPageHistory(t.pageJson.id);
                    n.addHistory(t.pageJson, e)
                }

                var l = e.eqxPage, p = e.bgJson = l.eqxBackground ? l.eqxBackground.compJson : o(a);
                p.css.opacity = p.css.opacity || 1, p.effect = p.effect || {type: -1}, console.log(l, p);
                var u = e.ANIMATIONS = [{type: -1, name: "无"}, {type: "scaleUp", name: "放大"}, {
                        type: "scaleDown",
                        name: "缩小"
                    }, {type: 0, name: "淡入"}, {type: 1, name: "移入"}, {type: 2, name: "弹入"}, {
                        type: 3,
                        name: "中心弹入"
                    }, {type: 4, name: "中心放大"}, {type: 12, name: "翻滚进入"}, {type: 13, name: "光速进入"}, {
                        type: 26,
                        name: "魔幻进入"
                    }, {type: 27, name: "缩小进入"}, {type: 31, name: "旋转进入"}],
                    d = e.vm = {opacity: 100 - 100 * p.css.opacity, bgPreviewUrl: ""};
                p && p.properties.imgSrc && (d.bgPreviewUrl = s.FILE + p.properties.imgSrc), e.$watch("bgJson.properties.bgColor", function (t, n) {
                    t && n && t != n && (p.properties = {
                        bgColor: p.properties.bgColor,
                        imgSrc: null
                    }, p = e.bgJson = l.addBgJson(p), l.renderBg(l.initEqxBgByJson(p)), l.eqxBackground.updateBgOpacity(p.css.opacity), l.eqxBackground.animate(), c("修改纯色背景 " + t), d.bgPreviewUrl = "")
                }), e.$watch("vm.opacity", function (e, t) {
                    e != t && (p.css.opacity = (100 - d.opacity) / 100, l.eqxBackground && l.eqxBackground.updateBgOpacity(p.css.opacity))
                }), e.editBG = function () {
                    t.$broadcast("bg.edit")
                }, e.addBG = function () {
                    t.$broadcast("bg.edit")
                }, e.$on("bgEdit.done", function () {
                    var t = i.getCurrentPage(), n = t.eqxBackground;
                    n && (p = e.bgJson = n.compJson, p.effect = p.effect || {type: -1}, n.updateBgOpacity(p.css.opacity), n.animate(), c("编辑图片背景"), e.$apply(function () {
                        d.bgPreviewUrl = s.FILE + p.properties.imgSrc
                    }))
                }), e.$on("tpl.useTpl", function () {
                    var t = i.getCurrentPage(), n = t.eqxBackground;
                    p = e.bgJson = n.compJson
                }), e.cutBG = function () {
                    t.$broadcast("bg.cut", p)
                }, e.rmBgImg = function () {
                    t.$broadcast("bg.delete")
                }, e.$on("bgDelete.done", function () {
                    p = e.bgJson = o(a), d.opacity = 0, c("删除图片背景"), d.bgPreviewUrl = ""
                }), e.onAnimTypeChange = function () {
                    var e = u.find(function (e) {
                        return e.type === p.effect.type
                    });
                    e.type != -1 && ("scaleUp" === e.type || "scaleDown" === e.type ? l.eqxBackground && l.eqxBackground.animate() : l.eqxBackground && l.eqxBackground.animate(), c("修改背景动画 " + e.name))
                }, e.previewAnim = function () {
                    l.eqxBackground && l.eqxBackground.animate()
                }, e.clickBgPreview = function () {
                    p.properties.imgSrc ? e.editBG() : e.addBG()
                }
            }]
        }
    }

    function o(e) {
        var t, n = e.constructor === Array ? [] : {};
        if ("object" === ("undefined" == typeof e ? "undefined" : r(e))) {
            if (window.JSON) t = JSON.stringify(e), n = JSON.parse(t); else for (var i in e) n[i] = "object" === r(e[i]) ? o(e[i]) : e[i];
            return n
        }
    }

    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    n(1664);
    var a = {css: {opacity: null}, properties: {bgColor: "", imgSrc: null}, type: 3, effect: {type: -1}};
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="tab-setting-line" style="margin-left: 20px"><div class="tab-setting-line-title">背景</div></div><div><div class="style_con_hei"><div class="style_list_angel bg-image clearfix"><div class="bg-image-label">图片背景</div><div class="bg-preview" ng-click="clickBgPreview()"><i class="eqf-plus"></i> <img ng-if="vm.bgPreviewUrl" ng-src="{{vm.bgPreviewUrl}}"/></div><div class="btns"><div class="clearfix" ng-if="!bgJson.properties.imgSrc"><a class="btn btn-sm" style="margin: 0;float: right;border: none" ng-click="addBG()">添加图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-cut" style="margin-left: 0px" ng-click="cutBG()">裁切图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-rm" ng-click="rmBgImg()">删除图片</a></div><div ng-if="bgJson.properties.imgSrc" style="width: 33.33%;float: left"><a class="btn btn-sm blue img-btn-replace" style="margin-right:0px;border: none" ng-click="editBG()">更换图片</a></div></div></div><div class="style_list_angel clearfix"><label style="height: 20px;line-height: 20px;margin: 0;padding: 0">纯色背景</label><div class="color_select clearfix"><eqd-input-color select-color="bgJson.properties.bgColor" default-color="bgJson.properties.bgColor" direction="left" theme="flo_lef" notify="grid" x="-1" w="97" h="20" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="style_list_angel clearfix"><label style="height: 30px;line-height: 30px;margin: 0;padding: 0">透明度</label><div class="touming clearfix"><p class="num"><input style="border: 1px solid #ccd5db;border-radius: 3px;width: 60px !important;height: 30px !important;padding: 0 5px !important;box-sizing: border-box" class="short" type="number" min="0" max="100" limit-input ng-model="vm.opacity"/></p><div class="slider2" type="n" style="width: 80px" ui-slider-t ng-model="vm.opacity" min="0" max="100"></div></div></div><div class="style_list_angel clearfix"><label style="height: 20px;line-height: 20px;margin-top: 7px;padding: 0">背景效果</label><div class="clearfix"><div class="flo_lef bg-effect"><select style="margin: 0;width: 95px;height: 20px;line-height: 20px;border-radius: 0; height:30px;border-radius: 3px" ng-model="bgJson.effect.type" ng-change="onAnimTypeChange()" ng-options="temp.type as temp.name for temp in ANIMATIONS"><option value="-1">无</option></select></div><div class="background-effect-preview"><a class="btn btn-sm" style="width: 50px;height: 30px;line-height: 30px;padding: 0;float: right" ng-click="previewAnim()"><span class="eqf-play"></span></a></div></div></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    n(1667), e.exports = function () {
        return {
            scope: !0,
            replace: !0,
            template: n(1668),
            controller: ["$rootScope", "$scope", "pageCategoryAPI", "sceneService", "notifier", function (e, t, n, i, o) {
                "ngInject";

                function r(e, t) {
                    n.getCategories(e, t).then(function (e) {
                        f.category.list = e.data.list
                    })
                }

                function a(e) {
                    var t = null;
                    e === s.NORMAL_SINGLE_TPL ? t = n.getSingleTplPrice() : e === s.NORMAL_FUNCTION_TPL && (t = n.getFunctionTplPrice()),
                        t.then(function (e) {
                            f.price.list = e.data.list
                        })
                }

                var s = {NORMAL_SINGLE_TPL: 1, NORMAL_FUNCTION_TPL: 2, COLLECT_SINGLE_TPL: 3, COLLECT_FUNCTION_TPL: 4},
                    c = {PC: 1, APP: 2}, l = {PC: 1, APP: 2, FUNCTION: 3},
                    p = {REFUSE: -1, NORMAL: 0, APPLYING: 1, APPLIED: 2}, u = s.NORMAL_SINGLE_TPL, d = i.eqxScene.meta,
                    m = i.getCurrentPage().pageJson, f = t.vmPc = {
                        isApplied: !1,
                        submitInfo: "提交审核",
                        editorModel: d.property.editorModel,
                        platform: "",
                        price: {selected: 0, list: []},
                        category: {selected: [], list: []},
                        title: "",
                        desc: ""
                    };
                switch (f.editorModel) {
                    case 1:
                        f.platform = c.PC;
                        break;
                    case 2:
                        f.platform = c.APP;
                        break;
                    case 3:
                        u = s.NORMAL_FUNCTION_TPL;
                        break;
                    default:
                        f.platform = c.PC
                }
                f.platform += "", t.isPcTpl = !f.editorModel || f.editorModel === l.PC, t.isAppTpl = f.editorModel === l.APP, t.isFunctionTpl = f.editorModel === l.FUNCTION, t.$watch("vmPc.platform", function (e) {
                    a(u), e && !f.isApplied && (f.price.selected = 0, f.category.selected.length = 0, r(u, e))
                }), [p.APPLYING, p.APPLIED].indexOf(m.properties.applyTemplate) >= 0 && (f.isApplied = !0, f.submitInfo = m.properties.applyTemplate === p.APPLYING ? "申请中" : "审核通过", n.getCategoriesChoose(m.id, m.properties.platform).then(function (e) {
                    var t = e.data.obj;
                    f.platform = t.platform + "", f.price.selected = t.price, f.title = t.title, f.desc = t.description, f.category.list = e.data.list
                })), t.selectCategory = function (e) {
                    f.category.selected.length >= 2 && !f.category.selected.find(function (t) {
                        return t.id === e.id
                    }) || (e.isSelected = !e.isSelected, f.category.selected.length = 0, f.category.list.forEach(function (e) {
                        e.isSelected && f.category.selected.push({id: e.id, name: e.name})
                    }), console.log(f.category.selected))
                }, t.submit = function () {
                    return f.category.selected.length ? f.title.length ? f.desc.length ? void e.$broadcast("savePage", function () {
                        n.applyTpl(d.id, m.id, f.price.selected, u, f.platform, f.category.selected, f.title, f.desc).then(function () {
                            o.success("申请模板成功"), f.isApplied = !0, f.submitInfo = "申请中", f.category.list = f.category.selected, m.properties.applyTemplate = p.APPLYING, m.properties.platform = f.platform
                        }, function () {
                            o.success("申请模板失败")
                        })
                    }) : void o.success("请设置描述") : void o.success("请设置标题") : void o.success("请选择分类")
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="page-share manager-comp-setting-tab"><div ng-if="isPcTpl || isAppTpl"><div class="tab-setting-line"><div class="tab-setting-line-title">分享设置</div></div><div ng-if="isPcTpl"><ui-radio id="share-pc" name="radio-share" default-value="1" value="vmPc.platform"></ui-radio><label for="share-pc" style="font-weight: normal!important; margin: 10px 0; padding: 0 10px; cursor: pointer;color: #333">申请为PC{{::isPcTpl ? \'单页\' : \'功能\'}}模板</label></div><div ng-if="vmPc.platform === \'1\'"><div class="clearfix"><eqx-select class="select-base border-width fr" style="width: 194px" model="vmPc.price.selected"><eqx-select-option value="p.value" ng-repeat="p in vmPc.price.list">{{p.value !== \'0\' ? p.value + \'秀点\' : \'免费\'}}</eqx-select-option></eqx-select></div><div class="category-title">{{vmPc.isApplied ? \'已选择的分类\' : \'选择分类\'}}</div><ul class="category"><li class="item" ng-repeat="c in vmPc.category.list" ng-class="{active: c.isSelected}" ng-click="selectCategory(c)">{{::c.name}}</li></ul><div class="category-title">设置标题</div><div class="text"><textarea rows="2" ng-model="vmPc.title" check-count="40"></textarea><span>{{vmPc.title | validCharacterNum}}/40</span></div><div class="category-title">设置描述</div><div class="text"><textarea rows="3" ng-model="vmPc.desc" check-count="60"></textarea><span>{{vmPc.desc | validCharacterNum}}/60</span></div></div><div ng-if="isAppTpl"><ui-radio id="share-app" name="radio-share" default-value="2" value="vmPc.platform"></ui-radio><label for="share-app" style="font-weight: normal!important; margin: 10px 0; padding: 0 10px; cursor: pointer">申请为APP{{::isAppTpl ? \'单页\' : \'功能\'}}模板</label></div><div ng-if="vmPc.platform === \'2\'"><div class="clearfix"><eqx-select class="select-base border-width fr" style="width: 194px" model="vmPc.price.selected"><eqx-select-option value="p.value" ng-repeat="p in vmPc.price.list">{{p.value !== \'0\' ? p.value + \'秀点\' : \'免费\'}}</eqx-select-option></eqx-select></div><div class="category-title">{{vmPc.isApplied ? \'已选择的分类\' : \'选择分类\'}}</div><ul class="category"><li class="item" ng-repeat="c in vmPc.category.list" ng-class="{active: c.isSelected}" ng-click="selectCategory(c)">{{::c.name}}</li></ul><div class="category-title">设置标题</div><div class="text"><textarea rows="2" ng-model="vmPc.title" check-count="40"></textarea><span>{{vmPc.title | validCharacterNum}}/40</span></div><div class="category-title">设置描述</div><div class="text"><textarea rows="3" ng-model="vmPc.desc" check-count="60"></textarea><span>{{vmPc.desc | validCharacterNum}}/60</span></div></div><a class="submit" ng-class="{disabled: vmPc.isApplied}" ng-click="submit()">{{vmPc.submitInfo}}</a><div class="mask" ng-show="vmPc.isApplied"></div></div></section>'
}, function (e, t, n) {
    "use strict";
    n(1670), e.exports = function () {
        return {
            replace: !0,
            restrict: "EA",
            scope: {eqxPage: "="},
            template: n(1671),
            controller: ["$scope", "musicModal", "authorityService", function (e, t, n) {
                "ngInject";
                var i = e.eqxPage, o = e.prop = i.pageJson.properties;
                e.pageSettingMusicAuthority = !n.permission("pageSettingMusic"), e.edit = function () {
                    t.open(o.music, 2).then(function (e) {
                        var t = e.name, n = e.path, i = e.id;
                        o.music = n ? {url: n, name: t, id: i} : null
                    })
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-comp-setting-tab page-setting-music" ng-show="pageSettingMusicAuthority"><div class="tab-setting-line"><div class="tab-setting-line-title">页面音乐</div></div><div class="tab-setting-content"><div class="style_con_hei"><div class="style_list_angel clearfix page-music"><label>页面音乐</label><div class="music-file"><span class="music-name" ng-bind="prop.music.name || \'请添加音乐\'"></span> <a class="add-music-btn" ng-click="edit()">添加音乐</a></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    n(1673), e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            scope: {eqxPage: "="},
            template: n(1674),
            controller: ["$scope", function (e) {
                "ngInject";
                var t = e.eqxPage, n = t.pageJson.properties;
                n.oneShot = n.oneShot || {}, n.oneShot.isOpen = n.oneShot.isOpen || !1, n.oneShot.perspective = n.oneShot.perspective || 320, e.vm = n.oneShot, e.vm.perspective = n.oneShot.perspective, e.vm.isOpen = n.oneShot.isOpen, e.isOneShotOpen = function () {
                    e.vm.isOpen = !e.vm.isOpen, e.vm.isOpen ? t.oneShot.open(e.vm.perspective) : t.deleteOneShot()
                }, e.$watch("vm.perspective", function (t, n) {
                    JSON.stringify(t) !== JSON.stringify(n) && e.eqxPage.$ul.css({perspective: t + "px"})
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab page-setting-one-shot"><div class="tab-setting-line"><div class="tab-setting-line-title">一镜到底</div></div><div class="one-shot-content"><div class="clearfix"><label class="">开启</label><div class="fl switch" style="margin-top: 5px" ng-class="vm.isOpen ? \'switch-open\' : \'switch-close\'" ng-click="isOneShotOpen()"><div class="circle-con"><i class="circle"></i></div></div></div><div class="clearfix" ng-if="false"><label class="">镜头距离</label><div class="clearfix"><div class="slider2" ui-slider-t ng-model="vm.perspective" min="0" max="2000" type="n"></div><p class="num"><input class="input_kuang short" type="number" step="10" min="0" max="2000" ng-model="vm.perspective" limit-input/></p></div></div></div></section>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            scope: {eqxPage: "="},
            template: n(1676),
            controller: ["$scope", function (e) {
                "ngInject";
                var t = e.eqxPage, n = e.pageScroll = t.pageJson.properties.pageScroll;
                n.autoFlipTime = n.autoFlipTime || 3, e.changeDisableFlip = function () {
                    n.disableFlip = !n.disableFlip
                }, e.changeCanAutoFlip = function () {
                    n.canAutoFlip = !n.canAutoFlip
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<section class="manager-comp-setting-tab"><div class="tab-setting-line" style="margin: 12px 20px"><div class="tab-setting-line-title">翻页设置</div></div><div class="style_con_hei"><div class="style_list_angel clearfix"><span style="padding:0 10px; float: right; line-height: 25px" class="bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="注：请确保在页面中设置了其他跳转操作"><em class="eqf-why-f"></em></span><div class="fr switch" ng-class="pageScroll.disableFlip ? \'switch-open\' : \'switch-close\'" ng-click="changeDisableFlip()"><div class="circle-con"><i class="circle"></i></div></div><label style="width: 80px;height: 20px;line-height: 20px">禁止滑动翻页</label></div><div class="style_list_angel clearfix"><span style="padding:0 10px; float: right; line-height: 25px" class="bbs-help-tip-media hint--left hint--rounded hint--panel" data-hint="注：延时设置的翻页时间后自动翻页"><em class="eqf-why-f"></em></span><div class="fr switch" ng-class="pageScroll.canAutoFlip ? \'switch-open\' : \'switch-close\'" ng-click="changeCanAutoFlip()"><div class="circle-con"><i class="circle"></i></div></div><label style="height: 20px;line-height: 20px">自动翻页</label></div><div class="style_list_angel clearfix" ng-if="pageScroll.canAutoFlip"><label style="height: 30px;line-height: 30px;margin: 0;padding: 0">翻页时间</label><div class="touming clearfix"><p class="num"><input style="border: 1px solid #ccd5db;border-radius: 3px;width: 60px !important;height: 30px !important;padding: 0 5px !important;box-sizing: border-box" class="short" type="number" min="1" max="60" step="0.1" limit-input ng-model="pageScroll.autoFlipTime"/></p><div class="slider2" type="n" style="width: 80px" ui-slider-t ng-model="pageScroll.autoFlipTime" min="1" max="60"></div></div></div></div></section>'
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            template: n(1679),
            controller: ["$rootScope", "$scope", "selectService", "flagService", "sceneService", function (e, t, n, i, r) {
                t.eqxPage = r.getCurrentPage(), t.TAB = {style: 1};
                var a = t.vm = {tab: o};
                t.setTab = function (e) {
                    a.tab = e, o = e
                }
            }]
        }
    }

    n(1678);
    var o = 1;
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-page-setting" style="position: absolute; top: 52px; bottom: 0"><page-setting-style2 eqx-page="eqxPage" confirm="confirm()"></page-setting-style2></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.page.oneShotEditor", []).directive("eqxPageOneShotEditor", n(1681)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            template: n(1685),
            controller: ["$scope", "sceneService", "selectService", "notifier", "$rootScope", "flagService", function (e, t, n, i, o, r) {
                function a(t) {
                    var n = t || e.vm.oneShotEditor.distance, i = e.vm.screens, o = e.vm.ScreenManager;
                    i.forEach(function (e) {
                        var t = o.getCompsInScreen(e);
                        o.updateCompsTranslateZ(t, n, e)
                    })
                }

                function s(t) {
                    for (var n = e.vm.oneShotEditor.distance, i = arguments.length, o = Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) o[r - 1] = arguments[r];
                    e.vm.ScreenManager.updateCompsTranslateZ(o, n)
                }

                function c() {
                    var n = t.getCurrentPage(), i = n.pageJson.properties, r = n.screenManager || n.addScreenManager();
                    if (e.vm = {
                        oneShotEditor: i.oneShot,
                        distanceType: l(i.oneShot.distance) ? "custom" : "default",
                        get page() {
                            return n
                        },
                        get screens() {
                            return r.screens
                        },
                        get currentScreen() {
                            return r.currentScreen
                        },
                        get currentIndex() {
                            return r.currentScreenIndex
                        },
                        get ScreenManager() {
                            return r
                        }
                    }, r.screens.length < 3) {
                        for (var s = 3 - r.screens.length; s--;) r.addScreen();
                        o.$broadcast("screen.add")
                    }
                    r.switchScreen(0), a()
                }

                function l(e) {
                    return !isNaN(parseFloat(e))
                }

                e.$on("changePage.end", c), e.$on("wsComp.add", s), e.$on("groupComp.add", s), e.$on("selectService.add", function (t) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    if (i && i.length) {
                        var r = i[i.length - 1], a = r.eqxLayer, s = e.vm.currentScreen, c = e.vm.ScreenManager,
                            l = e.vm.page;
                        a !== s && l.switchCurrentLayer(a), c.showCurrentScreen()
                    }
                }), e.addScreenBg = function (e) {
                    e.stopPropagation(), n.removeAll(), r.workspace.layerBgSetting ? (r.workspace.pageSetting = !1, r.workspace.layerBgSetting = !0, setTimeout(function () {
                        o.$broadcast("add.funComp.bg")
                    }, 0)) : o.$broadcast("close.layer.setting")
                }, e.$watch("vm.oneShotEditor.distance", function (e, t) {
                    e !== t && a(parseFloat(e))
                }), c(), e.addScreenItem = function () {
                    n.removeAll(), e.vm.ScreenManager.addScreen(), o.$broadcast("screen.add")
                }, e.switchScreen = function (t) {
                    n.removeAll(), e.vm.ScreenManager.switchScreen(t), o.$broadcast("change.screen.pageSetting")
                }, e.deleteScreenItem = function (t, n) {
                    t.stopPropagation();
                    var r = e.vm.screens, s = e.vm.ScreenManager;
                    return r.length <= 3 ? void i.success("一镜到底功能至少需要三幕") : (s.deleteScreen(n), e.switchScreen(0), a(), void o.$broadcast("screen.remove"))
                }, e.copyScreenItem = function (t, n) {
                    t.stopPropagation();
                    var i = e.vm.ScreenManager;
                    i.copyScreen(n), e.switchScreen(n + 1), a(), o.$broadcast("screen.add")
                }
            }]
        }
    }

    n(1682), e.exports = i
}, function (e, t) {
}, , , function (e, t) {
    e.exports = '<div class="manager-one-shot-editor"><div class="one-shot-editor-setting"><div class="container"><div class="wrapper" eqd-scroll><div class="settings"><div class="setting auto clearfix"><div class="setting-label">自动滑动画面</div><div class="switch" style="margin-top: 5px" ng-class="!!vm.oneShotEditor.auto ? \'switch-open\' : \'switch-close\'" ng-click="vm.oneShotEditor.auto = !vm.oneShotEditor.auto"><div class="circle-con"><i class="circle"></i></div></div></div><div class="setting distance-type clearfix"><div class="setting-label">与上一幕距离</div><div class="switch"><div class="left default" ng-class="{\'selected\': vm.distanceType === \'default\'}" ng-click="vm.oneShotEditor.distance = null;vm.distanceType = \'default\';">默认</div><div class="right custom" ng-class="{\'selected\': vm.distanceType === \'custom\'}" ng-click="vm.oneShotEditor.distance = 320;vm.distanceType = \'custom\';">自定义</div></div></div><div class="setting distance clearfix" ng-if="vm.distanceType === \'custom\'"><div class="setting-label">间距</div><div class="clearfix"><div class="slider2" ng-model="vm.oneShotEditor.distance" ui-slider-t type="n" fixed="1" min="100" max="1000"></div><p class="num"><input type="number" ng-model="vm.oneShotEditor.distance" limit-input step="1" min="100" max="1000"/></p></div></div></div><div class="hr"><div class="text">画面设置<div class="tip"><span class="eqf-why-f"></span><div class="tutorial"><div class="wrapper"><span class="img"></span><p>注：每一幕处于不同平面，越靠后的一幕，在越底层。预览时通过上下滑控制视点位置，我们只能看到视点后的平面</p></div></div></div></div></div><div class="screen-setting" eqd-scroll><ul class="screens"><li class="screen" ng-if="vm.screens.length" ng-class="{\'selected\': vm.currentIndex === $index, \'have-bg\': vm.screens[$index].json.screenBg && (vm.screens[$index].json.screenBg.properties.bgColor || vm.screens[$index].json.screenBg.properties.imgSrc)}" ng-click="switchScreen($index)" ng-repeat="screen in vm.screens track by $index">第 {{$index + 1}} 幕 <span class="delete-screen-btn" ng-click="deleteScreenItem($event, $index)"><i class="eqf-delete-l"></i> </span><span class="copy-screen-btn" ng-click="copyScreenItem($event, $index)"><i class="eqf-copy-l"></i> </span><span class="add-screen-bg hint--left hint--rounded" data-hint="背景" ng-click="addScreenBg($event)"><i class="eqf-backgroud-l"></i></span></li><li class="screen add-screen-btn" ng-class="{\'disabled\': vm.screens.length >= 100}" ng-click="addScreenItem()">+&nbsp;新增一幕</li></ul></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.page.PIPEditor", []).directive("eqxPagePipEditor", n(1687)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        "ngInject";
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            template: n(1690),
            controller: ["$scope", "sceneService", "selectService", "delayLoadService", "loadingService", "uploaderService", "$rootScope", "notifier", "pipService", "flagService", "$timeout", function (e, t, n, i, a, s, c, l, p, u, d) {
                function m() {
                    for (var t = e.vm.screens, n = e.vm.ScreenManager, i = 1; i < t.length; i++) {
                        var o = n.getCompsInScreen(t[i]), r = o.find(function (e) {
                            var t = e.compJson.properties;
                            return !!t.pip
                        });
                        if (r) {
                            var a = r.compJson.css, s = a.left, c = a.top, l = a.width, p = a.height;
                            t[i].area = {left: s, top: c, width: l, height: p}
                        }
                    }
                }

                function f(t, n, i) {
                    v().then(function () {
                        return t >= n ? (l.success("您的画中画场景已生成成功"), void i()) : (e.$apply(function () {
                            y(t), g()
                        }), void f(t + 1, n, i))
                    })
                }

                function g() {
                    var t = e.vm.currentScreen, n = e.vm.screens[e.vm.currentIndex - 1];
                    if (!(e.vm.currentIndex <= 0) && n.thumbnail) {
                        var i = e.vm.page, r = e.vm.ScreenManager, a = r.findImageCompInScreen(t), s = null;
                        if (a) {
                            var l = a.compJson.properties, p = void 0 === l ? null : l;
                            if (p.src === n.thumbnail.src) return;
                            var u = a.compJson;
                            s = i.updateEqxComp(u.id, Object.assign({}, u, {
                                properties: {
                                    src: n.thumbnail.src,
                                    pip: 1
                                }
                            }))
                        } else if (!a) {
                            var d = o.json(n.thumbnail.w / 6, n.thumbnail.h / 6, n.thumbnail.src);
                            s = i.initEqxCompByJson(d)
                        }
                        s && (i.renderEqxComp(s, !0), c.$broadcast("wsComp.add", s))
                    }
                }

                function h(e) {
                    var t = e.getBoundingClientRect(), n = document.body, i = document.documentElement,
                        o = window.pageYOffset || i.scrollTop || n.scrollTop,
                        r = window.pageXOffset || i.scrollLeft || n.scrollLeft, a = i.clientTop || n.clientTop,
                        s = i.clientLeft || n.clientLeft, c = t.top + o - a, l = t.left + r - s;
                    return {top: Math.round(c), left: Math.round(l)}
                }

                function v() {
                    var t = e.vm.ScreenManager, o = e.vm.currentScreen, c = t.getCompsInScreen(o),
                        l = r.getHash(p.getCompsLayoutContent(c));
                    return o ? o._lastHash && o._lastHash === l ? Promise.resolve() : (o._lastHash = l, i.loadHtml2Canvas().then(function () {
                        a.show();
                        var e = $('[ctype="16"]'), t = $("#nr"), i = t.find("svg"), r = [], c = [];
                        return i.each(function (e, t) {
                            var n = t.parentNode, i = document.createElement("canvas");
                            canvg(i, n, {ignoreMouse: !0, ignoreAnimation: !0}), r.push({
                                parent: n,
                                child: t
                            }), n.removeChild(t), c.push({parent: n, child: i}), n.appendChild(i)
                        }), new Promise(function (i, l) {
                            e.hide(), n.removeAll();
                            var p = t.width(), u = t.height(), d = h(t[0]), m = document.createElement("canvas");
                            m.width = 2 * p, m.height = 2 * u, m.style.width = p + "px", m.style.height = u + "px";
                            var f = m.getContext("2d");
                            f.scale(2, 2), f.translate(-d.left, -d.top), html2canvas(t, {
                                useCORS: !0,
                                canvas: m,
                                onrendered: function (t) {
                                    var n = t.toDataURL("image/png");
                                    s.getUploadToken("image").then(function (e) {
                                        return s.uploadBase64(e, n.substring(22))
                                    }).then(function (e) {
                                        var t = e.key, n = e.w, i = e.h;
                                        return {src: t, w: n, h: i}
                                    }).then(function (t) {
                                        o.thumbnail = Object.assign({}, t), e.show()
                                    }).then(function () {
                                        c.forEach(function (e) {
                                            e.parent.removeChild(e.child)
                                        }), r.forEach(function (e) {
                                            e.parent.appendChild(e.child)
                                        }), a.hide(), i()
                                    })["catch"](function () {
                                        e.show(), a.hide(), l({})
                                    })
                                }
                            })
                        })
                    })["catch"](function (e) {
                        console.log(e)
                    })) : Promise.reject({})
                }

                function y(t) {
                    n.removeAll();
                    var i = e.vm.ScreenManager;
                    i.switchScreen(t), c.$broadcast("change.screen.pageSetting")
                }

                function b() {
                    var n = t.getCurrentPage(), i = n.pageJson.properties, o = n.screenManager || n.addScreenManager();
                    e.vm = {
                        PipEditor: i.pip, get page() {
                            return n
                        }, get screens() {
                            return o.screens
                        }, get ScreenManager() {
                            return o
                        }, get currentScreen() {
                            return o.currentScreen
                        }, get currentIndex() {
                            return o.currentScreenIndex
                        }
                    }, 1 === o.screens.length && (o.addScreen(), o.addScreen(), c.$broadcast("screen.add")), y(0)
                }

                e.$on("changePage.end", function () {
                    b()
                }), e.$on("pip.generate", function () {
                    e.generateScreensThumbnail()
                }), e.$on("selectService.add", function (t) {
                    for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    if (i && i.length && !i.some(function (e) {
                        return "16" === e.type
                    })) {
                        var r = i[i.length - 1], a = r.eqxLayer, s = e.vm.currentScreen, c = e.vm.ScreenManager,
                            l = e.vm.page;
                        a !== s && l.switchCurrentLayer(a), c.showCurrentScreen()
                    }
                }), b(), e.$watch(function () {
                    return $(".manager-pip-editor .screens").height()
                }, function (t) {
                    var n = $(".manager-pip-editor .screen-setting").height();
                    e.isGenerateButtonFloat = ~~t + 40 > n
                }), e.generating = !1, e.isGenerateButton = !1, e.copyScreenItem = function (t, n) {
                    t.stopPropagation(), e.vm.ScreenManager.copyScreen(n), y(n + 1), c.$broadcast("screen.add")
                }, e.onSelectScreen = function (t) {
                    return t === e.vm.currentIndex || 0 === t || e.vm.currentIndex === -1 ? void y(t) : void v().then(function () {
                        e.$apply(function () {
                            y(t), g()
                        })
                    })["catch"](function () {
                        y(0)
                    })
                }, e.deleteScreenItem = function (t, i) {
                    t.stopPropagation(), n.removeAll();
                    var o = e.vm.screens, r = e.vm.ScreenManager;
                    return o.length <= 3 ? void l.success("画中画功能至少需要三幕") : (r.deleteScreen(i), y(0), void c.$broadcast("screen.remove"))
                }, e.addScreenItem = function () {
                    e.vm.screens.length >= 100 || (e.vm.ScreenManager.addScreen(), e.onSelectScreen(e.vm.screens.length - 1), c.$broadcast("screen.add"))
                }, e.addScreenBg = function (e) {
                    e.stopPropagation(), n.removeAll(), u.workspace.layerBgSetting ? (u.workspace.pageSetting = !1, u.workspace.layerBgSetting = !0, setTimeout(function () {
                        c.$broadcast("add.funComp.bg")
                    }, 0)) : c.$broadcast("close.layer.setting")
                }, e.generateScreensThumbnail = function () {
                    var t = e.vm.screens, n = t.length;
                    e.generating = !0, f(0, n, function () {
                        m(), e.$apply(function () {
                            e.generating = !1
                        })
                    })
                }
            }]
        }
    }

    n(1688);
    var o = n(1689), r = n(879);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 53,
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 81,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
        return {
            css: {top: "30px", left: "30px", width: e, height: t},
            properties: {
                scratch: !1,
                src: n,
                imgStyle: {width: e, height: t, marginTop: "0", marginLeft: "0"},
                initType: 1,
                maskSrc: "",
                pip: 1
            },
            title: null,
            type: 4
        }
    }

    e.exports = {json: n}
}, function (e, t) {
    e.exports = '<div class="manager-pip-editor"><div class="pip-editor-setting"><div class="container"><div class="wrapper" eqd-scroll><div class="settings"><div class="setting playback clearfix"><div class="setting-label">允许回放</div><div class="switch" ng-class="!!vm.PipEditor.playback ? \'switch-open\' : \'switch-close\'" ng-click="vm.PipEditor.playback = !vm.PipEditor.playback"><div class="circle-con"><i class="circle"></i></div></div></div><div class="setting mode clearfix"><div class="setting-label">播放方式</div><div class="switch"><div class="left default" ng-class="{\'selected\': vm.PipEditor.mode === 1}" ng-click="vm.PipEditor.mode = 1;"><span ng-if="vm.PipEditor.playback">先缩小再放大</span> <span ng-if="!vm.PipEditor.playback">缩小</span></div><div class="right custom" ng-class="{\'selected\': vm.PipEditor.mode === 2}" ng-click="vm.PipEditor.mode = 2;"><span ng-if="vm.PipEditor.playback">先放大再缩小</span> <span ng-if="!vm.PipEditor.playback">放大</span></div></div></div></div><div class="hr"><div class="text">画面设置</div></div><div class="screen-setting" eqd-scroll><ul class="screens"><li class="screen" ng-class="{\'selected\': vm.currentIndex === $index, \'have-bg\': vm.screens[$index].json.screenBg && (vm.screens[$index].json.screenBg.properties.bgColor || vm.screens[$index].json.screenBg.properties.imgSrc)}" ng-click="onSelectScreen($index)" ng-repeat="screen in vm.screens track by $index">第 {{$index + 1}} 幕 <span class="delete-screen-btn" ng-click="deleteScreenItem($event, $index)"><i class="eqf-delete-l"></i> </span><span class="copy-screen-btn" ng-click="copyScreenItem($event, $index)"><i class="eqf-copy-l"></i> </span><span class="add-screen-bg hint--left hint--rounded" data-hint="背景" ng-click="addScreenBg($event)"><i class="eqf-backgroud-l"></i></span></li><li class="screen add-screen-btn" ng-class="{\'disabled\': vm.screens.length >= 100}" ng-click="addScreenItem()">+&nbsp;新增一幕</li></ul><a class="generate-thumbnail-btn" ng-class="{\'float\': isGenerateButtonFloat}" ng-click="generateScreensThumbnail()"><span ng-show="!generating">生成画中画</span> <span ng-show="generating"><i class="eqf-rotate-ccw"></i>&nbsp;画中画生成中...</span></a></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("manager.page.quickFlashEditor", []).directive("eqxPageQuickFlashEditor", n(1692)).name
}, function (e, t, n) {
    "use strict";
    n(1693), e.exports = function () {
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            template: n(1694),
            controller: ["$scope", "sceneService", "selectService", "notifier", "$rootScope", "flagService", function (e, t, n, i, o, r) {
                "ngInject";

                function a() {
                    var n = t.getCurrentPage(), i = n.pageJson.properties, r = n.screenManager || n.addScreenManager();
                    if (e.vm = {
                        flashEditor: i.flash, get page() {
                            return n
                        }, get screens() {
                            return r.screens
                        }, get currentScreen() {
                            return r.currentScreen
                        }, get currentIndex() {
                            return r.currentScreenIndex
                        }, get ScreenManager() {
                            return r
                        }
                    }, r.screens.length < 3) {
                        for (var a = 3 - r.screens.length; a--;) r.addScreen();
                        o.$broadcast("screen.add")
                    }
                    r.switchScreen(0)
                }

                a(), e.$on("changePage.end", a), e.switchScreen = function (t) {
                    n.removeAll(), e.vm.ScreenManager.switchScreen(t), o.$broadcast("change.screen.pageSetting")
                }, e.addScreenBg = function (e) {
                    e.stopPropagation(), n.removeAll(), r.workspace.layerBgSetting ? (r.workspace.pageSetting = !1, r.workspace.layerBgSetting = !0, setTimeout(function () {
                        o.$broadcast("add.funComp.bg")
                    }, 0)) : o.$broadcast("close.layer.setting")
                }, e.addScreenItem = function () {
                    return e.vm.screens.length >= 100 ? void i.success("快闪功能最多使用100幕") : (n.removeAll(), e.vm.ScreenManager.addScreen(), void o.$broadcast("screen.add"))
                }, e.copyScreenItem = function (t, n) {
                    t.stopPropagation();
                    var i = e.vm.ScreenManager;
                    i.copyScreen(n), e.switchScreen(n + 1), o.$broadcast("screen.add")
                }, e.deleteScreenItem = function (t, n) {
                    t.stopPropagation();
                    var r = e.vm.screens, a = e.vm.ScreenManager;
                    return r.length <= 3 ? void i.success("快闪功能至少需要三幕") : (a.deleteScreen(n), e.switchScreen(0), void o.$broadcast("screen.remove"))
                }, e.switchDuration = function (e, t) {
                    1 === t ? (e.flash.durationType = 1, e.flash.duration = 2) : 0 === t && (e.flash.durationType = 0, e.flash.duration = null)
                }, e.initScreenFlash = function (e) {
                    e.flash = e.json.flash = e.json.flash || {}, e.flash.displayed = !1, e.flash.durationType = e.flash.durationType || 0, e.flash.duration = e.flash.duration || null
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-quick-flash-editor"><div class="quick-flash-editor-setting"><div class="hr"><div class="text">画面设置</div></div><div class="screen-setting" eqd-scroll><ul class="screens"><li class="screen" ng-click="switchScreen($index)" ng-repeat="screen in vm.screens track by $index" ng-init="initScreenFlash(screen)" ng-class="{\n                    \'selected\': vm.currentIndex === $index,\n                    \'duration\': screen.flash.displayed && screen.flash.durationType===0,\n                    \'duration-expand\': screen.flash.displayed && screen.flash.durationType===1,\n                    \'have-bg\': vm.screens[$index].json.screenBg && (vm.screens[$index].json.screenBg.properties.bgColor || vm.screens[$index].json.screenBg.properties.imgSrc)\n                    }">第 {{$index + 1}} 幕 <span class="delete-screen-btn" ng-click="deleteScreenItem($event, $index)"><i class="eqf-delete-l"></i> </span><span class="copy-screen-btn" ng-click="copyScreenItem($event, $index)"><i class="eqf-copy-l"></i> </span><span class="add-screen-bg hint--left hint--rounded" data-hint="背景" ng-click="addScreenBg($event)"><i class="eqf-backgroud-l"></i> </span><span class="flash-duration" ng-mouseenter="screen.flash.displayed=true" ng-mouseleave="screen.flash.displayed=false" ng-click="$event.stopPropagation()"><i class="eqf-clock-l"></i><div class="duration-setting" ng-if="screen.flash.displayed"><div class="wrapper"><span class="arrow"></span><div class="duration-setting-content"><div class="duration-type"><span class="duration-label">停留时间</span><div class="duration-select"><span class="default" ng-class="{\'selected\': screen.flash.durationType===0}" ng-click="switchDuration(screen, 0)">默认</span> <span class="custom" ng-class="{\'selected\': screen.flash.durationType===1}" ng-click="switchDuration(screen, 1)">自定义</span></div></div><div class="tip">停留时间针对当前场景，默认情况动画播放完切换到下一场景</div><div class="duration" ng-if="screen.flash.durationType===1"><span class="duration-label">时间</span><div class="duration-time clearfix"><div class="slider2" type="n" ui-slider-t ng-model="screen.flash.duration" min="0" max="10"></div><input class="input64 fr" type="number" ng-model="screen.flash.duration" min="0" max="10" limit-input/></div></div></div></div></div></span></li><li class="screen add-screen-btn" ng-class="{\'disabled\': vm.screens.length >= 100}" ng-click="addScreenItem()">+&nbsp;新增一幕</li></ul></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.page.multiSelect2", []).directive("eqxMultiSelectPanel2", n(1696)).name
}, function (e, t, n) {
    "use strict";
    n(1697), n(1698);
    var i = n(1066);
    e.exports = function () {
        return {template: n(1699), scope: {}, controller: i}
    }
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="manager-select-panel" ng-class="{\'theme-black\' : themeSkin == \'black\'}"><div class="select-content"><eqx-multi-select></eqx-multi-select></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.page.groupManage2", []).directive("groupManagePanel2", n(1701)).name
}, function (e, t, n) {
    "use strict";
    n(1111);
    var i = n(1116), o = n(1112);
    e.exports = function () {
        return {template: i, scope: {group: "="}, controller: o}
    }
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {},
            template: o,
            controller: ["$rootScope", "$scope", "authorityService", "selectService", "flagService", "sceneService", "userService", "storageService", "$timeout", function (e, t, n, i, o, r, a, s, c) {
                "ngInject";

                function l() {
                    return 1 === i.items.length && i.items[0].isGroupItem()
                }

                function p() {
                    function e(e, t) {
                        return t.getCss("zIndex") - e.getCss("zIndex")
                    }

                    var t = h.eqxPage;
                    t ? h.comps = t.eqxCompList.sort(e) : h.comps = []
                }

                function u() {
                    if (h.eqxPage) {
                        var e = h.eqxPage.pageJson.properties;
                        return e.oneShot && e.oneShot.isOpen
                    }
                    return !1
                }

                function d() {
                    if (!h.eqxPage) return !1;
                    var e = h.eqxPage.pageJson.properties;
                    return e.flash && e.flash.used
                }

                function m() {
                    if (h.eqxPage) {
                        var e = h.eqxPage.pageJson.properties;
                        return e.pip && e.pip.used
                    }
                    return !1
                }

                function f() {
                    function e() {
                        t && t.ftManager.filterValidFtRules()
                    }

                    var t = r.getCurrentPage(), n = h.ftRules.length;
                    h.ftRules = [];
                    var o = i.items.length;
                    if (1 === o) {
                        var a = i.items[0];
                        if (!a.isFunTemplate()) return;
                        e(), h.ftRules = a.eqxPage.ftManager.getEqxItemRelativeFtRules(a).slice()
                    }
                    0 === o && t && t.isFunTemplate() && (e(), h.ftRules = t.ftManager.ftRules.slice()), !n && h.ftRules.length && (h.show = !0)
                }

                t.TAB = {
                    page: 1,
                    comp: 2,
                    compSetting: 3,
                    pageSetting: 4,
                    multiSelectSetting: 5,
                    groupFrame: 6,
                    oneShotEditor: 7,
                    PIPEditor: 8,
                    funTpl: 9,
                    quickFlashEditor: 10,
                    layerBgSetting: 11
                }, t.themeSkin = s.getItem("themeSkin") || "white";
                var g = !1, h = t.vm = {
                    comps: [],
                    ftRules: [],
                    showTabs: n.permission("showCompManage"),
                    tab: t.TAB.page,
                    newPageAndCompManage: !n.permission("newPageAndCompManage"),
                    get compName() {
                        return i.groups.length ? i.groups[0].isFunTemplate() ? "功能模板" : "组合属性" : 0 === i.comps.length ? g ? "幕背景" : "页面属性" : 1 === i.comps.length ? i.comps[0].compJson.name.replace(/\d+/g, "") || "组件" : "多选属性"
                    },
                    get eqxPage() {
                        return r.getCurrentPage()
                    },
                    get group() {
                        var e = i.items;
                        if (1 === e.length && e[0].isGroupItem()) return e[0]
                    },
                    get groups() {
                        return i.groups
                    },
                    get selectedComps() {
                        return i.comps
                    },
                    get compSetting() {
                        return o.workspace.compSettingShow
                    }
                };
                t.$on("wsComp.add", p), t.$on("wsComp.delete.end", p), t.$on("contextMenu.zIndex", p), t.$on("changePage.end", p), t.compsSortableOptions = {
                    placeholder: "ui-state-highlight ui-sort-position",
                    containment: "#containment",
                    update: function (e, n) {
                        var i = n.item.sortable, o = i.index, r = i.dropindex, a = h.comps[o];
                        if (a.compJson.properties.editLock) n.item.sortable.cancel(); else {
                            var s = r - o;
                            if (0 === s) return;
                            s = s < 0 ? "+" + -s : "-" + s, h.eqxPage.updateItemIndex(s, h.comps[o]), t.$apply(function () {
                                return p
                            }), t.select({}, a)
                        }
                    }
                }, t.showGroupManager = l, t.checkPageOneShotEditor = u, t.checkPagePIPEditor = m, t.checkPageQuickFlashEditor = d, t.convertPageSettingOrCompSetting = function (n) {
                    if (!h.compSetting) {
                        var r = i.comps, a = i.groups;
                        if (a.length) var s = a[0].isFunTemplate();
                        h.tab !== t.TAB.comp && h.tab !== t.TAB.page && h.tab !== t.TAB.oneShotEditor && h.tab !== t.TAB.PIPEditor && h.tab !== t.TAB.quickFlashEditor && "attr" === n ? (h.tab === t.TAB.pageSetting && (o.workspace.pageSetting = !0), h.tab === t.TAB.funTpl && e.$broadcast("workSpace.funTpl"), h.tab === t.TAB.layerBgSetting && (o.workspace.layerBgSetting = !0, o.workspace.pageSetting = !1, c(function () {
                            e.$broadcast("layerBgSetting.show")
                        })), g = !1, o.workspace.compSettingShow = !0, o.workspace.layerBgSetting = !0, h.tab = t.TAB.page) : 1 !== a.length || 0 !== r.length || s ? 1 === a.length && 0 === r.length && s ? (h.tab = t.TAB.funTpl, o.workspace.pageSetting = !1, f()) : "open.pageSetting" == n ? h.tab = t.TAB.pageSetting : h.eqxPage.isFunTemplate() && 0 == r.length ? (h.tab = t.TAB.funTpl, o.workspace.pageSetting = !1, f()) : 0 !== a.length || 0 != r.length || s || "close.layer.setting" == n || g ? "close.layer.setting" == n || !o.workspace.layerBgSetting && 0 == r.length ? h.tab = t.TAB.layerBgSetting : r.length > 1 ? (o.workspace.pageSetting = !1, h.tab = t.TAB.multiSelectSetting) : r.length > 0 ? (o.workspace.pageSetting = !1, h.tab = t.TAB.compSetting) : (h.tab !== t.TAB.comp && h.tab !== t.TAB.page || "delete" !== n) && (h.tab = t.TAB.pageSetting) : h.tab = t.TAB.pageSetting : (o.workspace.pageSetting = !1, h.tab = t.TAB.groupFrame)
                    }
                }, t.$on("selectService.add", function () {
                    h.tab !== t.TAB.comp && (g = !1, t.convertPageSettingOrCompSetting());
                }), t.$on("close.layer.setting", function () {
                    h.tab !== t.TAB.comp && (g = !0, t.convertPageSettingOrCompSetting("close.layer.setting"))
                }), t.$on("workspace.back", function () {
                    h.tab !== t.TAB.comp && t.convertPageSettingOrCompSetting()
                }), t.$on("workspace.forward", function () {
                    h.tab !== t.TAB.comp && t.convertPageSettingOrCompSetting()
                }), t.$on("open.pageSetting", function () {
                    g = !1, t.convertPageSettingOrCompSetting("open.pageSetting")
                }), t.$on("selectBox.over", function () {
                    h.tab !== t.TAB.comp && t.convertPageSettingOrCompSetting()
                }), t.$on("selectBox.end", function () {
                    h.tab !== t.TAB.comp && t.convertPageSettingOrCompSetting()
                }), t.$on("selectBox.start", function () {
                    h.tab !== t.TAB.comp && (g = !1, t.convertPageSettingOrCompSetting())
                }), t.$on("wsComp.delete.end", function () {
                    t.convertPageSettingOrCompSetting("delete")
                }), t.$on("groupBox.selected", function () {
                    h.tab !== t.TAB.comp && t.convertPageSettingOrCompSetting()
                }), t.$on("savePage", t.convertPageSettingOrCompSetting), [1, 2, 3, 5, 51].indexOf(a.getCurrentUser().type) < 0 && (t.$on("oneShotEditor.open", function () {
                    h.tab = t.TAB.oneShotEditor
                }), t.$on("PipEditor.open", function () {
                    h.tab = t.TAB.PIPEditor
                }), t.$on("quickFlashEditor.open", function () {
                    h.tab = t.TAB.quickFlashEditor
                })), t.$on("change.theme", function (e, n) {
                    n && (t.themeSkin = n)
                })
            }]
        }
    }

    n(1703), n(1704);
    var o = n(1705);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div id="containment" class="create_right" ng-class="{\'show-tabs\': vm.showTabs, \'newPageAndCompManage\' : !vm.compSetting, \'theme-black\' : themeSkin == \'black\'}"><ul class="nav nav-tabs tab-list" ng-show="vm.showTabs"><li data-hint="点击弹出组件属性面板" class="hint--left hint--rounded" ng-show="!vm.compSetting" ng-click="convertPageSettingOrCompSetting(\'attr\')" ng-class="{ active:vm.tab == TAB.compSetting\n            || vm.tab == TAB.pageSetting\n            || vm.tab == TAB.multiSelectSetting\n            || vm.tab == TAB.groupFrame\n            || vm.tab == TAB.funTpl\n            || vm.tab == TAB.layerBgSetting}"><a ng-show="vm.tab !== TAB.pageSetting && vm.tab !== TAB.multiSelectSetting\n            && vm.tab !== TAB.groupFrame && vm.tab !== TAB.funTpl && vm.tab !== TAB.layerBgSetting" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 90px">{{vm.compName}}</a> <a ng-show="vm.tab === TAB.pageSetting">页面属性</a> <a ng-show="vm.tab === TAB.multiSelectSetting">多选属性</a> <a ng-show="vm.tab === TAB.groupFrame">组合属性</a> <a ng-show="vm.tab === TAB.funTpl">功能模版</a> <a ng-show="vm.tab === TAB.layerBgSetting">幕背景</a></li><li ng-if="checkPageOneShotEditor()" ng-class="{active: vm.tab === TAB.oneShotEditor}"><a ng-click="vm.tab = TAB.oneShotEditor">一镜到底</a></li><li ng-if="checkPageQuickFlashEditor()" ng-class="{active: vm.tab === TAB.quickFlashEditor}"><a ng-click="vm.tab = TAB.quickFlashEditor">快闪</a></li><li ng-if="checkPagePIPEditor()" ng-class="{active: vm.tab === TAB.PIPEditor}"><a ng-click="vm.tab = TAB.PIPEditor">画中画</a></li><li ng-if="!checkPageOneShotEditor() && !checkPagePIPEditor() && !checkPageQuickFlashEditor()" ng-class="{active: vm.tab === TAB.comp}"><a ng-click="vm.tab = TAB.comp">图层管理</a></li><li ng-class="{active: vm.tab === TAB.page}"><a ng-click="vm.tab = TAB.page">页面管理</a></li></ul><group-setting-style ng-show="vm.tab === TAB.funTpl" ft-rules="vm.ftRules"></group-setting-style><eqx-page-one-shot-editor ng-if="checkPageOneShotEditor()" ng-show="vm.tab === TAB.oneShotEditor"></eqx-page-one-shot-editor><eqx-page-quick-flash-editor ng-if="checkPageQuickFlashEditor()" ng-show="vm.tab === TAB.quickFlashEditor"></eqx-page-quick-flash-editor><eqx-page-pip-editor ng-if="checkPagePIPEditor()" ng-show="vm.tab === TAB.PIPEditor"></eqx-page-pip-editor><eqx-page-manager2 ng-show="vm.tab === TAB.page"></eqx-page-manager2><eqx-com-manager ng-show="vm.tab === TAB.comp"></eqx-com-manager><eqx-comp-setting2 ng-show="vm.tab === TAB.compSetting && !vm.compSetting"></eqx-comp-setting2><eqx-page-setting2 ng-if="vm.tab === TAB.pageSetting && !vm.compSetting"></eqx-page-setting2><eqx-multi-select-panel2 ng-if="vm.tab === TAB.multiSelectSetting && !vm.compSetting"></eqx-multi-select-panel2><layer-page-setting eqx-layer="vm.eqxPage.currentLayer" ng-if="vm.tab === TAB.layerBgSetting && !vm.compSetting"></layer-page-setting><group-manage-panel2 ng-if="vm.tab === TAB.groupFrame && !vm.compSetting" group="vm.group"></group-manage-panel2></div>'
}, function (e, t, n) {
    "use strict";
    n(1707), e.exports = angular.module("scene.comp", [n(1708), n(1710), n(1718), n(1721), n(1730), n(1735), n(1738), n(1746), n(1753), n(1755), n(1762), n(1768), n(1777), n(1783), n(1787), n(1794), n(1800), n(1803), n(1810), n(1817), n(1824), n(1827), n(1834), n(1837), n(1840), n(1843), n(1848), n(1852), n(1855), n(1858), n(1878), n(1884), n(1901), n(1904), n(1907), n(1910), n(1913), n(1916), n(1919), n(1922), n(1925), n(1928)]).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.music", []).directive("eqxBgm", n(1709)).name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "musicModal", "sceneService", "sceneMetaService", "notifier", function (e, t, n, i, o) {
                "ngInject";

                function r(e) {
                    o.danger("场景背景音乐失败！"), console.error(e)
                }

                var a = n.eqxScene;
                e.editBgm = function () {
                    var e = 2, n = a.sceneJson.meta.bgAudio;
                    t.open(n, e).then(function (e) {
                        var t = e.name, o = e.path, a = e.id, s = null;
                        o && (s = {
                            url: o,
                            name: t,
                            id: a
                        }), (null === n && o || null !== n && o !== n.url) && i.saveBgAudio(s)["catch"](r)
                    })
                }, e.$on("bgm.edit", function () {
                    e.editBgm()
                }), e.$on("bgm.delete", function () {
                    i.saveBgAudio(null)["catch"](r)
                })
            }],
            link: function (e, t) {
                t.on("click.bgm", function () {
                    e.$apply(function () {
                        return e.editBgm()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.comp", []).factory("compLinkModal", n(1711)).directive("eqxCompLink", n(1716)).directive("eqxCompSound", n(1717)).name
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";

        function i() {
            e.openMsgDialog({msg: n(1714)})
        }

        function o(o) {
            return e.open({
                windowClass: "console six-contain", template: n(1715), resolve: {
                    item: function () {
                        return o
                    }
                }, controller: ["$scope", "$timeout", "item", "sceneService", "EqxCore", function (e, n, o, r, a) {
                    var s = o.targetContent,
                        c = e.TYPE = {none: 0, internal: a.event.EQX_EVENT.page, external: a.event.EQX_EVENT.link},
                        l = r.eqxScene, p = l.meta.id, u = l.sceneJson.list.map(function (e, t) {
                            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
                        });
                    e.pageList = [{name: "无", id: null}].concat(u);
                    var d = e.vm = {type: o.targetState, pageId: null, link: null};
                    if (Number.isInteger(+s)) d.pageId = s, d.type = c.internal; else {
                        var m = (/eqs\/link\?id=\d+&url=(.*)/.exec(s) || [])[1];
                        m && (d.link = decodeURIComponent(m)), d.type = c.external
                    }
                    e.setType = function (e) {
                        d.type = e
                    }, e.isExternal = function () {
                        return d.type === c.external
                    }, e.isInternal = function () {
                        return d.type === c.internal
                    }, e.confirm = function () {
                        switch (d.type) {
                            case c.internal:
                                s = d.pageId;
                                break;
                            case c.external:
                                if (s = d.link) {
                                    if (/^http:|^https:|^ftp:/.test(s) || (s = "http://" + s), s.length > 40) return i();
                                    s = t.SERVER_1 + "eqs/link?id=" + p + "&url=" + encodeURIComponent(s)
                                }
                                break;
                            case c.none:
                            default:
                                s = null
                        }
                        o.targetState = d.type, o.targetContent = s, e.$close(o)
                    }, e.cancel = function () {
                        e.$dismiss()
                    }
                }]
            })
        }

        return {open: o, openLengthAlert: i}
    }

    i.$inject = ["modalService", "HOST"], n(1712), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div align="left">提示：链接过长有可能会导致链接组件打不开，建议生成短链接后再使用。生成短链接地址 <a href="http://dwz.cn" target="_blank" style="color: #59c7f9">http://dwz.cn</a></div>'
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">链接组件 <span class="action">可以链接到场景其他页面或者链接网站地址</span></h4></div><div class="dialog-contain comp-link"><div class="link-modal dialog-content"><form class="form-contain"><div class="form-list clearfix"><label for="externalRadio" class="form-label"><div class="radio-square" ng-class="{checked: isExternal()}"><em></em> <input type="radio" name="externalRadio" id="externalRadio" ng-model="vm.type" ng-value="TYPE.external" ng-change="changed()" style="margin:0px"></div><em>网站地址:</em></label><div class="form-input"><input class="" style="height:35px;width:300px" type="text" ng-model="vm.link" name="externalLink" id="externalLink" placeholder="http://" ng-focus="setType(TYPE.external)"/> <a class="link-delete url-delete" ng-show="isExternal()" ng-click="setType(TYPE.none)"></a></div><a href="http://dwz.cn/" style="text-decoration: underline;color: #59c7f9;position: absolute;top: 10px;right: -30px" target="_blank">生成短链接</a></div><div class="form-list clearfix"><label for="internalRadio" class="form-label"><div class="radio-square" ng-class="{checked: isInternal()}"><em></em> <input type="radio" name="internalRadio" id="internalRadio" ng-value="TYPE.internal" ng-model="vm.type" style="margin:0px"></div><em>场景页面:</em></label><div class="form-input"><eqx-select class="select-sm select-contain border-width fl" model="vm.pageId" change="setType(TYPE.internal)"><eqx-select-option value="page.id" ng-repeat="page in pageList">{{::page.name}}</eqx-select-option></eqx-select><a class="link-delete page-id-delete" ng-show="isInternal()" ng-click="setType(TYPE.none)"></a></div></div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        return {
            restrict: "A", link: function (i) {
                i.$on("wsComp.edit.link", function (i, o) {
                    if (o) {
                        var r = n.event.RAW_EVENT, a = n.event.EQX_EVENT, s = t.getCurrentPage(),
                            c = s.pageJson.properties.triggerGroup, l = c.findIndex(function (e) {
                                return "e" === e.sourceType && e.sourceId === o.compJson.id && e.eventType === r.click && (e.targetState === a.link || e.targetState === a.phone || e.targetState === a.page)
                            }), p = {};
                        p = l === -1 ? {
                            eventType: r.click,
                            sourceType: "e",
                            sourceId: o.compJson.id,
                            targetType: "e",
                            targetId: o.compJson.id,
                            targetState: a.link,
                            targetContent: "",
                            delay: 0
                        } : JSON.parse(JSON.stringify(c[l])), e.open(p).then(function (e) {
                            l = l === -1 ? c.length : l, e.targetContent ? c.splice(l, 1, e) : c.splice(l, 1)
                        })
                    }
                })
            }
        }
    }

    n.$inject = ["compLinkModal", "sceneService", "EqxCore"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        return {
            restrict: "A", link: function (i) {
                i.$on("wsComp.edit.sound", function (i, o) {
                    o && e.open(o.compJson.sound, 4).then(function (e) {
                        var i = t.getCurrentPage(), r = n.event.RAW_EVENT, a = n.event.EQX_EVENT, s = e.id, c = e.name,
                            l = e.path;
                        if (s) {
                            o.addSoundIcon();
                            var p = i.pageJson.properties.triggerGroup.find(function (e) {
                                return e.eventType == r.click && e.sourceId == o.compJson.id && e.targetState == a.play
                            });
                            p ? (p.targetId = o.compJson.id, p.targetType = "e") : i.pageJson.properties.triggerGroup.push({
                                eventType: r.click,
                                sourceId: o.compJson.id,
                                sourceType: "e",
                                targetId: o.compJson.id,
                                targetType: "e",
                                targetState: a.play
                            })
                        } else {
                            o.removeSoundIcon();
                            var u = i.pageJson.properties.triggerGroup, d = u.filter(function (e) {
                                return e.targetState == a.play && e.targetId == o.compJson.id
                            });
                            d.forEach(function (e) {
                                u.splice(u.indexOf(e), 1)
                            })
                        }
                        o.setProps({sound: {id: s, name: c, src: l}})
                    })
                })
            }
        }
    }

    n.$inject = ["musicModal", "sceneService", "EqxCore"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.image.image", []).factory("imageEditService", n(1719)).directive("eqxImage", n(1720)).name
}, function (e, t) {
    "use strict";
    e.exports = ["sceneService", "imageCropFactory", function (e, t) {
        "ngInject";

        function n(e) {
            return JSON.parse(JSON.stringify(e))
        }

        function i(e) {
            var i = n(e), o = i.properties, r = o.originSrc || o.src;
            /\?imageMogr2/.test(r) || (r += "?imageMogr2/auto-orient");
            var a = {
                type: i.type,
                title: "图片裁切",
                desc: "请根据你的需求，点击右侧常用比例进行裁切",
                showItems: !0,
                imgSrc: r,
                cropItems: [{value: 1, ratio: 0, desc: "原图比例"}, {value: 2, ratio: 1, desc: "1:1"}, {
                    value: 3,
                    ratio: 4 / 3,
                    desc: "4:3"
                }, {value: 4, ratio: .75, desc: "3:4"}, {value: 5, ratio: 320 / 486, desc: "标准屏比例"}, {
                    value: 6,
                    ratio: 320 / 243,
                    desc: "1/2屏比例"
                }, {value: 7, ratio: 320 / 162, desc: "1/3屏比例"}, {value: 8, ratio: -1, desc: "自定义", lock: !1}]
            };
            return t.openCropModal(i, a).then(function (e) {
                var t = e.image, n = e.obj || i, r = {cropSize: t.cropSize, src: t.src, originSrc: t.originSrc};
                return Object.assign(o, r), n
            })
        }

        return {_crop: i}
    }]
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "imageEditService", "imageModalFactory", "imageCropFactory", "sceneService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e, t) {
                    return {
                        css: {
                            top: $(".workspace").scrollTop() + (486 - t) / 2 + "px",
                            left: (320 - e) / 2 + "px",
                            width: e,
                            height: t
                        },
                        properties: {
                            scratch: !1,
                            src: "",
                            imgStyle: {width: e, height: t, marginTop: "0", marginLeft: "0"},
                            initType: 1,
                            maskSrc: "",
                            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                        },
                        title: null,
                        type: 4
                    }
                }

                e.createImage = function () {
                    i.getImage().then(function (e) {
                        var n = a(1.5 * e.shape.width, 1.5 * e.shape.height);
                        n.properties.src = e.src || e.path, n.properties.originSrc = e.src || e.path;
                        var i = r.getCurrentPage(), o = i.initEqxCompByJson(n);
                        o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                    })
                }, e.createImageDirectly = function (e) {
                    var n = a(e.width, e.height);
                    n.properties.src = e.src || e.path, n.properties.originSrc = e.src || e.path, n.css.top = e.top, n.css.left = e.left, e.fromSource && "psd" === e.fromSource && (n.fromSource = "psd", delete n.properties.anim, n.name = e.name);
                    var i = r.getCurrentPage(), o = i.initEqxCompByJson(n);
                    o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                }, e.editImage = function (e) {
                    var n = e.compJson;
                    "4" === n.type.toString() && i.getImage().then(function (n) {
                        var i = n.src || n.path, o = e.editImage({src: i, originSrc: i, cropSize: void 0}, n.shape);
                        o && t.$broadcast("wsComp.add", o)
                    })
                }, e.createMaskImage = function (e) {
                    i.getImage().then(function (i) {
                        var o = a(1.5 * i.shape.width, 1.5 * i.shape.height);
                        o.properties.src = i.src || i.path, o.properties.originSrc = i.src || i.path, n._crop(o, e).then(function (e) {
                            var n = r.getCurrentPage();
                            Object.assign(o, e);
                            var i = n.initEqxCompByJson(o);
                            i && (n.renderEqxComp(i), i.$width = i.compJson.css.width, i.$height = i.compJson.css.height, t.$broadcast("wsComp.add", i))
                        })
                    })
                }, e.cropImage = function (e) {
                    n._crop(e).then(function (n) {
                        var i = r.getCurrentPage(), o = i.updateEqxComp(e.id, n);
                        o.editImage(n.properties), t.$broadcast("wsComp.add", o)
                    })["catch"](function (e) {
                        console.log(e)
                    })
                }
            }],
            link: function (e, t) {
                t.on("click.image", function () {
                    e.$apply(function () {
                        return e.createImage()
                    })
                }), e.$on("create.image", function (t, n) {
                    n ? e.createMaskImage(n) : e.createImage()
                }), e.$on("psd.image", function (t, n) {
                    e.createImageDirectly(n)
                }), e.$on("wsComp.edit", function (t, n) {
                    e.editImage(n)
                }), e.$on("wsComp.crop", function (t, n) {
                    e.cropImage(n.compJson)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    n(1722), e.exports = angular.module("comp.imageGroup", []).factory("imageSliderModal", n(1723)).directive("eqxImageSliderCropPreview", n(1726)).factory("imageSliderCropFactory", n(1727)).directive("eqxImageSlider", n(1728)).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = n(1724), o = n(1725);
    e.exports = ["delayLoadService", "dialogService", function (e, t) {
        "ngInject";

        function n(n) {
            var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return e.imgJcrop().then(function () {
                return t.open({
                    template: o, controller: i, resolve: {
                        obj: function () {
                            return JSON.parse(JSON.stringify(n))
                        }, option: function () {
                            return JSON.parse(JSON.stringify(r))
                        }
                    }
                })
            })
        }

        return {open: n}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["$scope", "$modal", "$rootScope", "HOST", "imageSliderCropFactory", "obj", "imageModalFactory", "option", "$timeout", function (e, t, n, i, o, r, a, s, c) {
        "ngInject";

        function l(e) {
            if (void 0 === e) return g;
            for (var t = 0; t < g.length; t++) if (e === g[t].value) return g[t]
        }

        function p() {
            for (var t = y.children.filter(function (e) {
                return !!e
            }).length, n = 0; n < 6; n++) y.children[n] ? d(n, y.children[n].originSrc ? y.children[n].originSrc : y.children[n].src, y.children[n].name, function () {
                0 === --t && (e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                    m.showCrop = !0, u(m.currentImage.index || 0)
                }))
            }) : y.children.push({})
        }

        function u(e) {
            var t = void 0;
            y.children[e].originSrc && (t = y.children[e].originSrc), m.currentImage = {
                index: e,
                src: y.children[e].src + "?t=" + Date.now(),
                originSrc: t
            }
        }

        function d(t, n, o, r) {
            $("<img>").attr("src", i.FILE + n).load(function () {
                $.extend(b.items[t], {
                    coordinate: {
                        x: 0,
                        y: 0,
                        x2: this.width,
                        y2: this.height,
                        w: this.width,
                        h: this.height,
                        src: n,
                        name: o,
                        fileType: 1,
                        index: t
                    }, realSize: {width: this.naturalWidth || this.width, height: this.naturalHeight || this.height}
                }), e.compJson.properties.children && e.compJson.properties.children[t] && e.compJson.properties.children[t].cropSize && (b.items[t].coordinate.x = e.compJson.properties.children[t].cropSize.x, b.items[t].coordinate.y = e.compJson.properties.children[t].cropSize.y, b.items[t].coordinate.w = e.compJson.properties.children[t].cropSize.w, b.items[t].coordinate.h = e.compJson.properties.children[t].cropSize.h), r && r()
            })
        }

        e.HOST = i, e.compJson = r;
        var m = e.imageOption = $.extend(!0, {
            title: "图集裁切",
            desc: "通过图片裁切可制作超酷图集",
            showCrop: !1,
            showLoading: !1,
            currentImage: {index: -1, src: ""}
        }, s), f = e.cropOption = {
            showItems: !0,
            imgSrc: r.properties.src,
            cropItems: [{value: 2, ratio: 1, desc: "1:1"}, {value: 3, ratio: 4 / 3, desc: "4:3"}, {
                value: 4,
                ratio: .75,
                desc: "3:4"
            }, {value: 5, ratio: 320 / 486, desc: "标准屏比例"}, {value: 6, ratio: 320 / 243, desc: "1/2屏比例"}, {
                value: 7,
                ratio: 320 / 162,
                desc: "1/3屏比例"
            }, {value: 8, ratio: -1, desc: "自定义", lock: !1}]
        };
        r.properties.ratioItem ? (r.properties.lock && "" + r.properties.ratioItem == "8" && (f.cropItems[r.properties.ratioItem - 2].lock = !0), f.currentItem = f.cropItems[r.properties.ratioItem - 2]) : f.currentItem = f.cropItems[0];
        var g = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
                value: 3,
                desc: "百页窗",
                name: "blinds"
            }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
                value: 9,
                desc: "梳理",
                name: "zip"
            }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
                value: 14,
                desc: "棋盘",
                name: "tiles3d"
            }, {value: 16, desc: "飞出", name: "explode"}], h = e.picStyles = l(), v = angular.copy(r),
            y = e.properties = v.properties;
        y.autoPlay = !!y.autoPlay, y.interval = !y.interval == !0 ? 2e3 : y.interval, y.picStyle = !y.picStyle == !0 ? h[0] : l(y.picStyle), y.bgColor = !y.bgColor == !0 ? "rgba(255,255,255,0)" : y.bgColor, y.children = !y.children == !0 ? [] : y.children, e.interval = y.interval / 1e3, n.$on("ngDialog.opened", function () {
            p()
        });
        var b = o.getCoordinateObj();
        e.cropItemChange = function (e) {
            null === e.lock && (f.cropItems[6].lock = !1), f.currentItem = e, n.$broadcast("cropItem.change", e)
        }, e.addPictures = function (t, n, i) {
            t.stopPropagation();
            var o = i ? y.children.filter(function (e) {
                return e.src
            }).length : 5, r = {manageGroup: !1, max: m.addMax || 6 - o};
            a.getImages(r).then(function (t) {
                var o = {selectedImages: []};
                angular.forEach(t, function (e) {
                    o.selectedImages.push({
                        height: e.shape.height,
                        width: e.shape.width,
                        name: e.name,
                        src: e.src || e.path
                    })
                });
                var r = n, a = 0, s = y.children.length, c = o.selectedImages.length;
                if (i) for (; r < s;) {
                    if (!y.children[r++].src) {
                        var l = o.selectedImages[a++];
                        y.children[r - 1] = {
                            src: l.src,
                            desc: "",
                            height: l.height,
                            width: l.width,
                            name: l.name
                        }, d(r - 1, l.src, l.name, function () {
                            0 === --c && (e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                                m.showCrop = !0, u(n)
                            }))
                        })
                    }
                    if (a === o.selectedImages.length) break;
                    r === s && (r = 0)
                } else {
                    var p = o.selectedImages[0];
                    y.children[n] = {
                        src: p.src,
                        desc: "",
                        height: p.height,
                        width: p.width
                    }, d(n, p.src, p.name, function () {
                        e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                            m.showCrop = !0, u(n)
                        })
                    })
                }
            })
        }, e.setPicturesSize = function (e) {
            var t = e.children[0], n = t.width / t.height, i = void 0, o = void 0, a = void 0;
            v.css.width || v.css.height ? (i = v.css.width / v.css.height, n > i ? (o = v.css.width, a = o / n) : (a = v.css.height, o = a * n)) : (i = 2, n > i ? (o = 320, a = o / n) : (a = 160, o = a * n)), r.css.width = o, r.css.height = a
        }, e.delPicture = function (e) {
            y.children[e] = {}, b.items[e] = {}, e === m.currentImage.index && (m.currentImage.index = -1, n.$broadcast("image.delete", e))
        }, e.changePicture = function (e) {
            m.currentImage.index !== e && u(e)
        };
        var x = !0;
        e.ok = function () {
            if (x) {
                x = !1;
                var t = y.children.filter(function (e) {
                    return e.src && e.src.length > 2
                });
                return t && 0 !== t.length ? void(o.getCropping() || (y.interval = 1e3 * e.interval, m.showLoading = !0, n.$broadcast("cropImage.ok", y))) : void(m.desc = "请选择图片，最多添加6张")
            }
        }, e.cancel = function () {
            e.$dismiss()
        }, e.$on("crop.complete.all", function (t, n) {
            y.picStyle = y.picStyle.value, $.each(n, function (e, t) {
                y.children[t.index] = t
            });
            for (var i = angular.copy(y), o = i.children, a = 5; a >= 0; a--) o[a].src || o.splice(a, 1);
            x = !0, e.setPicturesSize(i), r.properties = i, c(function () {
                e.closeThisDialog(r)
            })
        }), e.$on("crop.fail", function () {
            o.setCropping(!1), m.showLoading = !1
        })
    }]
}, function (e, t) {
    e.exports = '<div class="images-cut-box"><div class="images-cut-left"><div class="head">{{::imageOption.title}}</div><div class="picture-img"><div class="image_crop" ng-class="{\'bg-crop\': !cropOption.showItems}"><img id="img_preview" eqx-image-slider-crop-preview index="{{imageOption.currentImage.index}}" ng-src="{{imageOption.currentImage.originSrc\n                             ? HOST.FILE + imageOption.currentImage.originSrc :\n                             HOST.FILE + imageOption.currentImage.src}}"></div><ul class="img-abbre"><li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}"><div ng-click="changePicture($index)" class="img-abbre-item-img" ng-style="{\'background-image\':  child.src.length ? child.originSrc\n                                    ? \'url(\' + HOST.FILE + child.originSrc + \')\'\n                                    : \'url(\' + HOST.FILE + child.src + \')\' : \'none\'}"></div><div class="img-set"><div class="change-img hint--top hint--rounded" data-hint="换图" ng-show="child.src.length" ng-if="imageOption.currentImage.index === $index" ng-click="addPictures($event, $index)"><span class="eqf-refresh-ccw"></span></div><div class="img-num">{{$index + 1}}/6</div><div class="delete-img hint--top hint--rounded" data-hint="删除" ng-if="imageOption.currentImage.index === $index" ng-show="child.src.length" ng-click="delPicture($index)"><span class="eqf-minus-f"></span></div></div><p class="eqf-plus empty-image-view" ng-hide="child.src.length" ng-click="addPictures($event, $index, \'more\')"></p></li></ul></div></div><div class="images-cut-right"><div class="images-cut-close-btn"><span class="close1 eqf-no" ng-click="closeThisDialog()"></span></div><div class="cut-size picture-size" ng-show="cropOption.showItems"><div class="cut-cory-box clearfix"><div class="cut-cory-head"><span class="cut-cory-title">裁切比例</span></div><ul class="cut-cory"><li ng-repeat="item in cropOption.cropItems"><div class="radio-square" style="margin-top:10px" ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)"></div><label for="{{item.desc}}">{{item.desc}}</label><span ng-if="item.lock != null" ng-click="item.lock = !item.lock;cropItemChange(item)" class="hint--right hint--rounded" data-hint="{{item.lock ? \'取消锁定比例\' : \'锁定比例\'}}" style="margin-left: 5px"><em ng-class="{\'eqf-lock-f\': item.lock, \'eqf-unlock-f\': !item.lock}"></em></span></li></ul></div><div class="slider-setting"><ul class="picture-set"><li class="clearfix slider-setting-item"><span class="setting-item-label">{{properties.autoPlay ? (\'自动切换\') : (\'手动切换\')}}</span> <span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span></li><li class="clearfix slider-setting-item"><span class="setting-item-label">切换时间</span><div class="slider2" ui-slider-t type="n" style="width: 68px" ng-model="interval" fixed="1" min="1" integer="true" max="5"></div><input limit-input class="input_kuang short" type="number" step="1" min="1" max="5" ng-model="interval"/></li><li class="slider-setting-item clearfix"><span class="setting-item-label">切换动画</span><eqx-select class="select-great border-width select-contain" model="properties.picStyle" style="float: right;width: 152px;height: 36px" change="getMyScenes()"><eqx-select-option value="pic" ng-repeat="pic in picStyles">{{::pic.desc}}</eqx-select-option></eqx-select></li></ul></div></div><div class="footer"><a class="cancel" ng-click="closeThisDialog()">取消</a> <a class="confirm" ng-click="ok()">确定</a></div></div></div>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t(t, i) {
            var o = e.getCoordinateObj();
            p = t, p.compJson.properties.ratioItem && "8" === p.compJson.properties.ratioItem.toString() && !p.compJson.properties.lock && (l = {
                lock: p.compJson.properties.lock,
                ratio: -1
            }), t.$on("imageSlider.imgLoaded", function () {
                n(i, o)
            }), t.$on("$destroy", function () {
                s = c = l = null, e.initCoordinateObj(), e.setCropping(!1)
            }), t.$on("cropItem.change", function (e, t) {
                r(t)
            }), t.$on("image.delete", function () {
                $(".image_crop").children("div").remove()
            }), t.$on("cropImage.ok", function (e, t) {
                l && l.value && (t.ratioItem = l.value, l.lock ? t.lock = !0 : t.lock = !1), a(o)
            })
        }

        function n(e, t) {
            var n = $(".image_crop");
            u = {width: n.width(), height: n.height()};
            var o = u.width / u.height;
            e.hide().load(function () {
                var n = {width: this.naturalWidth || this.width, height: this.naturalHeight || this.height};
                e.show();
                var r, a = n.width / n.height;
                n.width > u.width || n.height > u.height ? a > o ? (e.css({
                    width: u.width,
                    height: u.width / a
                }), r = {position: "absolute", top: "50%", marginTop: -u.width / a / 2}) : (e.css({
                    width: u.height * a,
                    height: u.height
                }), r = {margin: "auto"}) : (e.css({width: n.width, height: n.height}), r = {
                    position: "absolute",
                    left: "50%",
                    top: "50%",
                    marginLeft: -e.width() / 2,
                    marginTop: -e.height() / 2
                }), c = {width: e.width(), height: e.height()};
                var s = e.attr("index");
                $.extend(t.items[s], {displaySize: c}), i(e, t, r, s)
            })
        }

        function i(e, t, n, i) {
            if (!(i < 0)) {
                s && (s.destroy(), s = null);
                var r, a = c.width, u = c.height, d = !1;
                p.compJson.properties.children && p.compJson.properties.children[i] && p.compJson.properties.children[i].cropSize && (d = !0), r = t.items[i].coordinate, r && (r.w > a && (t.ratio = 1, r.w = a, r.h = a), r.h > u && (t.ratio = 1, r.h = u, r.w = u), r.x2 = r.x + r.w, r.y2 = r.y + r.h);
                var m = void 0;
                m = l && l.ratio === -1 ? l.lock ? r.w / r.h : 0 : l ? l.ratio : d ? r.w / r.h : 1, e.Jcrop({
                    keySupport: !1,
                    aspectRatio: m,
                    allowSelect: !1,
                    setSelect: r ? [r.x, r.y, r.x2, r.y2] : [0, 0, a, u],
                    onRelease: function () {
                        this.setOptions({setSelect: [0, 0, a, u]})
                    },
                    onSelect: function () {
                        s && o(i, t)
                    }
                }, function () {
                    s = this, o(i, t)
                }), $(".jcrop-holder").css(n)
            }
        }

        function o(e, t) {
            if (!(e < 0)) {
                var n = s.tellSelect();
                n.w || (n.w = n.x2 - n.x), n.h || (n.h = n.y2 - n.y), t.ratio = n.w / n.h, $.extend(t.items[e].coordinate, n)
            }
        }

        function r(e) {
            l = e;
            var t = void 0, n = c.width, i = c.height;
            if (e.ratio === -1) {
                var o = s.tellSelect();
                t = {aspectRatio: e.lock ? o.w / o.h : 0, setSelect: [o.x, o.y, o.x2, o.y2]}
            } else n > i ? n = i * e.ratio : i = n / e.ratio, t = {aspectRatio: n / i, setSelect: [0, 0, n, i]};
            s.setOptions(t)
        }

        function a(t) {
            var n = [];
            $.each(t.items, function (i, o) {
                var r = o.coordinate, a = o.realSize;
                if (r && a) {
                    if (d = {}, $.extend(!0, d, o.coordinate), o.displaySize) {
                        var s = a.width / o.displaySize.width;
                        r.w = Math.ceil(r.w * s), r.h = Math.ceil(r.h * s), r.x = Math.ceil(r.x * s), r.y = Math.ceil(r.y * s)
                    } else {
                        var c = (a.width / a.height, r.w / r.h, r.w / a.width);
                        (a.width > u.width || a.height > u.height) && (r.w = Math.ceil(r.w / c), r.h = Math.ceil(r.h / c))
                    }
                    r.x + r.w > o.realSize.width && (r.w = a.width - r.x), r.y + r.h > o.realSize.height && (r.h = a.height - r.y), r.w === a.width && r.h === a.height || 0 === r.w || 0 === r.h ? (n.push({
                        src: r.src,
                        desc: "",
                        height: r.h,
                        width: r.w
                    }), e.setCropCount(t), e.cropImage(r, r, !1)) : (delete r.x2, delete r.y2, e.setCropping(!0), e.setCropCount(t), e.cropImage(r, d, !1))
                }
            })
        }

        var s, c, l, p, u;
        return {link: t};
        var d
    }

    n.$inject = ["imageSliderCropFactory"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";
        var t, n = {}, i = [], o = !1, r = 0, a = 0;
        return n.getCoordinateObj = function () {
            return t
        }, n.initCoordinateObj = function () {
            t = {ratio: null, items: []};
            for (var e = 0; e < 6; e++) t.items.push({})
        }, n.setCropCount = function (e) {
            var t = 0;
            if (e && e.items) for (var n = 0; n < e.items.length; n++) e.items[n].coordinate && e.items[n].coordinate.src && t++;
            r = t
        }, n.getCropCount = function () {
            return r
        }, n.setCropping = function (e) {
            o = e
        }, n.getCropping = function () {
            return o
        }, n.cropImage = function (t, n, o) {
            var s;
            s = o ? n : t;
            var c = "?imageMogr2/auto-orient/crop/!" + s.w + "x" + s.h + "a" + s.x + "a" + s.y, l = {
                width: n.w,
                height: n.h,
                src: n.src + c,
                originSrc: n.src,
                id: n.id,
                cropSize: {x: n.x, y: n.y, w: n.w, h: n.h},
                desc: "",
                index: t.index
            };
            i.push(l), a++, r === a && (r = a = 0, e.$broadcast("crop.complete.all", angular.copy(i)), i.length = 0)
        }, n.initCoordinateObj(), n
    }

    n.$inject = ["$rootScope"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "A",
            scope: {},
            link: function (e, t) {
                t.on("click.imageSlider", function () {
                    e.$apply(function () {
                        return e.createImageSlider()
                    })
                })
            },
            controller: ["$scope", "imageSliderModal", "imageSliderModal2", "sceneService", "$rootScope", "authorityService", function (e, t, i, o, r, a) {
                e.createImageSlider = function () {
                    var e = n(1729);
                    e.properties.children = [{
                        cropSize: {h: 160, w: 160, x: 0, y: 0},
                        width: 160,
                        height: 160,
                        originSrc: "o_1bjmjn3qm15qr1m9m14e6ubdkpd.jpg",
                        src: "o_1bjmjn3qm15qr1m9m14e6ubdkpd.jpg?imageMogr2/auto-orient|imageMogr2/auto-orient/crop/!160x160a0a0"
                    }, {
                        cropSize: {h: 160, w: 160, x: 0, y: 0},
                        width: 160,
                        height: 160,
                        originSrc: "o_1bjmjn3qmnpbvvq1o6319u14c5c.jpg",
                        src: "o_1bjmjn3qmnpbvvq1o6319u14c5c.jpg?imageMogr2/auto-orient|imageMogr2/auto-orient/crop/!160x160a0a0"
                    }, {
                        cropSize: {h: 160, w: 160, x: 0, y: 0},
                        width: 160,
                        height: 160,
                        originSrc: "o_1bjmjn3qm4ak10p2adiq911jinb.jpg",
                        src: "o_1bjmjn3qm4ak10p2adiq911jinb.jpg?imageMogr2/auto-orient|imageMogr2/auto-orient/crop/!160x160a0a0"
                    }], e.css.width = "115px", e.css.height = "115px";
                    var t = o.getCurrentPage(), i = t.initEqxCompByJson(e);
                    i && (t.renderEqxComp(i), r.$broadcast("wsComp.add", i))
                }
            }]
        }
    }

    i.$inject = ["authorityService"], e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = {
        css: {top: $(".workspace").scrollTop() + 185 + "px", left: "102px"},
        properties: {
            title: "图集",
            initType: 1,
            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
        },
        title: null,
        type: "p"
    }
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.imageGroup2", []).factory("imageSliderModal2", n(1731)).name
}, function (e, t, n) {
    "use strict";
    var i = n(1732);
    n(1733), e.exports = ["modalService", "delayLoadService", function (e, t) {
        "ngInject";

        function o(o) {
            return t.imgJcrop().then(function () {
                return e.open({
                    windowClass: "console seven-contain pictures1",
                    backdrop: "static",
                    template: n(1734),
                    controller: i,
                    resolve: {
                        obj: function () {
                            return JSON.parse(JSON.stringify(o))
                        }
                    }
                })
            })
        }

        return {open: o}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["$scope", "$modal", "$rootScope", "HOST", "imageSliderCropFactory", "obj", "imageModalFactory", "authorityService", "$timeout", function (e, t, n, i, o, r, a, s, c) {
        "ngInject";

        function l(e) {
            if (void 0 === e) return g;
            for (var t = 0; t < g.length; t++) if (e === g[t].value) return g[t]
        }

        function p() {
            for (var t = y.children.filter(function (e) {
                return !!e
            }).length, n = 0; n < 6; n++) y.children[n] ? d(n, y.children[n].originSrc ? y.children[n].originSrc : y.children[n].src, y.children[n].name, function () {
                0 === --t && (e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                    m.showCrop = !0, u(0)
                }))
            }) : y.children.push({})
        }

        function u(e) {
            var t = void 0;
            y.children[e].originSrc && (t = y.children[e].originSrc), m.currentImage = {
                index: e,
                src: y.children[e].src + "?t=" + Date.now(),
                originSrc: t
            }
        }

        function d(t, n, o, r) {
            $("<img>").attr("src", i.FILE + n).load(function () {
                $.extend(b.items[t], {
                    coordinate: {
                        x: 0,
                        y: 0,
                        x2: this.width,
                        y2: this.height,
                        w: this.width,
                        h: this.height,
                        src: n,
                        name: o,
                        fileType: 1,
                        index: t
                    }, realSize: {width: this.naturalWidth || this.width, height: this.naturalHeight || this.height}
                }), e.compJson.properties.children && e.compJson.properties.children[t] && e.compJson.properties.children[t].cropSize && (b.items[t].coordinate.x = e.compJson.properties.children[t].cropSize.x, b.items[t].coordinate.y = e.compJson.properties.children[t].cropSize.y, b.items[t].coordinate.w = e.compJson.properties.children[t].cropSize.w, b.items[t].coordinate.h = e.compJson.properties.children[t].cropSize.h), r && r()
            })
        }

        e.HOST = i, e.compJson = r;
        var m = e.imageOption = {
            title: "图集组件",
            desc: "通过图片裁切可制作超酷图集",
            showCrop: !1,
            showLoading: !1,
            currentImage: {index: -1, src: ""}
        }, f = e.cropOption = {
            showItems: !0,
            imgSrc: r.properties.src,
            cropItems: [{value: 2, ratio: 1, desc: "1:1"}, {value: 3, ratio: 4 / 3, desc: "4:3"}, {
                value: 4,
                ratio: .75,
                desc: "3:4"
            }, {value: 5, ratio: 320 / 486, desc: "标准屏比例"}, {value: 6, ratio: 320 / 243, desc: "1/2屏比例"}, {
                value: 7,
                ratio: 320 / 162,
                desc: "1/3屏比例"
            }, {value: 8, ratio: -1, desc: "自定义", lock: !1}]
        };
        r.properties.ratioItem ? (r.properties.lock && "" + r.properties.ratioItem == "8" && (f.cropItems[r.properties.ratioItem - 2].lock = !0), f.currentItem = f.cropItems[r.properties.ratioItem - 2]) : f.currentItem = f.cropItems[0];
        var g = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
                value: 3,
                desc: "百页窗",
                name: "blinds"
            }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
                value: 9,
                desc: "梳理",
                name: "zip"
            }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
                value: 14,
                desc: "棋盘",
                name: "tiles3d"
            }, {value: 16, desc: "飞出", name: "explode"}], h = e.picStyles = l(), v = angular.copy(r),
            y = e.properties = v.properties;
        y.autoPlay = !!y.autoPlay,
            y.interval = !y.interval == !0 ? 2e3 : y.interval, y.picStyle = !y.picStyle == !0 ? h[0] : l(y.picStyle), y.bgColor = !y.bgColor == !0 ? "rgba(255,255,255,0)" : y.bgColor, y.children = !y.children == !0 ? [] : y.children, p();
        var b = o.getCoordinateObj();
        e.cropItemChange = function (e) {
            null === e.lock && (f.cropItems[6].lock = !1), f.currentItem = e, n.$broadcast("cropItem.change", e)
        }, e.addPictures = function (t, n, i) {
            t.stopPropagation();
            var o = i ? y.children.filter(function (e) {
                return e.src
            }).length : 5, r = {manageGroup: !1, max: 6 - o};
            a.getImages(r).then(function (t) {
                var o = {selectedImages: []};
                angular.forEach(t, function (e) {
                    o.selectedImages.push({
                        height: e.shape.height,
                        width: e.shape.width,
                        name: e.name,
                        src: e.src || e.path
                    })
                });
                var r = n, a = 0, s = y.children.length, c = o.selectedImages.length;
                if (i) for (; r < s;) {
                    if (!y.children[r++].src) {
                        var l = o.selectedImages[a++];
                        y.children[r - 1] = {
                            src: l.src,
                            desc: "",
                            height: l.height,
                            width: l.width,
                            name: l.name
                        }, d(r - 1, l.src, l.name, function () {
                            0 === --c && (e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                                m.showCrop = !0, u(n)
                            }))
                        })
                    }
                    if (a === o.selectedImages.length) break;
                    r === s && (r = 0)
                } else {
                    var p = o.selectedImages[0];
                    y.children[n] = {
                        src: p.src,
                        desc: "",
                        height: p.height,
                        width: p.width
                    }, d(n, p.src, p.name, function () {
                        e.$broadcast("imageSlider.imgLoaded"), e.$apply(function () {
                            m.showCrop = !0, u(n)
                        })
                    })
                }
            })
        }, e.setPicturesSize = function (e) {
            var t = e.children[0], n = t.width / t.height, i = void 0, o = void 0, a = void 0;
            v.css.width || v.css.height ? (i = v.css.width / v.css.height, n > i ? (o = v.css.width, a = o / n) : (a = v.css.height, o = a * n)) : (i = 2, n > i ? (o = 320, a = o / n) : (a = 160, o = a * n)), r.css.width = o, r.css.height = a
        }, e.delPicture = function (e) {
            y.children[e] = {}, b.items[e] = {}, e === m.currentImage.index && (m.currentImage.index = -1, n.$broadcast("image.delete", e))
        }, e.changePicture = function (e) {
            m.currentImage.index !== e && u(e)
        };
        var x = !0;
        e.ok = function () {
            if (x) {
                x = !1;
                var e = y.children.filter(function (e) {
                    return e.src && e.src.length > 2
                });
                return e && 0 !== e.length ? void(o.getCropping() || (m.showLoading = !0, n.$broadcast("cropImage.ok", y))) : void(m.desc = "请选择图片，最多添加6张")
            }
        }, e.cancel = function () {
            e.$dismiss()
        }, e.$on("crop.complete.all", function (t, n) {
            y.picStyle = y.picStyle.value, $.each(n, function (e, t) {
                y.children[t.index] = t
            });
            for (var i = angular.copy(y), o = i.children, a = 5; a >= 0; a--) o[a].src || o.splice(a, 1);
            x = !0, e.setPicturesSize(i), r.properties = i, e.$close(r)
        }), e.$on("crop.fail", function () {
            o.setCropping(!1), m.showLoading = !1
        })
    }]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="images-cut-box2"><div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">{{::imageOption.title}} <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696"><span class="eqf-why-f"></span></a> <span class="action">{{::imageOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class="image-con" style="width:100%" ng-hide="imageOption.showCrop"><div class="add-img" ng-click="addPictures($event, 0, \'first\')"><i>点击添加图片</i><p style="padding-top: 5px;font-size: 14px"><i>（最多可添加6张图片）</i></p></div></div><div class="clearfix" ng-show="imageOption.showCrop"><div class="picture-img"><div class="image_crop" ng-class="{\'bg-crop\': !cropOption.showItems}"><img id="img_preview" eqx-image-slider-crop-preview index="{{imageOption.currentImage.index}}" ng-src="{{imageOption.currentImage.originSrc\n                                     ? HOST.FILE + imageOption.currentImage.originSrc :\n                                     HOST.FILE + imageOption.currentImage.src}}"></div><div class="img-abbre"><ul class="clearfix"><li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.src.length ? child.originSrc\n                                            ? \'url(\' + HOST.FILE + child.originSrc + \')\'\n                                            : \'url(\' + HOST.FILE + child.src + \')\' : \'none\'}" ng-click="changePicture($index)"><div class="img-set" ng-show="child.src.length"><div class="delete-img hint--top hint--rounded" data-hint="删除图片" ng-click="delPicture($index)"><span class="eqf-no"></span></div><div class="abbre hint--bottom hint--rounded" data-hint="更换图片" ng-click="addPictures($event, $index)"><span class="eqf-image-l"></span></div></div><p class="eqf-plus" ng-hide="child.src.length" ng-click="addPictures($event, $index, \'more\')"></p></li></ul></div></div><div class="cut-size picture-size" ng-show="cropOption.showItems"><ul><li ng-repeat="item in cropOption.cropItems"><div class="radio-square" style="margin-top:7px" ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)"></div><label for="{{item.desc}}">{{item.desc}}</label><span ng-if="item.lock != null" style="margin-left: 5px"><input type="checkbox" id="lock" style="margin-right: 5px" ng-model="item.lock" ng-change="cropItemChange(item)"><label for="lock">锁定</label></span></li></ul><ul style="margin-top:10px" class="picture-set"><li class="clearfix"><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i> </span>{{properties.autoPlay ? (\'自动切换\') : (\'手动切换\')}}</li><li><p><i>切换时间：</i>{{properties.interval / 1000}}<i>秒</i></p></li><li class="switch-time" style="padding-top: 5px"><div ui-slider-t min="1000" max="5000" step="1000" class="slider" ng-model="properties.interval" ng-class="{disable: !properties.autoPlay}"></div><div class="time-mark" ng-hide="properties.autoPlay"></div></li><li><p>切换动画</p></li><li><eqx-select class="select-sm border-width select-contain" model="properties.picStyle" change="getMyScenes()"><eqx-select-option value="pic" ng-repeat="pic in picStyles">{{::pic.desc}}</eqx-select-option></eqx-select></li></ul></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()" ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}">取消</a> <a class="btn btn-primary" ng-click="ok()" ng-show="imageOption.showCrop">确定</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.background", []).directive("eqxBg", n(1736)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A",
            scope: {},
            link: function (e, t) {
                t.on("click.bg", function () {
                    e.$apply(function () {
                        return e.updateBg()
                    })
                }), e.$on("bg.edit", function () {
                    return e.updateBg()
                }), e.$on("bg.cut", function (t, n) {
                    return e.cutBg(n)
                }), e.$on("bg.delete", function () {
                    return e.removeBg()
                }), e.$on("layerBg.edit", function () {
                    return e.updateLayerBg()
                }), e.$on("layerBg.delete", function () {
                    return e.removeLayerBg()
                }), e.$on("layerBg.cut", function () {
                    return e.cutLayerBg()
                })
            },
            controller: ["$rootScope", "$scope", "imageModalFactory", "imageCropFactory", "sceneService", "HOST", "$q", "flagService", "authorityService", "selectService", function (e, t, i, o, r, a, s, c, l, p) {
                "ngInject";

                function u(e) {
                    var t = r.getCurrentPage();
                    e = t.addBgJson(e);
                    var n = t.initEqxBgByJson(e);
                    n && t.renderBg(n), d("page")
                }

                function d(t) {
                    p.removeAll(), "page" == t && (l.permission("pageSetting") ? e.$broadcast("open.pageSetting") : c.workspace.pageSetting = !0), e.$broadcast("bgEdit.done", t)
                }

                function m(e) {
                    var t = e.properties;
                    if (t.originSrc) var n = t.originSrc.replace(a.FILE, ""); else n = t.src.replace(a.FILE, "");
                    var i = {
                        type: e.type,
                        title: "背景裁切",
                        desc: "背景图将按照要求的比例进行裁切",
                        showItems: !1,
                        imgSrc: n,
                        cropItems: [{ratio: 640 / 972, desc: "背景图比例"}]
                    };
                    return t.pageLength && (i.currentIndex = 1, i.showItems = !0, i.cropItems = [{
                        value: 1,
                        ratio: 320 / 504,
                        desc: "固定背景模式"
                    }, {
                        value: 2,
                        ratio: 320 / (t.pageLength + 18),
                        desc: "全屏背景模式"
                    }]), o.openCropModal(e, i).then(function (n) {
                        var i = n.image;
                        if (i.src && i.originSrc) {
                            var o = {cropSize: i.cropSize, imgSrc: i.src, originSrc: i.originSrc};
                            t.pageLength && (o.croptype = i.type), Object.assign(t, o)
                        }
                        return t.originSrc && !t.imgSrc && (t.imgSrc = t.originSrc), e
                    })
                }

                function f(e) {
                    var t = r.getCurrentPage().currentLayer;
                    t.renderBg(t.addBgJson(e)), d("layer")
                }

                t.removeBg = function () {
                    var t = r.getCurrentPage();
                    t.deleteBg(), e.$broadcast("bgDelete.done")
                }, t.updateBg = function () {
                    var e = r.getCurrentPage(), t = e.pageJson.properties.longPage,
                        o = JSON.parse(JSON.stringify(n(1737)));
                    e.eqxBackground && (o.css.opacity = e.eqxBackground.compJson.css.opacity, o.effect = e.eqxBackground.compJson.effect);
                    var a = {categoryName: "背景", disableBgColor: !1};
                    t && (o.properties.pageLength = t, a.tagName = "纯色背景"), i.getBg(a).then(function (e) {
                        if (e.color) {
                            o.properties.bgColor = e.color;
                            var t = s.resolve(o)
                        } else o.properties.originSrc = e.src || e.path, t = m(o);
                        t.then(u)
                    })
                }, t.cutBg = function (e) {
                    var t = r.getCurrentPage(), n = t.pageJson.properties.longPage, i = JSON.parse(JSON.stringify(e));
                    n && n != i.properties.pageLength && (i.properties.pageLength = n, delete i.properties.cropSize), m(i).then(u)
                }, t.removeLayerBg = function () {
                    var t = r.getCurrentPage().currentLayer;
                    t.json.screenBg.properties = {
                        bgColor: null,
                        imgSrc: null
                    }, t.deleteBg(), e.$broadcast("bgEdit.done")
                }, t.cutLayerBg = function () {
                    var e = r.getCurrentPage().currentLayer, t = JSON.parse(JSON.stringify(e.json.screenBg));
                    m(t).then(f)
                }, t.updateLayerBg = function () {
                    var e = r.getCurrentPage().currentLayer, t = JSON.parse(JSON.stringify(n(1737)));
                    e.layerBg && (t.css.opacity = e.json.screenBg.css.opacity, t.effect = e.json.screenBg.effect);
                    var o = {categoryName: "背景", disableBgColor: !1};
                    i.getBg(o).then(function (e) {
                        if (e.color) {
                            t.properties.bgColor = e.color;
                            var n = s.resolve(t)
                        } else t.properties.originSrc = e.src || e.path, n = m(t);
                        n.then(f)
                    })
                }
            }]
        }
    }

    e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = {css: {zIndex: -1}, properties: {bgColor: null, imgSrc: null}, type: 3}
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.text", []).directive("toolbar", n(1739)).directive("eqxText", n(1744)).factory("textFactory", n(1745)).directive("downUpSelect", [function () {
        return {
            restrict: "EA", link: function (e, t) {
                t.on("click", function () {
                    var n = t.next().eq(0), i = $(".btn-toolbar").offset().top, o = n.height(),
                        r = $(window).height() - i + $(document).scrollTop() - 40, a = i - $(document).scrollTop();
                    o > r && o < a ? e.$apply(function () {
                        e.upclass = !0
                    }) : e.$apply(function () {
                        e.upclass = !1
                    })
                })
            }
        }
    }]);
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i(e, t, i, o, r, a, s, c, l, p, u, d) {
        "ngInject";
        return {
            restrict: "EA", replace: !0, template: n(1743), scope: {comp: "="}, link: function (n, m, f) {
                function g() {
                    var e = "auto", t = "inside-active-height", i = "inside-active-width";
                    "horizontal-tb" !== n.comp.css.writingMode && n.comp.css.writingMode ? (n.comp.css.writingMode = "vertical-rl", n.writeModelNormal = !1, t = "inside-active-height", i = "inside-active-width", n.comp.$context.bind("DOMSubtreeModified", function () {
                        "auto" === e ? (e = "100%", n.comp.$li.find(".element-box").css("width", "auto"), n.comp.$li.find(".element-box-contents").css("width", "auto")) : (e = "auto", n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box-contents").css("width", "100%"))
                    })) : (n.comp.css.writingMode = "horizontal-tb", n.writeModelNormal = !0, t = "inside-active-width", i = "inside-active-height"), n.comp.$li.removeClass(t), n.comp.update$li({
                        width: n.comp.compJson.css.width,
                        height: n.comp.compJson.css.height
                    }), n.comp.updateSize(1, {
                        writingMode: n.comp.compJson.css.writingMode,
                        width: n.comp.compJson.css.width,
                        height: n.comp.compJson.css.height,
                        minHeight: n.comp.compJson.css.height,
                        minWidth: n.comp.compJson.css.width
                    }), n.comp.$li.addClass(i);
                    var o = n.comp.$li, r = n.comp.css, a = r.width, s = r.height, c = parseFloat(o.css("width")),
                        l = parseFloat(o.css("height"));
                    c !== a && (n.comp.css.width = c), l !== s && (n.comp.css.height = l), n.comp.autoSizeTopDown()
                }

                function h() {
                    n.comp.compJson.css.writingMode && "horizontal-tb" !== n.comp.compJson.css.writingMode ? (n.comp.compJson.css.writingMode = "horizontal-tb", n.comp.compJson.css.width = n.comp.$li.find(".element-box").width()) : (n.comp.compJson.css.writingMode = "vertical-rl", n.comp.compJson.css.height = n.comp.$li.find(".element-box").height()), n.comp.update$ContentCss({"writing-mode": n.comp.compJson.css.writingMode});
                    var e = [n.comp.compJson.css.height, n.comp.compJson.css.width];
                    n.comp.compJson.css.width = e[0], n.comp.compJson.css.height = e[1], g()
                }

                function v() {
                    return a.getMyFontList().then(function (e) {
                        n.fontNames = e
                    })["catch"](function (e) {
                        c.openMsgDialog({msg: e.data.msg})
                    })
                }

                function y(e) {
                    if (0 == e.expStatus) l.getFontStatus(e.id, e.productId).then(function (t) {
                        var n = t.data.map;
                        1 === n.status ? c.openConfirmDialog({
                            msg: "当前字体已过期，是否重新购买？",
                            confirmName: "立即购买",
                            cancelName: "取消"
                        }).then(function () {
                            a.buyFont(e).then(function () {
                                a.myFont.myFontLists = []
                            })
                        }) : p.danger("当前字体已下架，请使用其他字体")
                    }); else {
                        if (2 == V.type && 0 == e.license && a.myFont.personFontNoTip.indexOf(e.name) == -1) {
                            var t = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + e.name + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
                                n = {msg: t, confirmName: "坚持使用", cancelName: "去购买", noTips: !1};
                            return c.openConfirmDialog(n).then(function () {
                                n.noTips && a.myFont.personFontNoTip.push(e.name), b(e)
                            }, function () {
                                n.noTips && a.myFont.personFontNoTip.push(e.name), a.buyFont(e).then(function () {
                                    a.myFont.myFontLists = []
                                })
                            })
                        }
                        b(e)
                    }
                }

                function b(e) {
                    n.comp.compJson.css.fontFamily = e.fontFamily, n.comp.compJson.css.fontName = e.name, a.editFontList.indexOf(e.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + e.fontFamily + "';src: url('" + r.FILE + e.woffPath + "') format('woff'), url('" + r.FILE + e.ttfPath + "') format('truetype');;}")), a.editFontList.push(e.fontFamily)), L("fontName", e.fontFamily), n.selectedFontName = e.name, B()
                }

                function x(e) {
                    var t = null;
                    if (e) n.selectStyle.fontSize = e, t = e; else {
                        n.selectStyle.fontSize = n.selectStyle.fontSize.replace(/[^\d]/g, "");
                        var i = parseInt(n.selectStyle.fontSize);
                        t = i ? i < 12 ? 12 : i > 96 ? 96 : i : 12, n.selectStyle.fontSize || o(function () {
                            n.selectStyle.fontSize = n.selectStyle.fontSize || 12
                        }, 750)
                    }
                    t >= 12 && t <= 96 && L("fontSize", t + "px"), n.targetField && n.targetField.focus(), B()
                }

                function w() {
                    n.selectStyle.fontSize && (n.selectStyle.fontSize < 12 ? n.selectStyle.fontSize = 12 : n.selectStyle.fontSize > 96 && (n.selectStyle.fontSize = 96))
                }

                function S(e) {
                    switch (L(e, ""), B(), e) {
                        case"justifyleft":
                            n.classTextAlign = "left";
                            break;
                        case"justifycenter":
                            n.classTextAlign = "center";
                            break;
                        case"justifyright":
                            n.classTextAlign = "right"
                    }
                }

                function k(t) {
                    t ? n.selectStyle.lineHeight = t : n.selectStyle.lineHeight && !isNaN(n.selectStyle.lineHeight) ? parseFloat(n.selectStyle.lineHeight) > 3 && (n.selectStyle.lineHeight = "3") : n.selectStyle.lineHeight = null, n.selectStyle.lineHeight && (n.selectStyle.lineHeight = n.selectStyle.lineHeight.replace(/^(\-)*(\d+)\.(\d\d).*$/, "$1$2.$3")), n.comp.compJson.css.lineHeight = parseFloat(parseFloat(n.selectStyle.lineHeight).toFixed(2)), U.parent().parent().css("lineHeight", n.selectStyle.lineHeight), e.$broadcast("adjust.line.height"), B()
                }

                function T(e) {
                    e ? n.selectStyle.letterSpacing = e.replace("em", "") : n.selectStyle.letterSpacing && !isNaN(n.selectStyle.letterSpacing) ? n.selectStyle.letterSpacing > 100 && (n.selectStyle.letterSpacing = 100) : n.selectStyle.letterSpacing = null, L("subscript", ""), L("letterSpacing", n.selectStyle.letterSpacing / 100 + "em"), n.targetField && n.targetField.focus(), B()
                }

                function C(e) {
                    null !== e.target && (n.targetField = e.target)
                }

                function I() {
                    o(function () {
                        if (G && G.endContainer.parentElement.getAttribute("href")) {
                            var e = G.endContainer.parentElement.getAttribute("href");
                            /^http:|^https:|^ftp:/.test(e) ? n.externalLink = e : (n.link = "internal", document.getElementById("linkInternalPage").value = e)
                        }
                        $("#addLinkInputToggle").click()
                    })
                }

                function E() {
                    var e = "";
                    "external" === n.link ? (/^http:|^https:|^ftp:/.test(n.externalLink) || n.externalLink && (n.externalLink = "http://" + n.externalLink), e = n.externalLink, G.toString().length > 0 && L("CreateLink", e)) : (e = document.getElementById("linkInternalPage").value, G.toString().length > 0 && L("internalLink", e)), o(function () {
                        $("#addLinkInputToggle").click(), B()
                    })
                }

                function P() {
                    L("Unlink"), B()
                }

                function _() {
                    L("RemoveFormat"), U.parent().parent().css("lineHeight", 1), n.comp.compJson.css.lineHeight = 1, e.$broadcast("adjust.line.height"), B()
                }

                function q(e) {
                    8 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation()
                }

                function O(t, i) {
                    function o() {
                        function t(e) {
                            return "SPAN" !== e.tagName && "A" !== e.tagName || "rgba(0, 0, 0, 0)" !== window.getComputedStyle(e, null).backgroundColor ? e : t(angular.element(e).parent()[0])
                        }

                        if ("DIV" === r.tagName) if ("DIV" === r.tagName && r.getAttribute("id") && parseInt(r.getAttribute("id")) === n.comp.compJson.id) {
                            r.style.fontSize ? n.selectStyle.fontSize = window.getComputedStyle(r, null).fontSize.replace("px", "") : n.selectStyle.fontSize = "24", n.selectStyle.fontFamily = window.getComputedStyle(r, null).fontFamily;
                            var i = /[^-]color:[^;]+;?/.exec(r.innerHTML);
                            i && i[0].match(/color:(.*);$/) && (n.selectStyle.showColor = i[0].match(/color:(.*);$/)[1]);
                            var o = /[^-]background-color:[^;]+;?/.exec(r.innerHTML);
                            o && o[0].match(/background-color:(.*);$/) && (n.selectStyle.showBackgroundColor = o[0].match(/background-color:(.*);$/)[1]), n.classTextAlign = window.getComputedStyle(r, null).textAlign, "normal" === window.getComputedStyle(r, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(r, null).letterSpacing.replace("px", "") / 24
                        } else n.selectStyle.fontFamily = window.getComputedStyle(r, null).fontFamily, n.selectStyle.fontSize = "24", n.selectStyle.showColor = "rgb(118, 131, 143)", n.selectStyle.showBackgroundColor = "rgba(0,0,0,0)", n.selectStyle.letterSpacing = 0; else n.selectStyle.fontFamily = window.getComputedStyle(r, null).fontFamily, n.selectStyle.fontSize = window.getComputedStyle(r, null).fontSize.replace("px", ""), n.selectStyle.showColor = window.getComputedStyle(r, null).color, n.selectStyle.showBackgroundColor = window.getComputedStyle(t(r), null).backgroundColor, n.classTextAlign = window.getComputedStyle(r, null).textAlign, "normal" === window.getComputedStyle(r, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(r, null).letterSpacing.replace("px", "") / 24;
                        n.selectStyle.lineHeight = (window.getComputedStyle(U.parent().parent()[0], null).lineHeight.replace("px", "") / 24).toFixed(2), e.$broadcast("adjust.line.height"), j()
                    }

                    var r = null;
                    r = t ? "outOfEdit" === i ? G.endContainer.parentElement : G.startContainer.parentElement : U[0].children.length > 0 && U[0].childNodes[0].innerText === U[0].innerText ? U[0].childNodes[0] : U[0], t ? n.$apply(o()) : o()
                }

                function A() {
                    a.openFontShopping().then(function (e) {
                        u.permission("newMaterialModal") || b(e)
                    })
                }

                function j() {
                    var e = 0;
                    angular.forEach(n.fontNames, function (t) {
                        t.fontFamily === n.selectStyle.fontFamily && (n.selectedFontName = t.name, e++)
                    }), e || (n.selectedFontName = "默认字体")
                }

                function L(e, t) {
                    R(), document.execCommand(e, 0, t), "fontSize" !== e && "letterSpacing" !== e && "internalLink" !== e && "underline" !== e && "strikeThrough" !== e || F(e, t), J(), R()
                }

                function F(e, t) {
                    var n = {};
                    n[e] = t;
                    var i = null;
                    "fontSize" === e && (i = U.find('[style*="font-size: -webkit-xxx-large"]'), $(i).css(n), $(i).find("span").length > 0 && $(i).find("span").css(n)), "letterSpacing" === e && (i = U.find('[style*="vertical-align: sub;"]'), $(i).css("vertical-align", "baseline"), $(i).css(n)), "internalLink" === e && (document.execCommand("CreateLink", 0, t), n = {data: t}, i = U.find("[href=" + t + "]"), i.attr(n)), "underline" != e && "strikeThrough" !== e || (i = U.html().replace(/text-decoration-line/g, "text-decoration"), U.html(i))
                }

                function M() {
                    var e = window.getSelection();
                    if (e.getRangeAt && e.rangeCount) return e.getRangeAt(0)
                }

                function J() {
                    G = M()
                }

                function R() {
                    var e = window.getSelection();
                    if (G) {
                        try {
                            e.removeAllRanges()
                        } catch (t) {
                            document.body.createTextRange().select(), document.selection.empty()
                        }
                        e.addRange(G)
                    } else e.selectAllChildren(U[0]), G = M()
                }

                function D() {
                    if (console.log("closeToolbar"), m) {
                        n.comp.compJson.content = U.html(), n.comp.$context.unbind("DOMSubtreeModified"), $(".inside-active-width") && (n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box").css("minHeight", "inherit"), n.comp.$li.find(".element-box").css("minWidth", "inherit"), n.comp.$li.find(".element-box-contents").css("width", "100%"));
                        var e = n.comp.$li.find(".element-box").height(), t = n.comp.$li.find(".element-box").width();
                        n.comp.$context.css({height: e, width: t}), n.comp.update$li({
                            height: e,
                            width: t
                        }), n.comp.$li.removeClass("inside-active-height"), n.comp.$li.removeClass("inside-active-width"), n.comp.$context.css({
                            minHeight: "inherit",
                            minWidth: "inherit",
                            width: "100%",
                            height: "100%"
                        }), U.removeAttr("contenteditable"), m.remove(), K(), Z(), ee(), ne(), te(), m = null
                    }
                }

                function B() {
                    n.comp.compJson.content = U[0].innerHTML, N(n.comp)
                }

                function N(e) {
                    var t = e.$li, n = e.compJson.css, i = parseFloat(t.css("width")), o = parseFloat(t.css("height"));
                    n.width = i, n.height = o, e.autoSizeTopDown()
                }

                function z() {
                    var e = n.comp.$li;
                    n.comp.update$li({width: e.width(), height: e.height()}), n.comp.autoSizeTopDown()
                }

                function H() {
                    U[0].setAttribute("contenteditable", "true"), g(), U[0].focus(), document.execCommand("styleWithCSS", 0, !0), v().then(function () {
                        j()
                    }), angular.element(document.querySelector("eqx-workspace")).bind("mouseup", function () {
                        $("#btn-toolbar").length > 0 && ("A" === window.getSelection().baseNode.tagName && "inputSelection" === window.getSelection().baseNode.getAttribute("class") || (G = M(), O(!0, "outOfEdit"), n.selectStyle.color = n.selectStyle.showColor, n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor))
                    }), U.bind("mouseup", function (e) {
                        $("#btn-toolbar").length > 0 && o(function () {
                            G = M(), O(!0, e), n.selectStyle.color = n.selectStyle.showColor, n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor, e.stopPropagation()
                        })
                    }), U.bind("keydown", function (e) {
                        if ((e.ctrlKey || e.metaKey) && (65 === e.keyCode || 97 === e.keyCode)) {
                            var t = window.getSelection();
                            t.selectAllChildren(U[0]), G = M()
                        }
                    }), U.off("keyup").bind("keyup", function (e) {
                        z()
                    }), O(!1, n.dbclickEvent), n.selectStyle.color = n.selectStyle.showColor, n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor, o(function () {
                        f.top < 100 ? $("#btn-toolbar").css("top", parseInt(f.top) + parseInt(f.height) + 30) : $("#btn-toolbar").css("top", f.top - 50), $('div[isToolbarColor="toolbarColor"]').bind("click", function () {
                            n.$watch("selectStyle.color", function (e, t) {
                                e !== t && (n.selectStyle.showColor = e, L("ForeColor", e), B())
                            }), n.$watch("selectStyle.backgroundColor", function (e, t) {
                                e !== t && (n.selectStyle.showBackgroundColor = e, L("BackColor", e), B())
                            })
                        }), o(function () {
                            G = M()
                        }, 100), $(".dropdown-menu.input-append").on("click.text", function (e) {
                            e.stopPropagation()
                        })
                    }), U.unbind("paste"), U.one("paste", function (e) {
                        e.preventDefault();
                        var t = (e.originalEvent || e).clipboardData.getData("text/plain") || prompt("Paste something..");
                        document.execCommand("insertText", !1, t), z()
                    })
                }

                n.upclass = !1;
                var U = n.comp.$context, G = null, V = s.getCurrentUser(), W = i.fontSizes, X = i.wordLineLists,
                    Y = i.lineHeightLists;
                n.themeSkin = d.getItem("themeSkin") || "white";
                var Q = {
                    fontFamily: "",
                    fontSize: "",
                    color: "",
                    backgroundColor: "",
                    fontWeight: "",
                    fontStyle: "",
                    textDecoration: "",
                    letterSpacing: "",
                    lineHeight: "",
                    showColor: "",
                    showBackgroundColor: ""
                };
                angular.extend(n, n, {
                    fontNames: [],
                    selectedFontName: "",
                    targetField: null,
                    isShowCreateLink: !1,
                    link: "external",
                    internalLink: 1,
                    selectStyle: Q,
                    fontSizeLists: W,
                    wordLineLists: X,
                    lineHeightLists: Y,
                    pages: t.eqxScene.sceneJson.list,
                    classTextAlign: "eqf-leftword",
                    writeModelNormal: !0,
                    appendFontFamily: v,
                    changeFontFamily: y,
                    changeFontSize: x,
                    backFontSize: w,
                    lineHeight: k,
                    letterSpace: T,
                    focusCallback: C,
                    changeStyle: S,
                    stopBackSpace: q,
                    openAddLinkDialog: I,
                    addLink: E,
                    removeLink: P,
                    clearStyle: _,
                    openFontMarket: A,
                    settingVertical: h
                }), H(), n.$on("change.theme", function (e, t) {
                    t && (n.themeSkin = t)
                });
                var K = n.$on("selectBox.start", function () {
                    D()
                }), Z = n.$on("compResize.move", function (e, t) {
                    t === n.comp && D()
                }), ee = n.$on("$destroy", function () {
                    D()
                }), te = n.$on("wsComp.edit", function () {
                    D()
                }), ne = n.$on("selectService.remove", function () {
                    D()
                })
            }
        }
    }

    i.$inject = ["$rootScope", "sceneService", "FONT", "$timeout", "HOST", "fontService", "userService", "modalService", "fontAPI", "notifier", "authorityService", "storageService"], n(1740), n(1742), e.exports = i
}, function (e, t) {
}, , function (e, t) {
}, function (e, t) {
    e.exports = '<div class="btn-toolbar" ng-class="{\'theme-black\' : themeSkin == \'black\'}" id="btn-toolbar" data-role="editor-toolbar" disable-context-menu><div id="fontFamily" class="btn-group"><div class="dropdown font-dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle="dropdown" data-hint="字体" id="fontMenu" ng-click="appendFontFamily()" style="width:140px;font-size:14px;font-weight: bold" down-up-select><span style="display: inline-block; height: 28px; width: 90px; overflow: hidden">{{selectedFontName}}</span> <b class="caret"></b></a><div class="dropdown-menu" role="menu" aria-labelledby="fontMenu" style="min-width:120px;left: -13px;border: none;box-shadow: 0 0 16px rgba(0,0,0,.16);padding-bottom: 0" ng-class="{upSelectShow:upclass}"><a class="btn context-gengduo" ng-click="changeFontFamily({name: \'默认字体\', fontFamily: \'Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif\'})">默认字体</a><div eqd-scroll style="max-height: 300px"><ul class="fontname-menu font-size-menu family-size-setting" ng-class="{upSelectShow:upclass}"><li style="text-align: left; white-space: nowrap" ng-repeat="name in fontNames" ng-if="name.status==1"><a ng-click="changeFontFamily(name);" dropdown-toggle class="btn" ng-class="{\'fontDisable\': name.expStatus == 0}" data-edit="fontName">{{::name.name}}</a></li></ul></div><a class="btn context-gengduo more-font" ng-click="openFontMarket()" big-data-event categorytwoid="34" categorytwo="字体商城" categorythree="更多字体" categorythreeid="1" actiontype="4"><div><em class="eqf-fontmall"></em> 更多字体</div></a></div></div></div><div class="btn-group"><div class="dropdown" style="display:inline-block"><a class="dropdown-toggle first-child hint--bottom hint--rounded text-btn-border" data-toggle="dropdown" data-hint="字号" style="width: 45px;padding-left:8px;font-size: 14px;font-weight: bold" ng-init="defaultSize = \'24px\'" down-up-select>{{selectStyle.fontSize}} <b class="caret"></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class="{upSelectShow:upclass}" ng-click="backFontSize()" style="border: none;box-shadow: 0 0 16px rgba(0,0,0,.16)"><li><a class="inputSelection"><input ng-change="changeFontSize()" ng-focus="focusCallback($event)" ng-click="$event.stopPropagation()" ng-keydown="stopBackSpace($event)" ng-keypress="stopBackSpace($event)" type="text" ng-model="selectStyle.fontSize" value="{{selectStyle.fontSize}}"></a></li><li ng-repeat="list in fontSizeLists"><a dropdown-toggle ng-click="changeFontSize(list.value);">{{::list.value}}px</a></li></ul></div></div><div class="btn-group intersected"></div><div class="btn-group"><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint="颜色" style="width: 28px;margin-left: 7px;margin-right: 8px"><a class="" data-toggle="dropdown"><span class="text-btn-border-color" style="color: #828d98">A <i class="change-font-btn" style="background-color: {{selectStyle.showColor}}; border: 1px solid #ccd5db"></i></span></a><eqd-input-color select-color="selectStyle.color" direction="bottom" toolcolorpicker="toolbarColor" theme="text-btn-border-color-button" notify="grid" x="-1" w="30" h="28"></eqd-input-color></div></div><div class="btn-group"><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint="背景颜色" style="width:28px;margin-right: 7px"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle="dropdown"><span ng-if="selectStyle.showBackgroundColor === \'rgba(0,0,0,0)\'\r\n                || selectStyle.showBackgroundColor === \'rgba(0, 0, 0, 0)\'" class="text-btn-border-bg" style="border:1px solid #ccd5db"></span> <span ng-if="selectStyle.showBackgroundColor !== \'rgba(0,0,0,0)\'\r\n                && selectStyle.showBackgroundColor !== \'rgba(0, 0, 0, 0)\'" class="text-btn-border-bg" style="border:1px solid #ccd5db; background: {{selectStyle.showBackgroundColor}}"></span></a><eqd-input-color select-color="selectStyle.backgroundColor" direction="bottom" toolcolorpicker="toolbarColor" theme="text-btn-border-color-button" notify="gridTest" x="-1" w="30" h="28" isconverttransparent="true"></eqd-input-color></div></div><div class="btn-group intersected"></div><div class="btn-group"><div class="hint--bottom hint--rounded text-btn-border text-style" style="padding: 0 7px"><a class="hint--bottom hint--rounded bolded" data-hint="加粗" ng-click="changeStyle(\'bold\');"><i class="eqf-b"></i> </a><a class="hint--bottom hint--rounded italic" data-hint="倾斜" ng-click="changeStyle(\'Italic\');"><i class="eqf-i"></i> </a><a class="hint--bottom hint--rounded underline" data-hint="下划线" ng-click="changeStyle(\'underline\');"><i class="eqf-u"></i> </a><a class="hint--bottom hint--rounded strikeThrough" data-hint="删除线" ng-click="changeStyle(\'strikeThrough\');"><i class="eqf-s deleteline"></i></a></div></div><div class="btn-group intersected"></div><div class="btn-group" style="margin-right: 0"><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint="文本竖直" style="width: 30px; text-align:center" ng-click="settingVertical()"><i class="eqf-fontway"></i></a></div><div class="btn-group"><div class="dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border testalign" data-toggle="dropdown" data-hint="对齐方式" style="width: 45px;padding-left: 5px" down-up-select><i ng-if="writeModelNormal" ng-switch="classTextAlign" style="line-height: 24px" ng-class="{\'eqf-align-center\': classTextAlign ==\'center\',\'eqf-align-left\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-align-right\': classTextAlign==\'right\'}"></i> <i ng-if="!writeModelNormal" ng-switch="classTextAlign" style="line-height: 24px" ng-class="{\'eqf-align-mid\': classTextAlign ==\'center\',\'eqf-align-top\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-align-under\': classTextAlign==\'right\'}"></i> <b class="caret"></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class="{upSelectShow:upclass}"><li><a ng-if="writeModelNormal" dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint="居左" class="btn hint--bottom hint--rounded"><i class="eqf-align-left"></i> </a><a ng-if="!writeModelNormal" dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint="居上" class="btn hint--bottom hint--rounded"><i class="eqf-align-top"></i></a></li><li><a dropdown-toggle ng-click="changeStyle(\'justifycenter\')" data-hint="居中" class="btn hint--bottom hint--rounded"><i ng-if="writeModelNormal" class="eqf-align-center"></i> <i ng-if="!writeModelNormal" class="eqf-align-mid"></i></a></li><li><a ng-if="writeModelNormal" dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint="居右" class="btn hint--bottom hint--rounded"><i class="eqf-align-right"></i> </a><a ng-if="!writeModelNormal" dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint="居下" class="btn hint--bottom hint--rounded"><i class="eqf-align-under"></i></a></li></ul></div></div><div class="btn-group"><div class="dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border add-icon-font" data-toggle="dropdown" data-hint="行高" style="width: 55px; padding-left:10px" ng-click="editLineHeight()" down-up-select><i ng-if="writeModelNormal" class="eqf-linehigh" style="line-height: 24px"></i> <i ng-if="!writeModelNormal" class="eqf-linehigh" style="line-height: 24px"></i> <b class="caret"></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class="{upSelectShow:upclass}"><li><a class="inputSelection"><input ng-change="lineHeight()" ng-focus="focusCallback($event)" ng-click="$event.stopPropagation()" ng-keydown="stopBackSpace($event)" ng-keypress="stopBackSpace($event)" type="text" ng-model="selectStyle.lineHeight" value="{{selectStyle.lineHeight}}"></a></li><li ng-repeat="lineHeightList in lineHeightLists" class="{{lineHeightList.value}}"><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click="lineHeight(lineHeightList.scale)">{{::lineHeightList.name}}</a></li></ul></div></div><div class="btn-group"><div class="dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle="dropdown" data-hint="调整字间距" style="width: 55px; padding-left:10px" ng-click="editLetter();" down-up-select><i ng-if="writeModelNormal" class="eqf-lineshort add-icon-font" style="line-height: 24px"></i> <i ng-if="!writeModelNormal" class="eqf-lineshort add-icon-font" style="font-size: 20px;line-height: 24px"></i> <b class="caret"></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class="{upSelectShow:upclass}"><li><a class="inputSelection"><input ng-change="letterSpace()" ng-focus="focusCallback($event)" ng-click="$event.stopPropagation()" ng-keydown="stopBackSpace($event)" ng-keypress="stopBackSpace($event)" type="text" ng-model="selectStyle.letterSpacing" value="{{selectStyle.letterSpacing}}"></a></li><li ng-repeat="wordLineList in wordLineLists" class="{{wordLineList.value}}"><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click="letterSpace(wordLineList.scale)">{{::wordLineList.name}}</a></li></ul></div></div><div class="btn-group intersected"></div><div class="btn-group"><div class="dropdown"><a class="dropdown-toggle createLink hint--bottom hint--rounded text-btn-border" data-toggle="dropdown" data-hint="添加超链接" style="width:55px; padding-left:10px" down-up-select><i class="eqf-link" style="display: block;margin-top: 3px"></i> <b class="caret"></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class="{upSelectShow:upclass}"><li><a class="btn hint--bottom hint--rounded" style="width:98px" data-hint="添加超链接：先选中要加链接的文字" ng-click="openAddLinkDialog();"><i class="eqf-link" dropdown-toggle></i></a></li><li><a class="btn hint--bottom hint--rounded" style="width:98px" data-hint="清除超链接" ng-click="removeLink()"><i class="eqf-linkoff" dropdown-toggle></i></a></li></ul><div class="dropdown" id="toolbar-add-linkA"><a id="addLinkInputToggle" class="dropdown-toggle" data-toggle="dropdown" style="width: 0;height: 0" down-up-select></a><div class="dropdown-menu input-append" style="min-width: 335px;padding:4px 4px 14px 19px" ng-class="{upSelectShowLink:upclass}"><div class="span4" style="margin-top:10px"><div class="radio-square" ng-class="{checked:link==\'external\'}" style="margin-top:8px"><em></em> <input class="span2" name="link" ng-model="link" type="radio" value="external"></div><span>网站地址：</span> <input class="span2" placeholder="http://" type="text" ng-model="externalLink" style="border-radius:0px;width:200px;height:35px" ng-keydown="stopBackSpace($event)"/></div><div class="span4" style="margin-top: 10px;text-align: right"><a href="http://dwz.cn/" style="text-decoration: underline;color: #59c7f9;margin-right: 30px" target="_blank"><span>生成短链接</span></a></div><div class="span4" style="margin-top: 10px"><div class="radio-square" ng-class="{checked:link==\'internal\'}" style="margin-top:8px"><em></em> <input class="span2" name="link" ng-model="link" type="radio" value="internal"></div><span>场景页面：</span><select id="linkInternalPage" class="span2" style="width: 200px;height:35px"><option ng-repeat="page in pages track by $index" value="{{::page.id}}">{{::page.name || \'第\'+page.num+\'页\'}}</option></select></div><div style="text-align:center"><a class="btn btn-primary link-btn-priv" style="color:#FFF; margin-top:20px" dropdown-toggle ng-click="addLink()">确定</a></div></div></div></div></div><div class="btn-group intersected"></div><div class="btn-group" style="margin-right: 0"><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint="清除样式" style="width: 24px; text-align:center" ng-click="clearStyle()"><i class="eqf-eraser-f"></i></a></div></div>';
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "$compile", "$timeout", "sceneService", "fontAPI", "$q", "modalService", "authorityService", "fontService", "userService", "textFactory", function (e, t, n, i, o, r, a, s, c, l, p, u) {
                "ngInject";

                function d(e) {
                    var t = /font-family:(.*?);/g, n = [], i = [];
                    if ("2" == e.compJson.type) for (var o = e.compJson.content; null !== (n = t.exec(o));) i.indexOf(n[1].trim()) === -1 && i.push(n[1].trim());
                    return i
                }

                function m(e) {
                    var t = d(e);
                    return 0 == t.length ? a.reject([]) : r.getFontNames(t.join(","), !0).then(function (e) {
                        return e.data.list && 0 !== e.data.list.length ? e.data.list : a.reject([])
                    })
                }

                function f(e, t) {
                    return t.find("*").toArray().filter(function (e) {
                        return ($(e).attr("style") || "").includes("font-family")
                    }).forEach(function (t) {
                        var n = $(t), i = /font-family:([^;]*);/.exec(n.attr("style"))[1],
                            o = i.trim().split(", ").filter(function (t) {
                                return e.includes(t)
                            }).join(", ");
                        n.css({"font-family": o})
                    }), t[0].innerHTML.trim()
                }

                function g(e) {
                    e.bind("mousedown contextmenu dblclick keydown", function (e) {
                        e.stopPropagation()
                    }), e.find("a").unbind("click"), e.find("a").bind("click", function (e) {
                        e.preventDefault()
                    })
                }

                function h(e) {
                    e.unbind("mousedown contextmenu dblclick keydown mouseup"), angular.element(document.querySelector("eqx-workspace")).unbind("mouseup")
                }

                var v = null, y = p.getCurrentUser();
                e.createTextComp = function (e) {
                    var n = u.getDefaultJson();
                    e && (n = e);
                    var r = o.getCurrentPage(), a = r.initEqxCompByJson(n);
                    a && (r.renderEqxComp(a), t.$broadcast("wsComp.add", a), i(function () {
                        t.$broadcast("wsComp.edit", a)
                    }, 100))
                }, e.$on("create.text", function (t, n) {
                    e.createTextComp(n)
                }), e.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.filter(function (e) {
                        return !e.isGroupItem()
                    }).filter(function (e) {
                        return 2 == e.compJson.type
                    }).forEach(function (e) {
                        if (h(e.$context), e.compJson.content = e.$context[0].innerHTML, e.$context.removeAttr("contenteditable"), v && v.remove(), c.permission("richTxtTool")) {
                            var t = e.$li.find(".element-box").height();
                            e.update$li({height: t}), e.$context.css({minHeight: "inherit"}), e.$li.removeClass("inside-active-height")
                        }
                    })
                }), e.$on("compResize.move", function (e, t) {
                    if (2 == t.compJson.type && (h(t.$context), t.$context.removeAttr("contenteditable")), c.permission("richTxtTool")) {
                        var n = t.$li.find(".element-box").height();
                        t.update$li({height: n}), t.$context.css({minHeight: "inherit"}), t.$li.removeClass("inside-active-height")
                    }
                }), e.$on("wsComp.edit", function (i, o) {
                    document.activeElement === document.body && m(o).then(function (e) {
                        var t = e.filter(function (e) {
                            return 0 !== e.license && 1 !== e.license
                        }), n = t.map(function (e) {
                            return e.name
                        });
                        if (!t.length) return a.reject(e);
                        var i = '当前字体<span class="color-blue">' + n.join(",") + "</span>未经授权，请先购买字体。";
                        return s.openConfirmDialog({msg: i, confirmName: "购买字体", cancelName: "暂不购买"}).then(function () {
                            1 === t.length ? l.buyFont(t[0]).then(function () {
                                l.myFont.myFontLists = []
                            }) : l.openFontShopping()
                        }, function () {
                            return s.openConfirmDialog({
                                msg: "确定要恢复默认字体吗？",
                                confirmName: "确认",
                                cancelName: "取消编辑"
                            }).then(function () {
                                var t = e.filter(function (e) {
                                    return 0 == e.license || 1 == e.license
                                }).map(function (e) {
                                    return e.fontFamily
                                }) || [];
                                return o.compJson.content = f(t, o.$context), a.resolve([])
                            }, function () {
                                return a.resolve([])
                            })
                        })
                    })["catch"](function (i) {
                        function r() {
                            if (v && (v.remove(), v = null), 2 == o.compJson.type) {
                                o.stopAnimation(), t.$broadcast("closeCompSetting", o), e.pages = [], e.comp = o;
                                var i = o.$li.offset().top, r = o.$li.height();
                                o.$context.css({minHeight: r}), c.permission("richTxtTool") ? (o.$context[0].setAttribute("contenteditable", "true"), o.$li.addClass("inside-active-height")) : (v = $('<div toolbar comp="comp" height="' + r + '" top="' + i + '"></div>'), c.permission("richTxtTool") && v.css("left", "40%"), $("body").append(v), n(v)(e)), setTimeout(function () {
                                    if (o.$context.focus(), o.$context.removeAttr("ctype"), g(o.$context), v && v.show(), window.getSelection) {
                                        var e = window.getSelection();
                                        e.modify("move", "left", "documentboundary"), e.modify("extend", "right", "documentboundary")
                                    }
                                })
                            }
                        }

                        if (2 == y.type) {
                            var a = i.filter(function (e) {
                                return l.myFont.personFontNoTip.indexOf(e.name) == -1 && 1 !== e.license
                            }), p = a.map(function (e) {
                                return e.name
                            });
                            if (0 == a.length) return void r();
                            var u = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + p.join(",") + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
                                d = {msg: u, confirmName: "坚持使用", cancelName: "去购买", noTips: !1};
                            s.openConfirmDialog(d).then(function () {
                                d.noTips && $.each(p, function (e, t) {
                                    l.myFont.personFontNoTip.push(t)
                                }), r()
                            }, function () {
                                d.noTips && $.each(p, function (e, t) {
                                    l.myFont.personFontNoTip.push(t)
                                }), 1 == a.length ? l.buyFont(a[0]).then(function () {
                                    l.myFont.myFontLists = []
                                }) : l.openFontShopping()
                            })
                        } else r()
                    })
                })
            }],
            link: function (e, t) {
                t.on("click.text", function () {
                    e.$apply(function () {
                        return e.createTextComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "双击此处进行编辑",
                css: {
                    top: $(".workspace").scrollTop() + 224 + "px",
                    left: "5px",
                    width: "310px",
                    height: "38px",
                    fontSize: 24,
                    writingMode: "horizontal-tb"
                },
                properties: {
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "2"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.video", []).directive("eqxVideo", n(1747)).factory("videoModal", n(1748)).name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "videoModal", "telFactory", "sceneService", function (e, t, n, i, o) {
                "ngInject";

                function r() {
                    return {
                        css: {
                            top: $(".workspace").scrollTop() + 219 + "px",
                            left: "135px",
                            width: "50px",
                            height: "48px"
                        },
                        properties: {
                            src: "",
                            initType: 1,
                            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                        },
                        type: "v"
                    }
                }

                function a(e) {
                    var i = e.compJson;
                    "v" == i.type && n.open(i).then(function (e) {
                        var n = o.getCurrentPage(), r = n.updateEqxComp(i.id, e);
                        r && (n.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                    })
                }

                e.createVideoComp = function () {
                    n.open(r()).then(function (e) {
                        var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                        i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                    })
                }, e.$on("wsComp.edit", function (e, t) {
                    return a(t)
                })
            }],
            link: function (e, t) {
                t.on("click.video", function () {
                    e.$apply(function () {
                        return e.createVideoComp()
                    })
                }), t.on("$destroy", function () {
                    return t.off(".video")
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain",
                    template: n(1751),
                    resolve: {
                        compJson: function () {
                            return JSON.parse(JSON.stringify(t))
                        }
                    },
                    controller: ["$scope", "$timeout", "compJson", "imageCropFactory", "imageModalFactory", "HOST", "EqxCore", "authorityService", function (e, t, n, i, o, r, a, s) {
                        function c(e) {
                            var t = e.substring(e.indexOf("src=") + 4), n = t.substring(t.indexOf("://") + 3),
                                i = n.substring(0, n.indexOf("/"));
                            return i.indexOf("v.qq") >= 0 || i.indexOf("tudou") >= 0 || i.indexOf("youku") >= 0
                        }

                        var l = a.core.comp.EqxVideo, p = e.STYLE = l.STYLE, u = 1.33, d = n.properties, m = n.css,
                            f = e.vm = {error: "", src: d.src, cover: d.cover, style: d.style || p.POP};
                        e.styles = [{name: "固定播放", value: p.INLINE}, {
                            name: "弹出播放",
                            value: p.POP
                        }], e.onStyleChange = function (e) {
                        }, e.confirm = function () {
                            if (!f.src) return $("textarea").focus(), void(f.error = "请输入视频地址");
                            if (f.style == p.INLINE && !f.cover) return void(f.error = "请选择封面图");
                            var t = c(f.src);
                            return t ? void(f.src === d.src && f.style === d.style && f.cover == d.cover ? e.$dismiss() : (!d.cover && f.cover && (m.width = 320, m.height = m.width / u, m.left = 0), d.style = f.style, d.src = f.src, d.cover = f.cover, e.$close(n))) : ($("textarea").addClass("error"), $("textarea").change(function () {
                                $(this).removeClass("error")
                            }), void(f.error = "暂不支持添加此视频！"))
                        }, e.getCoverSrc = function () {
                            return f.cover ? r.FILE + f.cover : ""
                        }, e.chooseCover = function () {
                            o.getImage().then(function (e) {
                                var t = {imgSrc: e.path, cropItems: [{value: 1, ratio: u, desc: "视频比例"}]};
                                return i.openCropModal({properties: {}}, t).then(function (e) {
                                    f.cover = e.image.src
                                })
                            })
                        }, e.cancel = function () {
                            e.$dismiss()
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService"], n(1749), e.exports = i
}, function (e, t) {
}, , function (e, t, n) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">视频组件 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1926&extra="><span class="eqf-why-f"></span></a></h4></div><div class="dialog-contain"><div class="video_console dialog-content clearfix"><div class="img-preview-wrapper"><div class="placeholder center" ng-if="!vm.cover"></div><img class="center cover" ng-src="{{getCoverSrc()}}" alt="video-cover" ng-if="vm.cover"> <img class="center play" src="' + n(1752) + '" alt="video-play-button"></div><div class="modify_area" style="height:auto"><div class="video_tip"><span>视频通用代码:</span> <span class="video_code"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target="_blank"><ins>什么是视频通用代码？</ins></a></span></div><div class="video_tip"><textarea class="video_src" placeholder="把视频通用代码复制到框中即可使用" ng-model="vm.src" ng-keyup="$event.keyCode == 13 ? confirm() : null"></textarea><div ng-show="vm.error" class="form-error">{{vm.error}}</div></div><div class="video_tip"><span>支持的视频:</span> <a href="http://v.qq.com/" target="_blank"><ins>腾讯视频</ins></a></div><form class="form-contain"><div class="form-list clearfix"><label class="form-label">视频风格：</label><div class="form-input"><eqx-select class="select-sm border-width select-contain" model="vm.style" change="onStyleChange(vm.style)"><eqx-select-option value="style.value" ng-repeat="style in styles">{{::style.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class="form-label">视频封面：</label><div class="form-input"><a class="btn-main btn-picture" ng-click="chooseCover()">上传封面</a></div></div></form></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn eqc-btn-success" ng-click="confirm()">确定</a></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/play-a830cb.svg"
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.interactiveVideo", []).directive("eqxInteractiveVideo", n(1754));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "authorityService", "sceneService", "modalService", "HOST", "$window", function (e, t, n, i, o, r, a) {
                "ngInject";

                function s() {
                    return {
                        src: "",
                        css: {
                            left: "0px",
                            top: $(".workspace").scrollTop() + "px",
                            height: "486px",
                            width: "320px",
                            borderWidth: "1px"
                        },
                        num: 1,
                        autoplay: "1",
                        trigger: {},
                        properties: {loop: !1, cover: "", initType: 1},
                        title: null,
                        type: "o"
                    }
                }

                e.createInteractiveVideoComp = function () {
                    if (n.permission("interactiveVideo")) o.openConfirmDialog({
                        msg: "升级至‘企业基础版’即可使用此功能",
                        confirmName: "确定升级",
                        cancelName: "我再想想"
                    }).then(function () {
                        a.open(r.HOST + "pay/buyGoods/member/base?cl=hdv")
                    }); else {
                        var e = i.getCurrentPage(), c = e.initEqxCompByJson(s());
                        c && (e.renderEqxComp(c), t.$broadcast("wsComp.add", c))
                    }
                }
            }],
            link: function (e, t) {
                t.on("click.interactiveVideo", function () {
                    e.$apply(function () {
                        return e.createInteractiveVideoComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.interaction.link", []).factory("linkFactory", n(1756)).factory("linkModal", n(1757)).directive("eqxLink", n(1761));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "30px",
                lineHeight: 2,
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)",
                top: $(".workspace").scrollTop() + 228 + "px",
                left: "110px",
                fontSize: "14px",
                textAlign: "center"
            };
            return {
                css: e,
                properties: {
                    title: "按钮",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "l"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain",
                    template: n(1760),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1758);
    var o = n(1759);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";
    e.exports = ["$scope", "obj", "$modal", "imageModalFactory", "HOST", "sceneService", "authorityService", function (e, t, n, i, o, r, a) {
        "ngInject";
        e.model = JSON.parse(JSON.stringify(t)), e.linkObj = {
            link: "external",
            externalUrl: "http://",
            internalUrl: null
        };
        var s = r.eqxScene, c = s.meta.id;
        e.pageList = s.sceneJson.list.map(function (e, t) {
            return {name: e.name || "第" + (t + 1) + "页", id: e.id}
        }), t.properties.url && (angular.isNumber(t.properties.url) ? (e.linkObj.link = "internal", e.linkObj.internalUrl = t.properties.url) : (e.linkObj.link = "external", e.linkObj.externalUrl = decodeURIComponent(t.properties.url.split("=")[2]))), t.properties.imgSrc && (e.vm = {imgSrc: o.FILE + t.properties.imgSrc}), e.authError = "", e.buttons = [{
            id: 1,
            text: "点我购买",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "点开链接",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "马上购买",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "关注我们",
            btnStyle: {
                width: "100px",
                height: "30px",
                backgroundColor: "#fff",
                "text-align": "center",
                border: "1px solid #3FB816",
                "line-height": "28px",
                color: "rgb(0, 0, 0)"
            }
        }], e.openImageModal = function () {
            var n = {storageKey: "", categoryName: "图标", tagName: "链接"};
            i.getImage(n).then(function (n) {
                e.model.title = "", e.btnIndex = -1, Object.assign(e.model.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath, e.vm = {imgSrc: o.FILE + e.model.properties.imgSrc}
            })
        }, angular.forEach(e.buttons, function (n, i) {
            "" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
        });
        var l = "http://";
        e.confirm = function () {
            return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? e.linkObj.externalUrl || "external" !== e.linkObj.link ? ("external" === e.linkObj.link ? /^http:|^https:|^ftp:/.test(e.linkObj.externalUrl) ? e.model.properties.url = e.linkObj.externalUrl : e.model.properties.url = l + e.linkObj.externalUrl : e.model.properties.url = e.linkObj.internalUrl, isNaN(e.model.properties.url) && e.model.properties.url && (e.model.properties.url = o.SERVER_1 + "eqs/link?id=" + c + "&url=" + encodeURIComponent(e.model.properties.url)), e.model.btnType = "external" === e.linkObj.link ? "link" : "jump", void e.$close(e.model)) : void(e.authError = "链接不能为空") : (e.authError = "按钮名称不能为空", void $("#buttonName").focus())
        }, e.cancel = function () {
            e.$dismiss()
        }, e.chooseTabButton = function (t, n) {
            e.model.properties.title = t.text, Object.assign(e.model.css, t.btnStyle), e.btnIndex = n, e.model.properties.imgSrc = null
        }, e.removeLink = function (t) {
            "external" === t ? e.linkObj.externalUrl = null : "internal" === t && (e.linkObj.internalLink = null), e.changed()
        }, e.changed = function () {
            e.linkObj.externalUrl = "http://", e.linkObj.internalUrl = null
        }, e.selectRadio = function (t) {
            e.linkObj.link = t, "external" === t ? e.linkObj.internalUrl = null : "internal" === t && (e.linkObj.externalUrl = "http://")
        }
    }]
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">链接组件 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13069&extra"><span class="eqf-why-f"></span></a> <span class="action">两种链接：可以跳转到场景外部的链接，或者内部导航链接</span></h4></div><div class="dialog-contain link-component"><div class="tab-same"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()"><em class="eqf-image-l"></em><em>自定义</em></div></div><div class="link-modal dialog-content"><form class="form-contain"><div class="form-list clearfix" ng-if="!model.properties.imgSrc"><label for="buttonName" class="form-label">按钮名称：</label><div class="form-input"><input id="buttonName" class="btn-name" style="width:300px" type="text" ng-model="model.properties.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div><div ng-show="authError" class="form-error">{{authError}}</div></div><div class="form-list clearfix" ng-if="model.properties.imgSrc"><label class="form-label">按钮图片：</label><div class="form-image btn-small"><img ng-src="{{vm.imgSrc}}" alt="按钮图片"/> <a class="btn-main btn-picture" style="text-align:center;font-size:12px" ng-click="openImageModal()">更换图片</a></div></div><div class="form-list clearfix" style="position: relative"><label for="externalRadio" class="form-label"><input type="radio" name="externalRadio" id="externalRadio" ng-model="linkObj.link" value="external" ng-change="changed()" style="margin:0px 5px 0 0"><span>网站地址：</span></label><div class="form-input"><input style="width:300px" type="text" ng-model="linkObj.externalUrl" name="externalLink" id="externalLink" placeholder="网站地址" ng-disabled="url.link == \'internal\'" ng-focus="selectRadio(\'external\')" limit-link-length stop-propagation/> <a style="font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px" ng-show="url.link == \'external\'" class="delete-link" ng-click="removeLink(\'external\')"></a></div><a href="http://dwz.cn/" style="text-decoration: underline;color: #1593FF;position: absolute;top: 10px;right: -30px;font-size:12px" target="_blank">生成短链接</a></div><div class="form-list clearfix"><label for="internalRadio" class="form-label"><input type="radio" name="internalRadio" id="internalRadio" value="internal" ng-model="linkObj.link" ng-change="changed()" style="margin:0px 5px 0 0"><span>场景页面：</span></label><div class="form-input link-select"><eqx-select class="select-great border-width select-contain" model="linkObj.internalUrl" change="selectRadio(\'internal\')"><eqx-select-option value="null">选择场景页面</eqx-select-option><eqx-select-option value="page.id" ng-repeat="page in pageList">{{::page.name}}</eqx-select-option></eqx-select></div></div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "linkFactory", "linkModal", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";
                e.createLinkComp = function () {
                    var e = JSON.parse(JSON.stringify(n.getDefaultJson())), i = o.getCurrentPage(),
                        r = i.initEqxCompByJson(e);
                    r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.link", function () {
                    e.$apply(function () {
                        return e.createLinkComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.interaction.tel", []).factory("telFactory", n(1763)).factory("telModal", n(1764)).directive("eqxTel", n(1767));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                top: $(".workspace").scrollTop() + 228 + "px",
                left: "110px",
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "30px",
                lineHeight: 2,
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)",
                fontSize: "14px",
                textAlign: "center"
            };
            return {
                css: e,
                properties: {
                    title: "按钮",
                    number: "",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: 8
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain",
                    template: n(1766),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"];
    var o = n(1765);
    e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = ["$scope", "obj", "imageModalFactory", "HOST", "authorityService", function (e, t, n, i, o) {
        "ngInject";
        e.model = JSON.parse(JSON.stringify(t)), e.authError = "", e.buttons = [{
            id: 1,
            text: "一键拨号",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "30px",
                lineHeight: "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "热线电话",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "30px",
                lineHeight: "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "拨打电话",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "30px",
                lineHeight: "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "一键拨号",
            btnStyle: {
                width: "100px",
                height: "30px",
                lineHeight: "28px",
                backgroundColor: "#fff",
                textAlign: "center",
                border: "1px solid #3FB816",
                color: "rgb(0, 0, 0)"
            }
        }], e.vm = {}, e.butName = !1, e.butInput = !1, e.model.properties && e.model.properties.imgSrc && (e.vm.imgSrc = i.FILE + e.model.properties.imgSrc), angular.forEach(e.buttons, function (n, i) {
            "" !== t.properties.title && e.model.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
        }), e.confirm = function () {
            var t = e.model.properties;
            if (null === t.imgSrc && (!t.title || 0 === t.title.length)) return e.authError = "按钮名称不能为空", void(e.butName = !0);
            if (e.butName = !1, !t.number || 0 === t.title.number) return e.authError = "电话号码不能为空", void(e.butInput = !0);
            if (e.butInput = !1, t.number) {
                var n = /^\d{3,15}$/;
                if (!n.test(t.number)) return e.authError = "电话输入有误，请输入3-15位数字", void(e.butInput = !0);
                e.butInput = !1
            }
            t.title = t.title.replace(/ /g, "&nbsp;"), e.$close(e.model)
        }, e.cancel = function () {
            e.$dismiss()
        }, e.chooseTabButton = function (t, n) {
            var i = e.model.properties;
            i.title = t.text, Object.assign(e.model.css, t.btnStyle), e.btnIndex = n, i.imgSrc = null
        }, e.openImageModal = function () {
            var o = {storageKey: "", categoryName: "图标", tagName: "电话"};
            n.getImage(o).then(function (n) {
                e.model.title = "", e.btnIndex = -1, Object.assign(e.model.css, {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, !0), e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath, e.vm = {imgSrc: i.FILE + e.model.properties.imgSrc}
            })
        }
    }]
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">电话组件 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13070&extra"><span class="eqf-why-f"></span></a> <span class="action">填写按钮名称和联系号码，点击可以直接拨打</span></h4></div><div class="dialog-contain"><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()"><em class="eqf-image-l" style="font-size:12px"></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class="form-contain" form="role"><div class="form-list clearfix" ng-if="!model.properties.imgSrc"><label for="buttonName" class="form-label">按钮名称：</label><div class="form-input"><input id="buttonName" ng-class="{error: butName}" class="btn-name" type="text" ng-model="model.properties.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if="model.properties.imgSrc"><label class="form-label">按钮图片：</label><div class="form-image btn-small"><img ng-src="{{vm.imgSrc}}" alt="按钮图片"/> <a class="btn-main btn-picture text-center" ng-click="openImageModal()">更换图片</a></div></div><div class="form-list clearfix"><label for="phoneNumber" class="form-label">手机/电话：</label><div class="form-input"><input id="phoneNumber" ng-class="{error: butInput}" check-count="40" class="tel-button" type="text" placeholder="010-88888888" ng-model="model.properties.number" ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/></div></div><div ng-show="authError" class="form-error form-error-ml">{{authError}}</div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "telModal", "telFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                    i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                }

                e.createTelComp = function (e) {
                    if (e) return void a(e);
                    var t = JSON.parse(JSON.stringify(i.getDefaultJson()));
                    a(t)
                }, e.$on("create.tel", function (t, n) {
                    e.createTelComp(n)
                })
            }],
            link: function (e, t) {
                t.on("click.tel", function () {
                    e.$apply(function () {
                        return e.createTelComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.map", []).factory("mapFactory", n(1769)).factory("mapModalFactory", n(1770)).directive("eqdMap", n(1774)).directive("eqdMapMark", n(1775)).directive("eqxMap", n(1776));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "天安门",
                css: {width: "310px", height: "300px", left: "5px", top: $(".workspace").scrollTop() + 93 + "px"},
                properties: {
                    address: "天安门",
                    lat: 39.90886,
                    lng: 116.39739,
                    initType: 1,
                    zoom: 11,
                    version: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}],
                    layout: "default"
                },
                title: null,
                type: "m"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console img_console",
                    template: r,
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1771);
    var o = n(1772), r = n(1773);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        e.elemDef = JSON.parse(JSON.stringify(t)), e.zoom = t.properties.zoom ? t.properties.zoom : 11, e.center = t.properties.lat ? {
            lat: t.properties.lat,
            lng: t.properties.lng
        } : {
            lat: 39.916527,
            lng: 116.397128
        }, "设置位置" !== t.properties.address ? (e.address = t.properties.address, e.markerP = new qq.maps.LatLng(e.center.lat, e.center.lng)) : e.markerP = new qq.maps.LatLng(39.916527, 116.397128);
        var n = new qq.maps.SearchService({
            complete: function (t) {
                var n = t.detail.pois;
                e.searchEnd(n)
            }
        });
        e.searchEnd = function (t) {
            e.pois = t, t && (e.choosePosition(t[0]), e.choosePoi = t[0], e.$apply())
        }, e.choosePosition = function (t) {
            e.center = t.latLng, e.choosePoi = t, e.markerP = t.latLng
        }, e.cancel = function () {
            e.$dismiss()
        }, e.ok = function () {
            var n = {zoom: e.zoom, center: e.markerP, label: e.choosePoi ? e.choosePoi.name : null}, i = t;
            i.properties.zoom = n.zoom, i.properties.lat = n.center.lat, i.properties.lng = n.center.lng, n.label && (i.content = n.label, i.properties.address = n.label);
            var o = $("#" + i.id);
            if (o.length) {
                var r = e.map;
                if (r.panTo(n.center), r.setZoom(n.zoom), o.data("label")) {
                    var a = o.data("label");
                    a.setPosition(n.center);
                    var s = o.data("marker");
                    s.setPosition(n.center)
                }
            }
            e.$close(t)
        }, e.searchAddress = function (e) {
            e && (n.setPageIndex(0), n.setPageCapacity(10), n.search(e))
        }, e.change = function (t) {
            e.zoom = t.zoom, e.bounds = t.bounds, e.center = t.center
        }
    }

    n.$inject = ["$scope", "obj"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">地图</h4></div><div class="map_console"><div class="search_area"><div class="input-group"><input type="text" class="form-control" ng-model="address" ng-keyup="$event.keyCode == 13 ? searchAddress(address) : null" placeholder="请输入地名"> <a ng-click="searchAddress(address)" class="btn btn-default" type="button">搜索</a></div><h5 class="result-count" ng-if="pois">搜索结果：{{pois.length}}条</h5><div class="result"><div eqd-scroll style="height: 100%"><ul><li ng-class="{active:choosePoi.id==poi.id}" ng-repeat="poi in pois" ng-click="choosePosition(poi)"><i class="circle">{{::$index+1}}</i><h5 class="name">{{::poi.name}}</h5><p class="address">{{::poi.address}}</p></li></ul></div></div></div><div eqd-map class="map-contain" center="$parent.center" zoom="$parent.zoom" bounds="$parent.bounds"><eqd-map-mark position="markerP"></eqd-map-mark></div></div><div class="modal-footer ml20 mr20"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="ok()">确定</a></div>'
}, function (e, t) {
    "use strict";
    e.exports = ["$timeout", "$interval", function (e, t) {
        "ngInject";
        return {
            $scope: {center: "=", zoom: "=", bounds: "=", change: "&"}, controller: ["$scope", function (e) {
                var n = this;
                n.addMark = function (n) {
                    if (e.map) n.setMap(e.map); else var i = t(function () {
                        e.map && (n.setMap(e.map), t.cancel(i))
                    }, 400)
                }
            }], restrict: "A", link: function (e, n) {
                function i() {
                }

                var o = new qq.maps.LatLng(e.center.lat, e.center.lng),
                    r = {zoom: e.zoom, center: o, mapTypeControlOptions: {mapTypeIds: []}},
                    a = e.map = new qq.maps.Map(n.get(0), r), s = t(function () {
                        var n = a.getBounds();
                        n && (a.panBy(-1, -1), n.lat.maxY !== n.lat.minY && n.lng.maxX !== n.lng.minX && (t.cancel(s), e.bounds = n))
                    }, 400);
                qq.maps.event.addListener(a, "zoom_changed", function () {
                    e.zoom = a.getZoom(), e.bounds = a.getBounds(), i()
                }), qq.maps.event.addListener(a, "center_changed", function () {
                    e.center = a.getCenter(), e.bounds = a.getBounds(), i()
                }), e.$watch("zoom", function (e, t) {
                    e !== t && a.setZoom(e)
                }), e.$watch("center", function (e, t) {
                    e !== t && (o = new qq.maps.LatLng(e.lat, e.lng), a.panTo(o))
                })
            }
        }
    }]
}, function (e, t, n) {
    "use strict";
    n(1774);
    e.exports = function () {
        return {
            scope: {position: "="}, require: "^eqdMap", restrict: "E", link: function (e, t, n, i) {
                var o;
                e.position && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
                    position: e.position,
                    animation: qq.maps.MarkerAnimation.DROP,
                    map: null
                }), i.addMark(o)), e.$watch("position", function (t, n) {
                    t !== n && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
                        position: e.position,
                        animation: qq.maps.MarkerAnimation.DROP,
                        map: null
                    }), t ? i.addMark(o) : o.setMap(null))
                })
            }
        }
    }
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "mapFactory", "mapModalFactory", "sceneService", "authorityService", "delayLoadService", function (e, t, n, i, o, r, a) {
                "ngInject";
                e.createMapComp = function () {
                    a.qqMap().then(function () {
                        var e = n.getDefaultJson(), i = JSON.parse(JSON.stringify(e)), r = o.getCurrentPage(),
                            a = r.initEqxCompByJson(i);
                        a && (r.renderEqxComp(a), t.$broadcast("wsComp.add", a))
                    })
                }
            }],
            link: function (e, t) {
                t.on("click.map", function () {
                    e.$apply(function () {
                        return e.createMapComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    n(1778), e.exports = angular.module("comp.pv", []).directive("eqxPv", n(1779)).factory("pvModal", n(1780)).factory("pvJsonFactory", n(1782)).name
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "pvModal", "sceneService", "authorityService", "pvJsonFactory", function (e, t, n, i, o, r) {
                "ngInject";
                e.createPvComp = function () {
                    var e = i.getCurrentPage(), n = e.initEqxCompByJson(r.getDefaultJson());
                    n && (e.renderEqxComp(n), t.$broadcast("wsComp.add", n))
                }
            }],
            link: function (e, t) {
                t.on("click.pv", function () {
                    e.$apply(function () {
                        return e.createPvComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain", template: n(1781), resolve: {
                        pvJson: function () {
                            return t
                        }
                    }, controller: ["$scope", "pvJson", function (e, t) {
                        var n = JSON.parse(JSON.stringify(t)), i = n.properties, o = i.layout, r = i.size, a = i.icon,
                            s = i.imgSrc, c = e.css = n.css;
                        e.BUTTON = {large: "counter-l", middle: "counter-m", small: "counter-s"};
                        var l = e.LAYOUT = {v: "counter-tb", h: "counter-lr"},
                            p = e.vm = {prop: {layout: o, size: r, icon: a, imgSrc: s}, error: ""};
                        e.confirm = function () {
                            var t = c.height, i = {};
                            p.prop.imgSrc && t < 115 && (i = {
                                width: 320,
                                height: 115,
                                lineHeight: "115px",
                                backgroundColor: "transparent"
                            }), p.prop.layout === l.v && (!p.prop.imgSrc && t < 80 && (i = {
                                height: 80,
                                lineHeight: "80px"
                            }), p.prop.imgSrc && t < 155 && (i.height = 155, i.lineHeight = "155px")), Object.assign(n.css, i), Object.assign(n.properties, p.prop), e.$close(n)
                        }, e.cancel = function () {
                            e.$dismiss()
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">统计 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15676&page=1&extra=#pid122999"><span class="eqf-why-f"></span></a> <span class="action">记录并显示当前作品的展示次数</span></h4></div><div class="dialog-contain counter"><div class="tab-same"><span class="spanborder" ng-class="{\'spanborder\': vm.prop.icon == \'eqf-eye-f\'}"><a><span class="eqf-eye-f" style="font-size: 24px;display: inline-block;margin-top: 12px"></span></a></span></div><div class="form_console dialog-content"><div class="modify_area"><div class="counter-group"><span class="title">颜色：</span><div class="counter-choice"><eqd-input-color select-color="css.color" direction="bottom" theme="flo_lef" notify="grid" x="-1" w="37"></eqd-input-color><input class="color-picker-input" ng-model="css.color" type="text"/></div></div><div class="counter-group"><span class="title">字号：</span><div class="counter-choice"><div class="btn-group"><label class="btn btn-counter" ng-model="vm.prop.size" btn-radio="BUTTON.large">大</label><label class="btn btn-counter" ng-model="vm.prop.size" btn-radio="BUTTON.middle">中</label><label class="btn btn-counter" ng-model="vm.prop.size" btn-radio="BUTTON.small">小</label></div></div></div><div class="counter-group"><span class="title">布局：</span><div class="counter-choice"><div class="btn-group"><label class="btn btn-counter" ng-model="vm.prop.layout" btn-radio="LAYOUT.h">左右</label><label class="btn btn-counter" ng-model="vm.prop.layout" btn-radio="LAYOUT.v">上下</label></div></div></div><div ng-show="vm.error" class="form-error form-error-ml">{{vm.error}}</div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>';
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                css: {
                    top: $(".workspace").scrollTop() + 215 + "px",
                    left: "5px",
                    width: "310px",
                    height: "55px",
                    lineHeight: 2.3,
                    color: "#76838f",
                    backgroundColor: "#f9f9f9",
                    textAlign: "center"
                },
                properties: {
                    layout: "counter-lr",
                    size: "counter-m",
                    icon: "eqf-eye-f",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                type: "d"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.ad", []).factory("adFactory", n(1784)).directive("eqxAd", n(1785));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {height: "300px", width: "250px", left: "35px", top: $(".workspace").scrollTop() + 93 + "px"};
            return {content: "", css: e, num: 1, properties: {size: 4, initType: 1}, title: null, type: "g"}
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "adFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createAdComp = function () {
                    var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.ad", function () {
                    e.$apply(function () {
                        return e.createAdComp()
                    })
                })
            }
        }
    }

    n(1786), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.counter", []).factory("counterFactory", n(1788)).factory("counterModalFactory", n(1789)).directive("eqxCounter", n(1793));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            var t = {
                width: "200px",
                height: "50px",
                lineHeight: "50px",
                color: "#676767",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "#f9f9f9",
                top: $(".workspace").scrollTop() + 218 + "px",
                left: "60px",
                textAlign: "center",
                fontSize: "14px"
            }, n = {
                content: "",
                css: t,
                properties: {
                    layout: "counter-lr",
                    size: "counter-m",
                    color: "#59c7f9",
                    icon: "eqf-heart-f",
                    clickFarmer: !1,
                    clickInterval: 1440,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: "计数",
                type: "i"
            };
            return e && (n.properties.icon = e, "eqf-heart-f" == e ? n.properties.color = "#ff5448" : "eqf-zan-f" == e ? n.properties.color = "#f2a653" : "eqf-flower2" == e ? n.properties.color = "#ea1f64" : "eqf-vote" == e && (n.properties.color = "#59c7f9")), n
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                var i = "";
                return e.open({
                    windowClass: "console six-contain " + i,
                    template: n(1792),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1790);
    var o = n(1791);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r) {
        "ngInject";
        var a = t.vm = {
            id: n.id || null,
            title: n.title,
            properties: {
                layout: n.properties.layout,
                size: n.properties.size,
                color: n.properties.color,
                icon: n.properties.icon,
                imgSrc: n.properties.imgSrc,
                clickFarmer: n.properties.clickFarmer || !1,
                clickInterval: n.properties.clickInterval || 1440
            }
        };
        t.HOST = o, t.obj = n, t.authError = "", t.openImageModal = function () {
            i.getImage().then(function (e) {
                a.properties.icon = "", a.properties.imgSrc = n.properties.imgSrc = e.path
            })
        }, t.confirm = function () {
            angular.extend(n, a);
            var t = parseInt(n.css.height) || 0;
            a.properties.imgSrc && t < 115 && (a.btnStyle = {
                width: "320px",
                height: "115px",
                lineHeight: "115px",
                backgroundColor: "transparent"
            }), "counter-tb" === a.properties.layout && (!a.properties.imgSrc && t < 80 && (a.btnStyle = {
                height: "80px",
                lineHeight: "80px"
            }), a.properties.imgSrc && t < 155 && (a.btnStyle = a.btnStyle || {}, a.btnStyle.height = a.btnStyle.lineHeight = "155px")), $.extend(!0, n.css, a.btnStyle), e.$broadcast("confirmCompCreate")
        }, t.$on("confirmClickFarmer", function () {
            t.$close(n)
        }), t.cancel = function () {
            t.$dismiss()
        }, t.chooseEqfont = function (e) {
            a.properties.icon = e, a.properties.imgSrc = null, "" + e == "eqf-heart-f" ? a.properties.color = "#ff5448" : "" + e == "eqf-zan-f" ? a.properties.color = "#f2a653" : "" + e == "eqf-flower2" ? a.properties.color = "#ea1f64" : "" + e == "eqf-vote" && (a.properties.color = "#59c7f9")
        }
    }

    n.$inject = ["$rootScope", "$scope", "obj", "imageModalFactory", "HOST", "authorityService"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">计数 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13239&page=1&extra=#pid104204"><span class="eqf-why-f"></span></a> <span class="action" ng-show="!authError">可以更换自己的图标</span> <span ng-show="authError">{{authError}}</span></h4></div><div class="dialog-contain counter"><div class="tab-same"><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-heart-f\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-heart-f\')"><span class="eqf-heart-f"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-zan-f\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-zan-f\')"><span class="eqf-zan-f"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flower2\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-flower2\')"><span class="eqf-flower2"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-vote\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-vote\')"><span class="eqf-vote"></span></a></span><div ng-class="{\'spanborder\': vm.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()"><em class="eqf-image-l"></em><em>自定义</em></div></div><div class="form_console dialog-content"><div class="modify_area"><div class="counter-group" ng-show="vm.properties.imgSrc"><span class="title">计数图标</span><div class="form-image btn-small counter-choice"><img style="width: 115px;height: 115px" ng-src="{{HOST.FILE + vm.properties.imgSrc}}" alt="按钮图片"/> <a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a></div></div><div class="counter-group"><span class="title">颜色：</span><div class="counter-choice"><div style="display: inline-block; height:20px; margin-right: 5px"><eqd-input-color select-color="vm.properties.color" direction="bottom" theme="flo_lef" notify="grid" x="-1" w="37" h="30"></eqd-input-color></div><input class="color-picker-input" ng-model="vm.properties.color" type="text"/></div></div><div class="counter-group"><span class="title">字号：</span><div class="counter-choice"><div class="btn-group"><label class="btn btn-counter" ng-model="vm.properties.size" btn-radio="\'counter-l\'">大</label><label class="btn btn-counter" ng-model="vm.properties.size" btn-radio="\'counter-m\'">中</label><label class="btn btn-counter" ng-model="vm.properties.size" btn-radio="\'counter-s\'">小</label></div></div></div><div class="counter-group"><span class="title">布局：</span><div class="counter-choice"><div class="btn-group"><label class="btn btn-counter" ng-model="vm.properties.layout" btn-radio="\'counter-lr\'">左右</label><label class="btn btn-counter" ng-model="vm.properties.layout" btn-radio="\'counter-tb\'">上下</label></div></div></div><div class="counter-group" style="margin-left: -70px"><click-farmer-setting obj="vm"></click-farmer-setting></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "counterModalFactory", "counterFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                    i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                }

                r.permission("styleCounterScoreAttr");
                e.createCounterComp = function (e, t) {
                    if (t) return void a(t);
                    var n = i.getDefaultJson(e);
                    a(n)
                }, e.$on("create.counter", function (t, n) {
                    e.createCounterComp(null, n)
                })
            }],
            link: function (e, t) {
                t.on("click.counter", function (t) {
                    var n = $(t.target).closest("li").data("icon");
                    e.$apply(function () {
                        return e.createCounterComp(n)
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.interaction.sound", []).factory("soundFactory", n(1795)).factory("soundModal", n(1796)).directive("eqxSound", n(1799));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "30px",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)",
                left: "110px",
                top: $(".workspace").scrollTop() + 228 + "px"
            };
            return {
                content: "",
                css: e,
                num: 1,
                properties: {
                    title: "有惊喜",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "s"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain",
                    template: n(1798),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"];
    var o = n(1797);
    e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = ["$scope", "obj", "HOST", "musicModal", "imageModalFactory", "authorityService", function (e, t, n, i, o, r) {
        "ngInject";
        e.model = JSON.parse(JSON.stringify(t)), e.authError = "", e.buttons = [{
            id: 1,
            text: "有惊喜",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "听一听",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "点我听歌",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "点播歌曲",
            btnStyle: {
                width: "100px",
                height: "30px",
                backgroundColor: "#fff",
                "text-align": "center",
                border: "1px solid #3FB816",
                "line-height": "28px",
                color: "rgb(0, 0, 0)"
            }
        }], e.model.properties && e.model.properties.imgSrc && (e.vm = {imgSrc: n.FILE + e.model.properties.imgSrc}), e.openImageModal = function () {
            o.getImage().then(function (t) {
                e.model.properties.title = "", e.btnIndex = -1, e.model.css = {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: ""
                }, e.model.properties.imgSrc = t.tmbPath, e.vm = {imgSrc: n.FILE + e.model.properties.imgSrc}
            })
        }, angular.forEach(e.buttons, function (n, i) {
            "" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
        }), e.confirm = function () {
            return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? !e.model.sound || $.isEmptyObject(e.model.sound) ? void(e.authError = "您还没有选择音效") : (e.model.properties.title = e.model.properties.title.replace(/ /g, "&nbsp;"), void e.$close(e.model)) : (e.authError = "按钮名称不能为空", void $('.form-list input[type="text"].btn-name').focus())
        }, e.openSoundModal = function () {
            i.open(e.model.sound, 4).then(function (t) {
                var n = t.id, i = t.name, o = t.path;
                e.model.sound = {id: n, name: i, src: o}
            })
        }, e.cancel = function () {
            e.$dismiss()
        }, e.chooseTabButton = function (t, n) {
            e.model.properties.title = t.text, $.extend(!0, e.model.css, t.btnStyle), e.btnIndex = n, e.model.properties.imgSrc = null
        }
    }]
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">音效组件 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=10990&extra="><span class="eqf-why-f"></span></a> <span class="action">音效不能大于100kb</span></h4></div><div class="dialog-contain"><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()"><em class="eqf-image-l" style="font-size:12px"></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class="form-contain" form="role"><div class="form-list clearfix" ng-if="!model.properties.imgSrc"><label for="buttonName" class="form-label">按钮名称：</label><div class="form-input"><input id="buttonName" class="btn-name" type="text" ng-model="model.properties.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if="model.properties.imgSrc"><label class="form-label">按钮图片：</label><div class="form-image btn-small"><img ng-src="{{vm.imgSrc}}" alt="按钮图片"/> <a class="btn-main btn-picture text-center" ng-click="openImageModal()">更换图片</a></div></div><div class="form-list clearfix"><label for="btnSound" class="form-label">音效：</label><div class="form-input"><a id="btnSound" class="btn-main blue" ng-click="openSoundModal()">设置音效</a></div></div><div class="form-list clearfix" ng-show="model.sound.name"><label class="form-label">已选择：</label><div class="form-input"><span>{{model.sound.name}}</span></div></div><div ng-show="authError" class="form-error form-error-ml">{{authError}}</div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "soundFactory", "soundModal", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                    i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                }

                e.$on("create.sound", function (t, n) {
                    e.createSoundComp(n)
                }), e.createSoundComp = function (e) {
                    if (e) return void a(e);
                    var t = n.getDefaultJson();
                    a(t)
                }
            }],
            link: function (e, t) {
                t.on("click.sound", function () {
                    e.$apply(function () {
                        return e.createSoundComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.form.combinedForm", []).factory("combinedFormFactory", n(1801)).directive("eqxCombinedForm", n(1802));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                properties: {
                    placeholder: "姓名",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                css: {top: $(".workspace").scrollTop() + 100 + "px", left: "60px", textAlign: "left", fontSize: "14px"},
                title: "姓名",
                type: "501"
            }
        }

        function t() {
            return {
                properties: {
                    placeholder: "电话",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 1, interval: 0}]
                },
                css: {top: $(".workspace").scrollTop() + 150 + "px", left: "60px", textAlign: "left", fontSize: "14px"},
                title: "电话",
                type: "502"
            }
        }

        function n() {
            return {
                properties: {
                    placeholder: "邮箱",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 1, interval: 0}]
                },
                css: {top: $(".workspace").scrollTop() + 200 + "px", left: "60px", textAlign: "left", fontSize: "14px"},
                title: "邮箱",
                type: "503"
            }
        }

        return {nameJson: e, telJson: t, emailJson: n}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "inputFactory", "modalService", "combinedFormFactory", "sceneService", "buttonFactory", function (e, t, n, i, o, r, a) {
                "ngInject";
                e.createCombinedFormComp = function () {
                    var e = r.getCurrentPage(), s = e.initStatManager();
                    if (s.hasSubmitButtonComp()) return i.openMsgDialog({msg: "当前页面的提交按钮已经存在，请不要重复添加。"});
                    var c = n.getDefaultJson(),
                        l = angular.merge({}, a.getDefaultJson(), {css: {top: $(".workspace").scrollTop() + 250 + "px"}}),
                        p = angular.merge({}, c, o.nameJson()), u = angular.merge({}, c, o.telJson()),
                        d = angular.merge({}, c, o.emailJson()), m = e.initEqxCompByJson(p), f = e.initEqxCompByJson(u),
                        g = e.initEqxCompByJson(d), h = e.initEqxCompByJson(l);
                    m && (e.renderEqxComp(m), t.$broadcast("wsComp.add", m)), f && (e.renderEqxComp(f), t.$broadcast("wsComp.add", f)), g && (e.renderEqxComp(g), t.$broadcast("wsComp.add", g)), h && (e.renderEqxComp(h), t.$broadcast("wsComp.add", h))
                }
            }],
            link: function (e, t) {
                t.on("click.combinedForm", function () {
                    e.$apply(function () {
                        return e.createCombinedFormComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.input", []).factory("inputFactory", n(1804)).factory("inputModalFactory", n(1805)).directive("eqxInput", n(1809));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "#676767",
                width: "200px",
                height: "40px",
                left: "60px",
                top: $(".workspace").scrollTop() + 223 + "px",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                borderRadius: "0",
                backgroundColor: "#ffffff",
                textAlign: "left",
                fontSize: "14px",
                lineHeight: 1.5
            };
            return {
                content: "",
                css: e,
                id: null,
                num: 1,
                pageId: null,
                properties: {
                    placeholder: "姓名",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                isInput: 1,
                sceneId: null,
                title: "姓名",
                type: "501"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                var i = "";
                return e.open({
                    windowClass: "console seven-contain " + i,
                    template: n(1808),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1806);
    var o = n(1807);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = e.vm = {title: t.title, type: t.type, required: t.properties.required};
        e.authError = "";
        var i = "输入框";
        e.buttons = [{
            id: 1,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 2,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#fff",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 3,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#f6b223",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 4,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#333",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 5,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#a0d86b",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 6,
            text: i,
            btnStyle: {
                height: "30px",
                backgroundColor: "#fff",
                textAlign: "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#f66",
                color: "rgb(0, 0, 0)"
            }
        }], angular.forEach(e.buttons, function (i, o) {
            "" !== n.title && t.css.borderColor && t.css.borderColor === i.btnStyle.borderColor && (e.btnIndex = o)
        }), e.confirm = function () {
            return n.title && 0 !== n.title.length ? (n.type && (t.type = n.type), t.properties.placeholder = n.title, t.properties.required = n.required, t.title = n.title, $.extend(!0, t.css, n.btnStyle), void e.$close(t)) : (e.authError = "输入框名称不能为空", void $('input[type="text"]').focus())
        }, e.cancel = function () {
            e.$dismiss()
        }, e.chooseTabButton = function (t, i) {
            n.btnStyle = t.btnStyle, e.btnIndex = i
        }
    }

    n.$inject = ["$scope", "obj"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">输入框组件 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1935&page="><span class="eqf-why-f"></span></a> <span class="action" ng-show="!authError">在场景中添加输入框可以用来收集数据信息</span> <span ng-show="authError">{{authError}}</span></h4></div><div class="dialog-contain"><div class="modify_area input_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a style="border-width: 2px !important" ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span></div><div class="form_console dialog-content"><div class="modify_area"><form class="form-contain"><div class="form-list clearfix" style="margin-left:70px"><label class="form-label">输入框名称：</label><div class="form-input"><input style="width:350px;float:left" type="text" ng-model="vm.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/><div class="checkbox-square" ng-class="{checked: vm.required}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="\'required\'" ng-model="vm.required" name="iCheck"></div><label for="checkbox_required" class="required">必填</label></div></div></form><div class="customized_container clearfix"><div class="radio-square" ng-class="{checked: vm.type==\'501\'}"><em></em> <input type="radio" id="input_name" ng-model="vm.type" ng-change="vm.title=\'姓名\'" value="501"></div><label for="input_name">姓名</label><div class="radio-square" ng-class="{checked: vm.type==\'502\'}"><em></em> <input type="radio" id="input_phone" ng-model="vm.type" ng-change="vm.title=\'电话\'" value="502"></div><label for="input_phone">电话</label><div class="radio-square" ng-class="{checked: vm.type==\'503\'}"><em></em> <input type="radio" id="input_email" ng-model="vm.type" ng-change="vm.title=\'邮箱\'" value="503"></div><label for="input_email">邮箱</label><div class="radio-square" ng-class="{checked: vm.type==\'504\'}"><em></em> <input type="radio" id="input_text" ng-model="vm.type" ng-change="vm.title=\'文本\'" value="504"></div><label for="input_text">文本</label></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "inputFactory", "inputModalFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                    i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                }

                e.createInputComp = function (e) {
                    var t = n.getDefaultJson();
                    return e ? void a(e) : void a(t)
                }, e.$on("create.input", function (t, n) {
                    e.createInputComp(n)
                })
            }],
            link: function (e, t) {
                t.on("click.input", function () {
                    e.$apply(function () {
                        return e.createInputComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.button", []).factory("buttonFactory", n(1811)).factory("buttonModal", n(1812)).directive("eqxButton", n(1816));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                width: "200px",
                height: "36px",
                top: $(".workspace").scrollTop() + 225 + "px",
                left: "60px",
                color: "#fff",
                borderRadius: "0",
                backgroundColor: "#59c7f9",
                fontSize: "14px",
                lineHeight: 1
            };
            return {
                content: "",
                css: e,
                num: 1,
                properties: {
                    text: "谢谢您的参与！",
                    link: "",
                    src: "",
                    layout: "rating-l",
                    title: "提交",
                    clickFarmer: !1,
                    clickInterval: 1440,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: 6
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        return {
            open: function (n) {
                return t.datePicker().then(function () {
                    return e.open({
                        windowClass: "console dialog-form-btn seven-contain",
                        template: r,
                        controller: o,
                        resolve: {
                            buttonJson: function () {
                                return JSON.parse(JSON.stringify(n))
                            }
                        }
                    })
                })
            }
        }
    }

    i.$inject = ["modalService", "delayLoadService"], n(1813);
    var o = n(1814), r = n(1815);
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r, a, s) {
        "ngInject";
        var c = "http://", l = t.vm = n;
        l.properties && !l.properties.link && (l.properties.link = c), t.authError = "", t.buttons = [{
            id: 1,
            text: "点击提交",
            btnStyle: {
                backgroundColor: "#59c7f9",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "立即提交",
            btnStyle: {
                backgroundColor: "rgb(255, 255, 255)",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 3,
            text: "提交信息",
            btnStyle: {
                backgroundColor: "#f6b223",
                height: "30px",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "立即参加",
            btnStyle: {
                height: "30px",
                backgroundColor: "#333333",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 5,
            text: "提交表单",
            btnStyle: {
                height: "30px",
                backgroundColor: "#a0d86b",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 6,
            text: "马上订购",
            btnStyle: {
                height: "30px",
                backgroundColor: "#ff6666",
                "text-align": "center",
                "line-height": "30px",
                color: "rgb(255, 255, 255)"
            }
        }], angular.forEach(t.buttons, function (e, i) {
            "" !== l.properties.title && n.css.backgroundColor && l.css.backgroundColor === e.btnStyle.backgroundColor && (t.btnIndex = i)
        });
        var p = t.time = {isOpen: !!l.properties.endTime, endTime: l.properties.endTime || o.endTimeOfToday()};
        t.timeConfig = {
            startDate: p.endTime,
            drops: "up"
        }, t.vmShow = {imgSrc: ""}, l.properties.imgSrc && (t.vmShow.imgSrc = a.FILE + l.properties.imgSrc), t.confirm = function () {
            if (!l.properties.title || 0 === l.properties.title.length) return r.openMsgDialog({msg: "请填写按钮名称！"}), void $('.bg_console input[type="text"]').focus();
            if (l.properties.showPic === !0 && !l.properties.imgSrc) return void r.openMsgDialog({msg: "请上传图片!"});
            if (l.properties.checkedLink) {
                if (!l.properties.link) return void r.openMsgDialog({msg: "请填写链接地址！"});
                /^http:|^https:|^ftp:/.test(l.properties.link) || (l.properties.link = c + l.properties.link)
            }
            return l.properties.text ? (p.isOpen ? l.properties.endTime = new Date(p.endTime).getTime() : delete l.properties.endTime, void e.$broadcast("confirmCompCreate")) : void r.openMsgDialog({msg: "请填写提示信息！"})
        }, t.$on("confirmClickFarmer", function () {
            t.$close(l)
        }), t.cancel = function () {
            t.$dismiss()
        }, t.chooseTabButton = function (e, n) {
            l.properties.title = e.text, Object.assign(l.css, e.btnStyle, !0), t.btnIndex = n
        }, t.openImageModal = function () {
            i.getSquareImage().then(function (e) {
                t.vm.properties.imgSrc = n.properties.imgSrc = e, t.vmShow = {imgSrc: a.FILE + t.vm.properties.imgSrc}
            })
        }
    }

    i.$inject = ["$rootScope", "$scope", "buttonJson", "imageModalFactory", "modalService", "HOST", "authorityService"];
    var o = n(934);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">按钮名称 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=5051&extra="><span class="eqf-why-f"></span></a> <span class="action">每个场景只能添加一个提交按钮</span></h4></div><div class="dialog-contain"><div class="modify_area tel_title tab-same clearfix" style="padding-left:30px"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)">{{::button.text}}</a></span></div>:</div><div class="dialog-contain rating-content"><div class="form_console dialog-content rating-preview-design" style="height: initial; margin-bottom: 0"><div class="modify_area rating rating-design" style="float: none"><div class="rating-group"><span class="title">按钮名称</span><div class="rating-choice"><input type="text" class="form-control" placeholder="请填写按钮名称" check-count="40" ng-model="vm.properties.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="rating-group"><span class="title">提示类型</span><div class="rating-choice"><div class="btn-group"><label class="btn btn-rating" ng-model="vm.properties.layout" btn-radio="\'rating-l\'" style="line-height: 30px;width:80px" ng-click="vm.properties.showPic=false;">纯文字</label><label class="btn btn-rating" ng-model="vm.properties.layout" btn-radio="\'rating-m\'" style="line-height: 30px;width:80px;margin-left: 28px" ng-click="vm.properties.showPic=true;">上图下文</label><label class="btn btn-rating" ng-model="vm.properties.layout" btn-radio="\'rating-s\'" style="line-height: 30px;width:80px;margin-left: 28px" ng-click="vm.properties.showPic=true;">上文下图</label></div></div></div><div class="rating-group" ng-show="vm.properties.showPic"><span class="title">提示图片</span><div class="rating-choice"><a class="btn blue mr20 upload" ng-click="openImageModal()">上传</a><div class="see-image" ng-style="{\'background-image\':\'url(\' + vmShow.imgSrc + \')\',\'background-size\':\'cover\'}" style="width:120px;height: 120px;background-color:rgba(0,0,0,0);display: inline-block;vertical-align: top;border: 1px solid #ccd5db"></div></div></div><div class="rating-group"><span class="title">提示信息</span><div class="rating-choice"><input type="text" ng-model="vm.properties.text" class="form-control" check-count="50" placeholder="请填写提示信息"/></div></div><div class="rating-group" style="position: relative"><div class="checkbox-square" ng-class="{checked: vm.properties.checkedLink}" style="position: absolute;left:50px;display: inline-block"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.properties.checkedLink" name="iCheck"></div><span class="title">添加外链</span><div class="rating-choice"><input type="text" class="form-control" ng-model="vm.properties.link" check-count="50" placeholder="链接地址" ng-disabled="!vm.properties.checkedLink"/></div></div><div class="rating-group" style="margin-left: -28px"><span class="title">提交结束时间</span><div class="rating-choice" style="line-height: 36px"><div class="fl switch" style="margin-top:7px" ng-class="time.isOpen ? \'switch-open\' : \'switch-close\'" ng-click="time.isOpen = !time.isOpen"><div class="circle-con"><i class="circle"></i></div></div><input type="text" class="form-control fl" style="width: 186px; margin-left: 10px; background: #fff; cursor: pointer" placeholder="设置结束时间" ng-show="time.isOpen" ng-readonly="true" ng-model="time.endTime" date-picker="timeConfig"> <a class="bbs-help-tip-media hint--right hint--rounded" data-hint="可设置表单提交结束时间" style="margin: 0 10px"><span class="eqf-why-f" style="color:#ff6e6e"></span></a></div></div><div class="rating-group" style="margin-left: -28px" click-farmer-setting obj="vm"></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()" ng-init="feedback=false" ng-click="feedback=true">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "modalService", "buttonFactory", "buttonModal", "sceneService", "authorityService", function (e, t, n, i, o, r, a) {
                "ngInject";
                e.createButtonComp = function (e) {
                    var o = i.getDefaultJson(), a = r.getCurrentPage(), s = a.initStatManager();
                    if (s.hasSubmitButtonComp()) return n.openMsgDialog({msg: "当前页面的提交按钮已经存在，请不要重复添加。"});
                    if (e) {
                        var c = a.initEqxCompByJson(e);
                        return void(c && (a.renderEqxComp(c), t.$broadcast("wsComp.add", c)))
                    }
                    var l = JSON.parse(JSON.stringify(o)), p = a.initEqxCompByJson(l);
                    p && (a.renderEqxComp(p), t.$broadcast("wsComp.add", p))
                }, e.$on("create.submit", function (t, n) {
                    e.createButtonComp(n)
                })
            }],
            link: function (e, t) {
                t.on("click.button", function () {
                    e.$apply(function () {
                        return e.createButtonComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.radio", []).factory("radioFactory", n(1818)).factory("radioModalFactory", n(1819)).directive("eqxRadio", n(1823));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            var t = {
                width: "200px",
                height: "133px",
                left: "60px",
                top: $(".workspace").scrollTop() + 176 + "px",
                color: "#676767",
                lineHeight: 1,
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                borderRadius: "0",
                fontSize: "14px"
            };
            return {
                content: "",
                css: t,
                num: 1,
                properties: {
                    titleStyle: {backgroundColor: "#59c7f9", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#59c7f9"},
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                choices: {seq: 3, options: [{id: 1, label: "选项1"}, {id: 2, label: "选项2"}, {id: 3, label: "选项3"}]},
                isInput: 1,
                title: "标题演示",
                type: e
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                var i = "";
                return e.open({
                    windowClass: "console seven-contain " + i,
                    template: n(1822),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1820);
    var o = n(1821);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i(e) {
            var t = $("#optionGroupContainer"), n = t.find(".option-group").eq(e), i = 72, o = n.position().top;
            o > i && t.scrollTop(t.scrollTop() + (o - i))
        }

        t = JSON.parse(JSON.stringify(t));
        var o = t.choices,
            r = e.vm = {title: t.title, type: t.type, options: o.options, required: t.properties.required};
        e.buttons = [{
            id: 1,
            btnStyle: {
                backgroundColor: "#59c7f9",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {backgroundColor: "#59c7f9", color: "#ffffff"}, optionStyle: {
                    borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#59c7f9"
                }
            }
        }, {
            id: 2,
            btnStyle: {
                backgroundColor: "#fff",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#fff",
                color: "rgb(0, 0, 0)"
            },
            properties: {
                titleStyle: {backgroundColor: "#fff", color: "#000"},
                optionStyle: {borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#fff"}
            }
        }, {
            id: 3,
            btnStyle: {
                backgroundColor: "#f6b223",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#f6b223",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {backgroundColor: "#f6b223", color: "#ffffff"},
                optionStyle: {borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#f6b223"}
            }
        }, {
            id: 4,
            btnStyle: {
                backgroundColor: "#333",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#333",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {backgroundColor: "#333", color: "#ffffff"},
                optionStyle: {borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#333"}
            }
        }, {
            id: 5,
            btnStyle: {
                backgroundColor: "#a0d86b",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#a0d86b",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {backgroundColor: "#a0d86b", color: "#ffffff"},
                optionStyle: {borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#a0d86b"}
            }
        }, {
            id: 6,
            btnStyle: {
                backgroundColor: "#ff6666",
                height: "30px",
                "line-height": "30px",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#ff6666",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {backgroundColor: "#ff6666", color: "#ffffff"},
                optionStyle: {borderBottomWidth: "1px", borderBottomStyle: "solid", borderBottomColor: "#ff6666"}
            }
        }], angular.forEach(e.buttons, function (n, i) {
            t.properties.titleStyle && t.properties.titleStyle.backgroundColor === n.properties.titleStyle.backgroundColor && (e.btnIndex = i)
        }), e.chooseTabButton = function (n, i) {
            r.btnStyle = n.btnStyle, e.btnIndex = i, $.extend(t.css, {
                borderStyle: n.btnStyle.borderStyle,
                borderColor: n.btnStyle.borderColor
            })
        }, e.authError = "", e.addNewOption = function (e) {
            r.options.length < 8 ? (++o.seq, r.options.splice(e + 1, 0, {
                id: o.seq,
                label: "选项" + o.seq
            }), setTimeout(function () {
                i(e)
            })) : n.openMsgDialog({msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"})
        }, e.deleteTheOption = function (e) {
            r.options.length > 1 && n.openConfirmDialog({msg: "您确定要删除内容为“" + r.options[e].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"}).then(function () {
                r.options.splice(e, 1)
            })
        }, e.confirm = function () {
            return r.title && 0 !== r.title.length ? (angular.forEach(r.options, function (e) {
                delete e.$$hashKey
            }), t.choices = o, t.properties.required = r.required, t.title = r.title, t.type = r.type, (e.btnIndex || 0 === e.btnIndex) && $.extend(t.properties, e.buttons[e.btnIndex].properties), delete t.css.height, void e.$close(t)) : (e.authError = "输入框名称不能为空", void $("#radioTitle").focus())
        }, e.cancel = function () {
            e.$dismiss()
        }
    }

    n.$inject = ["$scope", "obj", "modalService"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">{{::vm.type ==\'r\' ? (\'单选框组件\'): (\'多选框组件\')}} <a ng-show="vm.type ==\'r\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9374&extra="><span class="eqf-why-f"></span></a> <a ng-show="vm.type ==\'c\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9375&extra="><span class="eqf-why-f"></span></a> <span class="action">最多可以添加八个选项</span></h4></div><div class="dialog-contain"><div class="modify_area tel_title tab-same clearfix" style="padding-left:30px"><span ng-repeat="button in buttons" ng-class="{spanborder: $index == btnIndex}" class="all-change"><a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)"><span>{{::vm.type ==\'r\' ? (\'单选选项\'):(\'多选选项\')}}</span></a></span></div><div class="form_console dialog-content input-content"><div class="input-preview" style="border-color:  {{::buttons[btnIndex].btnStyle.borderColor}}"><div class="preview-title" ng-style="buttons[btnIndex].properties.titleStyle">{{vm.title ? vm.title : (\'标题演示\')}}</div><div class="preview-options"><div class="preview-option" ng-repeat="option in vm.options" ng-style="buttons[btnIndex].properties.optionStyle"><input type="radio" disabled="disabled" ng-if="vm.type == \'r\'" style="margin-top: -1px"/> <input type="checkbox" disabled="disabled" ng-if="vm.type == \'c\'" style="margin-top: -1px"/> <span>{{option.label}}</span></div></div></div><div class="modify_area input-design"><div class="input-title"><div><span class="title">标题</span></div><textarea id="radioTitle" class="form-control" placeholder="请输入标题" style="width: 400px; margin-left:55px" rows="3" check-count="20" ng-model="vm.title" stop-propagation autofocus></textarea><span style="position: relative;display: inline-block;vertical-align: middle;height: 74px;line-height: 74px"><label style="font-weight: lighter;font-size:12px;width: 60px"><div class="checkbox-square" style="margin-top:30px" ng-class="{checked: vm.required}"><em class="eqf-yes"></em> <input type="checkbox" ng-true-value="\'required\'" ng-model="vm.required" name="iCheck"></div>必填</label></span><div ng-show="authError" class="form-error" style="margin-left: 70px;text-align: left">{{authError}}</div></div><div class="input-options"><div class="input-option"><span class="option">选项</span> <span class="option-tip">（您可以添加八个选项，每个选项最多请不要超过41字）</span></div><div id="optionGroupContainer" class="option-group-container" style="position:relative"><div eqd-scroll style="height: 100%"><div><div class="option-group" ng-repeat="option in vm.options"><textarea class="option-label form-control" rows="2" ng-model="option.label" check-count="82" stop-propagation></textarea><div class="operations"><span class="eqf-minus-f" ng-click="deleteTheOption($index)"></span> <span class="eqf-plus-f" ng-click="addNewOption($index)"></span></div></div></div></div></div><div class="input-tip clearfix"><span class="add-option" ng-click="addNewOption(vm.options.length)"><span class="eqf-plus"></span><i>增加选项</i></span> <span class="page-indicator">{{vm.options.length}}/8</span></div></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {type: "@eqxRadio"},
            controller: ["$scope", "$rootScope", "radioFactory", "radioModalFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(i) {
                    if (i) var r = i; else r = n.getDefaultJson(e.type);
                    var a = o.getCurrentPage(), s = a.initEqxCompByJson(r);
                    s && (a.renderEqxComp(s), t.$broadcast("wsComp.add", s))
                }

                "r" !== e.type && "c" !== e.type || (e.createRadioComp = function (e) {
                    return e ? void a(e) : void a()
                }, e.$on("radio.create." + e.type, function (t, n) {
                    e.createRadioComp(n)
                }))
            }],
            link: function (e, t) {
                t.on("click.radio", function () {
                    e.$apply(function () {
                        return e.createRadioComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.dropDown", []).factory("dropDownFactory", n(1825)).directive("eqxDropDown", n(1826));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                width: "200px",
                height: "38px",
                left: "60px",
                top: $(".workspace").scrollTop() + 213 + "px",
                backgroundColor: "#ffffff",
                borderColor: "#59c7f9",
                borderWidth: "1px",
                borderStyle: "solid"
            };
            return {
                content: "",
                css: e,
                num: 1,
                properties: {
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                choices: {
                    options: [{value: 0, label: "请选择", selected: !0}, {
                        value: 1,
                        label: "请输入内容",
                        selected: !1
                    }, {value: 2, label: "请输入内容", selected: !1}, {value: 3, label: "请输入内容", selected: !1}]
                },
                isInput: 1,
                title: "下拉列表",
                type: "z",
                required: !1
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "dropDownFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createDropDownComp = function () {
                    var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.dropDown", function () {
                    e.$apply(function () {
                        return e.createDropDownComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.score", []).factory("scoreFactory", n(1828)).factory("scoreModalFactory", n(1829)).directive("eqxScore", n(1833));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            var t = {
                color: "#676767",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "#f9f9f9",
                width: "200px",
                top: $(".workspace").scrollTop() + 220 + "px",
                left: "60px",
                height: "46px",
                lineHeight: 1.5,
                fontSize: "14px"
            };
            return {
                content: "",
                css: t,
                id: null,
                num: 1,
                pageId: null,
                properties: {
                    icon: "eqf-star-l",
                    size: "rating-m",
                    color: "#ff9307",
                    required: !1,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                isInput: 1,
                sceneId: null,
                title: "给个好评",
                type: "a"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                var i = "";
                return e.open({
                    windowClass: "console seven-contain " + i,
                    template: n(1832),
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(1830);
    var o = n(1831);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        var n = e.vm = {
            title: t.title,
            properties: {
                icon: t.properties.icon,
                size: t.properties.size,
                color: t.properties.color,
                required: t.properties.required
            }
        };
        e.authError = "", e.confirm = function () {
            return n.title && 0 !== n.title.length ? ($.extend(!0, t, n), void e.$close(t)) : (e.authError = "标题名称不能为空", void $("#ratingTitle").focus())
        }, e.chooseEqfont = function (e) {
            n.properties.icon = e
        }, e.cancel = function () {
            e.$dismiss()
        }
    }

    n.$inject = ["$scope", "obj"], e.exports = n
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">评分 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9376&extra="><span class="eqf-why-f"></span></a> <span class="action" ng-show="!authError">请输入少于12个字的评分标题</span> <span ng-show="authError">{{authError}}</span></h4></div><div class="dialog-contain rating-content"><div class="tab-same"><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-star-l\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-star-l\')"><span class="eqf-star-l"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-heart-l\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-heart-l\')"><span class="eqf-heart-l"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-zan-l\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-zan-l\')"><span class="eqf-zan-l"></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flag-l\'}" class="all-change"><a ng-click="chooseEqfont(\'eqf-flag-l\')"><span class="eqf-flag-l"></span></a></span></div><div class="form_console dialog-content rating-preview-design"><div class="comp_rating rating rating-preview"><div class="rating-title ellipsis">{{vm.title?vm.title:(\'预览标题\')}}</div><div class="rating-icons"><span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span></div></div><div class="modify_area rating rating-design"><div class="rating-group"><span class="title">标题：</span><div class="rating-choice"><input type="text" class="form-control" ng-model="vm.title" placeholder="评分：" check-count="40" id="ratingTitle" stop-propagation autofocus/> <span style="display: inline-block;position: relative;vertical-align: middle;height: 35px;line-height: 35px"><label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;width: 70px"><div class="checkbox-square" ng-class="{checked: vm.properties.required}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.properties.required" name="iCheck"></div><span style="padding-left:5px">必填</span></label></span></div></div><div class="rating-group"><span class="title" style="vertical-align: top;line-height: 28px;height: 28px">颜色：</span><div class="rating-choice"><eqd-input-color select-color="vm.properties.color" theme="rating-choice-color" x="0" w="32" stop-propagation></eqd-input-color><input class="color-picker-input" ng-model="vm.properties.color" type="text" stop-propagation/></div></div><div class="rating-group"><span class="title">大小：</span><div class="rating-choice"><div class="btn-group"><label class="btn btn-rating" ng-model="vm.properties.size" btn-radio="\'rating-l\'">大</label><label class="btn btn-rating" ng-model="vm.properties.size" btn-radio="\'rating-m\'">中</label><label class="btn btn-rating" ng-model="vm.properties.size" btn-radio="\'rating-s\'">小</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "scoreModalFactory", "scoreFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                    i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                }

                e.createScoreComp = function (e) {
                    if (e) return void a(e);
                    var t = i.getDefaultJson();
                    a(t)
                }, e.$on("create.score", function (t, n) {
                    e.createScoreComp(n)
                })
            }],
            link: function (e, t) {
                t.on("click.score", function () {
                    e.$apply(function () {
                        return e.createScoreComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.chart", []).factory("chartFactory", n(1835)).directive("eqxChart", n(1836));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        "ngInject";

        function e() {
            var e = {height: "380px", width: "304px", left: "8px", top: $(".workspace").scrollTop() + 53 + "px"};
            return {
                content: "图表组件",
                css: e,
                num: 1,
                properties: {
                    title: "图表组件",
                    chartTitle: "数据统计详情",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "t"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {type: "@eqxChart"},
            controller: ["$scope", "$rootScope", "chartFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createCommentComp = function () {
                    var o = n.getDefaultJson();
                    o.properties.chartType = e.type;
                    var r = i.getCurrentPage(), a = r.initEqxCompByJson(o);
                    a && (r.renderEqxComp(a), a.initedChart.then(function () {
                        t.$broadcast("wsComp.add", a)
                    }))
                }
            }],
            link: function (e, t) {
                t.on("click.chart", function () {
                    e.$apply(function () {
                        return e.createCommentComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.uploadImages", []).factory("uploadImagesFactory", n(1838)).directive("eqxUploadImages", n(1839));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "#666666",
                width: "200px",
                height: "40px",
                left: "60px",
                top: $(".workspace").scrollTop() + 223 + "px",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                borderRadius: "0",
                backgroundColor: "#ebebeb",
                textAlign: "center",
                fontSize: "12px",
                lineHeight: 1.5
            };
            return {
                content: "",
                css: e,
                id: null,
                num: 1,
                pageId: null,
                properties: {
                    title: "上传图片",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                sceneId: null,
                title: "上传图片",
                type: "upload"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "uploadImagesFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createUploadImagesComp = function () {
                    var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.uploadImages", function () {
                    e.$apply(function () {
                        return e.createUploadImagesComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.smsVerify", []).factory("smsFactory", n(1841)).directive("eqxSms", n(1842));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "#666666",
                width: "200px",
                height: "90px",
                left: "60px",
                top: $(".workspace").scrollTop() + 198 + "px",
                borderWidth: "0px",
                borderStyle: "solid",
                borderColor: "#59c7f9",
                borderRadius: "0",
                backgroundColor: "rgba(0,0,0,0)",
                textAlign: "left",
                fontSize: "12px",
                lineHeight: 1.5
            };
            return {
                content: "",
                css: e,
                id: null,
                num: 1,
                pageId: null,
                properties: {
                    title: "验证码",
                    initType: 1,
                    required: !0,
                    ownerCss: {borderWidth: "1px", borderStyle: "solid", borderColor: "#59c7f9"},
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                sceneId: null,
                title: "短信验证手机号",
                type: "12"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "smsFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createSms = function () {
                    var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.uploadImages", function () {
                    e.$apply(function () {
                        return e.createSms()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.downTime", []).factory("downTimeModal", n(1844)).directive("eqxDownTime", n(1846));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        return {
            openPrompt: function () {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return n = JSON.parse(JSON.stringify(n)), t.datePicker().then(function () {
                    return e.open({
                        windowClass: "login-container six-contain",
                        template: o,
                        controller: ["$scope", "EqxCore", "$timeout", function (t, i, o) {
                            function r() {
                                if (!t.timeConfig.startDate) {
                                    var e;
                                    a().then(function (t) {
                                        return e = t.obj
                                    }, function () {
                                        return e = (new Date).getTime()
                                    }).then(function (e) {
                                        t.$apply(function () {
                                            t.timeConfig.startDate = e
                                        })
                                    })
                                }
                            }

                            var a = i.countTime.getServiceTime, s = t.vm = {
                                endTime: n.endTime || "",
                                arriveTipsContent: n.arriveTipsContent || "",
                                arriveTips: !("arriveTips" in n) || n.arriveTips
                            };
                            t.timeConfig = {startDate: s.endTime}, r(), t.triggerDatePicker = function () {
                                o(function () {
                                    $("#daterange input").trigger("click")
                                })
                            }, t.cancel = function () {
                                t.$dismiss()
                            }, t.confirm = function () {
                                s.endTime ? t.$close({
                                    endTime: new Date(s.endTime).getTime(),
                                    arriveTipsContent: s.arriveTipsContent,
                                    arriveTips: s.arriveTips
                                }) : e.openMsgDialog({msg: "选择截止时间！"})
                            }
                        }]
                    })
                })
            }
        }
    }

    i.$inject = ["modalService", "delayLoadService"];
    var o = n(1845);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">倒计时</h4></div><div class="dialog-contain countdown-contain"><div class="countdown-example"><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class="countdown-setting"><form class="form-contain"><div class="form-list clearfix"><label for="daterange" class="form-label">截止时间：</label><div class="form-input" id="daterange" style="position: relative"><input date-picker="timeConfig" placeholder="请选择时间！" ng-model="vm.endTime" name="daterange" class="btn-name daterange model-countdown-time" style="width:260px" type="text" ng-readonly="true" ng-disabled="vm.isCurrentTime"/> <button ng-click="triggerDatePicker()" class="calender-btn"><i class="eqf-calendar-l"></i></button></div></div><div class="form-list clearfix"><label for="content" class="form-label">时间达到后显示：</label><div class="form-input countdown-arrive-box" id="content"><input class="btn-name countdown-arrive-tips" type="text" placeholder="开始啦!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" style="padding-left: 0"/> <span class="strlen">{{vm.arriveTipsContent.length}}/48</span> <span class="hidden-arr-tips">不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.arriveTips" name="iCheck"></div></div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn eqc-btn-success" ng-click="confirm()" style="padding: 7px 12px">确定</a></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "downTimeModal", "authorityService", function (e, t, n, i, o) {
                "ngInject";

                function r() {
                    return {
                        content: "",
                        type: "e",
                        properties: {
                            endTime: "",
                            arriveTipsContent: "",
                            arriveTips: !0,
                            order: 1,
                            split: "cn",
                            mode: [!0, !0, !0, !0],
                            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                        },
                        css: {
                            top: $(".workspace").scrollTop() + 224 + "px",
                            left: "5px",
                            width: "310px",
                            height: "38px",
                            fontSize: 24,
                            initType: 1
                        }
                    }
                }

                e.createDownTime = function () {
                    var e = r(), i = n.getCurrentPage(), o = i.initEqxCompByJson(e);
                    o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                }
            }],
            link: function (e, t) {
                t.on("click.downTime", function () {
                    e.$apply(function () {
                        return e.createDownTime()
                    })
                })
            }
        }
    }

    n(1847), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.upTime", []).factory("upTimeModal", n(1849)).directive("eqxUpTime", n(1851));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        return {
            openPrompt: function (n) {
                return n = JSON.parse(JSON.stringify(n)), t.datePicker().then(function () {
                    return e.open({
                        windowClass: "login-container six-contain",
                        template: o,
                        controller: ["$scope", "EqxCore", "$timeout", function (t, i, o) {
                            function r() {
                                if (!t.timeConfig.startDate) {
                                    var e;
                                    a().then(function (t) {
                                        return e = t.obj
                                    }, function () {
                                        return e = (new Date).getTime()
                                    }).then(function (e) {
                                        t.$apply(function () {
                                            t.timeConfig.startDate = e
                                        })
                                    })
                                }
                            }

                            var a = i.countTime.getServiceTime, s = t.vm = {
                                isCurrentTime: !1,
                                startTime: n.startTime || "",
                                arriveTipsContent: n.arriveTipsContent || "",
                                arriveTips: !("arriveTips" in n) || n.arriveTips
                            };
                            t.timeConfig = {
                                startDate: s.startTime,
                                timePicker: !0
                            }, r(), t.triggerDatePicker = function () {
                                s.isCurrentTime || o(function () {
                                    $("#daterange input").trigger("click")
                                })
                            }, t.cancel = function () {
                                t.$dismiss()
                            }, t.confirm = function () {
                                if (s.startTime || s.isCurrentTime) if (s.isCurrentTime) {
                                    var n;
                                    a().then(function (e) {
                                        return n = e.obj
                                    }, function () {
                                        return n = (new Date).getTime()
                                    }).then(function (e) {
                                        t.$close({
                                            startTime: e,
                                            arriveTipsContent: s.arriveTipsContent,
                                            arriveTips: s.arriveTips
                                        })
                                    })
                                } else t.$close({
                                    startTime: new Date(s.startTime).getTime(),
                                    arriveTipsContent: s.arriveTipsContent,
                                    arriveTips: s.arriveTips
                                }); else e.openMsgDialog({msg: "选择开始时间！"})
                            }
                        }]
                    })
                })
            }
        }
    }

    i.$inject = ["modalService", "delayLoadService"];
    var o = n(1850);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">计时</h4></div><div class="dialog-contain countdown-contain"><div class="countdown-example"><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class="countdown-setting"><form class="form-contain"><div class="form-list clearfix"><label for="daterange" class="form-label">开始时间：</label><div class="form-input" id="daterange" style="position: relative"><input date-picker="timeConfig" placeholder="请设置时间" ng-model="vm.startTime" name="daterange" class="btn-name daterange model-countdown-time" style="width:260px" type="text" ng-readonly="true" ng-disabled="vm.isCurrentTime"/> <button ng-click="triggerDatePicker()" class="calender-btn"><i class="eqf-calendar-l"></i></button> <span class="hidden-arr-tips" style="right: -12px">当前时间</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: vm.isCurrentTime}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.isCurrentTime" name="iCheck"></div></div><div class="form-list clearfix" style="margin-left:-20px"><label for="content" class="form-label" style="width:120px">时间未到达时显示：</label><div class="form-input countdown-arrive-box" id="content"><input class="btn-name countdown-arrive-tips" type="text" placeholder="还没开始!" ng-disabled="!vm.arriveTips" ng-model="vm.arriveTipsContent" maxlength="48" style="padding-left:0px"/> <span class="strlen">{{vm.arriveTipsContent.length}}/48</span> <span class="hidden-arr-tips" style="right:0px">不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class="eqf-yes"></em> <input type="checkbox" ng-model="vm.arriveTips" name="iCheck"></div></div></form></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn eqc-btn-success" ng-click="confirm()" style="padding: 7px 12px">确定</a></div>'
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "upTimeModal", function (e, t, n, i) {
                "ngInject";

                function o() {
                    return {
                        content: "",
                        type: "f",
                        properties: {
                            startTime: "",
                            arriveTipsContent: "",
                            order: 1,
                            split: "cn",
                            mode: [!0, !0, !0, !0],
                            initType: 1,
                            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                        },
                        css: {
                            top: $(".workspace").scrollTop() + 224 + "px",
                            left: "5px",
                            width: "310px",
                            height: "38px",
                            fontSize: 24
                        }
                    }
                }

                e.createUpTime = function () {
                    var e = o(), i = n.getCurrentPage(), r = i.initEqxCompByJson(e);
                    r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.upTime", function () {
                    e.$apply(function () {
                        return e.createUpTime()
                    })
                })
            }
        }
    }

    n(1847), e.exports = i
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.interaction.shape", []).directive("eqxShape", n(1853)).factory("shapeJsonFactory", n(1854)).name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "shapeModalFactory", "shapeModalFactory2", "sceneService", "authorityService", "shapeJsonFactory", function (e, t, n, i, o, r, a) {
                "ngInject";
                var s = r.permission("newMaterialModal") ? n.getShapeJson : i.getShapeJson;
                s = n.getShapeJson, e.createShapeComp = function () {
                    s(a.getDefaultJson()).then(function (e) {
                        var n = o.getCurrentPage(), i = n.initEqxCompByJson(e);
                        i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                    })
                }, e.$on("wsComp.edit", function (e, n) {
                    var i = n.compJson;
                    "h" === i.type && s(i).then(function (e) {
                        var n = o.getCurrentPage(), r = n.updateEqxComp(i.id, e);
                        r && (r.rendered = !1, n.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                    })
                })
            }],
            link: function (e, t) {
                t.on("click.shape", function () {
                    e.$apply(function () {
                        return e.createShapeComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "",
                css: {
                    color: "#555",
                    width: "100px",
                    height: "100px",
                    left: "110px",
                    top: $(".workspace").scrollTop() + 193 + "px"
                },
                properties: {
                    type: "rect",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "h"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.comment", []).factory("commentFactory", n(1856)).directive("eqxComment", n(1857));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                height: "360px",
                width: "280px",
                left: "20px",
                top: $(".workspace").scrollTop() + 63 + "px",
                backgroundColor: "#F0F3F4"
            };
            return {
                content: "",
                css: e,
                num: 1,
                properties: {
                    morelabel: "更多留言",
                    meslabel: "我要留言",
                    style: "default",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "b"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "commentFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createCommentComp = function () {
                    var e = n.getDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.comment", function () {
                    e.$apply(function () {
                        return e.createCommentComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.wechat", [n(1859), n(1864), n(1869), n(1874)]).factory("wechatFactory", n(1877));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.wxHeader", []).factory("wxHeaderFactory", n(1860)).factory("wxHeaderModal", n(1861)).directive("eqxWxHeader", n(1863));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            return {
                content: "我的微信昵称",
                type: "201",
                properties: {
                    title: "我的微信昵称",
                    type: "own",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                css: {top: 100, left: 0, width: "320px", height: 38, fontSize: 24, textAlign: "center"}
            }
        }

        function n() {
            return {
                properties: {
                    title: "我的微信头像",
                    src: i,
                    type: "own",
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 1, interval: 0}]
                },
                css: {height: "100px", left: "110px", top: $(".workspace").scrollTop() + 193 + "px", width: "100px"},
                type: "401"
            }
        }

        var i = e.core.comp.EqxWxProfile.getDefaultImg();
        return {getTextDefaultJson: t, getImgDefaultJson: n}
    }

    n.$inject = ["EqxCore"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";
        return {
            openPrompt: function () {
                return e.open({
                    windowClass: "login-container six-contain",
                    template: n(1862),
                    controller: ["$scope", function (e) {
                        e.cancel = function () {
                            e.$dismiss()
                        }, e.confirm = function () {
                            if (e.hideHeadTip) {
                                var n = t.getItem("setHeadAction");
                                n = n ? n.split(",") : [], n.push(i.getCurrentUser().id), t.setItem("setHeadAction", n.join(","))
                            }
                            e.$close()
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService", "storageService", "userService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">头像</h4></div><div class="dialog-content" style="padding:20px"><p style="line-height: 30px">可轻松显示浏览者或分享者的微信昵称和头像（属性栏中选择）。仅在微信中浏览时有效，非微信环境浏览时，将显示默认文字和图片（双击设置默认内容）</p></div><div style="padding: 20px; text-align: right"><input type="checkbox" style="margin-top:0;margin-right:5px" ng-model="hideHeadTip"><span style="margin-right:10px">不再提示</span> <a type="button" class="btn btn-primary" ng-click="confirm();">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "wxHeaderFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxHeaderModal", function (e, t, n, i, o, r, a, s) {
                "ngInject";
                e.createComp = function () {
                    var e = n.getTextDefaultJson(), o = n.getImgDefaultJson(), r = i.getCurrentPage(),
                        a = r.initEqxCompByJson(e), s = r.initEqxCompByJson(o);
                    a && s && (a.compJson.properties.id = s.compJson.id, s.compJson.properties.id = a.compJson.id, r.renderEqxComp(a), r.renderEqxComp(s), t.$broadcast("wsComp.add", a, s))
                }, e.editWxHeaderImage = function (e) {
                    var t = e.compJson;
                    "401" == t.type && o.editWechatImg(t)
                }
            }],
            link: function (e, t) {
                t.on("click.wxHeader", function () {
                    e.$apply(function () {
                        return e.createComp()
                    })
                }), e.$on("wsComp.edit", function (t, n) {
                    e.editWxHeaderImage(n)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.wxImg", []).factory("wxImgFactory", n(1865)).factory("wxImgModal", n(1866)).directive("eqxWxImg", n(1868));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            return {
                content: "",
                css: {top: $(".workspace").scrollTop() + 123 + "px", left: "92px", width: "135px", height: "240px"},
                properties: {
                    width: "135px",
                    height: "240px",
                    src: n,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                type: "403"
            }
        }

        var n = e.core.comp.EqxWxUploadImage.getDefaultImg();
        return {getImgDefaultJson: t}
    }

    n.$inject = ["EqxCore"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";
        return {
            openPrompt: function () {
                return e.open({
                    windowClass: "login-container six-contain",
                    template: n(1867),
                    controller: ["$scope", function (e) {
                        e.cancel = function () {
                            e.$dismiss()
                        }, e.confirm = function () {
                            if (e.hideImgTip) {
                                var n = t.getItem("setImgAction");
                                n = n ? n.split(",") : [], n.push(i.getCurrentUser().id), t.setItem("setImgAction", n.join(","))
                            }
                            e.$close()
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService", "storageService", "userService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">照片</h4></div><div class="dialog-content" style="padding:20px"><p style="line-height: 30px">在微信中浏览时，轻触图片即可更换图片，更换后再分享，朋友就能看到您的美图。赶快试一试，同一场景，不同人分享，图片内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的图片可在微信中保留三天，三天将会显示您的默认图片；非微信环境浏览时，将显示默认图片（双击设置默认内容）。</p></div><div style="padding: 20px; text-align: right"><input type="checkbox" style="margin-top:0;margin-right:5px" ng-model="hideImgTip"><span style="margin-right:10px">不再提示</span> <a type="button" class="btn btn-primary" ng-click="confirm();">确定</a></div>';
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "wxImgFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxImgModal", function (e, t, n, i, o, r, a, s) {
                "ngInject";
                e.createComp = function () {
                    var e = n.getImgDefaultJson(), o = i.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }, e.editWxImage = function (e) {
                    var t = e.compJson;
                    "403" == t.type && o.editWechatImg(t)
                }
            }],
            link: function (e, t) {
                t.on("click.wxImg", function () {
                    e.$apply(function () {
                        return e.createComp()
                    })
                }), e.$on("wsComp.edit", function (t, n) {
                    e.editWxImage(n)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.wxSound", []).factory("wxSoundFactory", n(1870)).factory("wxSoundModal", n(1871)).directive("eqxWxSound", n(1873));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            return {
                id: "wxp" + i,
                properties: {
                    title: "播放录音",
                    src: o,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                css: {
                    top: $(".workspace").scrollTop() + 223 + "px",
                    left: "70px",
                    width: "180px",
                    height: "40px",
                    lineHeight: "40px",
                    borderRadius: 5,
                    borderBottomRightRadius: 5,
                    borderBottomLeftRadius: 5,
                    borderTopRightRadius: 5,
                    borderTopLeftRadius: 5,
                    backgroundColor: "rgba(255,255,255,1)",
                    borderColor: "rgba(0,0,0,1)",
                    borderWidth: 1,
                    borderStyle: "solid"
                },
                type: "w01"
            }
        }

        function n() {
            return {
                id: "wxr" + i,
                properties: {
                    title: "按住 说话",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 1, interval: 0}]
                },
                css: {
                    top: $(".workspace").scrollTop() + 283 + "px",
                    left: "70px",
                    width: "180px",
                    height: "40px",
                    lineHeight: "40px",
                    borderRadius: 5,
                    borderBottomRightRadius: 5,
                    borderBottomLeftRadius: 5,
                    borderTopRightRadius: 5,
                    borderTopLeftRadius: 5,
                    backgroundColor: "rgba(255,255,255,1)",
                    borderColor: "rgba(0,0,0,1)",
                    borderWidth: 1,
                    borderStyle: "solid"
                },
                type: "w02"
            }
        }

        var i = e.randomId(), o = e.core.comp.EqxWxSoundPlay.getDefaultSound();
        return {getPlayDefaultJson: t, getRecordDefaultJson: n}
    }

    n.$inject = ["EqxCore"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t, i) {
        "ngInject";
        return {
            openPrompt: function () {
                return e.open({
                    windowClass: "login-container six-contain",
                    template: n(1872),
                    controller: ["$scope", function (e) {
                        e.cancel = function () {
                            e.$dismiss()
                        }, e.confirm = function () {
                            if (e.hideSoundTip) {
                                var n = t.getItem("setSoundAction");
                                n = n ? n.split(",") : [], n.push(i.getCurrentUser().id), t.setItem("setSoundAction", n.join(","))
                            }
                            e.$close()
                        }
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService", "storageService", "userService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">声音</h4></div><div class="dialog-content" style="padding:20px"><p style="line-height: 30px">在微信中浏览时，点击组件可听声音。长按“按住说话”即可录制声音，更换后再分享，朋友就能听到您的声音。赶快试一试，同一场景，不同人分享，声音内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的声音可在微信中保留三天，三天将会播放默认声音；非微信环境浏览时，将播放默认声音。</p></div><div style="padding: 20px; text-align: right"><input type="checkbox" style="margin-top:0;margin-right:5px" ng-model="hideSoundTip"><span style="margin-right:10px">不再提示</span> <a type="button" class="btn btn-primary" ng-click="confirm();">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "wxSoundFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createComp = function () {
                    var e = n.getPlayDefaultJson(), o = n.getRecordDefaultJson(), r = i.getCurrentPage(),
                        a = r.initEqxCompByJson(e), s = r.initEqxCompByJson(o);
                    a && s && (r.renderEqxComp(a), r.renderEqxComp(s), t.$broadcast("wsComp.add", a, s))
                }
            }],
            link: function (e, t) {
                t.on("click.wxHeader", function () {
                    e.$apply(function () {
                        return e.createComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.weChatCard", []).directive("eqxWeChatCard", n(1875)).factory("weChatCardFactory", n(1876));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "modalService", "HOST", "userService", "weChatCardFactory", function (e, t, n, i, o, r, a) {
                "ngInject";
                e.createCardComp = function () {
                    var e = a.getDefaultJson(), i = n.getCurrentPage(), o = i.initEqxCompByJson(e);
                    o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                }
            }],
            link: function (e, t) {
                t.on("click.card", function () {
                    e.$apply(function () {
                        return e.createCardComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "",
                css: {
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    top: $(".workspace").scrollTop() + 223 + "px",
                    left: "60px",
                    fontSize: 14,
                    textAlign: "center",
                    borderRadius: 3,
                    borderBottomRightRadius: 3,
                    borderBottomLeftRadius: 3,
                    borderTopRightRadius: 3,
                    borderTopLeftRadius: 3,
                    width: "200px",
                    height: "40px"
                },
                properties: {title: "优惠券", styleImgSrc: "", cardId: "", initType: 1},
                title: null,
                type: "17"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o(i) {
            e.getImage().then(function (e) {
                var o = JSON.parse(JSON.stringify(i)), r = o.properties, a = e.src || e.path;
                Object.assign(r, {src: a});
                var s = t.getCurrentPage(), c = s.updateEqxComp(i.id, o);
                c && (s.renderEqxComp(c), n.$broadcast("wsComp.add", c))
            })
        }

        return {editWechatImg: o}
    }

    n.$inject = ["imageModalFactory", "sceneService", "$rootScope", "authorityService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    n(1879), e.exports = angular.module("comp.random", []).factory("randomFactory", n(1880)).directive("eqxRandom", n(1883)).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";

        function t() {
            return {
                content: "",
                css: {width: "100px", height: "100px", left: "110px", top: $(".workspace").scrollTop() + 193 + "px"},
                properties: {
                    pics: [],
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "n"
            }
        }

        function i(t) {
            return e.open({
                windowClass: "console six-contain randomevent-console",
                template: n(1881),
                controller: n(1882),
                resolve: {
                    randomEventJson: function () {
                        return t
                    }
                }
            })
        }

        return {getRandomDefaultJson: t, openRandomModal: i}
    }

    i.$inject = ["modalService"], e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">随机事件 <span ng-show="!authError" class="action">可以从素材库中添加图片</span> <span ng-show="authError" class="action">{{authError}}</span></h4></div><div class="dialog-contain"><div class="dialog-content"><ul><li ng-click="addImage()" ng-hide="picList.length >= 10"><a href="">添加</a></li><li ng-repeat="pic in picList track by (pic.id + \'$\' + $index)" eqx-loading-image="{{pic.path}}"><div class="img-set"><div class="delete-img hint--top hint--rounded" data-hint="删除图片" ng-click="delImage(pic)"><span class="eqf-no-f"></span></div><div class="abbre hint--bottom hint--rounded" data-hint="更换图片" ng-click="replaceImage(pic)"><span class="eqf-image-l"></span></div></div></li></ul></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";
        e.HOST = i, e.picList = n.properties.pics, e.addImage = function () {
            return e.picList.length >= 10 ? void(e.authError = "最多可选择10张图片") : void t.getImages({max: 10}).then(function (t) {
                t.forEach(function (t) {
                    e.picList.push(t)
                })
            })
        }, e.delImage = function (t) {
            e.picList.splice(e.picList.indexOf(t), 1)
        }, e.replaceImage = function (n) {
            t.getImage().then(function (t) {
                e.picList.splice(e.picList.indexOf(n), 1, t)
            })
        }, e.confirm = function () {
            e.$close(n)
        }, e.cancel = function () {
            e.$dismiss()
        }
    }

    n.$inject = ["$scope", "imageModalFactory", "randomEventJson", "HOST", "authorityService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "E",
            scope: {addElement: "&addElement"},
            controller: ["$scope", "$rootScope", "randomFactory", "sceneService", function (e, t, n, i) {
                "ngInject";
                e.createComp = function () {
                    var o = n.getRandomDefaultJson();
                    return n.openRandomModal(o).then(function (n) {
                        var o = i.getCurrentPage(), r = o.initEqxCompByJson(n);
                        r && (o.renderEqxComp(r), e.addElement({eqxRandomEvent: r}), t.$broadcast("wsComp.add", r))
                    })
                }, e.editComp = function (e) {
                    if ("n" == e.compJson.type) return n.openRandomModal(e.compJson).then(function (e) {
                        var n = i.getCurrentPage(), o = n.updateEqxComp(e.id, e);
                        o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                    })
                }
            }],
            link: function (e, t) {
                t.on("click.random", function () {
                    e.$apply(function () {
                        return e.createComp()
                    })
                }), e.$on("wsComp.edit", function (t, n) {
                    e.editComp(n)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.vote", [n(1885), n(1889)]).factory("voteFactory", n(1895)).factory("voteModalFactory", n(1896)).directive("eqxVote", n(1900));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.textVote", []).directive("textVoteTpl", n(1886));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A", template: n(1888), scope: {vote: "=textVoteTpl"}, controller: ["$scope", function (e) {
                "ngInject";
                e.getTitleType = function () {
                    return "single" == e.vote.properties.selectType ? "单选" : "多选"
                }
            }]
        }
    }

    n(1887), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="input-preview vote-preview"><div class="preview-title vote-preview-title"><span class="title-bind-content">{{vote.properties.title}} </span><span class="title-constant-content">({{getTitleType()}})</span></div><div class="preview-options vote-preview-options"><div class="preview-option vote-preview-option" ng-repeat="child in vote.properties.children"><span>{{child.label}}</span></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.imgVote", []).directive("imgVoteTpl", n(1890));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A",
            template: n(1894),
            scope: {vote: "=imgVoteTpl", currentIndex: "=currentIndex"},
            controller: ["$scope", "HOST", function (e, t) {
                "ngInject";
                e.FILE = t.FILE, e.getTitleType = function () {
                    return "single" == e.vote.properties.selectType ? "单选" : "多选"
                }, e.getImgSrc = function () {
                    var t = e.vote.properties.children[e.currentIndex].src;
                    if (t) return {
                        "background-image": "url(" + e.FILE + t + ")",
                        "background-size": "contain",
                        "background-repeat": "no-repeat",
                        "background-position": "50%"
                    }
                }
            }]
        }
    }

    n(1891), e.exports = i
}, function (e, t) {
}, , , function (e, t) {
    e.exports = '<div class="input-preview vote-preview vote-img-preview"><div class="preview-title vote-preview-title"><span class="title-bind-content">{{vote.properties.title}} </span><span class="title-constant-content">({{getTitleType()}})</span></div><div class="img-preview-content"><div class="vote-img-picture" ng-style="getImgSrc()"><span class="voto-img-unselect-logo"></span></div><div class="vote-img-title"><span>{{vote.properties.children[currentIndex].desc}}</span></div><div class="vote-img-process"><ul class="vote-img-list"><li class="vote-img-item" ng-repeat="child in vote.properties.children" ng-class="{active: currentIndex == $index}"></li></ul></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
}, function (e, t) {
    "use strict";

    function n(e) {
        "ngInject";

        function t() {
            var e = {
                content: "",
                css: {
                    width: "300px",
                    left: "10px",
                    top: $(".workspace").scrollTop() + 163 + "px",
                    height: "160px",
                    color: "#676767",
                    backgroundColor: "#ffffff"
                },
                id: null,
                pageId: null,
                properties: {
                    children: [{id: n(), label: "选项1"}, {id: n(), label: "选项2"}, {id: n(), label: "选项3"}],
                    selectType: "single",
                    title: "请投票",
                    endTime: "",
                    selectCount: 1,
                    buttonColor: "#59c7f9",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                sceneId: null,
                type: "k"
            }, t = {
                content: "",
                css: {
                    width: "300px",
                    height: "430px",
                    left: "10px",
                    top: $(".workspace").scrollTop() + 28 + "px",
                    color: "#676767",
                    backgroundColor: "#ffffff"
                },
                id: null,
                pageId: null,
                properties: {
                    autoPlay: !0,
                    bgColor: "rgba(255,255,255,0)",
                    children: [{desc: "选项1", id: n(), src: ""}, {desc: "选项2", id: n(), src: ""}, {
                        desc: "选项3",
                        id: n(),
                        src: ""
                    }],
                    selectType: "single",
                    title: "请投票",
                    endTime: "",
                    selectCount: 1,
                    buttonColor: "#59c7f9",
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 1, interval: 0}]
                },
                sceneId: null,
                type: "j"
            };
            return {j: t, k: e}
        }

        var n = e.randomId;
        return {getDefaultJson: t}
    }

    n.$inject = ["EqxCore"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                var n = "";
                return e.open({
                    windowClass: "console seven-contain " + n,
                    template: r,
                    controller: o,
                    resolve: {
                        obj: function () {
                            return t
                        }
                    }
                })
            }
        }
    }

    i.$inject = ["modalService"], n(1897);
    var o = n(1898), r = n(1899);
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, r, a) {
        "ngInject";
        e.FILE = i.FILE;
        var s = r.randomId, c = JSON.parse(JSON.stringify(t.votesJson)),
            l = e.vm = {voteType: t.type, setting: !1, currentIndex: 0, endTime: c[t.type].properties.endTime || ""},
            p = e.vote = c[l.voteType], u = e.timeConfig = {
                enableClear: !0,
                startDate: l.endTime,
                startDateDefault: o.endTimeOfToday(),
                drops: "up"
            };
        e.addChild = function () {
            var t = p.properties.children.length, n = "k" === p.type ? 6 : 8;
            return t >= n ? void(e.authError = "您最多可添加" + n + "个选项, 每个选项最多40个字符") : void("k" === l.voteType ? p.properties.children.push({
                id: s(),
                label: "选项" + (t + 1)
            }) : p.properties.children.push({id: s(), src: "", desc: "选项" + (t + 1), width: 246, height: 286}))
        }, e.selectType = function (t) {
            p.properties.selectType = t, "multi" === t ? e.vote.properties.selectCount = 2 : e.vote.properties.selectCount = 1
        }, e.deleteChild = function (e) {
            p.properties.children.splice(e, 1), "multi" === p.properties.selectType && p.properties.selectCount > p.properties.children.length && (p.properties.selectCount = p.properties.children.length)
        }, e.showHideSetting = function () {
            l.setting = !l.setting, l.setting && p.properties.endTime && (u.startDate = l.endTime)
        }, e.selectBlur = function () {
            p.properties.selectCount || (p.properties.selectCount = 2)
        }, e.chooseTextImg = function (t) {
            c[t] && (l.voteType = t, p = e.vote = c[t])
        }, e.imgEdit = function (t) {
            var i = {tab: 2, storageKey: ""};
            n.getImage(i).then(function (n) {
                t.src = n.path, l.currentIndex = e.vote.properties.children.indexOf(t)
            })
        }, e.getImgSrc = function (t) {
            if (t) return {
                "background-image": "url(" + e.FILE + t + ")",
                "background-size": "contain",
                "background-repeat": "no-repeat",
                "background-position": "50%"
            }
        }, e.setCurrentIndex = function (e) {
            l.currentIndex = e
        }, e.cancel = function () {
            e.$dismiss()
        }, e.confirm = function () {
            if (!p.properties.title) return void(e.authError = "请填写标题");
            var t = p.properties.children.findIndex(function (e, t) {
                return "k" === l.voteType ? !e.label : !e.desc || !e.src
            });
            return t > -1 ? void(e.authError = "第" + (t + 1) + "选项内容或图片不能为空") : (l.endTime ? p.properties.endTime = new Date(l.endTime).getTime() : p.properties.endTime = "", "k" === p.type && delete p.css.height, void e.$close(p))
        }
    }

    i.$inject = ["$scope", "obj", "imageModalFactory", "HOST", "EqxCore", "authorityService"];
    var o = n(934);
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span>×</span></button><h4 class="modal-title">投票 <span ng-show="authError" class="modal-error">{{authError}}</span></h4></div><div class="dialog-contain"><div class="form_console dialog-content input-content"><div text-vote-tpl="vote" ng-if="vm.voteType === \'k\'"></div><div img-vote-tpl="vote" current-index="vm.currentIndex" ng-if="vm.voteType === \'j\'"></div><div class="modify_area input-design vote-design"><div class="input-title" style="margin-bottom: 10px"><div><span class="title">标题</span></div><input type="text" class="form-control vote-form-control" ng-model="vote.properties.title" placeholder="请输入标题" id="radioTitle" check-count="40" autofocus></div><div class="vote-input-options"><div class=""><span class="option">选项</span> <span class="option-tip">（您可以添加{{vm.voteType === \'k\'? \'六\' : \'八\'}}个选项，每个选项最多请不要超过40字符）</span></div><div class="vote-input-option"><span class="vote-text-btn vote-type-btn" ng-click="chooseTextImg(\'k\')" ng-class="{\'vote-type\': vm.voteType === \'k\'}">文字投票</span> <span class="vote-img-btn vote-type-btn" ng-click="chooseTextImg(\'j\')" ng-class="{\'vote-type\': vm.voteType === \'j\'}">图片投票</span></div><div id="optionGroupContainer" class="vote-option-group-container" style="position:relative"><div eqd-scroll style="height: 100%;max-height: 180px;margin-bottom: 10px"><div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'k\'"><input type="text" class="form-control vote-form-control" ng-model="child.label" maxlength="40"><span class="eqf-no" ng-click="deleteChild($index)" ng-if="vote.properties.children.length > 2"></span></div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'j\'"><div ng-style="getImgSrc(child.src)" class="vote-img-cover" ng-click="imgEdit(child)"></div><input type="text" class="form-control vote-form-control" ng-model="child.desc" maxlength="40" style="width: 314px;display: inline-block" ng-focus="setCurrentIndex($index)"><span class="eqf-no" ng-click="deleteChild($index)" ng-if="vote.properties.children.length > 2"></span></div></div></div><div ng-click="addChild()" class="vote-add-btn">添加选项</div></div></div><div class="vote-advanced-setting"><div ng-click="showHideSetting()" class="vote-advanced-setting-title">高级设置 <span ng-class="{\'eqf-down\' : vm.setting, \'eqf-up\' : !vm.setting}"></span></div><div ng-show="vm.setting" class="vote-advanced-setting-content"><div class="vote-advanced-setting-type"><span class="vote-advanced-setting-select">选择</span><label class="radio-label" style="margin-right: 50px">单选<div class="radio-square" ng-class="{checked: vote.properties.selectType === \'single\'}" ng-click="selectType(\'single\')"><em></em> <input type="radio"></div></label><label class="radio-label">多选<div class="radio-square" ng-class="{checked: vote.properties.selectType === \'multi\'}" ng-click="selectType(\'multi\')"><em></em> <input type="radio"></div></label></div><div class="vote-most-count" ng-if="vote.properties.selectType === \'multi\'"><span>最多可选</span> <input type="number" onkeypress="return!1" min="2" max="{{vote.properties.children.length}}" ng-model="vote.properties.selectCount" ng-blur="selectBlur()" class="vote-most-count-input"/>项</div><div class="vote-advanced-setting-time form-input" id="daterange" style="position: relative"><span>结束时间</span> <input type="text" placeholder="设置结束时间" ng-model="vm.endTime" class="vote-time daterange" date-picker="timeConfig" name="daterange" ng-readonly="true"/></div></div></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn eqc-btn-success" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            controller: ["$scope", "$rootScope", "voteFactory", "voteModalFactory", "sceneService", "authorityService", function (e, t, n, i, o, r) {
                "ngInject";
                e.createVoteComp = function (e) {
                    var i = o.getCurrentPage(), r = e || n.getDefaultJson().j, a = i.initEqxCompByJson(r);
                    a && (i.renderEqxComp(a), t.$broadcast("wsComp.add", a))
                }
            }],
            link: function (e, t) {
                t.on("click.vote", function () {
                    e.$apply(function () {
                        return e.createVoteComp()
                    })
                }), e.$on("add.vote", function (t, n) {
                    e.createVoteComp(n)
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.text.new", []).factory("newTextFactory", n(1902)).directive("eqxNewText", n(1903));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "",
                css: {
                    top: $(".workspace").scrollTop() + 227 + "px",
                    left: "0px",
                    width: "320px",
                    height: "31px",
                    writingMode: "horizontal-tb",
                    textAlign: "center",
                    lineHeight: 1.5,
                    fontSize: 14
                },
                properties: {
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "7"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$compile", "sceneService", "$rootScope", "newTextFactory", "selectService", function (e, t, n, i, o, r) {
                "ngInject";

                function a(e) {
                    return e = e.replace(/<div><br><\/div>/g, "b5f937804bbe1ca271055c3ed5af47803c6fc327"), e = e.replace(/<div>|<br>/g, "b5f937804bbe1ca271055c3ed5af47803c6fc327"), e = e.replace(/<\/div>/g, ""), e = $("<div>" + e + "</div>").text(), e = e.replace(/b5f937804bbe1ca271055c3ed5af47803c6fc327/g, "<br>"), e = e.replace(/&nbsp;/g, " ")
                }

                e.createTextComp = function () {
                    var e = o.getDefaultJson(), t = n.getCurrentPage(), r = t.initEqxCompByJson(e);
                    r && (t.renderEqxComp(r), i.$broadcast("wsComp.add", r))
                }, e.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.filter(function (e) {
                        return !e.isGroupItem()
                    }).filter(function (e) {
                        return "7" === e.compJson.type.toString()
                    }).forEach(function (e) {
                        var t = e.$context;
                        t.children().blur(), t.attr("cType", e.type), t.unbind("mousedown contextmenu dblclick keydown", function (e) {
                            e.stopPropagation()
                        })
                    })
                }), e.$on("wsComp.edit", function (e, t) {
                    if ("7" === t.type.toString()) {
                        i.$broadcast("closeCompSetting", t);
                        var n = t.$context, o = n.children(), s = !1;
                        if (o[0].setAttribute("contenteditable", "true"), o.css("outline", "none"), o.focus().on("keydown", function (e) {
                            var t = e.ctrlKey || e.metaKey;
                            t && 86 === e.keyCode && (s = !0)
                        }).on("keyup", function () {
                            t.update$li({height: o.height() + 10}), t.autoSizeTopDown(), t.compJson.content = a(o.html()), s && (t.updateContent(t.compJson.content), s = !1, c.modify("move", "right", "documentboundary"))
                        }).one("blur", function () {
                            o.off("keydown keyup"), o.removeAttr("contenteditable"), r.remove(t), o.text() || o.html("请输入文本")
                        }), window.getSelection) {
                            var c = window.getSelection();
                            c.modify("move", "left", "documentboundary"), c.modify("extend", "right", "documentboundary")
                        }
                        n.removeAttr("cType"), n.bind("mousedown contextmenu dblclick keydown", function (e) {
                            e.stopPropagation()
                        })
                    }
                })
            }],
            link: function (e, t) {
                t.on("click.text", function () {
                    e.$apply(function () {
                        return e.createTextComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.text.hot.new", []).directive("eqxHotNewText", n(1905));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A", scope: {}, controller: ["$scope", "sceneService", "$rootScope", function (e, t, i) {
                "ngInject";
                e.createTextComp = function () {
                    var e = n(1906), o = t.getCurrentPage(), r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), i.$broadcast("wsComp.add", r))
                }, e.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.filter(function (e) {
                        return "7" === e.compJson.type.toString()
                    }).forEach(function (e) {
                        var t = e.$context;
                        t.children().blur(), t.attr("cType", e.type), t.unbind("mousedown contextmenu dblclick keydown", function (e) {
                            e.stopPropagation()
                        })
                    })
                }), e.$on("wsComp.edit", function (e, t) {
                    if ("7" === t.type.toString() && document.activeElement === document.body) {
                        i.$broadcast("closeCompSetting", t);
                        var n = t.$context, o = n.children();
                        if (o[0].setAttribute("contenteditable", "true"), o.focus().on("keydown", function (e) {
                            13 === e.keyCode && (e.preventDefault(), r.toString() && r.deleteFromDocument(), document.execCommand("insertHTML", !1, "<br>"))
                        }).on("keyup", function () {
                            t.compJson.content = o.text() ? o.html().toString().replace(/&nbsp;/g, " ") : "", t.autoAdjustSize()
                        }).on("blur", function () {
                            o.off("keydown keyup"), o.removeAttr("contenteditable"), o.text() || o.html("请输入文本")
                        }), window.getSelection) {
                            var r = window.getSelection();
                            r.modify("move", "left", "documentboundary"), r.modify("extend", "right", "documentboundary")
                        }
                        n.removeAttr("cType"), n.bind("mousedown contextmenu dblclick keydown", function (e) {
                            e.stopPropagation()
                        })
                    }
                })
            }], link: function (e, t) {
                t.on("click.text", function () {
                    e.$apply(function () {
                        return e.createTextComp()
                    })
                })
            }
        }
    }

    e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = {
        content: "",
        css: {
            top: $(".workspace").scrollTop() + 227 + "px",
            left: "0px",
            width: "320px",
            height: "31px",
            writingMode: "horizontal-tb",
            textAlign: "center",
            lineHeight: 1.5,
            fontSize: 14
        },
        properties: {initType: 1},
        title: null,
        type: "1"
    }
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.drawingBoard", []).factory("drawingBoardFactory", n(1908)).directive("eqxDrawingBoard", n(1909));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                src: "",
                css: {
                    left: "50px",
                    top: $(".workspace").scrollTop() + 83 + "px",
                    height: "320px",
                    width: "220px",
                    borderWidth: "1px",
                    borderStyle: "solid",
                    borderColor: "#ccd5db"
                },
                num: 1,
                trigger: {},
                properties: {
                    imgSrc: "",
                    boardColor: "#fff",
                    penColor: "#000",
                    penSize: 4,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "u"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "drawingBoardFactory", function (e, t, n, i) {
                "ngInject";
                e.createDrawingBoardComp = function () {
                    var e = n.getCurrentPage(), o = e.initEqxCompByJson(i.getDefaultJson());
                    o && (e.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                }
            }],
            link: function (e, t) {
                t.on("click.drawingBoard", function () {
                    e.$apply(function () {
                        return e.createDrawingBoardComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.randomContent", []).factory("randomContentFactory", n(1911)).directive("eqxRandomContent", n(1912)).name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                css: {
                    top: $(".workspace").scrollTop() + 226 + "px",
                    left: "0px",
                    width: "320px",
                    height: "34px",
                    writingMode: "horizontal-tb",
                    textAlign: "center",
                    lineHeight: 1.5,
                    fontSize: 14
                },
                properties: {
                    contentType: "t",
                    texts: ["请输入文本"],
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "10"
            }
        }

        function t() {
            return {
                css: {
                    top: $(".workspace").scrollTop() + 185 + "px",
                    left: "102px",
                    width: "115px",
                    height: "115px"
                },
                properties: {
                    contentType: "i",
                    imgs: [{
                        cropSize: {h: 160, w: 160, x: 0, y: 0},
                        width: 160,
                        height: 160,
                        originSrc: "o_1bjmjn3qm15qr1m9m14e6ubdkpd.jpg",
                        src: "o_1bjmjn3qm15qr1m9m14e6ubdkpd.jpg?imageMogr2/auto-orient|imageMogr2/auto-orient/crop/!160x160a0a0"
                    }]
                },
                title: null,
                type: "10"
            }
        }

        return {getDefaultJson: e, getImgJson: t}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "randomContentFactory", "sceneService", "authorityService", "modalService", "$window", "HOST", function (e, t, n, i, o, r, a, s) {
                "ngInject";
                e.createComp = function () {
                    if (o.permission("compRandom")) r.openConfirmDialog({
                        msg: "升级至‘企业标准版’即可使用此功能",
                        confirmName: "确定升级",
                        cancelName: "我再想想"
                    }).then(function () {
                        a.open(s.HOST + "pay/buyGoods/member/standard?cl=sjzj")
                    }); else {
                        var e = n.getDefaultJson(), c = i.getCurrentPage(), l = c.initEqxCompByJson(e);
                        l && (c.renderEqxComp(l), t.$broadcast("wsComp.add", l))
                    }
                }, e.$on("selectService.remove", function (e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                    n.filter(function (e) {
                        return !e.isGroupItem()
                    }).filter(function (e) {
                        return "10" === e.compJson.type.toString()
                    }).forEach(function (e) {
                        if ("t" === e.compJson.properties.contentType) {
                            var t = e.$context;
                            t.children().blur(), t.attr("cType", e.type), t.unbind("mousedown contextmenu dblclick keydown", function (e) {
                                e.stopPropagation()
                            })
                        }
                    })
                }), e.$on("wsComp.edit", function (e, n) {
                    if ("10" === n.type.toString() && "t" === n.compJson.properties.contentType && document.activeElement === document.body) {
                        t.$broadcast("closeCompSetting", n);
                        var i = n.$context, o = i.children();
                        if (o[0].setAttribute("contenteditable", "true"), o.focus().on("keydown", function (e) {
                            13 === e.keyCode && (e.preventDefault(), r.toString() && r.deleteFromDocument(), document.execCommand("insertHTML", !1, "<br>"))
                        }).on("keyup", function () {
                            n.compJson.content = o.text() ? o.html() : "", n.autoAdjustSize()
                        }).on("blur", function () {
                            o.off("keydown keyup"), o.removeAttr("contenteditable"), o.text() || o.html("请输入文本")
                        }), window.getSelection) {
                            var r = window.getSelection();
                            r.modify("move", "left", "documentboundary"), r.modify("extend", "right", "documentboundary")
                        }
                        i.removeAttr("cType"), i.bind("mousedown contextmenu dblclick keydown", function (e) {
                            e.stopPropagation()
                        })
                    }
                })
            }],
            link: function (e, t) {
                t.on("click.randomContent", e.createComp)
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.redPacket", []).directive("eqxRedPacket", n(1914)).factory("redPacketFactory", n(1915));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            link: function (e, t) {
                t.on("click.link", function () {
                    e.$apply(function () {
                        return e.createRedPacketComp()
                    })
                })
            },
            controller: ["$scope", "$q", "authorityService", "redPacketFactory", "sceneService", "$rootScope", "modalService", "HOST", "userService", "$window", function (e, t, n, i, o, r, a, s, c, l) {
                "ngInject";

                function p() {
                    if (n.permission("compRedPacket")) a.openConfirmDialog({
                        msg: "升级至‘企业标准版’即可使用此功能",
                        confirmName: "确定升级",
                        cancelName: "我再想想"
                    }).then(function () {
                        l.open(s.HOST + "pay/buyGoods/member/standard?cl=whb")
                    }); else {
                        var e = o.getCurrentPage(), t = e.initStatManager();
                        if (t.hasRedPacketComp()) return a.openMsgDialog({msg: "当前页面的红包组件已经存在，请不要重复添加。"});
                        c.isBindWeiXinPublicId().then(function () {
                            var t = JSON.parse(JSON.stringify(i.getDefaultJson())), n = e.initEqxCompByJson(t);
                            n && (e.renderEqxComp(n), r.$broadcast("wsComp.add", n))
                        }, function () {
                            a.openConfirmDialog({
                                msg: "当前账号尚未绑定微信公众号，当前组件不可用，请先去用户中心下去绑定公众号后使用该组件，是否去绑定？",
                                confirmName: "去绑定",
                                cancelName: "暂不绑定"
                            }).then(function () {
                                window.open(s.EQX + "site/usercenter/account")
                            })
                        })
                    }
                }

                e.createRedPacketComp = p
            }]
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                color: "#ffca28",
                lineHeight: 3,
                top: "60px",
                left: $(".workspace").scrollTop() + 223 + "px",
                fontSize: 14,
                textAlign: "center",
                backgroundColor: "#ff5448",
                borderRadius: 20,
                borderBottomRightRadius: 20,
                borderBottomLeftRadius: 20,
                borderTopRightRadius: 20,
                borderTopLeftRadius: 20,
                width: "200px",
                height: "40px"
            };
            return {
                css: e,
                properties: {
                    title: "马上抢红包",
                    activity: "抢红包活动",
                    amount: 499,
                    begin: null,
                    end: null,
                    count: 100,
                    chance: .2,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "9"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.reward", []).factory("rewardJsonFactory", n(1917)).directive("eqxReward", n(1918));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "",
                css: {
                    backgroundColor: "rgb(244, 113, 31)",
                    color: "rgb(255, 255, 255)",
                    lineHeight: 3,
                    top: $(".workspace").scrollTop() + 223 + "px",
                    left: "60px",
                    fontSize: 14,
                    textAlign: "center",
                    borderRadius: 3,
                    borderBottomRightRadius: 3,
                    borderBottomLeftRadius: 3,
                    borderTopRightRadius: 3,
                    borderTopLeftRadius: 3,
                    width: "200px",
                    height: "40px"
                },
                properties: {
                    title: "打赏",
                    amount: 2,
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "11"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "sceneService", "modalService", "HOST", "userService", "rewardJsonFactory", "authorityService", "$window", function (e, t, n, i, o, r, a, s, c) {
                "ngInject";
                e.createRewardComp = function () {
                    s.permission("compReward") ? i.openConfirmDialog({
                        msg: "升级至‘企业标准版’即可使用此功能",
                        confirmName: "确定升级",
                        cancelName: "我再想想"
                    }).then(function () {
                        c.open(o.HOST + "pay/buyGoods/member/standard?cl=wds")
                    }) : r.isBindWeiXinPublicId().then(function () {
                        var e = a.getDefaultJson(), i = n.getCurrentPage(), o = i.initEqxCompByJson(e);
                        o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
                    }, function () {
                        i.openConfirmDialog({
                            msg: "当前账号尚未绑定微信公众号，当前组件不可用，请先去用户中心下去绑定公众号后使用该组件，是否去绑定？",
                            confirmName: "去绑定",
                            cancelName: "暂不绑定"
                        }).then(function () {
                            c.open(o.EQX + "site/usercenter/account")
                        })
                    })
                }
            }],
            link: function (e, t) {
                t.on("click.reward", function () {
                    e.$apply(function () {
                        return e.createRewardComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.date", []).factory("dateJsonFactory", n(1920)).directive("eqxDate", n(1921));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            return {
                content: "yyyy/mm/dd DDDD",
                css: {
                    top: $(".workspace").scrollTop() + 227 + "px",
                    left: "0px",
                    width: "320px",
                    height: "31px",
                    writingMode: "horizontal-tb",
                    textAlign: "center",
                    lineHeight: 1.5,
                    fontSize: 14
                },
                properties: {
                    initType: 1,
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "14"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {content: "="},
            controller: ["$scope", "sceneService", "$rootScope", "dateJsonFactory", function (e, t, n, i) {
                "ngInject";
                e.createTextComp = function () {
                    var o = i.getDefaultJson();
                    o.content = e.content;
                    var r = t.getCurrentPage(), a = r.initEqxCompByJson(o);
                    a && (r.renderEqxComp(a), n.$broadcast("wsComp.add", a))
                }
            }],
            link: function (e, t) {
                t.on("click.text", function () {
                    e.$apply(function () {
                        return e.createTextComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.photoWall", []).factory("photoWallFactory", n(1923)).directive("eqxPhotoWall", n(1924));
    e.exports = i.name
}, function (e, t) {
    "use strict";

    function n() {
        function e() {
            var e = {
                width: "282px",
                height: "112px",
                top: $(".workspace").scrollTop() + 187 + "px",
                left: "19px",
                borderWidth: 1,
                borderStyle: "solid"
            };
            return {
                css: e,
                properties: {
                    title: "照片墙",
                    line: "3",
                    initType: 1,
                    ownerCss: {
                        borderWidth: 1,
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        boxShadow: "0px 0px 0px rgba(0,0,0,0.5)",
                        boxShadowDirection: 0,
                        boxShadowSize: 0
                    },
                    anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
                },
                title: null,
                type: "13"
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "$rootScope", "photoWallFactory", "sceneService", "authorityService", "storageService", function (e, t, n, i, o, r) {
                "ngInject";
                e.createPhotoWallComp = function () {
                    var e = JSON.parse(JSON.stringify(n.getDefaultJson())), o = i.getCurrentPage(),
                        r = o.initEqxCompByJson(e);
                    r && (o.renderEqxComp(r), t.$broadcast("wsComp.add", r))
                }
            }],
            link: function (e, t) {
                t.on("click.photoWall", function () {
                    e.$apply(function () {
                        return e.createPhotoWallComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("comp.pip.button", []).directive("eqxPipButton", n(1926)).name
}, function (e, t, n) {
    "use strict";
    var i = n(1927), o = n(1430), r = n(1431);
    e.exports = function () {
        return {
            restrict: "A",
            scope: {},
            controller: ["$scope", "sceneService", "$rootScope", "notifier", function (e, t, n, a) {
                "ngInject";
                e.createPipButton = function () {
                    var e = t.getCurrentPage(), s = e.pageJson, c = s.properties, l = s.elements;
                    if (c.oneShot && c.oneShot.isOpen) return void a.success("当前页面已经开启一镜到底功能，无法使用画中画");
                    if (c.pip && c.pip.used) return void a.success("当前页面已经开启画中画功能");
                    if (l.find(function (e) {
                        return "16" === e.type
                    })) return void a.success("当前页面已经开启画中画功能");
                    if (c.flash && c.flash.used) return void a.success("当前页面已经开启快闪功能，无法使用画中画");
                    var p = i, u = o, d = r, m = e.addEmptyEqxLayer(0);
                    e.switchCurrentLayer(m);
                    var f = e.initEqxCompByJson(Object.assign({}, p, {properties: {forward: u, back: d}}));
                    e.renderEqxComp(f), n.$broadcast("wsComp.add", f), e.openPipEditor(), a.success("当前页面开启画中画功能成功"), n.$broadcast("PipEditor.open")
                }
            }],
            link: function (e, t) {
                t.on("click.pip", function () {
                    e.$apply(function () {
                        e.createPipButton()
                    })
                })
            }
        }
    }
}, function (e, t) {
    "use strict";
    e.exports = {
        css: {width: "87px", height: "39px", top: "403px", left: "116"},
        properties: {
            style: 0,
            forward: "",
            back: "",
            anim: [{type: 0, count: 0, countNum: 1, delay: .2, duration: 2, interval: 0}]
        },
        title: null,
        type: "16"
    }
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.marketing", [n(1929), n(1932), n(1935)]).directive("eqxMarketing", n(1938)).directive("inputPositiveInteger", n(1939)).factory("marketingFactory", n(1940)).factory("marketingModalFactory", n(1941)).constant("marketingConst", n(1945));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.activityLottery", []).directive("activityLottery", n(1930));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A", template: n(1931), scope: {vm: "=activityLottery"}, link: function (e) {
                e.startTime = new Date(e.vm.baseInfo.startTime).getTime(), e.endTime = new Date(e.vm.baseInfo.endTime).getTime(), e.myPrize = e.vm.prizeOptions[0]
            }
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="mask-container"><ul class="header"><li class="explain"><a href="javascript:;">活动说明</a></li><li class="my-prize"><a href="javascript:;">我的奖品</a></li><div class="arrow" ng-class="{\'detail\': vm.showTab === \'detailsPage\', \'my-prize\': vm.showTab === \'myPrizePage\'}"></div></ul><a href="javascript:;" class="mask-close"></a><div class="activity-lottery"><div class="explain-container" ng-show="vm.showTab === \'detailsPage\'"><div class="activity-info"><div class="title">活动奖品</div><ul class="prize-list"><li ng-repeat="item in vm.prizeOptions">{{item.prizeName}} <span ng-show="item.prizeDetail">:</span> {{item.prizeDetail}}</li></ul></div><div class="activity-time"><div class="title">活动时间</div><p>{{startTime | date:\'yyyy年MM月dd日 hh:mm\'}} - {{endTime | date:\'yyyy年MM月dd日 hh:mm\'}}</p></div></div><div class="prize-container" ng-show="vm.showTab === \'myPrizePage\'"><div class="prize-info"><div class="isEmptyAward ellipsis"><span class="awardStyle">{{myPrize.prizeName || \'一等奖\'}}：</span> <span class="awardName">{{myPrize.prizeDetail || \'价值100元礼品\'}}</span></div><div class="code-period"><span class="awardTypeName">中奖时间：</span> <span class="awardBgTime">{{startTime | date:\'yyyy-MM-dd hh:mm:ss\'}}</span></div><div class="code-period"><span class="awardTypeName">兑奖码：</span> <span class="awardBgTime">87654321</span></div><div class="ticket-img"></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.winLottery", []).directive("winLottery", n(1933));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "A", template: n(1934), scope: {vm: "=winLottery"}, link: function (e) {
                e.item = e.vm.prizeOptions[0]
            }
        }
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="mask-container"><a href="javascript:;" class="mask-close"></a><div class="win-lottery"><p>恭喜你获得了</p><img ng-src="{{vm.imgObj.giftImg}}" alt="奖品"><p class="level">{{item.prizeName ||\'一等奖\' }}</p><p class="detail">{{item.prizeDetail || \'小米4K高清电视\'}}</p><a class="btn mask-btn">再来一次</a></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = angular.module("comp.lostLottery", []).directive("lostLottery", n(1936));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "A", template: n(1937)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="mask-container"><a href="javascript:;" class="mask-close"></a><div class="lost-lottery"><img ng-src="{{vm.imgObj.lostImg}}" alt="未中奖"><p class="detail">奖品飘走了......</p><a class="btn mask-btn">再来一次</a></div></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A",
            scope: {type: "@eqxMarketing"},
            controller: ["$scope", "$rootScope", "marketingFactory", "marketingModalFactory", "sceneService", "delayLoadService", function (e, t, n, i, o, r) {
                "ngInject";
                ["18", "19"].indexOf(e.type) != -1 && (e.createMarketingComp = function (i) {
                    var a = i || e.type, s = n.getDefaultJson(a, e.title);
                    r.datePicker().then(function () {
                        var e = moment();
                        s.baseInfo.startTime = e.format("YYYY-MM-DD HH:mm"), s.baseInfo.endTime = e.add(24, "hours").format("YYYY-MM-DD HH:mm");
                        var n = o.getCurrentPage(), i = n.initEqxCompByJson(s);
                        i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                    })
                }, e.$on("wsComp.edit", function (n, r) {
                    var a = r.compJson, s = "" + a.type;
                    s == e.type && i.openPrompt(a).then(function (e) {
                        var n = o.getCurrentPage(), i = n.updateEqxComp(a.id, e);
                        i && (i.rendered = !1, n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
                    })
                }), e.$on("wsComp.add.tpl", function (t, n) {
                    n == e.type && e.createMarketingComp(n)
                }))
            }],
            link: function (e, t, n) {
                e.title = n.title, t.on("click.marketing", function () {
                    e.$apply(function () {
                        return e.createMarketingComp()
                    })
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "A", scope: {numObj: "=", numAttr: "@"}, link: function (e, t, n) {
                t.on("keyup focusout", function () {
                    e.numObj[e.numAttr] = $(this).val().replace(/[^0-9]/g, ""), e.$apply()
                })
            }
        }
    }

    e.exports = n
}, function (e, t) {
    "use strict";

    function n() {
        function e(e, t) {
            var n = {
                width: "374px",
                height: "620px",
                left: "-30px",
                top: $(".workspace").scrollTop() - 70 + "px",
                color: "#676767",
                lineHeight: 1,
                borderRadius: "0",
                fontSize: "14px"
            };
            return {
                content: "",
                css: n,
                num: 1,
                properties: {
                    titleStyle: {backgroundColor: "#59c7f9", color: "#ffffff"},
                    optionStyle: {borderBottomWidth: 1, borderBottomStyle: "solid", borderBottomColor: "#59c7f9"},
                    initType: 1
                },
                activityId: "",
                baseInfo: {activityName: t, startTime: "", endTime: ""},
                prizeInfo: {
                    seq: 3,
                    options: [{
                        prizeId: 1,
                        prizeName: "1等奖",
                        prizeType: null,
                        prizeCount: 1,
                        prizeProb: 20,
                        prizeDetail: "满300减30抵用券",
                        couponCode: "",
                        cardShow: !1
                    }, {
                        prizeId: 2,
                        prizeName: "2等奖",
                        prizeType: null,
                        prizeCount: 1,
                        prizeProb: 20,
                        prizeDetail: "满200减20抵用券",
                        couponCode: "",
                        cardShow: !1
                    }, {
                        prizeId: 3,
                        prizeName: "3等奖",
                        prizeType: null,
                        prizeCount: 1,
                        prizeProb: 20,
                        prizeDetail: "满100减10抵用券",
                        couponCode: "",
                        cardShow: !1
                    }]
                },
                lotteryInfo: {lotteryDayLimit: 1, hitDayLimit: 1, hitLimit: 1},
                type: e
            }
        }

        return {getDefaultJson: e}
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i(e, t) {
        "ngInject";
        return {
            openPrompt: function (i) {
                return t.datePicker().then(function () {
                    var t = "";
                    return e.open({
                        windowClass: "console img_console " + t,
                        template: n(1944),
                        controller: o,
                        resolve: {
                            obj: function () {
                                return i
                            }
                        }
                    })
                })
            }
        }
    }

    i.$inject = ["modalService", "delayLoadService"], n(1942);
    var o = n(1943);
    e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, c, l, p, u, d, m) {
        "ngInject";

        function f() {
            if (w.checkError = "", !w.baseInfo.activityName) return w.checkError = "请输入活动名称！", w.settingTab = w.settingNavList[0].id, !1;
            if (!w.baseInfo.startTime) return w.checkError = "请选择活动开始时间！", w.settingTab = w.settingNavList[0].id, !1;
            if (!w.baseInfo.endTime) return w.checkError = "请选择活动结束时间！", w.settingTab = w.settingNavList[0].id, !1;
            if (w.baseInfo.endTime < w.baseInfo.startTime) return w.checkError = "活动结束时间必须大于活动的开始时间！", w.settingTab = w.settingNavList[0].id, !1;
            for (var e, t = w.prizeOptions.length, n = 0; n < t; n++) {
                if (e = w.prizeOptions[n], !e.prizeName) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的等级名称！", w.settingTab = w.settingNavList[1].id, !1;
                if (!e.prizeType) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的奖品类型！", w.settingTab = w.settingNavList[1].id, !1;
                if (!e.prizeCount) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的奖品数量！", w.settingTab = w.settingNavList[1].id, !1;
                if (e.prizeCount > 5e4) return w.checkError = "奖品数量必须是小于50000的整数！", w.settingTab = w.settingNavList[1].id, !1;
                if (!e.prizeProb) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的中奖概率！", w.settingTab = w.settingNavList[1].id, !1;
                if (e.prizeProb > 100) return w.checkError = "中奖概率必须是小于100的整数！", w.settingTab = w.settingNavList[1].id, !1;
                if (!e.prizeDetail) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的奖品名称！", w.settingTab = w.settingNavList[1].id, e.cardShow = !0, !1;
                if ("wx_coupon" === e.prizeType && !e.couponCode) return w.checkError = "请补充第" + (n + 1) + "项奖品设置的奖品Id！", w.settingTab = w.settingNavList[1].id, e.cardShow = !0, !1
            }
            return !w.lotteryInfo.lotteryDayLimit || w.lotteryInfo.lotteryDayLimit < 1 ? (w.checkError = "请补充每人每天抽奖次数！", w.settingTab = w.settingNavList[2].id, !1) : !w.lotteryInfo.hitDayLimit || w.lotteryInfo.hitDayLimit < 1 ? (w.checkError = "请补充每人每天最多中奖次数！", w.settingTab = w.settingNavList[2].id, !1) : !w.lotteryInfo.hitLimit || w.lotteryInfo.hitLimit < 1 ? (w.checkError = "请补充每人最多中奖次数！", w.settingTab = w.settingNavList[2].id, !1) : parseInt(w.lotteryInfo.lotteryDayLimit) < parseInt(w.lotteryInfo.hitDayLimit) ? (w.checkError = "【每人每天抽奖次数】应大于等于【每人每天最多中奖次数】！", w.settingTab = w.settingNavList[2].id, !1) : !(parseInt(w.lotteryInfo.hitLimit) < parseInt(w.lotteryInfo.hitDayLimit)) || (w.checkError = "【每人最多中奖次数】应大于等于【每人每天最多中奖次数】！", w.settingTab = w.settingNavList[2].id, !1)
        }

        function g() {
            d.validateWeChatBind().then(function (e) {
                w.isBindWeChat = e.data.obj
            })
        }

        function h(e) {
            var t = angular.copy(e);
            return angular.forEach(t, function (e) {
                delete e.cardShow
            }), JSON.stringify(t)
        }

        function v() {
            var e = moment();
            w.baseInfo.startTime || (w.baseInfo.startTime = e.format("YYYY-MM-DD HH:mm")), w.baseInfo.endTime || (w.baseInfo.endTime = e.add(24, "hours").format("YYYY-MM-DD HH:mm")), 18 == w.type ? w.dayLimitTitle = "每人每天抽奖次数" : 19 == w.type && (w.dayLimitTitle = "每人每天砸蛋次数")
        }

        var y = u.getCurrentUser(), b = p.eqxScene.sceneJson;
        c = JSON.parse(JSON.stringify(c));
        var x = c.prizeInfo.seq, w = e.vm = {
            imgObj: {giftImg: o, lostImg: r},
            sceneId: b.meta.id,
            showTab: "homePage",
            settingTab: "baseSetting",
            baseInfo: c.baseInfo,
            prizeOptions: c.prizeInfo.options,
            lotteryInfo: c.lotteryInfo,
            type: c.type,
            checkError: ""
        };
        w.showNavList = m.showNavList, w.settingNavList = m.settingNavList, w.prizeTypeList = m.prizeTypeList, v(), g(), e.startTimeConfig = {
            startDate: w.baseInfo.startTime,
            timePicker: !0
        }, e.endTimeConfig = {startDate: w.baseInfo.endTime, timePicker: !0}, e.initActivity = function () {
            var e = void 0;
            18 == w.type ? e = a(x, w.prizeOptions).$turntableTpl : 19 == w.type && (e = s()), e.find(".surplus-item span").html(w.lotteryInfo.lotteryDayLimit), setTimeout(function () {
                $("#homepage").empty(), $("#homepage").append(e)
            })
        }, e.initActivity(), e.selectShowTab = function (e) {
            w.showTab = e.id
        }, e.selectSettingTab = function (e) {
            w.settingTab = e.id
        }, e.triggerStartDatePicker = function () {
            t(function () {
                $("#startDateRange input").trigger("click")
            })
        }, e.triggerEndDatePicker = function () {
            t(function () {
                $("#endDateRange input").trigger("click")
            })
        }, e.onPrizeTypeChange = function (e) {
            (!y.memberType || y.memberType < 8) && (e.prizeType = null, l.openConfirmDialog({
                msg: "升级至“企业标准版”即可使用此功能",
                confirmName: "确定升级",
                cancelName: "我再想想"
            }).then(function () {
                n.open(i.HOST + "pay/buyGoods/member/standard?cl=hdyx")
            })), "wx_coupon" !== e.prizeType || w.isBindWeChat || (e.prizeType = null, l.openConfirmDialog({
                msg: "当前账号尚未绑定微信公众号，当前组件不可用，请先去用户中心下去绑定公众号后使用该组件，是否去绑定？",
                confirmName: "去绑定",
                cancelName: "暂不绑定"
            }).then(function () {
                n.open(i.HOST + "site/usercenter/account")
            }))
        }, e.plusPrizeInfo = function (t) {
            var n = w.prizeOptions.length;
            n < 5 ? (x++, c.prizeInfo.seq = x, w.prizeOptions.splice(t + 1, 0, {
                prizeId: x,
                prizeName: x + "等奖",
                prizeType: null,
                prizeCount: 1,
                prizeProb: 20,
                prizeDetail: "",
                couponCode: "",
                cardShow: !1
            }), e.initActivity()) : l.openMsgDialog({msg: "奖品已到上限，最多可设置5种奖品！"})
        }, e.minusPrizeInfo = function (t) {
            w.prizeOptions.length > 1 && l.openConfirmDialog({msg: "您确定要删除内容为“" + w.prizeOptions[t].prizeName + "”的选项？"}).then(function () {
                w.prizeOptions.splice(t, 1), e.initActivity()
            })
        }, e.setCardId = function (e) {
            return "wx_coupon" !== e.prizeType || w.cardId ? w.cardName ? (e.couponCode = w.cardId, e.prizeDetail = w.cardName, void(e.cardShow = !1)) : void(w.checkError = "请输入奖品名称") : void(w.checkError = "请输入奖品Id")
        }, e.showCardInfo = function (e) {
            w.cardId = e.couponCode, w.cardName = e.prizeDetail, e.cardShow = !0
        }, e.hideCardInfo = function (e) {
            e.cardShow = !1
        }, e.cancel = function () {
            e.$dismiss()
        }, e.confirm = function () {
            f() && d.saveLottery(c.activityId, w.sceneId, w.baseInfo, h(w.prizeOptions), w.lotteryInfo).then(function (t) {
                c.activityId = t.data.obj.id, e.$close(c)
            }, function (e) {
                w.checkError = e.data.msg
            })
        }
    }

    i.$inject = ["$scope", "$timeout", "$window", "HOST", "obj", "modalService", "sceneService", "userService", "marketingAPI", "marketingConst"];
    var o = n(743), r = n(745), a = n(732).drawCanvas, s = n(750).initEgg;
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="marketing-container"><div class="header"><ul class="setting-nav"><li ng-repeat="item in vm.settingNavList" ng-class="{active: vm.settingTab === item.id}" ng-click="selectSettingTab(item)">{{item.name}}</li></ul><span class="eqf-no" ng-click="cancel()"></span> <span class="check-info" ng-show="vm.checkError">{{vm.checkError}}</span></div><section class="section-container"><div class="show-section"><ul class="show-nav"><li ng-repeat="item in vm.showNavList" ng-class="{active: vm.showTab === item.id}" ng-click="selectShowTab(item)">{{item.name}}</li></ul><div class="show-sample"><div class="home-page" id="homepage"></div><div activity-lottery="vm" ng-if="[\'detailsPage\', \'myPrizePage\'].indexOf(vm.showTab) > -1"></div><div win-lottery="vm" ng-if="vm.showTab === \'awardPage\'"></div><div lost-lottery ng-if="vm.showTab === \'failPrizePage\'"></div></div></div><div class="setting-section"><div class="setting-info"><div class="base-setting" ng-show="vm.settingTab === \'baseSetting\'"><div class="form-group"><label class="form-label">活动名称</label><div class="form-input name-item"><input type="text" ng-model="vm.baseInfo.activityName" check-count="40"></div></div><div class="form-group"><div class="time-group mr16"><label class="form-label">开始时间</label><div class="form-input time-item mr16" id="startDateRange"><input type="text" name="startDateRange" ng-model="vm.baseInfo.startTime" date-picker="startTimeConfig" placeholder="请设置开始时间"> <em class="eqf-calendar-f" ng-click="triggerStartDatePicker()"></em></div></div><div class="time-group"><label class="form-label">结束时间</label><div class="form-input time-item" id="endDateRange"><input type="text" name="endDateRange" ng-model="vm.baseInfo.endTime" date-picker="endTimeConfig" placeholder="请设置结束时间"> <em class="eqf-calendar-f" ng-click="triggerEndDatePicker()"></em></div></div></div></div><div class="prize-setting" ng-show="vm.settingTab === \'prizeSetting\'"><table class="table marketing-table"><thead><tr><th>等级</th><th>奖品类型</th><th>数量</th><th>概率(%)</th><th>名称</th><th>设置</th></tr></thead><tbody><tr ng-repeat="option in vm.prizeOptions"><td><input type="text" class="prize-name" ng-change="initActivity()" ng-model="option.prizeName" check-count="20"></td><td><eqx-select class="select-sm border-width select-contain" change="onPrizeTypeChange(option)" model="option.prizeType"><eqx-select-option value="">选择类型</eqx-select-option><eqx-select-option value="item.id" ng-repeat="item in vm.prizeTypeList track by $index">{{::item.name}}</eqx-select-option></eqx-select></td><td><input type="text" input-positive-integer num-obj="option" num-attr="prizeCount" class="prize-num" ng-model="option.prizeCount"></td><td><input type="text" input-positive-integer num-obj="option" num-attr="prizeProb" class="prize-num" ng-model="option.prizeProb"></td><td>{{option.prizeDetail | maxLength : 11 }}</td><td class="operate"><a ng-click="showCardInfo(option)">修改奖品</a> <em class="eqf-plus-f" ng-click="plusPrizeInfo($index)"></em> <em class="eqf-minus-f" ng-click="minusPrizeInfo($index)"></em><div class="cardId-container" ng-show="option.cardShow"><div class="header"><span>修改奖品</span> <span class="eqf-no" ng-click="hideCardInfo(option)"></span></div><div class="form-group" ng-show="option.prizeType === \'wx_coupon\'"><label class="card-label">奖品ID</label><div class="form-input"><input type="text" input-positive-integer num-obj="vm" num-attr="cardId" ng-model="vm.cardId" placeholder="奖品Id"></div></div><div class="form-group"><label class="card-label">奖品名称</label><div class="form-input"><input type="text" check-count="48" ng-model="vm.cardName" placeholder="满100减30抵用券"></div></div><div class="form-group"><label class="card-label">兑奖码</label><div class="form-input" style="color: #FF2A6A">系统自动生成</div></div><div class="card-footer"><a class="btn card-btn cancle mr16" ng-click="hideCardInfo(option)"><em class="eqf-no"></em></a> <a class="btn card-btn confirm" ng-click="setCardId(option)"><em class="eqf-yes"></em></a></div><span class="arrow"></span></div></td></tr></tbody></table></div><div class="award-setting" ng-show="vm.settingTab === \'awardSetting\'"><div class="form-group"><label class="form-label">{{vm.dayLimitTitle}}</label><div class="form-input award-item"><input type="text" input-positive-integer num-obj="vm.lotteryInfo" num-attr="lotteryDayLimit" ng-change="initActivity()" ng-model="vm.lotteryInfo.lotteryDayLimit"></div><span class="unit">次/天</span></div><div class="form-group"><label class="form-label">每人每天最多中奖次数</label><div class="form-input award-item"><input type="text" input-positive-integer num-obj="vm.lotteryInfo" num-attr="hitDayLimit" ng-model="vm.lotteryInfo.hitDayLimit"></div><span class="unit">次/天</span></div><div class="form-group"><label class="form-label">每人最多中奖次数 <span class="hint--top hint--rounded" data-hint="活动期间总的中奖次数"><em class="eqf-why-f"></em></span></label><div class="form-input award-item"><input type="text" input-positive-integer num-obj="vm.lotteryInfo" num-attr="hitLimit" ng-model="vm.lotteryInfo.hitLimit"></div><span class="unit">次</span></div></div></div></div></section><div class="footer"><a class="marketing-notice" href="http://bbs.eqxiu.com/thread-100491-1-1.html" target="_blank" ng-show="vm.type == 18">使用须知</a> <a class="marketing-notice" href="http://bbs.eqxiu.com/thread-100629-1-1.html" target="_blank" ng-show="vm.type == 19">使用须知</a> <a class="btn marketing-btn mr16" ng-click="cancel()">取消</a> <a class="btn marketing-btn eqc-btn-primary" ng-click="confirm()">确定</a></div></div>'
}, function (e, t) {
    "use strict";
    e.exports = {
        showNavList: [{id: "homePage", name: "抽奖页"}, {id: "awardPage", name: "中奖页"}, {
            id: "detailsPage",
            name: "活动说明页"
        }, {id: "myPrizePage", name: "我的奖品页"}, {id: "failPrizePage", name: "未中奖页"}],
        settingNavList: [{id: "baseSetting", name: "基础设置"}, {id: "prizeSetting", name: "奖品设置"}, {
            id: "awardSetting",
            name: "派奖设置"
        }],
        prizeTypeList: [{id: "coupon_code", name: "兑奖券"}]
    }
}, function (e, t, n) {
    "use strict";
    n(1947), e.exports = angular.module("scene.template", [n(1948), n(1963), n(1966), n(1970), n(1977), n(1981), n(1990), n(1993), n(1998)]).factory("pageJsonService", n(2003)).directive("templateCategory", n(2004)).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.tab.panel", []).directive("eqxTabPanel", n(1949)).directive("eqxChangeTheme", n(1952)).directive("eqxHelp", n(1957)).directive("eqxFeedbackNotice", n(1960)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            scope: {},
            template: n(1951),
            controller: ["$scope", "$rootScope", "authorityService", "sceneService", "storageService", function (e, t, n, i, o) {
                "ngInject";
                e.accessTemplateMaterial = n.permission("templateMaterial"), e.showComp = !n.permission("compTemplate"), e.themeSkin = o.getItem("themeSkin") || "white", e.functionEditor = n.functionEditor();
                var r = e.TAB = {page: 1, comp: 2, group: 3, apply: 4, vip: 5},
                    a = e.vm = {selected: e.functionEditor ? r.page : r.group};
                e.showApply = n.checkAccount("applyPageTpl");
                var s = i.eqxScene.meta;
                e.showApply && 2 === s.property.editorModel && (a.selected = r.apply), e.switchPanel = function (e) {
                    a.selected === e ? ($(".tpl-content").addClass("remove-in"), $(".workspace").css({left: "72px"}), $(".help-tool").css({left: "72px"}), a.selected = "") : ($(".tpl-content").removeClass("remove-in"), $(".workspace").css({left: "360px"}), $(".help-tool").css({left: "360px"}), a.selected = e), t.$broadcast("panel.change")
                }, e.$on("tpl.saveMyTpl", function () {
                    a.selected ? a.selected = 1 : e.switchPanel(1)
                }), e.$on("tpl.saveCompanyTpl", function () {
                    a.selected ? a.selected = 1 : e.switchPanel(1)
                }), e.$on("change.theme", function (t, n) {
                    n && (e.themeSkin = n)
                })
            }]
        }
    }

    n(1950), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="create_left" ng-if="!accessTemplateMaterial || showApply" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><ul class="tab-panel-tpl"><li class="all-change" ng-if="!accessTemplateMaterial" ng-class="{\'active\': TAB.page == vm.selected}" ng-click="switchPanel(TAB.page)"><i class="eqf-tempalte-l"></i> <span>单页模板</span> <em ng-show="TAB.page == vm.selected"></em></li><li class="all-change" ng-if="!accessTemplateMaterial && !functionEditor " ng-class="{\'active\': TAB.group == vm.selected}" ng-click="switchPanel(TAB.group)"><i class="eqf-box-l"></i> <span>功能模板</span> <span class="new eqf-tipnew"></span> <em ng-show="TAB.group == vm.selected"></em></li><li class="all-change" ng-class="{\'active\': TAB.vip == vm.selected}" ng-click="switchPanel(TAB.vip)"><i class="eqf-vipdiamond-l"></i> <span>vip模板</span> <span class="new eqf-tipnew"></span> <em ng-show="TAB.vip == vm.selected"></em></li><li class="all-change" ng-if="!accessTemplateMaterial && showComp" ng-class="{\'active\': TAB.comp == vm.selected}" ng-click="switchPanel(TAB.comp)"><i class="eqf-palette-l"></i> <span>元素模板</span> <em ng-show="TAB.comp == vm.selected"></em></li><li class="all-change" ng-if="showApply" ng-class="{\'active\': TAB.apply == vm.selected}" ng-click="switchPanel(TAB.apply)"><i class="eqf-apply-l"></i> <span>我的申请</span> <em ng-show="TAB.apply == vm.selected"></em></li><li class="help"><eqx-help></eqx-help></li></ul><div class="tpl-content all-change" ng-class="{\'remove-in\': !vm.selected}"><eqx-template-page ng-if="TAB.page == vm.selected"></eqx-template-page><eqx-template-comp ng-if="TAB.comp == vm.selected"></eqx-template-comp><eqx-template-group ng-if="TAB.group == vm.selected"></eqx-template-group><eqx-template-apply ng-if="TAB.apply == vm.selected"></eqx-template-apply><eqx-template-vip ng-if="TAB.vip == vm.selected"></eqx-template-vip></div><eqx-change-theme></eqx-change-theme></div>'
}, function (e, t, n) {
    "use strict";
    n(1953), e.exports = function () {
        return {
            replace: !0,
            template: n(1954),
            scope: {},
            controller: ["$scope", "$rootScope", "storageService", function (e, t, n) {
                "ngInject";
                e.isSelected = !1, e.themeSkin = n.getItem("themeSkin") || "white", e.changeSkin = function (i) {
                    e.themeSkin = i, n.setItem("themeSkin", i), t.$broadcast("change.theme", i), e.isSelected = !e.isSelected
                }, e.show = function () {
                    e.isSelected = !e.isSelected
                }, e.$on("changeSkin.show", function () {
                    e.isSelected = !e.isSelected
                }), e.hide = function () {
                    e.isSelected = !1
                }, $(document).on("click", function (t) {
                    e.isSelected = !1
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="creat_head_skin-box all-change" ng-click="$event.stopPropagation();" ng-class="{\'remove-in\' : isSelected}"><div class="skin-box-title"><span class="title">请选择你喜欢的皮肤</span> <span class="eqf-no skin-close" ng-click="hide()"></span></div><div class="white theme" ng-class="{\'active\' : themeSkin == \'white\'}"><div ng-click="changeSkin(\'white\')" class="skin-img"><img src="' + n(1955) + '" alt=""><div><span class="eqf-yes"></span></div></div><span>典雅白</span></div><div class="black theme" ng-class="{\'active\' : themeSkin == \'black\'}"><div ng-click="changeSkin(\'black\')" class="skin-img"><img src="' + n(1956) + '" alt=""><div><span class="eqf-yes"></span></div></div><span>高端黑</span></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/white-f6f7ab.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/black-fb2adf.svg"
}, function (e, t, n) {
    "use strict";
    n(1958), e.exports = function () {
        return {
            replace: !0,
            template: n(1959),
            scope: {},
            controller: ["$scope", "$rootScope", "userService", "authorityService", function (e, t, n, i) {
                "ngInject";
                e.newPageAndCompManage = !i.permission("newPageAndCompManage");
                var o = n.getCurrentUser(), r = new EqxKeFu(o);
                e.customerService = function () {
                    r.show()
                }, e.notice = function () {
                    t.$broadcast("click.notice")
                }, e.show = function () {
                    t.$broadcast("changeSkin.show")
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<ul class="eqc-help"><li class="all-change accessChangeSkin" ng-click="show();$event.stopPropagation();">换肤 <span class="eqf-tipnew"></span></li><li class="all-change" ng-click="notice()">公告</li><li class="all-change audit"><span>审核</span><div class="audit-box"><div class="audit-title">包含以下内容的场景将会被审核关闭</div><div class="audit-content"><p>1、诱导分享和转发集赞</p><p>2、传销欺诈虚假广告</p><p>3、色情、赌博、违法</p><p>4、社会事件和攻击言论</p><a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&amp;tid=890&amp;extra=page%3D1">查看详情</a></div></div></li><li class="all-change"><a target="_blank" href="http://www.eqxiu.com/site/college">教程</a></li><li class="all-change" ng-click="customerService()">客服</li><li class="all-change"><a target="_blank" href="http://eqxiu.com/s/QblumX2x">反馈</a></li></ul>'
}, function (e, t, n) {
    "use strict";

    function i(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function o() {
        return {
            restrict: "E",
            template: n(1962),
            controller: ["$scope", "sceneAPI", "userService", "storageService", "$timeout", function (e, t, n, o, r) {
                "ngInject";

                function a(n) {
                    return e.imgSrc && n ? (e.showNotice = !0, e.hideAnimClass = !0, void(e.showAnimClass = !0)) : void t.getSceneNotice().then(function (t) {
                        var r = t.data.obj;
                        if (r) {
                            e.imgSrc = r.path, e.href = r.url, r.width = r.width > 800 ? 800 : r.width, r.height = r.height > 600 ? 600 : r.height, e.closeButtonR = (800 - r.width) / 2 + 7 + "px", e.closeButtonL = (600 - r.height) / 2 + 7 + "px";
                            var a = r.id, c = (o.getItem("eqxNotice") || {})[a] || [];
                            c.indexOf(s.id) > -1 && !n || (e.showNotice = !0, e.hideAnimClass = !0, e.showAnimClass = !0, c.push(s.id), o.setItem("eqxNotice", i({}, a, c)))
                        }
                    })
                }

                var s = n.getCurrentUser();
                e.hideAnimClass = !0, e.showAnimClass = !1, a(!1), e.$on("click.notice", function () {
                    a(!0)
                }), e.closeNotice = function () {
                    e.hideAnimClass = !1, e.showAnimClass = !1, r(function () {
                        e.showNotice = !1
                    }, 280)
                }
            }]
        }
    }

    n(1961), e.exports = o
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="notice-content" ng-click="closeNotice()" ng-show="showNotice" ng-class="{\'notice-anim-show\':showAnimClass, \'notice-anim-hide\': !hideAnimClass}"><div class="notice-img-box"><span class="notice-close" ng-style="{right: closeButtonR, top: closeButtonL}"><em class="eqf-no"></em> </span><a ng-href="{{href}}" target="_blank" ng-if="href"></a> <img ng-src="{{imgSrc}}" alt="公告图片" ng-click="$event.stopPropagation()"/></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.thumb", []).directive("thumbTpl", n(1964)).factory("thumbTplService", n(1965)).name
}, function (e, t) {
    "use strict";
    e.exports = ["$timeout", "EqxCore", function (e, t) {
        "ngInject";
        return {
            restrict: "A",
            scope: {tpl: "=thumbTpl", mode: "@", disableTrigger: "=", disablePv: "=", width: "="},
            link: function (e, n) {
                var i = {
                        obj: {id: e.tpl.sceneId, bgAudio: null, property: {eqAdType: 0, forbidHandFlip: !0}},
                        list: [e.tpl]
                    }, o = t.adaptor, r = o.SceneAdaptor, a = o.perfectPage.perfectPage, s = o.perfectMeta.perfectMeta,
                    c = o.perfectComp.perfectComp;
                new r(i).addMetaFn(s).addPageFn(a).addEleFn(c).start();
                var l = t.core.scene.EqxScene, p = new l(i, {
                    mode: e.mode || "edit",
                    disablePageEffect: !0,
                    disableCompEvent: !0,
                    disableTrigger: e.disableTrigger || !1,
                    disablePv: e.disablePv || !1,
                    disableArrow: !0,
                    disableCommentManager: !0,
                    disableProgressBar: !0
                });
                if (p.renderScene(n), e.width) {
                    var u = "scale(" + e.width / 320 + ")";
                    n.css({transform: u, transformOrigin: "left top"})
                }
                n.on("$destroy", function () {
                    p.destroy()
                })
            }
        }
    }]
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r) {
        "ngInject";

        function a(t, n) {
            var a = n || {}, s = a.updateRecently, c = void 0 === s || s, l = e.getCurrentPage(), p = l.pageJson,
                u = JSON.parse(JSON.stringify(t));
            u.properties = u.properties || {};
            var d = u.elements;
            if (d.length) {
                var m = p.id, f = p.num, g = p.name, h = p.sceneId, v = p.properties.longPage;
                !u.properties.effect && p.properties.effect && (u.properties.effect = JSON.parse(JSON.stringify(p.properties.effect))), Object.assign(u, {
                    id: m,
                    num: f,
                    name: g,
                    sceneId: h
                }), delete u.istpl;
                var y = u.properties.longPage;
                y && y < 10 && (y = 502 * y), v && (y ? y < v && (u.properties.longPage = v) : u.properties.longPage = v), r.replaceIds({
                    pageId: m,
                    sceneId: h,
                    pageJson: u
                }), o.$broadcast("tpl.useTpl", u), c && (i.addRecently(t), i.updateRecently())
            }
        }

        function s(e) {
            var t = e.sourceId || e.id;
            n.getTpl(t).then(function (e) {
                a(e.data.obj)
            })
        }

        function c(n) {
            e.getCurrentPage().pageJson.elements.length > 0 ? t.openConfirmDialog({
                msg: "页面模板会覆盖编辑区域已有组件，是否继续？",
                confirmName: "是",
                cancelName: "取消"
            }).then(function () {
                s(n)
            }) : s(n)
        }

        return {useTpl: a, useTplValidation: c}
    }

    n.$inject = ["sceneService", "modalService", "tplAPI", "tplService", "$rootScope", "pageJsonService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.preview", []).directive("tplPreview", n(1967)).name
}, function (e, t, n) {
    "use strict";
    n(1968), e.exports = ["$compile", "tplAPI", "addGroupService", "buyGroupService", function (e, t, i, o) {
        "ngInject";
        return {
            replace: !0, template: n(1969), scope: {}, link: function (n, r) {
                function a(i) {
                    var o = i.sourceId;
                    d = Date.now();
                    var a = d - m, s = d - g;
                    a >= 0 && a < v && clearTimeout(p), s >= 0 && s < v && clearTimeout(u), h !== o && (l = setTimeout(function () {
                        t.getTpl(o).then(function (t) {
                            n.tpl = i, n.obj = t.data.obj, h = o, r.show();
                            var a = r.find(".preview-box");
                            a.find(".preview").remove(), a.prepend(e('<div class="preview" thumb-tpl="obj" disable-pv="true" mode="view" width="208"></div>')(n))
                        })
                    }, v))
                }

                function s() {
                    m = Date.now(), m - d < v && clearTimeout(l), p = setTimeout(function () {
                        c()
                    }, y)
                }

                function c() {
                    r.hide(), r.find(".preview").remove(), h = 0
                }

                var l = 0, p = 0, u = 0, d = 0, m = 0, f = 0, g = 0, h = 0, v = 600, y = 1e3;
                n.$on("tpl.preview.show", function (e, t) {
                    a(t)
                }), n.$on("tpl.preview.hide", function () {
                    s()
                }), n.addGroupTpl = function (e) {
                    e.price ? o.buy(e) : i.add(e.sourceId)
                }, n.previewEnter = function () {
                    f = Date.now(), f - m < y && clearTimeout(p), f - g < y && clearTimeout(u)
                }, n.previewLeave = function () {
                    g = Date.now(), u = setTimeout(function () {
                        c()
                    }, y)
                }
            }
        }
    }]
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="eqc-tpl-detail" ng-mouseenter="previewEnter()" ng-mouseleave="previewLeave()"><div class="preview-box"><span class="long-page-flag" ng-if="obj.properties.longPage">长</span></div><div class="tpl-title"><span class="name">{{tpl.title}}</span> <span class="price fr">{{tpl.price ? tpl.price + \'秀点\' : \'免费\'}}</span></div><div class="tpl-desc" ng-if="tpl.description">{{tpl.description}}</div><div class="tpl-group-use" ng-click="addGroupTpl(tpl)"><span>{{tpl.price ? \'立即购买\' : \'使用\'}}</span></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.page", []).directive("eqxTemplatePage", n(1971)).directive("eqxTemplateCenter", n(1973)).directive("eqxTemplateMy", n(1975)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            template: n(1972),
            scope: {},
            controller: ["$scope", "$timeout", "$rootScope", function (e, t, n) {
                "ngInject";
                var i = e.vm = {tab: 1};
                e.changeType = function (e) {
                    i.tab = e
                }, e.$on("tpl.saveMyTpl", function () {
                    i.tab = 0, t(function () {
                        n.$broadcast("tpl.saveMyTpl.tag")
                    })
                }), e.$on("tpl.saveCompanyTpl", function () {
                    i.tab = 0, t(function () {
                        n.$broadcast("tpl.saveCompanyTpl.tag")
                    })
                })
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-panel"><ul class="tab"><li class="all-change" ng-class="{active: vm.tab === 1}" ng-click="changeType(1)">模板中心</li><li class="all-change" ng-class="{active: vm.tab === 0}" ng-click="changeType(0)">我的</li></ul><eqx-template-center ng-if="vm.tab === 1"></eqx-template-center><eqx-template-my ng-if="vm.tab === 0"></eqx-template-my></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            template: n(1974),
            scope: {},
            controller: ["$scope", "tplService", "thumbTplService", "tagAPI", "HOST", function (e, t, n, i, o) {
                "ngInject";

                function r() {
                    return "tagIds:" + s.tag.selected.id + "-name:" + s.name + "-colorId:" + s.color.selected
                }

                function a() {
                    c = e.tplGroup = t.getTplGroupByKey(r()), c.list.length || t.$getMoreTpls(r(), !0)
                }

                var s = e.vm = {
                    name: "",
                    showSearch: !0,
                    tag: {selected: {id: parseInt(o.MALL_PAGE_ID_NEW), name: "全部"}, list: []},
                    color: {selected: "", list: []}
                }, c = e.tplGroup = {};
                e.updateTpls = function () {
                    t.$getMoreTpls(r())
                }, e.onTagChange = function () {
                    a()
                }, e.resetTplFilter = function () {
                    s.name = "", s.showSearch = !0, a()
                }, e.enterPress = function (t) {
                    var n = t || window.event;
                    13 === n.keyCode && e.onSearchKeyEnter()
                }, e.onSearchKeyEnter = function () {
                    s.showSearch = !s.name.length, a()
                }, e.changeColor = function (e) {
                    e === s.color.selected ? s.color.selected = "" : s.color.selected = e, a()
                };
                var l = !0;
                i.getCategoryListByTopId(s.tag.selected.id, l).then(function (e) {
                    s.tag.list = e
                }), i.getTplColors().then(function (e) {
                    s.color.list = e.data.list[0].values, s.color.list.find(function (e) {
                        return 139 === e.valueId
                    }).colour = "-webkit-linear-gradient(top left, #ff5548, #f2a553, #ffc928, #18cfa1, #59c7fa, #4e8ff3, #7170ef, #4f5875)"
                }), a(), e.useTpl = function (e) {
                    n.useTplValidation(e)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-content1"><div class="search"><input placeholder="搜索模板" ng-keypress="enterPress($event)" ng-model="vm.name"/> <span ng-if="vm.showSearch" class="eqf-search-l search-icon" ng-click="onSearchKeyEnter()"></span> <span ng-if="!vm.showSearch" class="eqf-no search-icon" ng-click="resetTplFilter()"></span></div><div class="category1"><template-category list="vm.tag.list" model="vm.tag.selected" change="onTagChange()"></template-category></div><div class="color"><ul><li title="{{c.valueName}}" ng-repeat="c in vm.color.list track by $index" ng-style="{background: c.colour}" ng-class="{active: vm.color.selected === c.valueId}" ng-click="changeColor(c.valueId)"></li></ul></div><div class="tpl-scroll"><div eqd-scroll style="height: 100%" refresh="updateTpls()"><ul><li title="{{tpl.name}}" class="item" _tracker_data_="{product_id: {{tpl.id}}, name: \'{{tpl.name}}\', type: 1}" ng-repeat="tpl in tplGroup.list" ng-click="useTpl(tpl)" eqx-loading-image="{{tpl.thumbSrc}}" data-background-size="cover" data-width="80" data-height="122"></li></ul></div></div><empty-template tpl-group="tplGroup"></empty-template></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            template: n(1976),
            scope: {},
            controller: ["$scope", "tplService", "authorityService", "modalService", "thumbTplService", function (e, t, n, i, o) {
                "ngInject";
                var r = e.tabs = [{key: "myTpl", name: "我的模板"}, {key: "company", name: "企业模板"}, {
                    key: "recently",
                    name: "最近使用"
                }];
                n.permission("tplShowCompany") && r.splice(1, 1);
                var a = e.vm = {tab: r[0]};
                e.changeType = function (n) {
                    a.tab = n, e.tplGroup = t.getTplGroupByKey(a.tab.key), 0 === e.tplGroup.list.length && t.$getMoreTpls(a.tab.key)
                }, e.updateTpls = function () {
                    t.$getMoreTpls(a.tab.key)
                }, e.$on("tpl.saveMyTpl.tag", function () {
                    a.tab = r[0], e.changeType(a.tab)
                }), e.$on("tpl.saveCompanyTpl.tag", function () {
                    a.tab = r[1], e.changeType(a.tab)
                }), e.changeType(a.tab), e.useTpl = function (e) {
                    o.useTplValidation(e)
                }, e.deleteTpl = function (e) {
                    i.openConfirmDialog({msg: "确定删除此模板?"}).then(function () {
                        t.deleteTpl(e, a.tab.key)
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-content1"><ul class="my-category"><li class="all-change" ng-class="{active: t === vm.tab}" ng-repeat="t in tabs" ng-click="changeType(t)">{{t.name}}</li></ul><div class="tpl-scroll" style="top: 50px"><div eqd-scroll style="height: 100%" refresh="updateTpls()"><ul><li title="{{tpl.name}}" class="item" ng-repeat="tpl in tplGroup.list"><div class="preview" ng-click="useTpl(tpl)" ng-if="!tpl.properties.thumbSrc" thumb-tpl="tpl" disable-trigger="true" width="80"></div><div class="preview-thumb" eqx-loading-image="{{::tpl.properties.thumbSrc}}" data-background-size="cover" data-width="80" ng-click="useTpl(tpl)" data-height="122" ng-if="tpl.properties.thumbSrc"></div><span class="long-page-flag" ng-if="tpl.properties.longPage">长</span><div class="delete-tpl hint--left hint--rounded" ng-click="deleteTpl(tpl)" data-hint="删除"><i class="eqf-delete-l"></i></div></li></ul></div></div><empty-template tpl-group="tplGroup"></empty-template></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.comp", []).directive("eqxTemplateComp", n(1978)).name
}, function (e, t, n) {
    "use strict";
    n(1979), e.exports = function () {
        return {
            restrict: "E",
            replace: !0,
            template: n(1980),
            scope: {},
            controller: ["$scope", "selectService", "COMP_INIT_JSON", "authorityService", function (e, t, n, i) {
                "ngInject";

                function o() {
                    var n = t.comps, i = null;
                    if (1 === n.length) {
                        var o = n[0];
                        i = e.compStyleList.find(function (e) {
                            return e.type.indexOf(("" + o.type).charAt(0)) > -1
                        })
                    }
                    return i ? i.value : e.compStyleList[0].value
                }

                e.settingCompJson = function (e, t) {
                    var i = JSON.parse(JSON.stringify(n.initCss)), o = JSON.parse(JSON.stringify(t)),
                        r = JSON.parse(JSON.stringify(e));
                    return o.css = $.extend(i, o.css), $.extend(!0, r, o)
                }, e.compStyleList = [{name: "文本", value: 2, type: "2"}, {
                    name: "计数",
                    value: 3,
                    type: "i"
                }, {name: "输入框", value: 4, type: "5"}, {name: "单选多选", value: 6, type: "cr"}, {
                    name: "评分",
                    value: 5,
                    type: "a"
                }, {name: "提交按钮", value: 7, type: "6"}, {name: "音效", value: 9, type: "s"}, {
                    name: "按钮",
                    value: 1,
                    type: "8l"
                }], e.vm = {
                    value: o(), get comp() {
                        return 1 == t.comps.length ? t.comps[0] : null
                    }
                }, e.changeCompTemplate = function (t) {
                    e.vm.value = t
                }, e.$on("selectService.add", function () {
                    e.vm.value = o()
                }), e.$on("selectBox.end", function () {
                    e.vm.value = o()
                }), e.$on("selectBox.start", function () {
                    e.vm.value = o()
                })
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="comp-template-contain"><div class="comp-template-head"><h6 class="comp-template-title">选择组件</h6><div class="scene-type-contain"><eqx-select class="select-great select-contain" change="changeCompTemplate(vm.value)" model="vm.value"><eqx-select-option value="type.value" ng-repeat="type in compStyleList">{{::type.name}}</eqx-select-option></eqx-select></div></div><div class="comp-template-list"><div eqd-scroll style="height: 100%" disable-mouse="true" prevent-exception="true"><div><div class="comp-template-box"><button-style2 ng-if="vm.value == 1"></button-style2><text-style2 ng-if="vm.value == 2"></text-style2><counter-style2 ng-if="vm.value == 3"></counter-style2><input-style2 ng-if="vm.value == 4"></input-style2><score-style2 ng-if="vm.value == 5"></score-style2><radio-style2 ng-if="vm.value == 6"></radio-style2><submit-style2 ng-if="vm.value == 7"></submit-style2><sound-style2 ng-if="vm.value == 9"></sound-style2></div></div></div></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.group", []).factory("addGroupService", n(1982)).factory("buyGroupService", n(1983)).directive("eqxTemplateGroup", n(1984)).directive("eqxGroupMy", n(1986)).directive("eqxGroupCenter", n(1988)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function o(e) {
        if (null == e) throw new TypeError("Cannot destructure undefined")
    }

    var r = n(465).randomId, a = n(781);
    e.exports = ["$rootScope", "tplAPI", "sceneService", "thumbTplService", "pageJsonService", "notifier", function (e, t, n, s, c, l) {
        "ngInject";

        function p(e) {
            t.getTpl(e).then(function (e) {
                d(e.data.obj)
            })
        }

        function u(t) {
            function i() {
                s.useTpl(t, {updateRecently: !1})
            }

            var o = n.getCurrentPage().getEqxItems().length;
            o ? e.$broadcast("createPage", {
                cb: function () {
                    var t = e.$on("changePage.end", function () {
                        i(), t()
                    })
                }
            }) : i()
        }

        function d(t) {
            function s(e) {
                return {id: "group:" + r(), name: t.name, compIds: e}
            }

            var p = t.properties, d = t.groups, f = t.elements, g = p.groupSettings, h = void 0 === g ? [] : g,
                v = p.pip, y = p.oneShot;
            p.triggerGroup;
            if (v || y) return u(t);
            var b = n.getCurrentPage();
            if (b.isFunTemplate() || b.isSpecialPage()) return void l.warn("组件模板不能用于当前特效模板");
            var x = b.toJson(), w = x.id, S = x.sceneId, k = x.properties;
            d = d || [];
            var T = m(b);
            h = a.flatRules(h), o(k), c.removeBg(t), c.replaceIds({
                pageId: w,
                sceneId: S,
                maxIndex: T,
                pageJson: t
            }), c.replaceTriggers(x, t), c.replacePageEffect(x, t);
            var C = f.map(function (e) {
                return e.id
            });
            if (null === d || 0 === d.length) d = [s(C)]; else {
                if (1 === d.length) var I = d[0], $ = C.every(function (e) {
                    return I.compIds.includes(e)
                });
                var E = {};
                f.forEach(function (e) {
                    return E[e.id] = !0
                }), d.forEach(function (e) {
                    return E[e.id] = !0
                }), d.forEach(function (e) {
                    e.compIds.forEach(function (e) {
                        return E[e] = !1
                    })
                });
                var P = Object.keys(E).filter(function (e) {
                    return E[e]
                }).map(function (e) {
                    return /^\d+$/.test(e) ? parseInt(e) : e
                });
                $ || d.push(s(P))
            }
            d.forEach(function (e) {
                return e.type = 1
            });
            var _ = b.getCurrentLayer(), q = _.initEqxItems(f, d);
            _.renderEqxItems();
            var O = q.filter(function (e) {
                return e.isDirectItem()
            });
            b.ftManager.filterValidFtRules(), b.ftManager.addFtRules(h), e.$broadcast.apply(e, ["wsComp.add"].concat(i(O)))
        }

        function m(e) {
            var t = 0;
            return e.eqxLayerList[0].getEqxComps().forEach(function (e) {
                var n = e.getCss("zIndex");
                n > t && (t = n)
            }), t
        }

        return {add: p}
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["payAPI", "notifier", "HOST", "eqxNgPay", "tplService", "userService", "addGroupService", function (e, t, n, i, o, r, a) {
        "ngInject";

        function s(s) {
            var c = {
                orderAppId: 10002,
                buyItems: [{id: s.id, type: "", name: s.name, price: s.price}],
                signUrl: n.MALL_HOST + "api/m/order/sign_new",
                jsonPros: JSON.stringify({type: s.attrGroupId, productId: s.id, channel: "EDITOR"})
            };
            i.payMulti(c).then(function (n) {
                var i = n.value;
                "$document" !== i && void 0 !== i && "close" !== i.msgType && (i.data.success ? e.getOrderId(i.data.obj.merchantOrderNo).then(function (e) {
                    t.success("购买成功，请在“我的”里查看"), o.clearTplGroup("myFunctionTpl");
                    var n = r.getCurrentUser();
                    n.property.myFunctionTplId = e.data.map.callBackId, a.add(s.sourceId)
                })["catch"](function () {
                    t.danger("购买失败，请联系客服处理")
                }) : t.danger("支付失败，请稍后重试"))
            })
        }

        return {buy: s}
    }]
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA", replace: !0, scope: {}, template: n(1985), controller: ["$scope", function (e) {
                "ngInject";
                var t = e.vm = {tab: 1};
                e.changeType = function (e) {
                    t.tab = e
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-panel"><ul class="tab"><li class="all-change" ng-class="{active: vm.tab === 1}" ng-click="changeType(1)">模板中心</li><li class="all-change" ng-class="{active: vm.tab === 0}" ng-click="changeType(0)">我的</li></ul><eqx-group-center ng-if="vm.tab === 1"></eqx-group-center><eqx-group-my ng-if="vm.tab === 0"></eqx-group-my><tpl-preview></tpl-preview></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            template: n(1987),
            scope: {},
            controller: ["$scope", "tplService", "addGroupService", "modalService", function (e, t, n, i) {
                "ngInject";
                var o = "myFunctionTpl";
                e.tplGroup = t.getTplGroupByKey(o), 0 === e.tplGroup.list.length && t.$getMoreTpls(o), e.updateTpls = function () {
                    t.$getMoreTpls(o)
                }, e.addGroupTpl = function (e) {
                    n.add(e)
                }, e.deleteTpl = function (e, n) {
                    e.stopPropagation(), i.openConfirmDialog({msg: "确定删除此模板?"}).then(function () {
                        t.deleteTpl(n, o)
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-content1"><div class="tpl-scroll" style="top: 10px"><div eqd-scroll style="height: 100%" refresh="updateTpls()"><ul><li title="{{tpl.name}}" class="item" ng-repeat="tpl in tplGroup.list" ng-click="addGroupTpl(tpl.id)" eqx-loading-image="{{tpl.properties.thumbSrc}}" data-background-size="cover" data-width="80" data-height="122"><div class="delete-tpl hint--left hint--rounded" ng-click="deleteTpl($event, tpl)" data-hint="删除"><i class="eqf-delete-l"></i></div></li></ul></div></div><empty-template tpl-group="tplGroup"></empty-template></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            restrict: "EA",
            replace: !0,
            template: n(1989),
            scope: {},
            controller: ["$rootScope", "$scope", "tplService", "tagAPI", "addGroupService", "buyGroupService", "HOST", function (e, t, n, i, o, r, a) {
                "ngInject";

                function s() {
                    return "tagIds:" + l.tag.selected.id + "-name:" + l.name + "-colorId:" + l.color.selected
                }

                function c() {
                    p = t.tplGroup = n.getTplGroupByKey(s()), p.list.length || n.$getMoreTpls(s(), !0)
                }

                var l = t.vm = {
                    name: "",
                    showSearch: !0,
                    tag: {selected: {id: parseInt(a.MALL_FUNCTION_ID_NEW), name: "全部"}, list: []},
                    color: {selected: "", list: []}
                }, p = t.tplGroup = {};
                t.updateTpls = function () {
                    n.$getMoreTpls(s())
                }, t.onTagChange = function () {
                    c()
                }, t.resetTplFilter = function () {
                    l.name = "", l.showSearch = !0, c()
                }, t.enterPress = function (e) {
                    var n = e || window.event;
                    13 === n.keyCode && t.onSearchKeyEnter()
                }, t.onSearchKeyEnter = function () {
                    l.showSearch = !l.name.length, c()
                }, t.changeColor = function (e) {
                    e === l.color.selected ? l.color.selected = "" : l.color.selected = e, c()
                };
                var u = !0;
                i.getCategoryListByTopId(l.tag.selected.id, u).then(function (e) {
                    l.tag.list = e
                }), i.getTplColors().then(function (e) {
                    l.color.list = e.data.list[0].values, l.color.list.find(function (e) {
                        return 139 === e.valueId
                    }).colour = "-webkit-linear-gradient(top left, #ff5548, #f2a553, #ffc928, #18cfa1, #59c7fa, #4e8ff3, #7170ef, #4f5875)"
                }), c(), t.showPreview = function (t) {
                    e.$broadcast("tpl.preview.show", t)
                }, t.hidePreview = function () {
                    e.$broadcast("tpl.preview.hide")
                }, t.addGroupTpl = function (e) {
                    console.log(e), e.price ? r.buy(e) : o.add(e.sourceId)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-content1"><div class="search"><input placeholder="搜索模板" ng-keypress="enterPress($event)" ng-model="vm.name"/> <span ng-if="vm.showSearch" class="eqf-search-l search-icon" ng-click="onSearchKeyEnter()"></span> <span ng-if="!vm.showSearch" class="eqf-no search-icon" ng-click="resetTplFilter()"></span></div><div class="category1"><template-category list="vm.tag.list" model="vm.tag.selected" change="onTagChange()"></template-category></div><div class="color"><ul><li title="{{c.valueName}}" ng-repeat="c in vm.color.list track by $index" ng-style="{background: c.colour}" ng-class="{active: vm.color.selected === c.valueId}" ng-click="changeColor(c.valueId)"></li></ul></div><div class="tpl-scroll"><div eqd-scroll style="height: 100%" refresh="updateTpls()"><ul><li title="{{tpl.name}}" class="item" _tracker_data_="{product_id: {{tpl.id}}, name: \'{{tpl.name}}\', type: 2}" ng-repeat="tpl in tplGroup.list" eqx-loading-image="{{tpl.thumbSrc}}" data-background-size="cover" data-width="80" data-height="122" ng-mouseenter="showPreview(tpl)" ng-mouseleave="hidePreview()"><a class="tpl-group-price" ng-if="tpl.price">{{tpl.price}}秀点</a></li></ul></div></div><empty-template tpl-group="tplGroup"></empty-template></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.apply", []).directive("eqxTemplateApply", n(1991)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            replace: !0,
            scope: {},
            template: n(1992),
            controller: ["$scope", "tplService", "authorityService", function (e, t, n) {
                "ngInject";
                var i = {APPLYING: 1, APPLIED: 0}, o = t.getTplGroupByKey("applying"),
                    r = t.getTplGroupByKey("applied");
                e.tplGroup = o;
                var a = e.vm = {selected: i.APPLYING};
                e.updateTpls = function () {
                    a.selected === i.APPLYING ? t.$getMoreTpls("applying") : t.$getMoreTpls("applied")
                }, e.changeType = function (t) {
                    a.selected = t, t === i.APPLYING ? e.tplGroup = o : e.tplGroup = r
                };
                var s = n.checkAccount("applyPageTpl");
                s && (t.$getMoreTpls("applying"), t.$getMoreTpls("applied"))
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-panel"><ul class="tab"><li class="all-change" ng-class="{active: vm.selected === 1}" ng-click="changeType(1)">申请中</li><li class="all-change" ng-class="{active: vm.selected === 0}" ng-click="changeType(0)">已通过</li></ul><div class="tpl-content1"><div class="tpl-scroll" style="top: 10px"><div eqd-scroll style="height: 100%" refresh="updateTpls()"><ul><li title="{{::tpl.name}}" class="item" ng-repeat="tpl in tplGroup.list track by $index" eqx-loading-image="{{::tpl.properties.thumbSrc}}" data-background-size="cover" data-width="80" data-height="122"></li></ul></div></div><empty-template tpl-group="tplGroup"></empty-template></div>.</div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.vip", []).directive("eqxTemplateVip", n(1994)).name
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            replace: !0, scope: {}, template: n(1995), controller: ["$scope", "$rootScope", function (e, t) {
                "ngInject";
                e.tplGroup = [{type: 19, title: "砸金蛋", imgSrc: n(1996)}, {
                    type: 18,
                    title: "幸运转盘抽奖",
                    imgSrc: n(1997)
                }], e.newMarketingComp = function (e) {
                    t.$broadcast("wsComp.add.tpl", e)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="tpl-panel"><div class="tpl-content1"><div class="tpl-scroll" style="top: 10px"><div eqd-scroll style="height: 100%"><ul><li ng-repeat="tpl in tplGroup" title="{{::tpl.title}}" class="item" eqx-loading-image="{{::tpl.imgSrc}}" data-background-size="cover" data-width="80" ng-click="newMarketingComp(tpl.type)" data-height="122"></li></ul></div></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/smashEgg-06c1f3.png"
}, function (e, t, n) {
    e.exports = n.p + "images/turntable-2bde6d.png"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("template.emptyTemplate", []).directive("emptyTemplate", n(1999)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", scope: {tplGroup: "="}, template: n(2001), controller: ["$scope", function (e) {
                "ngInject";
                e.$watch("tplGroup", function () {
                    if (e.tplGroup) if (e.tplGroup.key.indexOf("colorId") > -1) e.msg = "没有筛选结果，换个条件再试试"; else switch (e.tplGroup.key) {
                        case"myTpl":
                            e.msg = "还没有我的模版";
                            break;
                        case"company":
                            e.msg = "还没有企业模版";
                            break;
                        case"recently":
                            e.msg = "还没有最近使用模版";
                            break;
                        case"applying":
                            e.msg = "还没有申请中的模版";
                            break;
                        case"applied":
                            e.msg = "还没有申请通过的模版";
                            break;
                        case"myFunctionTpl":
                            e.msg = "还没有功能模版";
                            break;
                        default:
                            e.msg = "暂无模版"
                    }
                })
            }]
        }
    }

    n(2e3), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="empty-template" ng-if="tplGroup.list.length == 0"><div><img src="' + n(2002) + '"></div><p class="pb20">{{tplGroup.isBusy ? \'加载中\' : msg}}</p></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/empty-img-011e53.svg"
}, function (e, t, n) {
    "use strict";
    var i = n(875), o = i.replaceIds;
    e.exports = function () {
        "ngInject";

        function e(e) {
            for (var t = e.elements.length - 1; t >= 0; t--) if (3 == e.elements[t].type) {
                e.elements.splice(t, 1);
                break
            }
        }

        function t(e, t) {
            var n = e.properties, i = n.triggerGroup, o = t.properties, r = o.triggerGroup;
            r && (i ? n.triggerGroup = i.concat(r) : n.triggerGroup = r)
        }

        function n(e, t) {
            var n = e.properties, i = t.properties;
            i.effect && (n.effect = t.properties.effect)
        }

        return {replaceTriggers: t, replacePageEffect: n, replaceIds: o, removeBg: e}
    }
}, function (e, t, n) {
    "use strict";
    n(2005), e.exports = function () {
        return {
            template: n(2006),
            replace: !0,
            restrict: "EA",
            scope: {menu: "=list", model: "=", change: "&"},
            controller: ["$scope", "$element", "$timeout", function (e, t, n) {
                "ngInject";
                e.onChange = function (t) {
                    e.model = t, n(function () {
                        e.change()
                    })
                }, e.deleteHover = function (e) {
                    e.stopPropagation(), t.css("pointer-events", "none"), n(function () {
                        t.css("pointer-events", "initial")
                    }, 200)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="tem-cate-content"><ul class="tem-cate1-list"><li class="tem-cate1-item" ng-repeat="c1 in menu"><div ng-click="onChange(c1)" ng-class="{active: (model.id == c1.id &&!c1.parentId)||(model.id == c1.id || model.parentId == c1.id && c1.parentId)}" class="tem-cate1-item-name">{{::c1.name}}</div><div class="tem-cate2-gap"><ul class="tem-cate2-list clearfix" ng-if="c1.list && c1.list.length > 0" ng-click="deleteHover($event)"><li ng-repeat="c2 in c1.list" ng-click="onChange(c2)" ng-class="{active: model.id == c2.id}" class="tem-cate2-item">{{::c2.name}}</li></ul></div></li></ul></div>'
}, function (e, t, n) {
    "use strict";
    var i = angular.module("scene.head", [n(2008)]).directive("eqxHead", n(2013));
    e.exports = i.name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("create.head.action", []).directive("eqdHeadAction", n(2009)).directive("eqdLogoShortcut", n(2011)).directive("eqdLastPageShortcut", n(2012)).name
}, function (e, t, n) {
    "use strict";
    var i = n(2010), o = n(879).getHash;
    e.exports = ["$route", "$location", "sceneService", "authorityService", function (e, t, n, r) {
        "ngInject";
        return {
            restrict: "EA",
            template: i,
            controller: ["$scope", "flagService", "$rootScope", "selectService", "$q", "notifier", "sceneService", "modalService", "HOST", "pipService", function (e, n, i, a, s, c, l, p, u, d) {
                function m() {
                    var e = g.meta, t = s.resolve();
                    return 2 == e.status && (t = p.openConfirmDialog({
                        msg: "当前场景为不允许访问状态，发布场景将重新对外开放访问",
                        confirmName: "坚持发布",
                        cancelName: "保存退出"
                    })), t.then(function () {
                        var t = e.id;
                        return l.publishScene(t, null, e.code).then(function () {
                            $(window).off("beforeunload");
                            var e = u.HOST + "details/share/" + t + "/social";
                            "true" === h.guide && (e += "?guide=true"), window.open(e, "_self")
                        }, function (e) {
                            c.error(e.data.msg || "发布场景失败")
                        })
                    }, function () {
                        $(window).off("beforeunload");
                        var t = u.HOST + "details/share/" + e.id + "/social";
                        window.open(t, "_self")
                    })
                }

                var f = e.flag = n.sceneSetting, g = l.eqxScene;
                e.isEditor = r.assignDesignerAuthority("groupTemplateEditor"), e.functionEditor = r.functionEditor(), e.showGroupSetting = function () {
                    i.$broadcast("groupSetting.show")
                }, e.toggle = function () {
                    d.isCurrentPageGenerated().then(function () {
                        f.show = !f.show
                    })["catch"](function () {
                        p.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            i.$broadcast("pip.generate")
                        })
                    })
                }, e.open = function () {
                    f.show = !0
                };
                var h = t.search();
                e.saveScene = function () {
                    a.removeAll(), d.isCurrentPageGenerated().then(function () {
                        i.$broadcast("savePage")
                    })["catch"](function () {
                        p.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            i.$broadcast("pip.generate")
                        })
                    })
                }, e.publishScene = function () {
                    a.removeAll(), d.isCurrentPageGenerated().then(function () {
                        i.$broadcast("savePage", function () {
                            m()
                        })
                    })["catch"](function () {
                        p.openConfirmDialog({
                            msg: "您的画中画场景还未生成，请生成后再进行其他操作",
                            confirmName: "立即生成",
                            cancelName: "取消"
                        }).then(function () {
                            i.$broadcast("pip.generate")
                        })
                    })
                }, e.exitScene = function () {
                    function e() {
                        window.open(u.HOST + "h5/list", "_self")
                    }

                    var t = g.eqxPageList[l.currentPageIndex];
                    t.$$lastHash || console.error("eqxPage does not have $$lastHash!", t);
                    var n = o(t.pageJson);
                    n !== t.$$lastHash ? p.openConfirmDialog({
                        msg: "是否保存更改内容？",
                        confirmName: "保存",
                        cancelName: "不保存"
                    }).then(function () {
                        i.$broadcast("savePage", e)
                    }, function () {
                        e()
                    }) : e()
                }, e.$on("scene.publish", function () {
                    e.publishScene()
                })
            }],
            link: function (t) {
                if (e.current.params.s) var i = setInterval(function () {
                    n.eqxScene.sceneJson.list.length > 0 && (t.open(), clearInterval(i))
                }, 50)
            }
        }
    }]
}, function (e, t) {
    e.exports = '<div class="create-action" ng-show="!flag.show"><ul><li class="btn eqc-btn-primary setting gray-dark all-change" ng-click="showGroupSetting()" ng-show="isEditor || functionEditor"><span class="tip">功能模板</span></li><li class="btn eqc-btn-primary setting gray-dark all-change" ng-click="toggle()"><span class="tip">预览和设置</span></li><li class="btn eqc-btn-primary save gray-dark all-change" ng-click="saveScene(true)"><span class="tip">保存</span></li><li class="btn eqc-btn-primary gray-dark all-change" ng-click="publishScene()"><span class="tip">发布</span></li><li class="act-border quit out-red all-change" ng-click="exitScene()"><span class="tip">退出</span></li></ul></div>'
}, function (e, t) {
    "use strict";
    e.exports = ["flagService", function (e) {
        "ngInject";
        return {
            restrict: "EA", controller: function () {
            }, link: function (t, n) {
                n.on("click", function () {
                    t.$apply(function () {
                        var t = e.sceneSetting;
                        t.show = !0, t.settingTab = "高级"
                    })
                })
            }
        }
    }]
}, function (e, t) {
    "use strict";
    e.exports = ["flagService", function (e) {
        "ngInject";
        return {
            restrict: "EA", controller: function () {
            }, link: function (t, n) {
                n.on("click", function () {
                    t.$apply(function () {
                        var t = e.sceneSetting;
                        t.show = !0, t.settingTab = "高级", t.flagEqAdType = !0
                    })
                })
            }
        }
    }]
}, function (e, t, n) {
    "use strict";
    n(2014), e.exports = ["modalService", "disableService", "authorityService", "sceneService", "notifier", "$rootScope", "storageService", function (e, t, i, o, r, a, s) {
        "ngInject";
        return {
            restrict: "EA", template: n(2016), scope: {}, link: function (e) {
                e.HOST = e.$root.HOST, e.themeSkin = s.getItem("themeSkin") || "white", e.accessAdComp = i.assignDesignerAuthority, e.accessCompAtlas = i.permission("compAtlas"), e.compAuthorityAccess = i.permission("hideAdvancedShortCut"), e.accessCompPV = i.permission("compPV"), e.accessCompWechat = i.permission("compWechat"), e.accessCompRadio = i.permission("compRadio"), e.accessCompMultiRadio = i.permission("compMultiRadio"), e.accessCompCount = i.permission("compCount"), e.accessCompDropdown = i.permission("compDropdown"), e.accessCompChart = i.permission("compChart"), e.accessCompComment = i.permission("compComment"), e.accessCompVideo = i.permission("compVideo"), e.accessCompTime = i.permission("compTime"), e.accessCompVote = i.permission("compVote"), e.accessCompAdvertisement = i.permission("compAdvertisement"), e.disableAdvanceSetting = i.permission("disableAdvanceSetting"), e.styleTime = i.permission("styleTime"), e.accessInteractiveVideo = i.permission("interactiveVideo"), e.accessCompRedPacket = i.permission("compRedPacket"), e.accessCompReward = i.permission("compReward"), e.accessCompRandom = i.permission("compRandom"), e.limitFreeIcon = i.permission("limitFreeIcon"), e.accessCompNewText = i.permission("compNewText"), e.accessCompPhotoWall = i.permission("compPhotoWall"), e.accessCompSMS = i.permission("compSMS"), e.compDate = i.permission("compDate"), e.accessOneShotEditor = i.permission("oneShotEditor"), e.accessPIPEditor = i.permission("PIPEditor"), e.accessQuickFlashEditor = i.permission("quickFlashEditor"), e.accessLimitFree = i.permission("limitFree"), e.openQuickFlashEditor = function (e) {
                    e.stopPropagation();
                    var t = o.getCurrentPage(), n = t.pageJson.properties;
                    return n.pip && n.pip.used ? void r.success("当前页面已经开启画中画功能，无法使用快闪") : n.flash && n.flash.used ? void r.success("当前页面已经开启快闪功能") : n.oneShot && n.oneShot.isOpen ? void r.success("当前页面已经开启一镜到底功能，无法使用快闪") : (t.initQuickFlash(!0), r.success("当前页面开启快闪功能成功"), void a.$broadcast("quickFlashEditor.open"))
                }, e.openOneShotEditor = function () {
                    var e = o.getCurrentPage(), t = e.pageJson.properties;
                    return t.pip && t.pip.used ? void r.success("当前页面已经开启画中画功能，无法使用一镜到底") : t.oneShot && t.oneShot.isOpen ? void r.success("当前页面已经开启一镜到底功能") : t.flash && t.flash.used ? void r.success("当前页面已经开启快闪功能，无法使用一镜到底") : (e.openOneShot(), r.success("当前页面开启一镜到底功能成功"), void a.$broadcast("oneShotEditor.open"))
                }, e.$on("change.theme", function (t, n) {
                    e.themeSkin = n || null
                })
            }
        }
    }]
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="creat_head" ng-class="{\'theme-white\' : themeSkin == \'white\',\'theme-black\' : themeSkin == \'black\'}"><div class="creat_head_con"><div class="creat_logo"><a ng-href="{{HOST.HOST + \'h5/list\'}}"><em class="eqf-eqxiulogo"></em></a></div><div class="creat_con"><ul class="comp_panel clearfix"><li class="form" ng-if="!accessCompNewText"><span class="eqf-t eqf-btn"></span><div class="form-menus"><div class="popover bottom"><div class="arrow"></div><div class="popover-content"><section class="popover-section"><ul class="menus" style="display: block"><li style="display: block" comp-draggable="panel" ctype="7" class="comp-draggable new-text menu-item button hint--right hint--rounded" data-hint="新文本组件相较于文本组件体验更好，性能更佳，建议使用。" eqx-new-text><span class="eqf-t-new"></span> <span class="new-menu-item-name">新文本</span> <span class="eqf-why-f" style="width: 24px"></span></li><li style="display: block" comp-draggable="panel" ctype="2" class="comp-draggable text menu-item button" eqx-text><span class="eqf-t"></span> <span class="new-menu-item-name">文本</span></li></ul></section></div></div></div><span class="tip">文本</span></li><li ng-if="accessCompNewText" comp-draggable="panel" ctype="2" class="comp-draggable text" eqx-text><span class="eqf-t eqf-btn"></span> <span class="tip">文本</span></li><li comp-draggable="panel" ctype="4" class="comp-draggable image" eqx-image><span class="eqf-image-l eqf-btn"></span> <span class="tip">图片</span></li><li comp-draggable="panel" ctype="3" class="comp-draggable bg" eqx-bg><span class="eqf-backgroud-l eqf-btn"></span> <span class="tip">背景</span></li><li comp-draggable="panel" class="comp-draggable music" eqx-bgm><span class="eqf-music-l eqf-btn"></span> <span class="tip">音乐</span></li><li comp-draggable="panel" ctype="h" class="comp-draggable image" eqx-shape><span class="eqf-shanp-l eqf-btn"></span> <span class="tip">形状</span></li><li class="form common-comps"><span class="eqf-widgets-l eqf-btn"></span><div class="form-menus"><div class="popover bottom"><div class="arrow"></div><div class="popover-content"><section class="popover-section"><h2>常用组件</h2><ul class="menus"><li comp-draggable="panel" ctype="v" ng-if="!accessCompVideo" class="menu-item comp-draggable button vedio" eqx-video><span class="eqf-video-f"></span> <span class="new-menu-item-name">视频</span></li><li ng-hide="accessCompAtlas" comp-draggable="panel" ctype="p" class="menu-item comp-draggable button" eqx-image-slider><span class="eqf-album-f"></span> <span class="new-menu-item-name">图集</span></li><li comp-draggable="panel" ctype="l" class="menu-item comp-draggable button" eqx-link><span class="eqf-link"></span> <span class="new-menu-item-name">链接</span></li><li comp-draggable="panel" ctype="b" ng-if="!accessCompVote" class="menu-item comp-draggable button" eqx-vote><span class="eqf-vote-f"></span> <span class="new-menu-item-name">投票</span></li></ul></section><section class="popover-section"><h2>基础组件</h2><ul class="menus"><li comp-draggable="panel" ctype="8" class="menu-item comp-draggable phone" eqx-tel><span class="eqf-telphone-f"></span> <span class="new-menu-item-name">电话</span></li><li comp-draggable="panel" ctype="s" class="menu-item comp-draggable button" eqx-sound><span class="eqf-volume-high"></span> <span class="new-menu-item-name">音效</span></li><li comp-draggable="panel" ctype="i" class="menu-item comp-draggable textarea" eqx-counter><span class="eqf-counter"></span> <span class="new-menu-item-name">计数</span></li><li comp-draggable="panel" ng-if="!accessCompPV" ctype="d" class="menu-item comp-draggable textarea" eqx-pv><span class="eqf-data-f"></span> <span class="new-menu-item-name">统计</span></li></ul></section><section class="popover-section"><h2 ng-class="{\'flex-wrap\': !accessPIPEditor&&!accessOneShotEditor}">高级组件</h2><ul class="menus" ng-class="{\'flex-wrap\': !accessPIPEditor&&!accessOneShotEditor}"><li ng-if="!accessCompTime && styleTime" comp-draggable="panel" ctype="e" class="menu-item comp-draggable textarea" eqx-down-time><span class="eqf-time-ccw"></span> <span class="new-menu-item-name">计时</span></li><li ng-if="!accessCompTime && !styleTime" comp-draggable="panel" ctype="e" class="menu-item comp-draggable radio-input" eqx-down-time><span class="eqf-timer-f"></span> <span class="new-menu-item-name">计时</span></li><li comp-draggable="panel" ctype="m" class="menu-item comp-draggable button" eqx-map><span class="eqf-map-f"></span> <span class="new-menu-item-name">地图</span></li><li comp-draggable="panel" ctype="g" class="menu-item comp-draggable button" eqx-drawing-board><span class="eqf-palette-f"></span> <span class="new-menu-item-name">画板</span></li><li class="menu-item" comp-draggable="panel" ctype="13" eqx-photo-wall ng-if="!accessCompPhotoWall"><span class="eqf-photowall-f"></span> <span class="new-menu-item-name">照片墙</span></li><li class="menu-item comp-draggable button" ng-if="!accessOneShotEditor" ng-click="openOneShotEditor()"><span class="eqf-movieend"></span> <span class="new-menu-item-name">一镜到底</span></li><li class="menu-item comp-draggable button" eqx-pip-button ng-if="!accessPIPEditor"><span class="eqf-picinpic"></span> <span class="new-menu-item-name">画中画</span></li><li class="menu-item comp-draggable button" ng-if="!accessQuickFlashEditor" ng-click="openQuickFlashEditor($event)"><span class="eqf-zap-f"></span> <span class="new-menu-item-name">快闪</span></li></ul></section><section class="popover-section" ng-if="!accessCompWechat"><h2>微信组件</h2><ul class="menus"><li comp-draggable="panel" ctype="w" class="menu-item comp-draggable textarea" eqx-wx-header eqx-red-dot-trigger="redDotWechat"><span class="eqf-userface-f"></span> <span class="new-menu-item-name">头像</span></li><li comp-draggable="panel" ctype="wp" class="menu-item comp-draggable textarea" eqx-wx-img eqx-red-dot-trigger="redDotWechat"><span class="eqf-image-f"></span> <span class="new-menu-item-name">照片</span></li><li comp-draggable="panel" ctype="wr" class="menu-item comp-draggable textarea" eqx-wx-sound eqx-red-dot-trigger="redDotWechat"><span class="eqf-mic-f"></span> <span class="new-menu-item-name">声音</span></li></ul></section><section class="popover-section"><h2>vip 组件 <span class="limit-free" ng-if="!accessLimitFree"></span></h2><ul class="menus"><li comp-draggable="panel" ctype="p" class="menu-item comp-draggable button" ng-class="{\'disable-menu-item\': accessInteractiveVideo}" eqx-interactive-video><span class="eqf-talkvideo-f"></span> <span class="new-menu-item-name">互动视频</span></li><li comp-draggable="panel" ctype="9" class="menu-item comp-draggable button" ng-class="{\'disable-menu-item\': accessCompRedPacket}" eqx-red-packet><span class="eqf-redpacket-f"></span> <span class="new-menu-item-name">红包</span></li><li comp-draggable="panel" ctype="11" class="menu-item comp-draggable button" ng-class="{\'disable-menu-item\': accessCompReward}" eqx-reward><span class="eqf-sponsor-f"></span> <span class="new-menu-item-name">打赏</span></li><li comp-draggable="panel" ctype="g101" class="menu-item comp-draggable button" ng-class="{\'disable-menu-item\': accessCompRandom}" eqx-random-content><span class="eqf-dice"></span> <span class="new-menu-item-name">随机事件</span></li></ul></section><section class="popover-section" ng-hide="true"><h2>互动组件</h2><ul class="menus"><li comp-draggable="panel" title="幸运转盘抽奖" ctype="18" class="menu-item comp-draggable button" eqx-marketing="18"><span class="new-menu-item-name">幸运转盘抽奖</span></li><li comp-draggable="panel" title="砸金蛋" ctype="19" class="menu-item comp-draggable button" eqx-marketing="19"><span class="new-menu-item-name">砸金蛋</span></li></ul></section></div></div></div><div eqx-red-dot="redDotWechat"></div><span class="tip">组件</span></li><li class="form form-comps"><span class="eqf-form-l eqf-btn"></span><div class="form-menus"><div class="popover bottom"><div class="arrow"></div><div class="popover-content"><section class="popover-section"><h2>常用表单</h2><ul class="menus"><li comp-draggable="panel" ctype="g101" class="menu-item comp-draggable contact" eqx-combined-form><span class="eqf-idcrad-f"></span> <span class="new-menu-item-name">联系人</span></li><li comp-draggable="panel" ctype="5" class="menu-item comp-draggable textarea" eqx-input><span class="eqf-writerin-f"></span> <span class="new-menu-item-name">输入框</span></li><li ng-if="!accessCompSMS" comp-draggable="panel" ctype="12" class="menu-item comp-draggable" eqx-sms><span class="eqf-messagecheck"></span> <span class="new-menu-item-name">短信验证</span></li><li comp-draggable="panel" ctype="6" class="menu-item comp-draggable button" eqx-button><span class="eqf-touch-f"></span> <span class="new-menu-item-name">提交按钮</span> <span ng-if="!limitFreeIcon" class="limit-free"></span></li><li comp-draggable="panel" ctype="b" ng-if="!accessCompComment" class="menu-item comp-draggable button" eqx-comment eqx-red-dot-trigger="redDotComment"><span class="eqf-comment-f"></span> <span class="new-menu-item-name">留言板</span></li></ul></section><section class="popover-section"><h2>基础表单</h2><ul class="menus"><li comp-draggable="panel" ng-if="!accessCompRadio" ctype="r" class="menu-item comp-draggable radio-input" eqx-radio="r"><span class="eqf-yes-f"></span> <span class="new-menu-item-name">单选</span></li><li comp-draggable="panel" ng-if="!accessCompRadio" ctype="c" class="menu-item comp-draggable radio-input" eqx-radio="c"><span class="eqf-checkbox-f"></span> <span class="new-menu-item-name">多选</span></li><li comp-draggable="panel" ng-if="!accessCompDropdown" ctype="z" class="menu-item comp-draggable radio-input" eqx-drop-down><span class="eqf-moreform"></span> <span class="new-menu-item-name">下拉列表</span></li><li comp-draggable="panel" ng-if="!accessCompCount" ctype="a" class="menu-item comp-draggable radio-input" eqx-score><span class="eqf-star-f"></span> <span class="new-menu-item-name">评分</span></li><li comp-draggable="panel" ctype="upload" class="menu-item comp-draggable" eqx-upload-images><span class="eqf-cloudupload-f"></span> <span class="new-menu-item-name">上传附件</span></li></ul></section><section class="popover-section" ng-if="!accessCompChart"><h2>高级表单</h2><ul class="menus"><li comp-draggable="panel" ctype="t" class="menu-item comp-draggable textarea" font="pie" eqx-chart="pie"><span class="eqf-pie-f"></span> <span class="new-menu-item-name">饼状图</span></li><li comp-draggable="panel" ctype="t" class="menu-item comp-draggable radio-input" font="bar" eqx-chart="bar"><span class="eqf-chart-bar"></span> <span class="new-menu-item-name">柱状图</span></li><li comp-draggable="panel" ctype="t" class="menu-item comp-draggable radio-input" font="line" eqx-chart="line"><span class="eqf-chart-line"></span> <span class="new-menu-item-name">折线图</span></li><li comp-draggable="panel" ctype="t" class="menu-item comp-draggable radio-input" data-hint="点击添加曲面图" font="curve" eqx-chart="curve"><span class="eqf-chart-waveline"></span> <span class="new-menu-item-name">曲面图</span></li></ul></section></div></div></div><span class="tip">表单</span></li><li class="comp-draggable images" eqx-page-effect><span class="eqf-specialsence-l eqf-btn"></span> <span class="tip">特效</span></li><li class="interaction" ng-if="!accessCompAdvertisement || !compDate"><span class="eqf-flask-l eqf-btn"></span><div class="form-menus"><div class="popover bottom"><div class="arrow"></div><div class="popover-content"><ul class="menus"><li comp-draggable="panel" ctype="p" class="menu-item comp-draggable button" ng-if="!accessCompAdvertisement" eqx-ad><span class="eqf-coding"></span> <span class="new-menu-item-name">代码</span></li><li comp-draggable="panel" ctype="14" ng-if="!compDate" class="menu-item comp-draggable button" content="\'+yyyy-+mm-+dd\'" eqx-date><span class="eqf-calendar-f"></span> <span class="new-menu-item-name">日期组件</span></li></ul></div></div></div><span class="tip">实验室</span></li></ul></div><eqd-head-action></eqd-head-action></div><div class="line"></div></div>';
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.pageEffect", [n(2018), n(2024), n(2030), n(2053), n(2057), n(2062), n(2068)]).service("EffectService", n(2072)).factory("effectModal", n(2073)).directive("eqxPageEffect", n(2077)).name
}, function (e, t, n) {
    "use strict";
    var i = n(2019), o = angular.module("pageEffect.scratch", []).directive("eqdEffectScratch", i);
    e.exports = o.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2020);
    var o = n(2022), r = n(2023);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="scratch-effect"><div class="effect-preview scratch-bg" id="scratch"></div><div class="effect-form scratch-form"><form class="form-contain" role="form"><div class="form-list clearfix"><label class="form-label">覆盖效果</label><div class="form-input"><eqx-select class="select-sm border-width select-contain" model="vm.coverImageIndex" change="onCoverImageChange(image)"><eqx-select-option value="image.value" ng-repeat="image in coverImages">{{image.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class="form-label">透明度</label><div class="form-input"><eqd-input-number ng-model="effectJson.opacity" ng-model-options="vm.modelOptions" ng-change="onOpacityChange()" ng-change="" tooltip-placement="right" tooltip="双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值" min="0" max="100" unit="%"></eqd-input-number></div></div><div class="form-list clearfix"><label class="form-label">涂抹比例</label><div class="form-input"><eqd-input-number ng-model="effectJson.percentage" ng-model-options="vm.modelOptions" ng-change="onPercentageChange()" tooltip-placement="right" tooltip="双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值" min="0" max="100" unit="%"></eqd-input-number></div></div><div class="form-list clearfix"><label class="form-label">提示文字</label><div class="form-input"><input type="text" style="width: 290px" ng-model="effectJson.tip" ng-change="onTipChange()" placeholder="提示文字" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div></form></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r) {
        "ngInject";

        function a() {
            g && (n.cancel(g), f.stopMimic()), g = n(function () {
                f.startMimic()
            }, 1e3)
        }

        var s = t.core.EditPageEffectMap, c = s.scratch, l = c.getCoverImages().map(function (e, t) {
            return {name: e.name, path: e.path, value: t + 1}
        });
        l.unshift({name: "自定义", value: 0}), e.coverImages = l;
        var p = i.getCurEffectJson();
        p && "scratch" === p.name || (p = {name: "scratch", image: l[1], opacity: .2, percentage: .15, tip: null});
        var u = e.effectJson = p;
        i.curEffectJson = e.effectJson;
        var d = e.vm = {modelOptions: {debounce: 100}, coverImageIndex: 1}, m = $("#scratch"),
            f = new c(u, m, m.width(), m.height());
        f.init(), f.canvas.classList.remove("cas"), e.onPercentageChange = function () {
            f.setPercentage(u.percentage)
        }, e.onOpacityChange = function () {
            f.setOpacity(u.opacity), a()
        }, e.onTipChange = function () {
            f.setTip(u.tip), a()
        };
        var g = null;
        e.onCoverImageChange = function () {
            if (0 == d.coverImageIndex) return void o.getImage().then(function (e) {
                var t = {name: e.name, value: 0, path: e.path};
                f.setCoverImage(t), p.image = t
            });
            var t = e.coverImages[d.coverImageIndex];
            f.setCoverImage(t), p.image = t, a()
        }, e.confirm = function () {
            e.$close(u)
        }, a()
    }

    n.$inject = ["$scope", "EqxCore", "$timeout", "EffectService", "imageModalFactory", "authorityService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.finger", []).directive("eqdEffectFinger", n(2025)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2026);
    var o = n(2028), r = n(2029);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="finger-effect"><div class="effect-preview finger-bg" id="finger"></div><div class="effect-form"><form class="form-contain" role="form"><div class="form-list clearfix"><label class="form-label">背景图片：</label><div class="form-input"><eqx-select class="select-sm border-width select-contain" model="finger.bgImage" change="onBackImageChange()"><eqx-select-option value="backImage" ng-repeat="backImage in backImages">{{::backImage.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class="form-label">指纹图片：</label><div class="form-input"><eqx-select class="select-sm border-width select-contain" model="finger.zwImage" change="onFingerImgChange()"><eqx-select-option value="fingImage" ng-repeat="fingImage in fingImages">{{::fingImage.name}}</eqx-select-option></eqx-select></div></div></form></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o) {
        "ngInject";

        function r() {
            e.fingImages = s.getFingerImages(), e.backImages = s.getBackImages();
            var t = n.getCurEffectJson();
            t && "finger" === t.name || (t = {
                name: "finger",
                bgImage: e.backImages[1],
                zwImage: e.fingImages[1]
            }), e.backImages.forEach(function (n, i) {
                t.bgImage.name == n.name && e.backImages.splice(i, 1, t.bgImage)
            }), e.fingImages.forEach(function (n, i) {
                t.zwImage.name == n.name && e.fingImages.splice(i, 1, t.zwImage)
            }), e.finger = t, n.curEffectJson = e.finger, l = new s(e.finger, c, c.width(), c.height()), l.init(), l.$line.show().css({animation: "move 2s ease infinite"})
        }

        var a = t.core.EditPageEffectMap, s = a.finger, c = $("#finger"), l = null;
        e.onBackImageChange = function () {
            return "自定义" === e.finger.bgImage.name ? void i.getImage().then(function (t) {
                var n = {name: "自定义", value: 0, path: t.path};
                e.finger.bgImage = n, l.setBackImage(e.finger.bgImage.path)
            }) : void l.setBackImage(e.finger.bgImage.path)
        }, e.onFingerImgChange = function () {
            l.setFingerImage(e.finger.zwImage.path)
        }, r()
    }

    n.$inject = ["$scope", "EqxCore", "EffectService", "imageModalFactory", "authorityService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.environmentEffect", [n(2031), n(2037), n(2043)]).directive("environmentEffect", n(2049)).name
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.fallingObject", []).directive("eqdEffectFall", n(2032)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2033);
    var o = n(2035), r = n(2036);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="fallingObject-effect"><div class="effect-preview falling-object" id="fallingObject"></div><div class="effect-form"><form class="form-contain" role="form"><div class="form-list clearfix"><lable class="form-label">环境图片：</lable><div class="form-input"><eqx-select class="select-sm border-width select-contain" change="onCoverImageChange()" model="falling.src"><eqx-select-option value="fallingObj" ng-repeat="fallingObj in fallings track by $index">{{::fallingObj.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" style="margin-top: 10px"><lable class="form-label">环境氛围：</lable><div class="form-input"><div class="slider" ui-slider-t ng-model="falling.density" fixed="1" min="1" integer="true" max="3"></div><input limit-input class="input_kuang short" ng-change="onDensityChange()" type="number" step="1" min="1" max="3" ng-model="falling.density"/> <span class="density">强度</span></div></div></form></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i) {
        "ngInject";

        function o() {
            e.fallings = a.getFallingImages();
            var t = n.getCurEffectJson();
            t && "fallingObject" == t.name || (t = {
                name: "fallingObject",
                src: e.fallings[2],
                density: 2
            }), e.fallings.forEach(function (n, i) {
                t.src.name == n.name && e.fallings.splice(i, 1, t.src)
            }), e.falling = t, n.curEffectJson = e.falling, c = new a(e.falling, s, s.width(), s.height()), c.init().then(function () {
                c.canvas.style.position = "", c.startEffect()
            })
        }

        var r = t.core.EditPageEffectMap, a = r.fallingObject, s = $("#fallingObject"), c = null;
        e.onCoverImageChange = function () {
            "自定义" == e.falling.src.name ? i.getImage().then(function (t) {
                e.falling.src.path = t.path, c.setImage(e.falling.src.path)
            }) : c.setImage(e.falling.src.path)
        }, e.onDensityChange = function () {
            c.setDensity(e.falling.density)
        }, e.$on("$destroy", function () {
            c.stopEffect()
        }), o()
    }

    n.$inject = ["$scope", "EqxCore", "EffectService", "imageModalFactory"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.snowFly", []).directive("eqdEffectSnow", n(2038)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, template: o, scope: {}, controller: r}
    }

    n(2039);
    var o = n(2041), r = n(2042);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="snowFly-effect"><div class="effect-preview snow-fly" id="snowFly"></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        var i = t.core.PageEffectMap, o = i.snowFly, r = {name: "snowFly"};
        n.curEffectJson = r;
        var a = $("#snowFly"), s = new o(r, a, a.width(), a.height());
        s.init().then(function () {
            s.canvas.style.position = "", s.startEffect()
        }), e.$on("$destroy", function () {
            s.stopEffect()
        })
    }

    n.$inject = ["$scope", "EqxCore", "EffectService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.fireWorks", []).directive("eqdEffectFireworks", n(2044)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2045);
    var o = n(2047), r = n(2048);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="fireWorks-effect"><div class="effect-preview fireworks" id="fireworks"></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";
        var i = t.core.PageEffectMap, o = i.fireWorks, r = {name: "fireWorks"};
        n.curEffectJson = r;
        var a = $("#fireworks"), s = new o(r, a, a.width(), a.height());
        s.init().then(function () {
            s.canvas.style.position = "", s.startEffect()
        }), e.$on("$destroy", function () {
            s.stopEffect()
        })
    }

    n.$inject = ["$scope", "EqxCore", "EffectService"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA",
            replace: !1,
            scope: {},
            template: n(2052),
            controller: ["$scope", "EqxCore", "EffectService", "imageModalFactory", function (e, t, n, i) {
                "ngInject";

                function o() {
                    e.fallings = JSON.parse(JSON.stringify(p)), Array.prototype.push.apply(e.fallings, [{
                        name: "烟花",
                        path: "fireWorks"
                    }, {name: "飘雪", path: "snowFly"}]);
                    var t = n.getCurEffectJson();
                    (!t || "fallingObject" !== t.name && "fireWorks" !== t.name && "snowFly" !== t.name) && (t = {
                        name: "fallingObject",
                        src: e.fallings[2],
                        density: 2
                    }), r(t)
                }

                function r(t) {
                    n.curEffectJson = t, "fallingObject" === t.name ? (e.fallings.forEach(function (n, i) {
                        t.src.name === n.name && (e.fallings.splice(i, 1, t.src), e.falling = t.src)
                    }), e.environmentEffect = new a(t, l, l.width(), l.height())) : "fireWorks" === t.name ? (e.environmentEffect = new c(t, l, l.width(), l.height()), e.falling = e.fallings[e.fallings.length - 2]) : (e.environmentEffect = new s(t, l, l.width(), l.height()), e.falling = e.fallings[e.fallings.length - 1]), e.environmentEffect.init().then(function () {
                        e.environmentEffect.canvas.style.position = "", e.environmentEffect.startEffect()
                    })
                }

                var a = t.core.EditPageEffectMap.fallingObject, s = t.core.PageEffectMap.snowFly,
                    c = t.core.PageEffectMap.fireWorks, l = $("#environmentEffect");
                e.environmentEffect = null;
                var p = a.getFallingImages();
                e.onCoverImageChange = function () {
                    var t = {};
                    "fireWorks" === e.falling.path || "snowFly" === e.falling.path ? (t.name = e.falling.path, e.environmentEffect.destroyEffect(), r(t)) : "自定义" === e.falling.name ? i.getImage().then(function (n) {
                        e.falling.path = n.path, t.name = "fallingObject", t.src = e.falling, t.density = 2, e.environmentEffect.destroyEffect(), r(t)
                    }) : (t.name = "fallingObject", t.src = e.falling, t.density = 2, e.environmentEffect.destroyEffect(), r(t))
                }, e.onDensityChange = function (t) {
                    n.curEffectJson.density = t, e.environmentEffect.setDensity(t)
                }, e.$watch("environmentEffect.effectJson.density", function (t, i) {
                    t && t !== i && (n.curEffectJson.density = t, e.environmentEffect.setDensity(t))
                }), e.$on("$destroy", function () {
                    e.environmentEffect.destroyEffect()
                }), o()
            }]
        }
    }

    n(2050), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="environment-effect"><div class="effect-preview" id="environmentEffect"></div><div class="effect-form"><form class="form-contain" role="form"><div class="form-list clearfix"><lable class="form-label">环境图片：</lable><div class="form-input"><eqx-select class="select-sm border-width select-contain" change="onCoverImageChange()" model="falling"><eqx-select-option value="fallingObj" ng-repeat="fallingObj in fallings track by $index">{{::fallingObj.name}}</eqx-select-option></eqx-select></div></div><div ng-if="environmentEffect.effectJson.name == \'fallingObject\'" class="form-list clearfix" style="margin-top: 10px"><lable class="form-label">环境氛围：</lable><div class="form-input"><div class="slider2" ui-slider-t type="n" ng-model="environmentEffect.effectJson.density" fixed="1" min="1" integer="true" max="3"></div><input limit-input class="input_kuang short" type="number" step="1" min="1" max="3" ng-model="environmentEffect.effectJson.density"/> <span class="density">强度</span></div></div></form></div></div>'
}, function (e, t, n) {
    "use strict";
    var i = n(2054), o = angular.module("pageEffect.none", []).directive("eqdEffectNone", i);
    e.exports = o.name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "EA", replace: !0, template: o, scope: {}, controller: ["EffectService", function (e) {
                "ngInject";
                e.curEffectJson = null
            }]
        }
    }

    n(2055);
    var o = n(2056);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="none-effect"><div>点击确定，即可去除特效。</div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.gravity", []).directive("eqdEffectGravity", n(2058)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2059);
    var o = n(2060), r = n(2061);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="gravity-effect"><div class="gravity-preview"><div class="effect-preview"><div class="wrapper-gravity" style="position: absolute;z-index: 0;width: 100%;height:100%"><div class="layer" data-depth="0.5"><img ng-src="{{previewImg}}" alt="图片"></div></div></div><p>重力感应效果请在手机上查看</p></div><div class="gravity-setting"><h6 class="gravity-setting-title">选择重力感应图片：</h6><ul class="gravity-setting-list"><li class="gravity-setting-img" ng-repeat="img in imgList" ng-click="selectImg(img)"><img ng-src="{{file + img.tmbPath}}" alt="img.name"/> <span class="gravity-select-img eqf-yes" ng-if="img.id == gravityJson.properties.imgId"></span></li><li class="gravity-setting-img gravity-setting-img-user" ng-click="userImg()"><span class="gravity-setting-add">+</span> <span class="gravity-setting-select">自定义</span></li></ul></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s, c) {
        "ngInject";

        function l() {
            var e = $(".wrapper-gravity");
            i.parallax(e, {innerW: g, innerH: h, outerW: m, outerH: f, scalarX: 200, scalarY: 200})
        }

        function p(t) {
            var n = t.properties, i = {
                type: b.type,
                title: "重力感应裁切",
                desc: "重力感应图将按照要求的比例进行裁切",
                showItems: !1,
                imgSrc: n.imgSrc,
                cropItems: [{ratio: 1280 / 1214, desc: "重力图比例", innerWFactor: .5, innerHFactor: .8}]
            };
            return r.openCropModal(t, i).then(function (i) {
                var o = i.image;
                if (o.src && o.originSrc) {
                    var r = {cropSize: o.cropSize, imgSrc: o.src, originSrc: o.originSrc};
                    Object.assign(n, r)
                }
                return n.originSrc && !n.imgSrc && (n.imgSrc = n.originSrc), e.previewImg = d + t.properties.imgSrc, Object.assign(b, t), b
            })["catch"](function () {
            })
        }

        function u(e, t) {
            var n = (e - t) / 2;
            return n
        }

        var d = e.file = o.FILE, m = 320, f = 486, g = 1008, h = 1008, v = {}, y = s.getCurrentPage().eqxGravity;
        y && y.compJson && (v = y.compJson);
        var b = e.gravityJson = t.curEffectJson = Object.assign({
            css: {
                width: g,
                height: h,
                top: u(f, h),
                left: u(m, g),
                zIndex: 0
            }, properties: {bgColor: null, imgSrc: null}, type: "q", name: "gravity"
        }, v), x = {attrGroupId: 1, category: 4035, pageNo: 1, pageSize: 7};
        a.getGravityImg(x).then(function (t) {
            e.imgList = t, !b.id && t.length ? e.selectImg(e.imgList[0]) : e.previewImg = d + b.properties.imgSrc
        }), l(), e.selectImg = function (t) {
            b.properties.imgSrc = t.path, b.properties.originSrc = t.path, b.properties.imgId = t.id, e.previewImg = d + t.path
        }, e.userImg = function () {
            var e = {categoryName: "正版授权", disableBgColor: !1};
            n.getBg(e).then(function (e) {
                var t = JSON.parse(JSON.stringify(b));
                t.properties = {imgSrc: e.path, imgId: e.id}, p(t)
            })
        }
    }

    n.$inject = ["$scope", "EffectService", "imageModalFactory", "EqxCore", "HOST", "imageCropFactory", "gravityService", "sceneService", "authorityService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect-gradient", []).directive("eqdEffectGradient", n(2063)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: o, controller: r}
    }

    n(2064);
    var o = n(2066), r = n(2067);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="gradient-effect clearfix"><div id="gradient-wrapper"><div id="gradient-bg"></div></div><form class="form-contain gradient-set"><div class="form-list clearfix"><label class="form-label">渐变颜色：</label><div class="form-input"><eqd-input-color select-color="gradient.backgroundColor" direction="bottom" theme="flo_lef" notify="grid" x="-1" y="2" w="97" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="form-list clearfix"><label class="form-label">持续时间：</label><div class="form-input clearfix"><div class="slider2" ui-slider-t type="n" ng-model="gradient.duration" fixed="1" min="1" max="10"></div><input limit-input class="input_kuang short" ng-change="onChangeDuration()" type="number" step="1" min="1" max="10" ng-model="gradient.duration"/> <span style="display:inline-block;vertical-align: top;line-height: 35px">秒</span></div></div><div class="form-list clearfix"><label class="form-label">渐变方向：</label><div class="form-input"><eqx-select class="select-great border-width select-contain" change="onChangeDirection()" model="gradient.direction.type"><eqx-select-option value="dir.type" ng-repeat="dir in directions track by $index">{{::dir.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class="form-label">开启形式：</label><div class="form-input"><eqx-select class="select-great border-width select-contain" change="onChangeOpen()" model="gradient.openStyle.type"><eqx-select-option value="style.type" ng-repeat="style in openStyles track by $index">{{::style.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" ng-show="gradient.openStyle.type == 1"><label class="form-label">提示文字：</label><div class="form-input"><input class="tips" type="text" placeholder="按下开启" ng-model="gradient.openStyle.tip" ng-change="onChangeTip()"> <span class="tip-num">{{gradient.openStyle.tip | validCharacterNum}}/20</span></div></div></form></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i() {
            var t = n.getCurEffectJson();
            e.directions = [{type: 0, name: "从左到右"}, {type: 1, name: "从右到左"}, {type: 2, name: "从上到下"}, {
                type: 3,
                name: "从下到上"
            }], e.openStyles = [{type: 0, name: "自动开启"}, {
                type: 1,
                name: "按下开启"
            }], t && "gradient" == t.name || (t = {
                name: "gradient",
                direction: e.directions[0],
                openStyle: e.openStyles[0],
                backgroundColor: "rgba(116,173,175,1)",
                duration: 5
            });
            var i = e.gradient = t, r = $("#gradient-wrapper"), a = new s(i, r, r.width(), r.height());
            n.curEffectJson = e.gradient, a.init(), e.$watch("gradient.backgroundColor", function (e, t) {
                e && e !== t && a.changeBgColor(i.backgroundColor)
            }), e.$watch("gradient.duration", function (e, t) {
                e && e !== t && a.changeDuration(i.duration)
            }), e.onChangeDirection = function () {
                a.changeDirection(i.direction)
            }, e.onChangeOpen = function () {
                1 == t.openStyle.type ? t.openStyle.tip = t.openStyle.tip || "按下开启" : t.openStyle.tip = "", a.changeOpenStyle(i.openStyle)
            }, e.onChangeTip = function () {
                o(), a.changeTip(i.openStyle.tip)
            }
        }

        function o() {
            var t = e.gradient.openStyle.tip;
            t && (e.gradient.openStyle.tip = r(t, 10))
        }

        function r(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10, n = 2 * t,
                i = e.replace(/\n|\r/g, " ");
            i = i.replace(/[^\x00-\xff]/g, "xx");
            var o = i.substring(0, n).replace(/xx/g, "中").length;
            return i = e.substring(0, o)
        }

        var a = t.core.EditPageEffectMap, s = a.gradient;
        i()
    }

    n.$inject = ["$scope", "EqxCore", "EffectService"], e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("pageEffect.glassBreak", []).directive("eqdEffectGlassBreak", n(2069)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", replace: !1, scope: {}, template: n(2070), controller: n(2071)}
    }

    e.exports = i
}, function (e, t) {
    e.exports = '<div class="gradient-effect clearfix"><div id="gradient-wrapper"><div id="gradient-bg"></div></div><form class="form-contain gradient-set"><div class="form-list clearfix"><label class="form-label">背景颜色：</label><div class="form-input"><eqd-input-color select-color="effectJson.backgroundColor" direction="bottom" theme="flo_lef" notify="grid" x="-1" y="2" w="97" h="26" toolcolorpicker="styleColorPicker" isconverttransparent="true"></eqd-input-color></div></div><div class="form-list clearfix"><label class="form-label">砸击次数：</label><div class="form-input clearfix"><div class="slider2" ui-slider-t type="n" ng-model="effectJson.time" fixed="1" min="1" integer="true" max="5"></div><input limit-input class="input_kuang short" ng-change="onChangeTime()" type="number" step="1" min="1" max="5" ng-model="effectJson.time"/> <span style="display:inline-block;vertical-align: top;line-height: 35px">次</span></div></div><div class="form-list clearfix"><label class="form-label">提示文字：</label><div class="form-input"><input class="tips" type="text" placeholder="砸我，砸我，用力砸我" ng-model="effectJson.tip" ng-change="onChangeTip()"> <span class="tip-num">{{effectJson.tip | validCharacterNum}}/20</span></div></div></form></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n) {
        "ngInject";

        function i() {
            e.effectJson = n.getCurEffectJson(), e.effectJson && "glassBreak" === e.effectJson.name || (e.effectJson = {
                name: "glassBreak",
                backgroundColor: "rgba(0,0,0,1)",
                time: 3,
                tip: "砸我，砸我，用力砸我"
            });
            var t = $("#gradient-wrapper"), i = new s(e.effectJson, t, t.width(), t.height());
            n.curEffectJson = e.effectJson, i.init(), e.$watch("effectJson.backgroundColor", function (e, t) {
                e && e !== t && i.changeBgColor(e)
            }), e.onChangeTime = function () {
                i.changeTime(e.effectJson.time)
            }, e.$watch("effectJson.time", function (t, n) {
                t && t !== n && i.changeTime(e.effectJson.time)
            }), e.onChangeTip = function () {
                o(), i.changeTip(e.effectJson.tip)
            }
        }

        function o() {
            var t = e.effectJson.tip;
            t && (e.effectJson.tip = r(t, 10))
        }

        function r(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10, n = 2 * t,
                i = e.replace(/\n|\r/g, " ");
            i = i.replace(/[^\x00-\xff]/g, "xx");
            var o = i.substring(0, n).replace(/xx/g, "中").length;
            return i = e.substring(0, o)
        }

        var a = t.core.EditPageEffectMap, s = a.glassBreak;
        i()
    }

    n.$inject = ["$scope", "EqxCore", "EffectService"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    var i = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
            }
        }

        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }(), o = function () {
        function e() {
            "ngInject";
            n(this, e), this.curEffectJson = null
        }

        return i(e, [{
            key: "getCurEffectJson", value: function () {
                return this.curEffectJson
            }
        }, {
            key: "setCurEffectJson", value: function (e) {
                this.curEffectJson = e
            }
        }]), e
    }();
    e.exports = o
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console six-contain effect-console",
                    template: n(2076),
                    resolve: {
                        effectJson: function () {
                            return t
                        }
                    },
                    controller: ["$scope", "EffectService", "effectJson", function (e, t, n) {
                        function i() {
                            if (n) {
                                for (var i = !0, r = 0; r < o.length; r++) if (n.name === o[r].type) {
                                    e.setTab(o[r].type), i = !1;
                                    break
                                }
                                i && e.setTab("environmentEffect"), t.setCurEffectJson(n)
                            } else e.setTab("scratch"), t.setCurEffectJson(null)
                        }

                        var o = e.tabs = [{name: "涂抹", type: "scratch"}, {name: "指纹", type: "finger"}, {
                            name: "环境",
                            type: "environmentEffect"
                        }, {name: "渐变", type: "gradient"}, {name: "重力感应", type: "gravity"}, {
                            name: "砸玻璃",
                            type: "glassBreak"
                        }, {name: "无", type: "none"}], r = e.vm = {tabType: "scratch"};
                        e.setTab = function (e) {
                            e !== r.tabType && (r.tabType = e)
                        }, e.showEffect = function (e) {
                            return r.tabType == e
                        }, e.confirm = function () {
                            var n = t.getCurEffectJson();
                            e.$close(n)
                        }, e.cancel = function () {
                            e.$dismiss("cancel")
                        }, i()
                    }]
                })
            }
        }
    }

    i.$inject = ["modalService"], n(2074), n(2075), e.exports = i
}, function (e, t) {
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">页面特效 <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1939&extra="><span class="eqf-why-f"></span> </a><span class="action">在设置界面可看到效果</span></h4></div><div class="dialog-contain"><div class="form_console dialog-content"><div class="modify_area"><div class="effect-list"><ul><li ng-class="{\'select-effect\': tab.type == vm.tabType}" ng-repeat="tab in tabs" ng-click="setTab(tab.type)" class="all-change">{{::tab.name}}</li></ul></div><div class="effect-detail"><eqd-effect-scratch ng-if="showEffect(\'scratch\')"></eqd-effect-scratch><eqd-effect-finger ng-if="showEffect(\'finger\')"></eqd-effect-finger><environment-effect ng-if="showEffect(\'environmentEffect\')"></environment-effect><eqd-effect-gradient ng-if="showEffect(\'gradient\')"></eqd-effect-gradient><eqd-effect-gravity ng-if="showEffect(\'gravity\')"></eqd-effect-gravity><eqd-effect-glass-break ng-if="showEffect(\'glassBreak\')"></eqd-effect-glass-break><eqd-effect-none ng-if="showEffect(\'none\')"></eqd-effect-none></div></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n() {
        return {
            restrict: "EA", scope: {}, link: function (e, t) {
                t.on("click.pageEffect", function () {
                    return e.$apply(function () {
                        return e.changeEffect()
                    })
                }), e.$on("pageEffect.edit", function () {
                    return e.changeEffect()
                }), e.$on("pageEffect.delete", function () {
                    return e.removeEffect()
                })
            }, controller: ["$scope", "effectModal", "sceneService", function (e, t, n) {
                "ngInject";
                e.changeEffect = function () {
                    var e = n.getCurrentPage(), i = e.pageJson.properties.effect;
                    t.open(i).then(function (t) {
                        if (t && "q" == t.type) {
                            t = e.addGravityJson(t);
                            var n = e.initEqxGravityByJson(t);
                            n && (e.renderGravity(n), e.reEffectJson({name: "gravity"}))
                        } else e.reEffectJson(t), e.deleteGravity()
                    })
                }, e.removeEffect = function () {
                    var e = n.getCurrentPage();
                    e.deleteGravity(), e.reEffectJson(null)
                }
            }]
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("scene.loading", []).factory("psdLoadingService", n(2079)).directive("eqxLoading", n(2080)).directive("eqxPsdLoading", n(2083)).name
}, function (e, t) {
    "use strict";

    function n() {
        function e(e) {
            s.total = e
        }

        function t() {
            return s.total
        }

        function n(e) {
            s.current = e
        }

        function i() {
            return s.current
        }

        function o(e) {
            s.showPsdLoading = e
        }

        function r() {
            return s.showPsdLoading
        }

        function a() {
            return s
        }

        var s = {total: 0, current: 0, showPsdLoading: !1};
        return {
            setTotal: e,
            getTotal: t,
            setCurrent: n,
            getCurrent: i,
            setShowLoading: o,
            getShowLoading: r,
            getLoadingInfo: a
        }
    }

    e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(2082)}
    }

    n(2081), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = "<div id=\"loading\"><div class=\"loading-con\"><img src=\"data:image/svg+xml,%3C!-- By Sam Herbert %28@sherb%29, for everyone. More @ http://goo.gl/7AJzbL --%3E%3Csvg width='44' height='44' viewBox='0 0 44 44' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='0s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='0s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='-0.9s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='-0.9s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\"><p>加载中，请稍后</p></div><div class=\"loading-bg\"></div></div>"
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            restrict: "E", template: n(2085), scope: {}, link: function (t) {
                t.loadInfo = e.getLoadingInfo()
            }
        }
    }

    i.$inject = ["psdLoadingService"], n(2081), n(2084), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div id="psdLoading" ng-show="loadInfo.showPsdLoading"><div class="loading-con"><img src="' + n(2086) + '"><div id="psdUploadStatus">{{loadInfo.current}} / {{::loadInfo.total}}</div><p>上传中，请稍后</p></div><div class="loading-bg"></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/puff-27e2ef.svg"
}, function (e, t, n) {
    "use strict";
    n(2088), e.exports = angular.module("scene.setting", [n(2089), n(2121), n(2124), n(2129)]).factory("sceneSettingService", n(2135)).directive("eqxSceneSettingTrigger", n(2136)).directive("eqxSceneSetting", n(2137)).factory("yqcService", n(2140)).name
}, function (e, t) {
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("sceneSetting.form", []).factory("wxShareModal", n(2090)).directive("eqdAdvancedSetting", n(2094)).directive("eqdCommonSetting", n(2098)).directive("eqdShareSetting", n(2103)).directive("eqdWxShare", n(2106)).directive("eqdVisitStatus", n(2108)).directive("eqdApplyTpl", n(2110)).directive("eqdApplyShow", n(2112)).directive("eqdApplyActivity", n(2114)).directive("eqdEarnMoney", n(2116)).directive("eqdTplCategory", n(2118)).name
}, function (e, t, n) {
    "use strict";

    function i(e) {
        "ngInject";
        return {
            open: function (t) {
                return e.open({
                    windowClass: "console version_frame",
                    template: o,
                    controller: r,
                    resolve: {
                        modalInfo: function () {
                            return t
                        }
                    }
                }).result
            }
        }
    }

    i.$inject = ["$modal"], n(2091);
    var o = n(2092), r = n(2093);
    e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="modal-header no-line"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">×</span></button><h4 class="modal-title">设置{{title}}显示内容</h4></div><div class="dialog-contain counter"><div class="weChatShare"><div class="subContent"><div><div class="radio-square" ng-class="{checked:style.type===\'myself\'}"><em></em> <input class="span2" id="wxShare-myself" name="link" ng-model="style.type" type="radio" value="myself"></div><label for="wxShare-myself">我是XX，</label></div><input placeholder="这是我用易企秀制作的场景，你也来试试吧。" ng-model="style.myselfContent" ng-disabled="style.type !==\'myself\'" check-count="50"> <span class="optionSpan">{{(style.myselfContent ? countCharacters(style.myselfContent.trim()):0)}}/50</span></div><div class="subContent"><div><div class="radio-square" ng-class="{checked:style.type===\'position\'}"><em></em> <input class="span2" id="wxShare-position" name="link" ng-model="style.type" type="radio" value="position"></div><label for="wxShare-position">我是第X位</label></div><input placeholder="分享的人，你也一起来吧！" ng-disabled="style.type !==\'position\'" ng-model="style.positionContent" check-count="50"> <span class="optionSpan">{{(style.positionContent?countCharacters(style.positionContent.trim()):0)}}/50</span></div><div class="subContent"><div><div class="radio-square" ng-class="{checked:style.type===\'selfAndPosition\'}"><em></em> <input class="span2" id="wxShare-selfAndPosition" name="link" ng-model="style.type" type="radio" value="selfAndPosition"></div><label for="wxShare-selfAndPosition">我是XX, 我是第X位</label></div><input placeholder="分享的人，你也一起来吧！" ng-disabled="style.type !==\'selfAndPosition\'" ng-model="style.selfAndPositionContent" check-count="50"> <span class="optionSpan">{{(style.selfAndPositionContent?countCharacters(style.selfAndPositionContent.trim()):0)}}/50</span></div></div></div><div class="modal-footer no-line"><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm()">确定</a></div>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        e = angular.merge(e, t), e.confirm = function () {
            var t = e.style.type;
            e.$close({type: t, description: e.style[t + "Content"]})
        }, e.cancel = function () {
            e.$dismiss()
        }, e.countCharacters = function (e) {
            var t = 0;
            if (!e) return 0;
            for (var n = 0; n < e.length; n++) {
                var i = e.charCodeAt(n);
                i >= 1 && i <= 126 || i >= 65376 && i <= 65439 ? t++ : t += 2
            }
            return t
        }
    }

    n.$inject = ["$scope", "modalInfo"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E",
            template: n(2096),
            scope: {displayLoading: "=", eqxScene: "="},
            controller: ["$scope", "imageModalFactory", "HOST", "sceneSettingService", "modalService", "userAPI", "authorityService", "flagService", "loadingService", "XDAPI", "sceneService", "$q", "sceneMetaService", "sceneMetaAPI", "notifier", "eqxNgPay", "payMessageType", "yqcService", function (e, t, n, i, r, a, s, c, l, p, u, d, m, f, g, h, v, y) {
                "ngInject";

                function b() {
                    e.displayLoading = !0
                }

                function x() {
                    r.openConfirmDialog({
                        msg: "付费企业会员功能，是否升级？",
                        confirmName: "立即升级",
                        cancelName: "我知道了"
                    }).then(function () {
                        window.open(n.HOST + "site/privilege")
                    })
                }

                function w() {
                    function e(e) {
                        return null === e || void 0 === e || "" === e
                    }

                    var t = P.loadingLogo, n = u.eqxScene.getMeta("loadingLogo");
                    return (!e(n) || !e(t)) && n !== t
                }

                function S() {
                    var e = u.eqxScene, t = e.getMetaProperty("eqAdType"), n = E.getMetaProperty("eqAdType");
                    if (t !== n) return !0;
                    switch (P.property.eqAdType) {
                        case 1:
                            var i = e.getMetaProperty("lastPageId"), r = E.getMetaProperty("lastPageId");
                            return !o(i, r);
                        case 3:
                            var a = e.getMetaProperty("bottomLabel"), s = E.getMetaProperty("bottomLabel");
                            return !o(a, s)
                    }
                    return !1
                }

                function k(e) {
                    var t = e.sceneId, i = e.orderAppId, o = e.buyItem, r = e.description, a = e.orderTradeId,
                        s = e.signParam, c = e.functionName;
                    return h.payMulti({
                        orderAppId: i,
                        buyItems: [o],
                        returnUrl: "http://www.eqxiu.com/",
                        description: r,
                        signUrl: n.SERVER_0 + "m/scene/pay/order/sign",
                        orderTradeId: a,
                        jsonPros: JSON.stringify(s)
                    }).then(function (e) {
                        var n = e.value.msgType;
                        return "close" === n ? (console.log("用户关闭"), d.reject("用户关闭")) : n !== v.PAY_SUCCESS ? d.reject("支付失败") : f.polling(a, t, c)
                    })["catch"](function (e) {
                        return console.error(e), d.reject()
                    })
                }

                function T() {
                    if (!w()) {
                        var e = "不需要购买loadingLogo";
                        return g.error(e), d.reject(e)
                    }
                    return f.checkLoadingLogo(P.id, P.loadingLogo).then(function (e) {
                        var t = e.data.map;
                        console.log(t);
                        var n = t.isPaying, i = t.isPurchase, o = t.subXd, r = t.orderTradeId, a = "loadingLogo",
                            s = P.id;
                        if (n) {
                            var c = "有正在处理的请求; 请稍候再试";
                            return g.error(c), d.reject(c)
                        }
                        if (i) var l = f.saveLoadingLogo(P.id, P.loadingLogo); else l = k({
                            orderAppId: 100004,
                            buyItem: {id: 1, name: "自定义加载logo", price: o, type: 6},
                            description: "自定义加载logo2",
                            orderTradeId: r,
                            sceneId: s,
                            signParam: {sceneId: P.id, functionName: a, loadingLogo: P.loadingLogo},
                            functionName: a
                        });
                        return l.then(function (e) {
                            var t = e.data.map;
                            u.eqxScene.setProps(t), E.setProps(t), g.success("自定义加载logo 设置成功")
                        })
                    })["catch"](function (t) {
                        return g.error(e, "自定义加载logo 设置失败"), d.reject(t)
                    })
                }

                function C() {
                    if (!S()) {
                        var e = "不需要设置尾页";
                        return g.error(e), d.reject(e)
                    }
                    var t = I(), n = {1: "技术支持尾页", 2: "技术支持底标", 3: "品牌联合底标", 0: "无尾页和底标"}[t.eqAdType];
                    return f.checkTail(P.id, I()).then(function (e) {
                        var i = e.data.map, o = i.isPaying, r = i.isPurchase, a = i.subXd, s = i.orderTradeId,
                            c = "tailPage", l = P.id;
                        if (o) {
                            var p = "有正在处理的请求; 请稍候再试";
                            return g.error(p), d.reject(p)
                        }
                        var m = 0 === t.eqAdType ? 5 : null;
                        if (r) var h = f.saveTail(l, t); else h = k({
                            orderAppId: 100004,
                            buyItem: {name: n, price: a, type: m},
                            description: n,
                            orderTradeId: s,
                            sceneId: l,
                            signParam: Object.assign({sceneId: P.id, functionName: c}, t),
                            functionName: c
                        });
                        return h.then(function (e) {
                            var t = e.data.map;
                            u.eqxScene.setProps(t), E.setProps(t), g.success(n + "设置成功")
                        })
                    })["catch"](function (e) {
                        var t = e && e.data && e.data.msg || n + "设置失败";
                        return g.error(t), d.reject(e)
                    })
                }

                function I() {
                    var e = P.property.eqAdType, t = {eqAdType: e};
                    switch (e) {
                        case 1:
                            t.lastPageId = P.property.lastPageId || "";
                            break;
                        case 2:
                            break;
                        case 3:
                            t.bottomLabel = P.property.bottomLabel;
                            break;
                        case 0:
                    }
                    return t
                }

                function $(t, n) {
                    if (!w() && !S()) return n(!0);
                    var i = d.resolve();
                    t && (i = r.openConfirmDialog({
                        msg: "是否保存更改内容？",
                        confirmName: "保存",
                        cancelName: "不保存"
                    })), i.then(function () {
                        e.buy().then(function () {
                            n(!0)
                        })["catch"](function () {
                            n(!1)
                        })
                    }, function () {
                        n(!0)
                    })
                }

                e.FILE = n.FILE, e.buyGoods = n.HOST + "pay/buyGoods/member/base";
                var E = e.eqxScene, P = e.meta = E.sceneJson.meta, _ = e.user = i.user, q = e.vm = {
                    checkLoadingLogo: !!P.loadingLogo,
                    loadingLogoPrice: 100,
                    freeLoadingLogoPriceTime: 0,
                    tailPrice: 100,
                    isFreeUser: 1 === _.type,
                    isCommonUser: 5 === _.type || 51 === _.type,
                    disableLoadingLogo: s.forbid("loadingLogo"),
                    customLoadingLogo: s.permission("customLoadingLogo"),
                    noneLastPageAndMark: s.permission("noneLastPageAndMark")
                }, O = i.lastPageInfo, A = null;
                e.buyXd = i.buyXd, 21 === _.type && _.extPermi.indexOf(",1401,") >= 0 || (e.sceneBuyXd = !0), i.pageTpls().then(function (t) {
                    e.pageTpls = t
                }), i.bottomPageTpls().then(function (t) {
                    e.bottomPageTpls = t
                }).then(function () {
                    var t = e.meta.property;
                    !t.bottomLabel && s.allow("corandingBottomLogo") && a.getCompanyInfo().then(function (e) {
                        A = e.data.obj
                    })
                }).then(function () {
                    return a.getUserMemberDetail()
                }).then(function (t) {
                    e.memberDetail = t;
                    var n = e.memberDetail.loadingLogo;
                    n && (/^\d+$/.test(n) ? q.loadingLogoPrice = 0 : q.loadingLogoPrice *= n);
                    var i = e.memberDetail.tailPage;
                    i && (/^\d+$/.test(i) ? q.tailPrice = 0 : q.tailPrice *= i);
                    var o = e.meta.property;
                    s.allow("corandingBottomLogo") && c.sceneSetting.unSLPBL && (o.bottomLabel || (o.bottomLabel = {}, o.bottomLabel.name = A.name, o.bottomLabel.url = A.website), o.bottomLabel && o.bottomLabel.id ? e.switchToAdState(3, {
                        id: o.bottomLabel.id,
                        name: o.bottomLabel.name,
                        url: o.bottomLabel.url
                    }) : e.switchToAdState(3, {
                        id: e.bottomPageTpls[0].id,
                        name: e.bottomPageTpls[0].name,
                        url: e.bottomPageTpls[0].url
                    })), c.sceneSetting.flagEqAdType && (0 !== P.property.eqAdType && e.switchToAdState(0), c.sceneSetting.flagEqAdType = !1)
                }), e.toggleCheckLoadingLogo = function () {
                    q.checkLoadingLogo = !q.checkLoadingLogo, q.checkLoadingLogo || (P.loadingLogo = null, P.loadingLogo = null), b()
                }, e.freeCheck = function () {
                    return !q.disableLoadingLogo || (x(), !1)
                }, e.showAd1Pages = function () {
                    return 1 === P.property.eqAdType && !y.isAd()
                }, e.uploadLoadingLogo = function () {
                    b(), t.getImage().then(function (t) {
                        P.loadingLogo = t.path, e.displayLoading = !0, P.loadingLogo = t.path
                    })
                }, e.switchToAdState = function (t, n) {
                    return 2 != t && 3 != t || !q.isFreeUser ? (e.displayLoading = !1, e.firstLastPageBottomLogo(), 1 !== t && P.property.activityPageId ? (r.openMsgDialog({msg: "该场景已参加活动, 不可以清除易企秀尾页。"}), !1) : 3 === t && n.name && n.name.length > 16 ? (r.openMsgDialog({msg: "品牌联合底标名称不能超过16个字符"}), !1) : void((P.property.eqAdType !== t || n) && (l.show(), O[P.property.eqAdType].dele(E).then(function () {
                        return P.property.eqAdType = t, O[P.property.eqAdType].add(E, n)
                    }).then(function () {
                        if (E.currentPage.pageJson.num !== E.sceneJson.list.length) E.pageScroll.goToLastPage().then(function () {
                            l.hide()
                        }); else if (E.currentPage.pageJson.num !== E.config.toPageIndex + 1) {
                            var e = E.eqxPageList.slice(-1)[0];
                            e.active().then(function () {
                                e.deactive().show(), l.hide()
                            })
                        } else l.hide()
                    })["catch"](function (e) {
                        l.hide(), console.log(e)
                    })))) : void x()
                }, e.firstLastPageBottomLogo = function () {
                    c.sceneSetting.unSLPBL = !1
                }, e.buy = function () {
                    var e = w(), t = S();
                    if (!e && !t) return d.resolve();
                    var n = d.resolve();
                    return e && (n = n.then(T)), t && (n = n.then(C)), n
                }, e.$on("save.advanced", function (e, t) {
                    $(!1, t)
                }), e.$on("leave.advanced", function (e, t) {
                    $(!0, t)
                }), e.$on("close.advanced", function (e, t) {
                    $(!0, t)
                })
            }]
        }
    }

    var o = n(93).isSameValue;
    n(2095), e.exports = i
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="advance-setting"><h6 class="des mt20">加载设置</h6><div class="setting-logo-box mr20" style="border-bottom:1px solid #ccd5db;height:56px;margin-top:20px"><div class="user-logo-checkbox border"><div class="checkbox-square" ng-click="toggleCheckLoadingLogo();" ng-class="{checked: vm.checkLoadingLogo}"><em class="eqf-yes"></em> <input type="checkbox" ng-disabled="vm.disableLoadingLogo"></div><em>自定义加载logo</em></div><div class="setting-logo border" ng-if="vm.checkLoadingLogo" ng-click="uploadLoadingLogo()"><div class="load-logo-contain"><img ng-if="!meta.loadingLogo" src="' + n(2097) + '"> <img ng-if="meta.loadingLogo" ng-src="{{FILE + meta.loadingLogo}}"></div><span class="des">设置加载logo</span></div><div class="logo-size" ng-if="vm.checkLoadingLogo">118*118px</div><div class="logo-price"><span ng-show="memberDetail.loadingLogo < 1">需<span style="color:#ff5448">{{vm.loadingLogoPrice}}</span>秀点 <a ng-if="sceneBuyXd" ng-click="buyXd()" style="color:#a3afb7;padding-left:10px"><ins>充值</ins> </a><a href="{{buyGoods + \'?cl=zdylg\'}}" ng-if="vm.customLoadingLogo" style="color:#a3afb7" target="_blank"><ins>升级<span style="color: red">vip</span></ins> </a></span><span ng-show="memberDetail.loadingLogo >= 1">免费<span style="color:#ff5448">{{memberDetail.loadingLogo > 9999 ? \'不限\' : memberDetail.loadingLogo}}</span>次</span></div></div><h6 class="des mt20">尾页与底标 <a ng-if="vm.isFreeUser" ng-click="freeCheck()" style="padding-left:10px;color:#a3afb7"><ins>免费</ins></a></h6><table class="last-page-radio"><tr ng-click="switchToAdState(1);" ng-class="{uncheckedbg:(meta.property.eqAdType == 1)}"><td class="choise"><div class="radio-square" ng-class="{checked: (meta.property.eqAdType==1)}"><em></em></div><em>技术支持尾页</em></td><td class="price">免费</td></tr><tr ng-click="switchToAdState(2); " ng-class="{uncheckedbg:(meta.property.eqAdType == 2), \'disable-tail\': vm.isFreeUser}" ng-hide="vm.isCommonUser"><td class="choise"><div class="radio-square" ng-class="{checked: (meta.property.eqAdType == 2)}"><em></em></div><em>技术支持底标</em></td><td class="price" ng-if="vm.isFreeUser">需<span style="color:#ff5448">15</span>秀点 <a ng-if="sceneBuyXd" ng-click="buyXd()" style="color:#a3afb7;padding-left:10px"><ins>充值</ins></a></td><td class="price" ng-if="!vm.isFreeUser">免费</td></tr><tr ng-click="switchToAdState(3,{id: bottomPageTpls[0].id, name: bottomPageTpls[0].name, url: bottomPageTpls[0].url});" ng-class="{uncheckedbg:(meta.property.eqAdType == 3), \'disable-tail\': vm.isFreeUser}"><td class="choise"><div class="radio-square" ng-class="{checked: (meta.property.eqAdType == 3)}"><em></em></div><em>品牌联合底标</em></td><td class="price" ng-if="vm.isFreeUser">需<span style="color:#ff5448">30</span>秀点 <a ng-if="sceneBuyXd" ng-click="buyXd()" style="color:#a3afb7;padding-left:10px"><ins>充值</ins></a></td><td class="price" ng-if="!vm.isFreeUser">免费</td></tr><tr ng-click="switchToAdState(0);" ng-class="{uncheckedbg:(meta.property.eqAdType==0)}" ng-hide="vm.isCommonUser"><td class="choise"><div class="radio-square" ng-class="{checked: (meta.property.eqAdType == 0)}"><em></em></div><em>无尾页和底标</em></td><td class="price" ng-show="memberDetail.tailPage < 1">需<span style="color:#ff5448">{{vm.tailPrice}}</span>秀点 <a ng-if="sceneBuyXd" ng-click="buyXd()" style="color:#a3afb7;padding-left:10px"><ins>充值</ins> </a><a ng-if="vm.noneLastPageAndMark" href="{{buyGoods + \'?cl=qctp\'}}" style="color:#a3afb7" target="_blank"><ins>升级<span style="color: red">vip</span></ins></a></td><td class="price" ng-show="memberDetail.tailPage >= 1">免费<span style="color:#ff5448">{{memberDetail.tailPage > 9999 ? \'不限\' : memberDetail.tailPage}}</span>次</td></tr></table><div class="brand-link-hem" ng-show="meta.property.eqAdType == 3"><div class="brand-link-name"><input type="text" class="form-control" ng-model="meta.property.bottomLabel.name" ng-model-options="{debounce: 1000}" ng-disabled="vm.isFreeUser" ng-change="switchToAdState(3, {name:meta.property.bottomLabel.name})" id="changeMessage" placeholder="名称"/></div><div class="brand-link-href"><input type="text" class="form-control" ng-model="meta.property.bottomLabel.url" ng-model-options="{debounce: 1000}" ng-disabled="vm.isFreeUser" ng-change="switchToAdState(3, {url:meta.property.bottomLabel.url})" id="linkAddress" placeholder="http://eqxiu.com"/></div></div><div class="last-page-contain" ng-if="showAd1Pages()"><div eqd-scroll style="height: 100%" disable-mouse="true" prevent-exception="true"><ul><li class="last-cover-img" style="text-align:center;border-radius:4px;border:1px solid #ccd5db" ng-click="switchToAdState(1, {id:null})"><span class="lp-list default-last-page" style="line-height:152px" ng-class="{checked: !meta.property.lastPageId}">默认</span><div class="checkbox-square" ng-class="{checked:!meta.property.lastPageId}"><em class="eqf-yes"></em></div></li><li class="last-cover-img" ng-repeat="pageTpl in pageTpls" eqx-loading-image="{{pageTpl.properties.thumbSrc}}" data-background-size="cover" data-width="100" data-height="158" ng-click="switchToAdState(1, {id:pageTpl.id})"><div class="checkbox-square" ng-class="{checked:meta.property.lastPageId == pageTpl.id}"><em class="eqf-yes"></em></div></li></ul></div></div><div class="last-page-contain" ng-if="meta.property.eqAdType == 3" ng-hide="vm.isFreeUser"><div eqd-scroll style="height: 100%"><ul><li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click="switchToAdState(3, {id:bottomPageTpl.id})"><img src="' + n(2097) + '"> <img class="bottom-img" ng-src="{{FILE + bottomPageTpl.properties.thumbSrc}}"/><div class="checkbox-square" ng-class="{checked: meta.property.eqAdType == 3 && meta.property.bottomLabel.id == bottomPageTpl.id}"><em class="eqf-yes"></em></div></li></ul></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/pic-80bac5.svg"
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "E", template: n(2101), scope: {displayWx: "=", eqxScene: "="}, controller: n(2102)}
    }

    n(2099), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="basic-setting"><div class="basic-content"><div class="basic-info clearfix"><div class="left"><div class="cover-img"><a ng-click="changeCover();"><img ng-src="{{meta.cover | qiniuZoom : 180}}"/> <em class="border">更换封面</em></a></div></div><div class="right"><div class="setting-name"><em>标题</em><div class="setting-value"><input name="name" type="text" class="form-control name" ng-class="{redborder:(!meta.name)}" id="name" placeholder="场景名称" eqx-str ng-change="maxName()" ng-model="meta.name" ng-focus="showWx()" ng-blur="hideWx()" stop-propagation> <span class="input-tip" ng-if="!disableTitleLength">{{meta.name | validCharacterNum}}/48</span> <span class="input-tip" ng-if="disableTitleLength">{{meta.name | validCharacterNum}}/20</span></div></div><div class="setting-description"><em style="line-height:48px">描述</em><div class="setting-value"><textarea style="font-size:12px" placeholder="我用易企秀做了一个超酷炫的H5，快来看看吧。" ng-model="meta.description" class="description form-control" ng-change="maxDescription()" rows="2" id="description" name="description" ng-focus="showWx()" ng-blur="hideWx()" stop-propagation>\n                            </textarea><span class="text-tip">{{meta.description | validCharacterNum}}/60</span></div></div></div></div><div class="setting-group setting-share"><eqd-wx-share meta="meta"></eqd-wx-share></div><div class="setting-group setting-meta"><eqd-visit-status meta="meta" eqx-scene="eqxScene"></eqd-visit-status></div><div class="setting-group setting-flip" ng-click="hideWx()"><h6 style="line-height: 50px">翻页方式</h6><div class="setting-line clearfix" ng-click="hideWx()"><div class="scene-type-contain select-up-show"><eqx-select class="select-great select-contain border-width" change="onPageModeChange()" model="meta.pageMode"><eqx-select-option value="pageMode.type" ng-repeat="pageMode in PAGE_MODES">{{::pageMode.name}}</eqx-select-option></eqx-select></div><div class="music-cycle border" ng-class="{checkedbg: property.triggerLoop}"><div class="checkbox-square" ng-class="{checked: property.triggerLoop}"><em class="eqf-yes"></em> <input type="checkbox" id="triggerLoop" ng-change="onLoopChange()" ng-model="property.triggerLoop" name="iCheck"/></div><em>循环播放</em></div><div class="music-cycle border" ng-class="{checkedbg: property.autoFlip}"><div class="checkbox-square" ng-class="{checked: property.autoFlip}"><em class="eqf-yes"></em> <input type="checkbox" ng-change="onAutoFlipChange()" ng-model="property.autoFlip"></div><em>自动播放</em></div><div class="flip-num" style="width:120px" ng-if="!!property.autoFlip"><input type="number" ng-change="onAutoFlipTimeChange()" class="form-control" limit-input min="1" step="0.1" max="60" ng-model="property.autoFlipTime" stop-propagation/> <span class="speed">秒</span></div></div><div class="setting-line clearfix" style="margin-top: 10px"><div class="music-cycle border" style="margin-left:0;width:178px" ng-class="{checkedbg: property.forbidHandFlip}"><div class="checkbox-square" ng-class="{checked: property.forbidHandFlip}"><em class="eqf-yes"></em> <input type="checkbox" ng-disabled="isHandFlip" ng-change="onHandFlipChange()" ng-model="property.forbidHandFlip" name="iCheck"></div><em>禁止滑动进入下一页</em></div><a target="_blank" ng-if="isHandFlip" style="height: 36px;display: inline-block;line-height: 36px;margin-left: 10px" href="{{buyGoods + \'?cl=jzfy\'}}"><ins>升级<span style="color: red">vip</span>可用</ins></a></div><div style="display: inline-block"><h6 style="line-height: 50px">场景类型</h6><div class="setting-line"><div class="scene-type-contain select-up-show"><eqx-select class="select-great select-contain border-width" change="onSceneTypeChange()" model="meta.type"><eqx-select-option value="type.value" ng-repeat="type in SCENE_TYPES">{{::type.name}}</eqx-select-option></eqx-select></div></div></div><div style="display: inline-block"><h6 style="margin-left: 20px;line-height: 50px">场景页码</h6><div class="music-cycle border setting-line" ng-class="{checkedbg: property.slideNumber}"><div class="checkbox-square" ng-class="{checked: property.slideNumber}"><em class="eqf-yes"></em> <input type="checkbox" ng-change="toggleProgressBar()" ng-model="property.slideNumber"></div><em>显示</em></div></div></div></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t, n, i, o, r, a, s, c, l) {
        "ngInject";

        function p(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 24, n = 2 * t,
                i = e.replace(/\n|\r/g, " ");
            i = i.replace(/[^\x00-\xff]/g, "xx");
            var o = i.substring(0, n).replace(/xx/g, "中").length;
            return i = e.substring(0, o)
        }

        function u() {
            if (!f.name || !f.name.trim()) return i.openMsgDialog({msg: "场景标题不能为空！"}), !1;
            var e = (f.accessCode || "").length;
            return !(e > 0 && e < 4) || (i.openMsgDialog({msg: "请输入有效的场景密码！"}), !1)
        }

        function d(e, t) {
            if (!n.needSaveCommonSetting(f)) return t(!0);
            var a = r.resolve();
            e && (a = i.openConfirmDialog({
                msg: "是否保存更改内容？",
                confirmName: "保存",
                cancelName: "不保存"
            })), a.then(function () {
                return u() ? n.saveCommonSetting(f).then(function () {
                    t(!0)
                })["catch"](function () {
                    t(!1), o.error("常用设置保存失败")
                }) : void t(!1)
            }, function () {
                t(!0)
            })
        }

        e.FILE = l.FILE;
        var m = e.eqxScene, f = e.meta = e.eqxScene.sceneJson.meta, g = e.property = f.property;
        f.type = f.type || 101, e.SCENE_TYPES = s, e.PAGE_MODES = c, e.isHandFlip = a.permission("forbidHandFlip"), e.disableTitleLength = a.permission("disableTitleLength"), e.buyGoods = l.HOST + "pay/buyGoods/member/base", e.maxDescription = function () {
            f.description && (f.description = p(f.description, 30))
        }, e.maxName = function () {
            f.name && (e.disableTitleLength ? f.name = p(f.name, 10) : f.name = p(f.name, 24))
        }, e.changeCover = function () {
            e.showWx(), t.getSquareImage().then(function (e) {
                f.cover = e
            })
        }, e.onSceneTypeChange = function () {
            e.hideWx()
        }, e.onPageModeChange = function () {
            e.hideWx(), m.changePageMode(f.pageMode), m.pageScroll.setScrollMode(f.pageMode)
        }, e.onLoopChange = function () {
            m.pageScroll.setLoop(g.triggerLoop)
        }, e.onAutoFlipChange = function () {
            m.pageScroll.setAutoFlip(!!g.autoFlip), m.pageScroll.startAutoFlip()
        }, e.onAutoFlipTimeChange = function () {
            m.pageScroll.setAutoFlipTime(g.autoFlipTime), m.pageScroll.startAutoFlip()
        }, e.onHandFlipChange = function () {
            m.pageScroll.setHandleFlip(g.forbidHandFlip)
        }, e.toggleProgressBar = function () {
            var e = m.progressBar;
            return g.slideNumber ? e.show() : void e.hide()
        }, e.showWx = function () {
            e.displayWx = !0
        }, e.hideWx = function () {
            e.displayWx = !1
        }, e.$on("save.common", function (e, t) {
            d(!1, t)
        }), e.$on("leave.common", function (e, t) {
            d(!0, t)
        }), e.$on("close.common", function (e, t) {
            d(!0, t)
        })
    }

    n.$inject = ["$scope", "imageModalFactory", "sceneMetaService", "modalService", "notifier", "$q", "authorityService", "SCENE_TYPES", "PAGE_MODES", "HOST"], e.exports = n
}, function (e, t, n) {
    "use strict";

    function i() {
        return {
            restrict: "E", template: n(2105), scope: {eqxScene: "="}, controller: ["$scope", function (e) {
                "ngInject";

                function t(e) {
                    e(!0)
                }

                var n = e.eqxScene;
                e.meta = n.sceneJson.meta, e.$on("save.share", function (e, n) {
                    t(n)
                }), e.$on("leave.share", function (e, n) {
                    t(n)
                }), e.$on("close.share", function (e, n) {
                    t(n)
                })
            }]
        }
    }

    n(2104), e.exports = i
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="share-setting"><div class="share-setting-content"><h6 style="line-height: 50px">易企秀分享</h6><eqd-apply-tpl></eqd-apply-tpl><eqd-apply-show></eqd-apply-show><eqd-earn-money></eqd-earn-money><eqd-apply-activity></eqd-apply-activity></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2107), scope: {meta: "="}, controller: ["$scope", "wxShareModal", function (e, t) {
                "ngInject";

                function n(e) {
                    var t = "";
                    if (e && e.type) switch (e.type) {
                        case"myself":
                            t = "我是XX， " + e.description;
                            break;
                        case"position":
                            t = "我是第X位" + e.description;
                            break;
                        case"selfAndPosition":
                            t = "我是XX， 我是第X位" + e.description
                    }
                    return t
                }

                var i = e.meta;
                i.property.shareDes = i.property.shareDes || {};
                var o = e.shareDes = i.property.shareDes, r = {
                    title: "",
                    style: {
                        type: "myself",
                        myselfContent: "这是我用易企秀制作的场景，你也来试试吧。",
                        positionContent: "分享的人，你也一起来吧！",
                        selfAndPositionContent: "分享的人，你也一起来吧！"
                    }
                };
                e.titleContent = n(o.title), e.descContent = n(o.description), e.addShareTitle = function () {
                    if (r.title = "标题", o.title && o.title.type) {
                        var i = o.title.type;
                        r.style.type = i, r.style[i + "Content"] = o.title.description
                    }
                    t.open(r).then(function (t) {
                        e.titleContent = n(t), o.title = t
                    })
                }, e.addShareDescription = function () {
                    if (r.title = "描述", o.description && o.description.type) {
                        var i = o.description.type;
                        r.style.type = i, r.style[i + "Content"] = o.description.description
                    }
                    t.open(r).then(function (t) {
                        e.descContent = n(t), o.description = t
                    })
                }, e.clearTitleShare = function () {
                    e.titleContent = "", delete o.title
                }, e.clearDescShare = function () {
                    e.descContent = "", delete o.description
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<h6 style="line-height: 50px">微信分享时显示</h6><div><div class="wechatShareShow"><span class="title border" ng-click="addShareTitle()">点击添加标题</span> <input name="name" type="text" ng-model="titleContent" ng-show="titleContent" ng-disabled="true"> <a class="btn out-red" ng-show="titleContent" ng-click="clearTitleShare()">删除</a></div><div class="wechatShareShow"><span class="title border" ng-click="addShareDescription()">点击添加描述</span> <input name="name" type="text" ng-model="descContent" ng-show="descContent" ng-disabled="true"> <a class="btn out-red" ng-show="descContent" ng-click="clearDescShare()">删除</a></div><div><div class="checkbox-square" ng-class="{checked: shareDes.avatar}"><em class="eqf-yes"></em> <input type="checkbox" class="option" ng-model="shareDes.avatar"></div><em>将场景封面替换为微信头像</em></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2109),
            scope: {meta: "=", eqxScene: "="},
            controller: ["$scope", "modalService", "EqxCore", "authorityService", "sceneSettingService", "HOST", function (e, t, n, i, o, r) {
                "ngInject";

                function a() {
                    var e = new n.Guess(s.cover, c.$ele);
                    return e.requestSceneDataWithPassword = function (t) {
                        s.accessCode === t ? e.clearGuess() : e.warnGuess()
                    }, e
                }

                var s = e.meta, c = e.eqxScene, l = null;
                s.accessCode ? (e.sceneStatue = 3, l = a()) : e.sceneStatue = s.status, e.canChangeStatus = function () {
                    return s.status !== -1 && s.status !== -2
                }, e.disableSecretSetting = i.permission("disableSecretSetting"), e.changeSceneStatue = function () {
                    if (s.promIds) return 1 !== e.sceneStatue && t.openMsgDialog({msg: "该场景已经参与活动，不可以关闭或加密!"}), void(e.sceneStatue = s.status = 1);
                    if (3 === e.sceneStatue) {
                        if (!o.isPassOrPage()) return e.sceneStatue = 1, void t.openConfirmDialog({
                            msg: "付费企业功能，是否升级？",
                            confirmName: "立即升级",
                            cancelName: "我知道了"
                        }).then(function () {
                            window.open(r.HOST + "site/privilege")
                        });
                        s.status = 1, l = a()
                    } else s.status = e.sceneStatue, s.accessCode = "", l && (l.clearGuess(), l = null)
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<h6 style="line-height: 50px">场景访问状态</h6><div class="setting-line clearfix" ng-show="canChangeStatus()"><div class="scene-type-contain"><eqx-select class="select-great select-contain border-width" change="changeSceneStatue()" model="sceneStatue"><eqx-select-option value="1">允许访问</eqx-select-option><eqx-select-option value="2">不允许访问</eqx-select-option><eqx-select-option value="3" ng-if="meta.applyTemplate!=2 &&\n                        !disableSecretSetting">加密访问</eqx-select-option></eqx-select></div><div class="flip-num" ng-if="sceneStatue == 3"><input type="text" maxlength="4" class="form-control password" id="accessCode" placeholder="请设置4位数字的密码" ng-model="meta.accessCode" maxlength="4" ng-disabled="meta.applyTemplate == \'1\' || meta.isShow == \'1\' || meta.promIds"></div></div><h6 ng-show="!canChangeStatus()" class="des mt20" style="color:#ff6e6e">当前场景无法设置访问状态</h6>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2111),
            controller: ["$scope", "authorityService", "sceneMetaService", "modalService", "sceneSettingService", "sceneAPI", "sceneCategoryAPI", "HOST", "yqcService", "sceneService", "notifier", "userService", "storageService", "$q", "$rootScope", function (e, t, n, i, o, r, a, s, c, l, p, u, d, m, f) {
                "ngInject";

                function g() {
                    return [1, 2].includes(h.applyTemplate)
                }

                var h = e.oldMeta = l.eqxScene.meta, v = e.eqxScene, y = u.getCurrentUser();
                e.applyTplTips = "", e.allowApplyPcTpl = t.allow("shareApplyPCTempEntrance"), e.allowApplyAppTpl = t.allow("shareApplyAppTempEntrance"), e.allowSetTplPrice = t.allow("setTplPrice"), e.disableShareApplyTempInPC = t.allow("disableShareApplyTempInPC"), e.isApplyingTpl = g, e.disableApplyTpl = function () {
                    return !o.canVisitScene(h) || c.isAd() || e.applyTplTips || !h.publishTime || g() || 3 === h.isTpl
                };
                var b = e.category = {
                    show: !1,
                    price: h.price || 0,
                    hasSource: !1,
                    source: void 0,
                    isPcTpl: e.allowApplyPcTpl
                }, x = e.applyObj = {applyNormalTpl: g(), applyCompanyTpl: 3 === h.isTpl};
                b.show = x.applyNormalTpl, e.allowApplyPcTpl ? o.scenePrices().then(function (t) {
                    e.tplPrices = t
                }) : o.appScenePrice().then(function (t) {
                    e.tplAppPrices = t
                }), e.onApplyNormalTplChange = function () {
                    b.show = x.applyNormalTpl
                }, e.$watch("applyTplTips", function (e) {
                    e && (x.applyNormalTpl = !1, b.show = !1)
                }), e.copyToAppScene = function () {
                    if (!h.publishTime || e.applyTplTips) {
                        var t = "";
                        t = h.publishTime ? e.applyTplTips : "发布后才能申请", p.success(t)
                    } else i.openConfirmDialog({
                        msg: "申请移动端模板时，将复制出一份场景，该场景仅保留移动端支持的功能，确定申请移动端模板吗？",
                        confirmName: "确定",
                        cancelName: "取消"
                    }).then(function () {
                        var e = window.open();
                        f.$broadcast("savePage", function () {
                            r.copyToAppScene(h.id).then(function (t) {
                                t.success && (e.location = s.HOST + "c/" + t.obj)
                            })
                        })
                    })
                }, e.showPcTplPrice = function () {
                    return x.applyNormalTpl && e.allowApplyPcTpl && e.allowSetTplPrice
                }, e.showAppTplPrice = function () {
                    return x.applyNormalTpl && !e.allowApplyPcTpl
                }, e.onTplPriceChange = function () {
                    if (g()) {
                        var e = m.resolve();
                        2 === h.applyTemplate && (e = i.openConfirmDialog("模板再次更改价格, 价格生效时间将延迟7天<br>(免费改为付费，延迟30天)<br>是否修改?")), e.then(function () {
                            a.applyTpl(h.id, b.price).then(function () {
                                v.setProps({applyTemplate: 1, price: b.price}), p.success("设置模板价格成功")
                            }, function () {
                                p.error("设置模板价格失败")
                            })
                        }, function () {
                            b.price = h.price || 0
                        })
                    }
                }, e.showApplyCompanyTpl = function () {
                    return 2 === y.type
                }, e.getApplyCompanyTplTips = function () {
                    var e = "";
                    return g() ? e = "您已勾选“申请为模板”，请取消勾选此项，再申请为企业模板" : h.publishTime || (e = "发布后才能申请"), e
                }, e.getApplyNormalTplTips = function () {
                    return 3 === h.isTpl ? e.applyTplTips = "您已勾选“申请企业模板”，请取消勾选此项，再申请为模板" : h.publishTime || (e.applyTplTips = "发布后才能申请"), e.applyTplTips
                }, e.disableCompanyTpl = function () {
                    return !o.canVisitScene(h) || g() || !h.publishTime
                }, e.onApplyCompanyTplChange = function () {
                    x.applyCompanyTpl ? n.applyCompanyTpl().then(function () {
                        h.isTpl = 3, x.applyNormalTpl = !1, b.show = !1, e.applyTplTips = "您已勾选“申请企业模板”，请取消勾选此项，再申请为模板", p.success("申请企业模板成功")
                    })["catch"](function () {
                        p.error("申请企业模板失败")
                    }) : n.cancelCompanyTpl().then(function () {
                        h.isTpl = 0, e.applyTplTips = "", p.success("取消企业模板成功")
                    })["catch"](function () {
                        p.error("取消企业模板失败")
                    })
                }, e.applyTplToXiuKeCenter = function () {
                    function e() {
                        var e = window.open();
                        return a.applyTpl(h.id).then(function () {
                            h.applyTemplate = 1, e.location = s.HOST + "showker"
                        }, function (t) {
                            e.close(), 120312 === t.data.code ? p.error("已预申请，请前往秀客中心查看") : p.error("申请模板失败")
                        })
                    }

                    d.getItemByUser("xiuKeCenterApplyInfo") ? e() : i.openConfirmDialog({
                        msg: "模板申请将在秀客中心完成\n\n请移步秀客中心，完成模板定价、分类等信息申请设置。",
                        confirmName: "确定",
                        cancelName: "取消"
                    }).then(function () {
                        e().then(function () {
                            d.setItemByUser("xiuKeCenterApplyInfo", !0)
                        })
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="share-item-box clearfix"><div class="share-checkbox-container border hint--right hint--rounded" data-hint="{{getApplyNormalTplTips()}}" ng-class="{checkedbg: isApplyingTpl() || applyObj.applyNormalTpl}"><div class="checkbox-square" ng-class="{checked: applyObj.applyNormalTpl}"><em class="eqf-yes"></em><input type="checkbox" class="option" ng-if="disableShareApplyTempInPC" ng-model="applyObj.applyNormalTpl" ng-change="onApplyNormalTplChange()" ng-disabled="disableApplyTpl()"> <input type="checkbox" class="option" ng-if="!disableShareApplyTempInPC" ng-click="applyTplToXiuKeCenter()" ng-disabled="disableApplyTpl()"></div><em>{{::allowApplyPcTpl ? \'申请为电脑端模板\' : \'申请为移动端模板\'}}</em></div><div class="share-checkbox-container border" style="width: 100px; margin-left: 20px" ng-show="applyObj.applyNormalTpl && category.source" ng-class="{checkedbg: category.hasSource}"><div class="checkbox-square" ng-class="{checked: category.hasSource}"><em class="eqf-yes"></em> <input type="checkbox" style="width: 100px" ng-model="category.hasSource" ng-disabled="isApplyingTpl()"></div><em>设为征集</em></div><div class="scene-type-contain ml20" style="width: 100px" ng-if="showPcTplPrice() && disableShareApplyTempInPC"><eqx-select class="select-great select-contain border-width" change="onTplPriceChange()" model="category.price"><eqx-select-option value="price.value" ng-repeat="price in tplPrices">{{::price.name}}</eqx-select-option></eqx-select></div><div class="scene-type-contain ml20" style="width: 100px" ng-if="showAppTplPrice()"><eqx-select class="select-great select-contain border-width" change="onTplPriceChange()" model="category.price"><eqx-select-option value="price.value" ng-repeat="price in tplAppPrices">{{::price.name}}</eqx-select-option></eqx-select></div><span class="tpl-status-tips" ng-switch="oldMeta.applyTemplate"><span ng-switch-default>未申请</span> <span ng-switch-when="1" class="hint--bottom hint--rounded" data-hint="再次更改模板价格,价格的生效时间会延迟"><em class="eqf-clock-l"></em> 申请中 <em class="eqf-why-f"></em> </span><span ng-switch-when="2"><em class="eqf-yes"></em>审核通过</span> <span ng-switch-when="-1"><em class="eqf-slash-l"></em>审核未通过 </span></span><a class="tpl-more-detail" target="_blank" href="http://sales.eqxiu.com/gf.html">模板申请须知</a></div><eqd-tpl-category category="category"></eqd-tpl-category><div class="apply-mobile-btn" ng-show="allowApplyPcTpl && allowApplyAppTpl" ng-click="copyToAppScene()">申请移动端模板</div><div class="clearfix" style="margin-bottom: 10px" ng-if="showApplyCompanyTpl()"><div class="share-checkbox-container border hint--right hint--rounded" data-hint="{{getApplyCompanyTplTips()}}" ng-class="{checkedbg: applyObj.applyCompanyTpl}"><div class="checkbox-square" ng-class="{checked: applyObj.applyCompanyTpl}"><em class="eqf-yes"></em><input id="eqEnterpriseTemplate" type="checkbox" class="option" ng-if="disableShareApplyTempInPC" ng-model="applyObj.applyCompanyTpl" ng-change="onApplyCompanyTplChange()" ng-disabled="disableCompanyTpl()"> <input type="checkbox" class="option" ng-if="!disableShareApplyTempInPC" ng-click="applyTplToXiuKeCenter()" ng-disabled="disableCompanyTpl()"></div><em>申请企业模板</em></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2113),
            controller: ["$scope", "HOST", "notifier", "sceneSettingService", "sceneMetaService", function (e, t, n, i, o) {
                "ngInject";
                e.HOST = t, e.sceneTags = [];
                var r = e.meta, a = e.eqxScene;
                e.canApplyShow = function () {
                    return i.canVisitScene(r) && r.publishTime
                }, i.sceneTags().then(function (t) {
                    e.sceneTags = t
                }), e.onApplyShowChange = function () {
                    0 === r.isShow && o.cancelShow().then(function () {
                        a.setProps({isShow: 0, tagId: null}), n.success("取消加入秀场成功")
                    }, function () {
                        n.danger("取消加入秀场失败")
                    })
                }, e.beforeShowTagChange = function () {
                    return e.canApplyShow()
                }, e.onShowTagChange = function () {
                    r.tagId && o.joinShow(r.tagId).then(function () {
                        a.setProps({isShow: 1, tagId: r.tagId}), n.success("加入秀场成功")
                    }, function () {
                        n.danger("加入秀场失败")
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="share-item-box clearfix"><div class="share-checkbox-container border hint--right hint--rounded" data-hint="{{meta.publishTime?\'申请加入秀场\':\'发布后才能申请\'}}" ng-class="{checkedbg: meta.isShow==1}"><div class="checkbox-square" ng-class="{checked: meta.isShow==1}"><em class="eqf-yes"></em> <input id="eqShowGround" type="checkbox" class="option" ng-true-value="1" ng-false-value="0" ng-model="meta.isShow" ng-change="onApplyShowChange()" ng-disabled="!canApplyShow()"></div><em>申请加入秀场</em></div><div class="scene-type-contain ml20" ng-if="meta.isShow==1"><eqx-select class="select-great select-contain border-width" model="meta.tagId" before-change="beforeShowTagChange()" change="onShowTagChange()"><eqx-select-option value="null">选择类型</eqx-select-option><eqx-select-option value="sceneTag.id" ng-if="sceneTag.bizType == meta.type" ng-repeat="sceneTag in sceneTags">{{::sceneTag.name}}</eqx-select-option></eqx-select></div><a class="tpl-more-detail" target="_blank" href="{{HOST.host}}/site/show">访问秀场</a></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2115),
            controller: ["$scope", "sceneSettingService", "sceneAPI", "tplAPI", "HOST", "storageService", "modalService", "notifier", "sceneMetaService", "sceneService", function (e, t, n, i, o, r, a, s, c, l) {
                "ngInject";

                function p() {
                    if (d.pageScroll.currentPage.pageJson.num != d.eqxPageList.length - 1) d.pageScroll.goToPageByIndex(d.eqxPageList.length - 2); else {
                        var e = d.eqxPageList[d.eqxPageList.length - 2];
                        d.pageScroll.currentPage = e, e.active().then(function () {
                            return e.deactive().show()
                        })
                    }
                }

                var u = e.meta, d = e.eqxScene, m = e.user = t.user, f = e.oldMeta = l.eqxScene.meta;
                e.HOST = o, e.FILE = o.FILE, t.setActivityStatus(!!u.promIds), e.activityStatus = t.getActivityStatus();
                var g = e.activityStatus;
                e.addAdType || l.getSceneAddAdType(e.eqxScene.sceneJson.meta.id).then(function (t) {
                    e.addAdType = t
                }), e.disableJoinActivity = function () {
                    return !t.canVisitScene(u) || g || 1 != f.property.eqAdType
                }, t.sceneActivities().then(function (t) {
                    e.activities = t.data.list || [], u.promIds && e.getActivityPageTpl(u.promIds)
                }), n.getActivityPromStatus().then(function (t) {
                    e.activityObj = t.data.obj
                }), e.changeActivityStatus = function () {
                    var n;
                    e.activityStatus ? (t.setActivityStatus(!0), n = r.getItem("activityStatus"), n && !n.split(",").indexOf(m.id) || (t.setActivityStatus(!1), e.activityStatus = t.getActivityStatus(), e.showActivityTip = !0)) : (t.setActivityStatus(!1), u.promIds = null, u.property.activityPageId = null)
                }, e.closeActivityTip = function () {
                    t.setActivityStatus(!0), e.activityStatus = t.getActivityStatus(), e.showActivityTip = !1;
                    var n;
                    e.hideActivityTip && (n = r.getItem("activityStatus"), n = n ? n + m.id : m.id, r.setItem("activityStatus", n))
                }, e.getActivityPageTpl = function (t) {
                    var n;
                    e.activityPageTpls = [], angular.forEach(e.activities, function (e) {
                        e.id == t && (n = e.sceneId)
                    }), n && i.getActivityTpls(n).then(function (t) {
                        e.activityPageTpls = t.data.list
                    })
                }, e.chooseActivityPageTpl = function (n) {
                    if (e.oldActivityStatus) return a.openMsgDialog({msg: "该场景已参加活动。"}), !1;
                    var i = u.property.activityPageId;
                    i != n && c.joinActivity(u.promIds, n).then(function () {
                        d.setProps({
                            promIds: u.promIds,
                            property: {activityPageId: n}
                        }), s.success("设置活动尾页成功"), i ? t.replaceActivityPage(d, n).then(function () {
                            p(), e.$apply(u.property.activityPageId = n)
                        }) : t.addActivityPage(d, n).then(function () {
                            p(), e.$apply(u.property.activityPageId = n)
                        })
                    }, function () {
                        s.danger("设置活动尾页失败")
                    })
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="share-item-box clearfix"><div class="share-checkbox-container border hint--right hint--rounded" data-hint="{{oldMeta.property.eqAdType != 1 ? \'该场景已选择清除易企秀尾页，不可以参加活动；请复制该场景展示后，再次选择参与活动\' : \'参加活动\'}}" ng-class="{checkedbg: activityStatus}"><div class="checkbox-square" ng-class="{checked: activityStatus}"><em class="eqf-yes"></em> <input type="checkbox" class="optiong" ng-change="changeActivityStatus()" ng-model="activityStatus" ng-disabled="disableJoinActivity()"></div><em>参加活动</em></div><div class="scene-type-contain ml20" ng-if="activityStatus"><eqx-select class="select-great select-contain border-width" change="getActivityPageTpl(meta.promIds)" model="meta.promIds"><eqx-select-option value="null">选择活动</eqx-select-option><eqx-select-option value="activity.id" ng-repeat="activity in activities">{{::activity.title}}</eqx-select-option></eqx-select></div><a class="" style="position:absolute;right:150px" ng-if="activityObj.promStatus == -1">审核未通过</a> <a class="" style="position:absolute;right:150px" ng-if="activityObj.promStatus == 0">审核中</a> <a class="" style="position:absolute;right:150px" ng-if="activityObj.promStatus == 1">审核通过</a> <a class="tpl-more-detail" ng-href="{{meta.promIds ? HOST.HOST + \'site/show/active/\' + meta.promIds : HOST.HOST + \'site/show/active\'}}">查看详情</a></div><div class="last-page-contain" ng-if="activityStatus"><div eqd-scroll style="height: 100%"><ul><li class="last-cover-img" ng-repeat="pageTpl in activityPageTpls" ng-click="chooseActivityPageTpl(pageTpl.id)"><img class="lp-list" ng-src="{{::FILE + pageTpl.properties.thumbSrc}}"/><div class="checkbox-square" ng-class="{checked: meta.property.activityPageId == pageTpl.id}"><em class="eqf-yes"></em></div></li></ul></div></div><div ng-class="{showin:showActivityTip}" style="top:100px;left:250px" class="showxiu" ng-init="hideActivityTip = true;"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="showActivityTip=false;"><span aria-hidden="true">×</span></button><h4 class="modal-title">参加活动</h4></div><div class="modal-body"><p style="line-height: 30px">参加活动并保存场景后，不可取消或选择其他活动</p></div><div class="modal-footer"><input type="checkbox" style="margin-top:0;margin-right:5px" ng-model="hideActivityTip"><span style="margin-right:10px">不再提示</span> <a type="button" class="btn btn-primary" ng-click="closeActivityTip()">确定</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = function () {
        return {
            template: n(2117),
            controller: ["$scope", "$q", "yqcAPI", "authorityService", "yqcService", function (e, t, n, i, o) {
                "ngInject";

                function r(e) {
                    return JSON.parse(JSON.stringify(e))
                }

                function a() {
                    var i = e._yqc, a = e.yqc, c = 0;
                    return i.masterSwitch && 0 == i.adStatus ? c = a.isAd ? 1 : -2 : i.isAd === a.isAd || (c = a.isAd ? 1 : -1), 0 === c ? t.resolve() : n.setYqcAdStatus(s.id, c).then(function () {
                        a.adStatus = c, i = r(a), o.setYqc(r(a))
                    }, function () {
                        console.error("设置广告场景失败"), e.yqc = r(i)
                    })
                }

                var s = e.meta;
                e.applyEarnMoneyTips = " 作品插广告赚秀点（秀点提现秒变压岁钱）", e.disableEarnMoneySetting = i.permission("disableEarnMoneySetting"), e._yqc = {
                    masterSwitch: !1,
                    adStatus: 0,
                    isAd: !1
                }, e.yqc = {masterSwitch: !1, adStatus: 0, isAd: !1}, o.getYqc().then(function (t) {
                    e.yqc = r(t), e._yqc = r(t), e.yqc.isAd && (e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为模板")
                }), e.$on("$destroy", function () {
                    a()
                }), e.disableEarnMoney = function () {
                    return 1 == s.applyTemplate || 2 == s.applyTemplate ? e.applyEarnMoneyTips = "您已勾选“申请为模板”，请取消勾选此项，再选择分享流量" : e.applyEarnMoneyTips = "作品插广告赚秀点（秀点提现秒变压岁钱）", 1 == s.applyTemplate || 2 == s.applyTemplate
                }, e.earnMoney = function () {
                    e.yqc.isAd ? e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为模板" : e.applyTplTips = ""
                }, e.dataStatistics = function () {
                    e.yqc.isAd ? e.dataStatisticsButton = "勾选我要赚秀点" : e.dataStatisticsButton = "取消我要赚秀点"
                }
            }]
        }
    }
}, function (e, t) {
    e.exports = '<div class="share-item-box clearfix" ng-if="addAdType === \'common\' && !disableEarnMoneySetting"><div class="share-checkbox-container border hint--right hint--rounded" data-hint="{{applyEarnMoneyTips}}" ng-class="{checkedbg: yqc.isAd}" ng-click="earnMoney();dataStatistics()"><div class="checkbox-square" ng-class="{checked: yqc.isAd}"><em class="eqf-yes"></em> <input type="checkbox" class="option" ng-model="yqc.isAd" ng-disabled="disableEarnMoney()"></div><em>分享流量(加H5广告赚钱)</em></div><a class="tpl-more-detail" target="_blank" href="http://h5.eqxiu.com/s/5QCEa1KQ">了解详情</a></div>'
}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    n(2119), e.exports = function () {
        return {
            scope: {category: "="},
            replace: !0,
            template: n(2120),
            controller: ["$scope", "sceneCategoryAPI", "sceneService", "notifier", function (e, t, n, o) {
                "ngInject";

                function r() {
                    var e;
                    p.length = 0;
                    var t = [];
                    l.category.list.forEach(function (e) {
                        p.push({id: e.id, name: e.name, children: []}), e.children.forEach(function (n) {
                            n.isSelected && (t.push({
                                name: e.name + "-" + n.name,
                                item: n
                            }), p[p.length - 1].children.push({id: n.id, name: n.name}))
                        }), p[p.length - 1].children.length || p.pop()
                    }), t = t.sort(function (e, t) {
                        return e.item.selectTime - t.item.selectTime
                    }), l.selectedItems.length = 0, (e = l.selectedItems).push.apply(e, i(t))
                }

                var a = n.eqxScene.meta, s = e.category, c = [1, 2].indexOf(a.applyTemplate) >= 0, l = e.vm = {
                    category: {
                        selectedCurrent: null,
                        list: [],
                        pageList: [],
                        pageNo: 1,
                        pageCount: 8,
                        totalPage: 0,
                        currentChildren: []
                    }, selectedItems: [], isApplied: c
                }, p = [], u = s.isPcTpl ? 1 : 2;
                c ? t.getCategoriesChoose(a.id, u).then(function (e) {
                    var t = e.data.list;
                    t && t.forEach(function (e) {
                        e.children.forEach(function (t) {
                            l.selectedItems.push({name: e.name + "-" + t.name})
                        })
                    });
                    var n = e.data.obj;
                    n && n.forEach(function (e) {
                        "征集" === e.name && (s.hasSource = !0, s.source = n)
                    })
                }) : (t.getCategories(u).then(function (e) {
                    var t = e.data.list;
                    l.category.list = t, l.category.pageList = t.slice(0, l.category.pageCount), l.category.totalPage = Math.ceil(t.length / l.category.pageCount), l.category.selectedCurrent = t[0], l.category.currentChildren = t[0].children
                }), t.getSources().then(function (e) {
                    var t = e.data.list.find(function (e) {
                        return "征集" === e.name
                    });
                    t ? s.source = [t] : s.source = void 0
                })), e.next = function () {
                    l.category.pageList = l.category.list.slice(l.category.pageNo * l.category.pageCount, (l.category.pageNo + 1) * l.category.pageCount), l.category.selectedCurrent = l.category.pageList[0], l.category.currentChildren = l.category.pageList[0].children, l.category.pageNo++
                }, e.pre = function () {
                    l.category.pageList = l.category.list.slice((l.category.pageNo - 2) * l.category.pageCount, (l.category.pageNo - 1) * l.category.pageCount), l.category.selectedCurrent = l.category.pageList[0], l.category.currentChildren = l.category.pageList[0].children, l.category.pageNo--
                }, e.selectCategory1 = function (e) {
                    l.category.selectedCurrent = e, l.category.currentChildren = l.category.list.find(function (t) {
                        return t.id === e.id
                    }).children
                }, e.selectCategory2 = function (e) {
                    for (var t = null, n = null, i = 0; i < p.length; i++) if (p[i].id == e.parentId) {
                        t = p[i].children.length;
                        break
                    }
                    for (var o = 0; o < l.category.list.length; o++) l.category.list[o].id == e.parentId && (n = o);
                    if (!(l.selectedItems.length >= 7 || e.isSelected)) {
                        if (n == l.category.list.length - 1) ; else if (t >= 1) return;
                        e.isSelected = !0, e.selectTime = Date.now(), r()
                    }
                }, e.deleteSelectedCategory = function (e) {
                    e.isSelected = !1, r()
                }, e.submit = function () {
                    return l.selectedItems.length ? (s.hasSource || (s.source = void 0), void t.applyTpl(a.id, s.price, p, s.source).then(function () {
                        l.isApplied = !0, a.applyTemplate = 1, a.price = s.price, o.success("申请模板成功")
                    }, function () {
                        o.error("申请模板失败")
                    })) : void o.success("请选择分类")
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="tpl-category" ng-show="category.show"><div class="notApply" ng-if="!vm.isApplied"><div class="category1"><ul><div class="pre" ng-show="vm.category.pageNo <= vm.category.totalPage && vm.category.pageNo !== 1" ng-click="pre()"><i class="eqf-left"></i></div><li ng-repeat="c in vm.category.pageList" ng-class="{active: c.id === vm.category.selectedCurrent.id}" ng-click="selectCategory1(c)">{{::c.name}}</li><div class="next" ng-show="vm.category.pageNo < vm.category.totalPage" ng-click="next()"><i class="eqf-right"></i></div></ul></div><div class="category2"><ul><li ng-repeat="t in vm.category.currentChildren" ng-class="{active: t.isSelected}" ng-click="selectCategory2(t)">{{::t.name}}</li></ul></div><div class="category-sel"><ul><li ng-repeat="s in vm.selectedItems"><span>{{::s.name}}</span> <span class="del" ng-click="deleteSelectedCategory(s.item)">&times;</span></li></ul><div class="submit clearfix"><a ng-click="submit()">提交审核</a></div></div></div><div class="applied" ng-if="vm.isApplied"><div>已设置的分类如下：</div><ul><li ng-repeat="s in vm.selectedItems">{{::s.name}}</li></ul></div></div>'
}, function (e, t, n) {
    "use strict";
    n(2122), e.exports = angular.module("sceneSetting.preview", []).directive("eqdPreviewPhone", ["sceneSettingService", function (e) {
        "ngInject";
        return {
            restrict: "E",
            scope: {eqxScene: "=", displayWx: "="},
            replace: !0,
            transclude: !0,
            template: n(2123),
            link: function (t, n) {
                t.eqxScene.renderScene(n.find(".nr"));
                var i = e.lastPageInfo, o = t.eqxScene.meta, r = o.property.eqAdType;
                0 != r && i[r].add(t.eqxScene).then(function () {
                    o.promIds && o.property.activityPageId && e.addActivityPage(t.eqxScene, o.property.activityPageId)
                }), t.next = function (e) {
                    t.displayWx ? t.displayWx = !1 : e ? t.eqxScene.pageScroll.goToNextPage() : t.eqxScene.pageScroll.goToPrePage()
                }
            }
        }
    }]).name
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div><div class="phone-view nr" id="phoneView" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"><div ng-transclude></div></div><div class="phone" id="con" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"><h4 class="name" ng-if="eqxScene.meta.name.length > 0">{{eqxScene.meta.name}}</h4><h4 class="name" ng-if="eqxScene.meta.name.length == 0">正在设置的内容用于场景分享时显示</h4></div><div class="ctrl-panel" ng-click="$event.stopPropagation()" ng-mousedown="$event.stopPropagation()"><a class="next-page" ng-click="next(true)">下一页</a> <a class="pre-page" ng-click="next(false)">上一页</a></div></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("sceneSetting.wx", []).directive("eqdPreviewWx", n(2125)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", template: n(2128), scope: {display: "=", meta: "="}}
    }

    n(2126), e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="wechat-share" ng-style="{\'display\': display? \'block\': \'none\'}"><div class="scene-title-box"><em class="scene-title">{{meta.name}}</em></div><img class="scene-img" ng-src="{{meta.cover | qiniuZoom : 180}}"/> <em class="scene-des">{{meta.description || \'我用易企秀做了一个超酷炫的H5，快来看看吧。\'}}</em> <em class="scene-talk">我用易企秀做的，你看一看吧</em> <em class="scene-talk2">做的真好！我也去试一试</em></div>'
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("sceneSetting.loading", []).directive("eqxLoadingLogo", n(2130)).name
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", template: o, scope: {display: "=", meta: "="}, controller: r}
    }

    n(2131);
    var o = n(2133), r = n(2134);
    e.exports = i
}, function (e, t) {
}, , function (e, t) {
    e.exports = '<div class="loading" ng-style="{\'display\': display? \'block\': \'none\'}"><div class="loadbox"><div class="loadlogo" ng-style="vm.dispalyLoadlogo"></div><div class="loadbg" ng-style="vm.displayLoadbg"></div></div></div>'
}, function (e, t) {
    "use strict";

    function n(e, t) {
        "ngInject";
        e.vm = {
            get displayLoadbg() {
                return {
                    display: e.meta.loadingLogo ? "block" : "none",
                    background: e.meta.loadingLogo ? "url(" + t.FILE + e.meta.loadingLogo + ")0% 0% / 118px 118px" : ""
                }
            }, get dispalyLoadlogo() {
                return {display: e.meta.loadingLogo ? "none" : "block"}
            }
        }
    }

    n.$inject = ["$scope", "HOST"], e.exports = n
}, function (e, t) {
    "use strict";

    function n(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function i(e, t, i, o, r, a) {
        "ngInject";

        function s(e) {
            x = e
        }

        function c() {
            return x
        }

        function l() {
            return r.buyXd()
        }

        function p() {
            return !(1 === w.type || (2 === w.type || 21 === w.type) && !w.memberType)
        }

        function u(t, n) {
            return e.getActivityPage(n).then(function (e) {
                t.insertPage(t.eqxPageList.length - 2, e), t.renderPage(t.eqxPageList.length - 2)
            })
        }

        function d(t, n) {
            return e.getActivityPage(n).then(function (e) {
                t.replaceEqxPage(t.eqxPageList.length - 2, e), t.renderPage(t.eqxPageList.length - 2)
            })
        }

        function m() {
            return T || (T = o.getSceneTags().then(function (e) {
                return e.data.list || []
            })), T
        }

        function f() {
            return C || (C = o.getAppScenePrice().then(function (e) {
                return e.data.list.map(function (e) {
                    return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"), e
                })
            })), C
        }

        function g() {
            if (!I) {
                var e = "" + i.getCurrentUser().type;
                I = "4" === e ? o.getScenePrices() : "99" === e ? o.getSceneLargePrices() : t.resolve({data: {list: []}}), I = I.then(function (e) {
                    return e.data.list.map(function (e) {
                        return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"), e
                    })
                })
            }
            return I
        }

        function h() {
            return $ || ($ = o.getSceneActivities()), $
        }

        function v() {
            return E || (E = o.getPageTpls(1301).then(function (e) {
                return e.data.list && e.data.list.length > 0 ? e.data.list : []
            })), E
        }

        function y() {
            return P || (P = o.getPageTpls(1311).then(function (e) {
                return e.data.list && e.data.list.length > 0 ? e.data.list : []
            })), P
        }

        function b(e) {
            if (4 === (e.accessCode || "").length) var t = 3; else t = e.status;
            return [2, -1, -2, 3].indexOf(t) < 0
        }

        var x = !1, w = i.getCurrentUser(), S = 0, k = {
            0: {
                type: "无尾页和底标", add: function (e) {
                    return t(function (t, n) {
                        var i = e.sceneJson.list, o = i[i.length - 1];
                        e.replaceEqxPage(i.length - 1, o), t(e.renderPage(i.length - 1))
                    })
                }, dele: function () {
                    return t.resolve()
                }
            }, 1: {
                type: "技术支持尾页", add: function (n, i) {
                    return t(function (t, o) {
                        i && (n.sceneJson.meta.property.lastPageId = i.id);
                        var r = n.sceneJson.meta.property.lastPageId;
                        e.lastPage.getLastPage(r, n.sceneJson).then(function (e) {
                            n.insertPage(n.sceneJson.list.length - 1, e), t(n.renderPage(n.sceneJson.list.length - 1))
                        })
                    })
                }, dele: function (e) {
                    var n = e.deletePage(e.sceneJson.list.length - 1);
                    return n[0] == e.currentPage ? (e.currentPage = e.eqxPageList[e.sceneJson.list.length - 1], e.currentPage.active().then(function () {
                        e.currentPage.show()
                    })) : t.resolve()
                }
            }, 2: {
                type: "技术支持底标", add: function (n) {
                    return t(function (t, i) {
                        var o = n.sceneJson.list, r = o[o.length - 1],
                            a = e.lastPage.getDefaultBottom(r, n.sceneJson.id, o.length);
                        r.elements.push(a), n.replaceEqxPage(o.length - 1, r), t(n.renderPage(o.length - 1))
                    })
                }, dele: function (e) {
                    return t(function (t, n) {
                        var i = e.sceneJson.list, o = i[i.length - 1];
                        o.elements.pop(), e.replaceEqxPage(i.length - 1, o), e.renderPage(i.length - 1), e.currentPage.active().then(function () {
                            e.currentPage.show(), t()
                        })
                    })
                }
            }, 3: {
                type: "品牌联合底标", add: function (i, o) {
                    return t(function (t) {
                        if (i.sceneJson.meta.property.bottomLabel = i.sceneJson.meta.property.bottomLabel || {}, o) {
                            var r = i.sceneJson.meta.property.bottomLabel;
                            r.id = o.id || r.id, r.name = o.name || r.name, r.url = o.url || r.url
                        }
                        var a = i.sceneJson.list, s = a[a.length - 1];
                        e.lastPage.getCustomBottomLabel(i.sceneJson).then(function (e) {
                            e = e.map(function (e) {
                                return delete e.css.content, e
                            }), S = e.length, s.elements = [].concat(n(s.elements), n(e)), i.replaceEqxPage(a.length - 1, s), t(i.renderPage(a.length - 1))
                        })
                    })
                }, dele: function (e) {
                    return t(function (t) {
                        var n = e.sceneJson.list, i = n[n.length - 1];
                        i.elements = i.elements.slice(0, -S), e.replaceEqxPage(n.length - 1, i), e.renderPage(n.length - 1), e.currentPage.active().then(function () {
                            e.currentPage.show(), t()
                        }), t()
                    })
                }
            }
        }, T = "", C = "", I = "", $ = "", E = "", P = "";
        return {
            user: w,
            buyXd: l,
            isPassOrPage: p,
            lastPageInfo: k,
            addActivityPage: u,
            replaceActivityPage: d,
            setActivityStatus: s,
            getActivityStatus: c,
            sceneTags: m,
            appScenePrice: f,
            scenePrices: g,
            sceneActivities: h,
            pageTpls: v,
            bottomPageTpls: y,
            canVisitScene: b
        }
    }

    i.$inject = ["EqxCore", "$q", "userService", "sceneAPI", "XDService", "sceneService"], e.exports = i
}, function (e, t) {
    "use strict";
    e.exports = function () {
        return {
            scope: {},
            template: '<eqx-scene-setting ng-if="vm.show"></eqx-scene-setting>',
            controller: ["$scope", "flagService", function (e, t) {
                "ngInject";
                e.vm = {
                    get show() {
                        return t.sceneSetting.show
                    }
                }
            }]
        }
    }
}, function (e, t, n) {
    "use strict";

    function i() {
        return {restrict: "EA", scope: {settingTab: "="}, controller: o, template: r, replace: !0}
    }

    var o = n(2138), r = n(2139);
    e.exports = i
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i, o, a, s) {
        "ngInject";
        o.clearYqc();
        var c = t.sceneSetting, l = e.TAB = {common: "常用", share: "分享", advanced: "高级"};
        e.disableShareSetting = s.permission("disableShareSetting"), e.disableAdvanceSetting = s.permission("disableAdvanceSetting");
        var p = n.eqxScene, u = i.core.scene.EqxScene, d = p.toJson(),
            m = e.tempScene = new u(d, {mode: "view", disableSubmit: !0, disableReport: !0}), f = m.meta;
        r(f);
        var g = e.vm = {tabId: c.settingTab, displayWx: !1, displayLoading: !1};
        c.settingTab = "常用", e.setTab = function (e) {
            function t(t) {
                t && (g.tabId = e, g.displayLoading = !1)
            }

            g.tabId !== e && (g.tabId == l.common ? a.$broadcast("leave.common", t) : g.tabId == l.share ? a.$broadcast("leave.share", t) : a.$broadcast("leave.advanced", t))
        }, e.close = function () {
            function e(e) {
                e && (c.show = !1)
            }

            g.tabId == l.common ? a.$broadcast("close.common", e) : g.tabId == l.share ? a.$broadcast("close.share", e) : a.$broadcast("close.advanced", e)
        }, e.save = function () {
            function e(e) {
                e && (c.show = !1)
            }

            g.tabId == l.common ? a.$broadcast("save.common", e) : g.tabId == l.share ? a.$broadcast("save.share", e) : a.$broadcast("save.advanced", e)
        }, e.cancel = function () {
            c.show = !1
        }, e.$on("$destroy", function () {
            m.destroy()
        })
    }

    i.$inject = ["$scope", "flagService", "sceneService", "EqxCore", "yqcService", "$rootScope", "authorityService"];
    var o = n(443), r = o.perfectName;
    e.exports = i
}, function (e, t) {
    e.exports = '<div class="scene-setting"><div class="setting-bg"></div><div class="left-con" ng-mousedown="close()"><eqd-preview-phone eqx-scene="tempScene" display-wx="vm.displayWx"><eqx-loading-logo display="vm.displayLoading" meta="tempScene.sceneJson.meta"></eqx-loading-logo><eqd-preview-wx display="vm.displayWx" meta="tempScene.sceneJson.meta"></eqd-preview-wx></eqd-preview-phone></div><div class="scene-setting-info setting-fade" ng-class="{\'in\': $parent.vm.show}"><div class="scene-setting-contain"><ul class="nav nav-tabs"><li ng-class="{active: vm.tabId == TAB.common}"><a ng-click="setTab(TAB.common)">常用设置</a></li><li ng-class="{active: vm.tabId == TAB.share}" ng-if="!disableShareSetting"><a ng-click="setTab(TAB.share)">分享设置</a></li><li ng-class="{active: vm.tabId == TAB.advanced}" ng-if="!disableAdvanceSetting"><a ng-click="setTab(TAB.advanced)">高级设置</a></li></ul><div style="height: calc(100% - 60px)"><div style="height: 100%" eqd-scroll><div class="scene-setting-box"><eqd-common-setting display-wx="vm.displayWx" eqx-scene="tempScene" ng-if="vm.tabId== TAB.common"></eqd-common-setting><eqd-share-setting eqx-scene="tempScene" ng-if="vm.tabId == TAB.share "></eqd-share-setting><eqd-advanced-setting display-loading="vm.displayLoading" eqx-scene="tempScene" ng-if="vm.tabId == TAB.advanced && !disableAdvanceSetting"></eqd-advanced-setting></div></div></div></div><div class="setting-operations"><div class="option-box"><a ng-click="save()" class="btn eqc-btn-primary">确定</a> <a ng-click="cancel()" class="btn eqc-btn-stroke-default" style="margin-left:10px">取消</a></div></div></div></div>'
}, function (e, t) {
    "use strict";
    e.exports = ["yqcAPI", "$q", "sceneService", function (e, t, n) {
        "ngInject";

        function i() {
            return s ? t.resolve(s) : e.getYqcInfo(n.eqxScene.meta.id).then(function (e) {
                return s = e.data.obj
            })
        }

        function o() {
            s = null
        }

        function r(e) {
            s = e
        }

        function a() {
            return !!s && s.isAd
        }

        var s = null;
        return {getYqc: i, clearYqc: o, isAd: a, setYqc: r}
    }]
}, function (e, t, n) {
    "use strict";
    n(2142), e.exports = angular.module("scene.guide", []).directive("sceneGuide", ["$rootScope", "$location", function (e, t) {
        "ngInject";
        return {
            template: n(2143), replace: !0, controller: ["$scope", function (n) {
                var i = n.guide = {}, o = t.search();
                "true" === o.guide && (i.show = !0, $("body").css("overflow", "hidden")), n.closeGuide = function () {
                    e.$broadcast("scene.publish")
                }
            }]
        }
    }]).name
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="eqc-guide" ng-if="guide.show" ng-click="closeGuide()"><div class="pos"><img src="' + n(2144) + '" alt=""> <a class="highlight">发布</a></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/guide_3-d0ed03.png"
}, function (e, t, n) {
    "use strict";
    e.exports = angular.module("ws.funTemplateGuide", []).directive("funTemplateGuide", n(2146)).name
}, function (e, t, n) {
    "use strict";
    n(2147), e.exports = function () {
        return {
            restrict: "EA",
            scope: {},
            template: n(2148),
            controller: ["$scope", "storageService", "HOST", "authorityService", function (e, t, i, o) {
                "ngInject";
                e.isEditor = o.assignDesignerAuthority("groupTemplateEditor"), e.functionEditor = o.functionEditor(), e.curStep = 1, e.isEditor || e.functionEditor ? void 0 == t.getItem("funTemplateGuide") ? e.isShow = !0 : e.isShow = t.getItem("funTemplateGuide") : e.isShow = !1, e.close = function () {
                    e.isShow = !1, t.setItem("funTemplateGuide", !1)
                }, e.steps = [{title: "制作一个单页", imgSrc: n(2149), active: !0}, {
                    title: "设置功能模板属性",
                    imgSrc: n(2150),
                    active: !1
                }, {title: "勾选可开放属性", imgSrc: n(2151), active: !1}, {
                    title: "修改属性名称",
                    imgSrc: n(2152),
                    active: !1
                }, {title: "提交审核", imgSrc: n(2153), active: !1}], e.go = function (n) {
                    var i = e.steps.length;
                    t.setItem("funTemplateGuide", !1);
                    for (var o = 0; o < i; o++) if (e.steps[o].active) return e.steps[o].active = !1, n += o, n < 0 ? n = i - 1 : n > i - 1 && (n = 0), e.steps[n].active = !0, void(e.curStep = n + 1)
                }
            }]
        }
    }
}, function (e, t) {
}, function (e, t) {
    e.exports = '<div class="fun-guide-box" ng-if="isShow"><div class="fun-guide"><div class="fun-step"><div class="title">功能模板操作引导</div><div class="step-box"><div class="step clearfix" ng-repeat="step in steps track by $index"><div class="step-line" ng-class="{\'active\': step.active}"><a>{{$index + 1}}</a><div></div></div><div class="step-title"><span>{{step.title}}</span></div></div></div></div><div class="fun-img"><div class="fun-close"><em class="eqf-no" ng-click="close()"></em></div><div class="img"><img ng-if="step.active" src="{{step.imgSrc}}" alt="" ng-repeat="step in steps"></div><div class="operate"><a ng-click="close()" ng-if="curStep == 5">确定</a> <a ng-click="go(1)" ng-if="curStep != 5">下一步</a> <a style="margin-right: 16px" ng-click="go(-1)" ng-if="curStep != 1">上一步</a></div></div></div></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/step-01-410e97.png"
}, function (e, t, n) {
    e.exports = n.p + "images/step-02-2a003c.png"
}, function (e, t, n) {
    e.exports = n.p + "images/step-03-66f547.png"
}, function (e, t, n) {
    e.exports = n.p + "images/step-04-a29ea3.png"
}, function (e, t, n) {
    e.exports = n.p + "images/step-05-82ec5a.png"
}, function (e, t) {
    e.exports = '<eqx-psd-loading></eqx-psd-loading><eqx-feedback-notice></eqx-feedback-notice><div class="create-bg ng-scope" style="position: fixed;top: 0;left: 0;right: 0;bottom: 0;background-color: #d0cfd8"></div><eqx-head></eqx-head><div class="create_scene"><div class="main clearfix"><div class="content"><eqx-tab-panel></eqx-tab-panel><eqx-workspace></eqx-workspace><eqx-manager></eqx-manager></div></div><eqx-scene-setting-trigger></eqx-scene-setting-trigger></div><scene-guide></scene-guide><fun-template-guide></fun-template-guide>'
}, function (e, t, n) {
    "use strict";
    n(2156);
    var i = n(2157);
    e.exports = angular.module("app.support", []).directive("editorSupport", function () {
        return {
            restrict: "EA",
            scope: !0,
            template: i,
            controller: ["$scope", "$location", "loadingService", function (e, t, n) {
                "ngInject";
                n.hide(), e["continue"] = function () {
                    window.sessionStorage && window.sessionStorage.setItem("h5editor.needsSupport", !1), t.path(window.sessionStorage.getItem("h5editor.sceneId"))
                }
            }]
        }
    }).name
}, function (e, t) {
}, function (e, t, n) {
    e.exports = '<div class="support-contain"><div class="imgie"><img class="mt20" src="' + n(2158) + '"/></div><h3 class="h3ie">尊敬的易企秀用户：</h3><p><span>为了保证您在易企秀内的使用体验，建议您从下列浏览器中选择一款进行访问。若坚持使用该浏览器，请</span> <a class="text-primary" ng-click="continue()"><span>继续使用</span></a></p><ul><li><a id="download_Chorme" href="https://www.baidu.com/s?wd=Chrome" target="_blank"><img src="' + n(2159) + '"/> <span>Chrome</span></a></li><li><a id="download_IE" href="https://www.baidu.com/s?wd=ie11" target="_blank"><img src="' + n(2160) + '"/> <span>IE11</span></a></li><li><a id="download_360_fast" href="http://chrome.360.cn/" target="_blank"><img class="ml20" src="' + n(2161) + '"/> <span>360极速浏览器</span></a></li><li><a id="download_360" href="http://se.360.cn/" target="_blank"><img src="' + n(2162) + '"/> <span>360浏览器</span><br/><span>极速模式</span></a></li></ul></div>'
}, function (e, t, n) {
    e.exports = n.p + "images/HTML5-7f2ce9.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/chrome-619af3.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/IE11-0df72c.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/360fast-87dd7f.svg"
}, function (e, t, n) {
    e.exports = n.p + "images/360safe-d2997c.svg"
}]);